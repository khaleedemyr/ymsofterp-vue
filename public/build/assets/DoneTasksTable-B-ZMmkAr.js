import k from"./TaskDetailModal-CVuZALLV.js";import w from"./AllDoneTasksModal-CmArCWFp.js";import{a as C}from"./vendor-utils-CpgP2uT4.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as n,a as T,L as d,B as r,D as t,E as P,x as g,F as _,M as m,N as l,l as $}from"./vendor-vue-g7iCcTkf.js";import"./LightboxModal-C05wjdKL.js";const N={class:"overflow-x-auto"},A={class:"flex justify-end mb-2"},B={class:"min-w-full text-sm rounded-xl overflow-hidden"},M=["onClick"],S={class:"py-2 px-3"},L={class:"py-2 px-3"},O={class:"py-2 px-3"},V={class:"py-2 px-3"},j={class:"py-2 px-3"},z={class:"py-2 px-3 text-center"},E=["onClick"],F={key:0,class:"flex justify-between items-center mt-2"},I=["disabled"],R={class:"text-xs"},q=["disabled"],G=5,H={__name:"DoneTasksTable",setup(J){const x=n([]),a=n(1),i=n(1),c=n(!1),b=n({}),p=n(!1);async function f(){const o=await C.get("/api/maintenance-tasks/done",{params:{page:a.value,perPage:G}});x.value=o.data.data,i.value=o.data.lastPage}function v(o){o>=1&&o<=i.value&&(a.value=o,f())}function y(o){b.value=o,c.value=!0}function h(o){switch(o){case"Done":return"bg-green-100 text-green-700";case"Overdue":return"bg-red-100 text-red-700";case"PO":return"bg-blue-100 text-blue-700";case"PR":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}}return T(f),(o,s)=>(r(),d("div",N,[t("div",A,[t("button",{class:"text-xs text-blue-500",onClick:s[0]||(s[0]=e=>p.value=!0)},"Lihat Semua Tasks Selesai")]),t("table",B,[s[6]||(s[6]=t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"py-2 px-3 text-left font-bold"},"Task Number"),t("th",{class:"py-2 px-3 text-left font-bold"},"Title"),t("th",{class:"py-2 px-3 text-left font-bold"},"Outlet"),t("th",{class:"py-2 px-3 text-left font-bold"},"Assigned To"),t("th",{class:"py-2 px-3 text-left font-bold"},"Due Date"),t("th",{class:"py-2 px-3 text-left font-bold"},"Status"),t("th",{class:"py-2 px-3 text-center font-bold"},"Action")])],-1)),t("tbody",null,[(r(!0),d(_,null,m(x.value,e=>(r(),d("tr",{key:e.id,class:"hover:bg-blue-50 transition"},[t("td",{class:"py-2 px-3 font-semibold text-blue-700 cursor-pointer underline",onClick:u=>y(e)},l(e.task_number),9,M),t("td",S,l(e.title),1),t("td",L,l(e.outlet),1),t("td",O,[(r(!0),d(_,null,m(e.assigned_to,u=>(r(),d("span",{key:u,class:"inline-block bg-indigo-100 text-indigo-700 rounded px-2 py-0.5 mr-1 text-xs font-semibold"},l(u),1))),128))]),t("td",V,l(e.due_date),1),t("td",j,[t("span",{class:$(["badge",h(e.status)])},l(e.status),3)]),t("td",z,[t("button",{class:"p-2 rounded hover:bg-blue-100 transition",onClick:u=>y(e)},s[5]||(s[5]=[t("i",{class:"fas fa-eye text-blue-600"},null,-1)]),8,E)])]))),128))])]),i.value>1?(r(),d("div",F,[t("button",{disabled:a.value===1,onClick:s[1]||(s[1]=e=>v(a.value-1)),class:"px-2 py-1 rounded bg-gray-100 text-gray-600 disabled:opacity-50"},"Prev",8,I),t("span",R,"Page "+l(a.value)+" of "+l(i.value),1),t("button",{disabled:a.value===i.value,onClick:s[2]||(s[2]=e=>v(a.value+1)),class:"px-2 py-1 rounded bg-gray-100 text-gray-600 disabled:opacity-50"},"Next",8,q)])):P("",!0),g(k,{task:b.value,show:c.value,onClose:s[3]||(s[3]=e=>c.value=!1)},null,8,["task","show"]),g(w,{show:p.value,onClose:s[4]||(s[4]=e=>p.value=!1)},null,8,["show"])]))}},Z=D(H,[["__scopeId","data-v-dd415374"]]);export{Z as default};
