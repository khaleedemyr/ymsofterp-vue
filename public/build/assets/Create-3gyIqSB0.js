import{r as x,A as j,B as o,C as S,D as l,G as g,O as V,H as s,L as n,E as m,l as b,J as u,N as i,I as y,F as B,M as P,W as c}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-BPJiQqtf.js";import"./vendor-utils-CpgP2uT4.js";import"./app-l4d6TH2E.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DspUIAzb.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const h={class:"max-w-4xl w-full mx-auto py-8 px-2"},N={class:"bg-white rounded-2xl shadow-lg p-6"},C={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={key:0,class:"text-red-500 text-sm mt-1"},I={key:0,class:"text-red-500 text-sm mt-1"},L={key:0,class:"text-red-500 text-sm mt-1"},T={key:0,class:"text-red-500 text-sm mt-1"},A=["value"],E={key:0,class:"text-red-500 text-sm mt-1"},F={class:"border-t pt-6"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"flex justify-end gap-4 pt-6 border-t"},J=["disabled"],O={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},le={__name:"Create",props:{occupations:{type:Array,default:()=>[]}},setup(f){console.log("Occupations received:",f.occupations);function k(){const p=new Date,e=p.getFullYear(),t=String(p.getMonth()+1).padStart(2,"0"),M=String(p.getDate()).padStart(2,"0"),_=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`MB${e}${t}${M}${_}`}const r=x({member_id:k(),nama_lengkap:"",email:"",mobile_phone:"",tanggal_lahir:"",jenis_kelamin:"",pekerjaan_id:"",password:"",pin:""}),a=x({}),d=x(!1);function w(){d.value=!0,c.post("/members",r.value,{onSuccess:()=>{},onError:p=>{a.value=p,d.value=!1},onFinish:()=>{d.value=!1}})}function v(){c.visit("/members")}return(p,e)=>(o(),j(U,{title:"Tambah Member Baru"},{default:S(()=>[l("div",h,[l("div",{class:"flex justify-between items-center mb-6"},[e[10]||(e[10]=l("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[l("i",{class:"fa-solid fa-user-plus text-purple-500"}),g(" Tambah Member Baru ")],-1)),l("button",{onClick:v,class:"bg-gray-500 text-white px-4 py-2 rounded-xl hover:bg-gray-600 transition"},e[9]||(e[9]=[l("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),g(" Kembali ")]))]),l("div",N,[l("form",{onSubmit:V(w,["prevent"]),class:"space-y-6"},[l("div",C,[l("div",null,[e[11]||(e[11]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," ID Member ",-1)),s(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value.member_id=t),type:"text",class:b(["w-full px-4 py-2 rounded-xl border border-gray-300 bg-gray-50 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":a.value.member_id}]),placeholder:"ID Member akan digenerate otomatis",readonly:""},null,2),[[u,r.value.member_id]]),a.value.member_id?(o(),n("p",D,i(a.value.member_id),1)):m("",!0)]),l("div",null,[e[12]||(e[12]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Nama Lengkap "),l("span",{class:"text-red-500"},"*")],-1)),s(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value.nama_lengkap=t),type:"text",class:b(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":a.value.nama_lengkap}]),placeholder:"Masukkan nama lengkap"},null,2),[[u,r.value.nama_lengkap]]),a.value.nama_lengkap?(o(),n("p",I,i(a.value.nama_lengkap),1)):m("",!0)]),l("div",null,[e[13]||(e[13]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),s(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>r.value.email=t),type:"email",class:b(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":a.value.email}]),placeholder:"Masukkan email"},null,2),[[u,r.value.email]]),a.value.email?(o(),n("p",L,i(a.value.email),1)):m("",!0)]),l("div",null,[e[14]||(e[14]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nomor Telepon ",-1)),s(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>r.value.mobile_phone=t),type:"text",class:b(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":a.value.mobile_phone}]),placeholder:"Masukkan nomor telepon"},null,2),[[u,r.value.mobile_phone]]),a.value.mobile_phone?(o(),n("p",T,i(a.value.mobile_phone),1)):m("",!0)]),l("div",null,[e[15]||(e[15]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tanggal Lahir ",-1)),s(l("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>r.value.tanggal_lahir=t),type:"date",class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400"},null,512),[[u,r.value.tanggal_lahir]])]),l("div",null,[e[17]||(e[17]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Jenis Kelamin ",-1)),s(l("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>r.value.jenis_kelamin=t),class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400"},e[16]||(e[16]=[l("option",{value:""},"Pilih Jenis Kelamin",-1),l("option",{value:"L"},"Laki-laki",-1),l("option",{value:"P"},"Perempuan",-1)]),512),[[y,r.value.jenis_kelamin]])]),l("div",null,[e[19]||(e[19]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Pekerjaan ",-1)),s(l("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>r.value.pekerjaan_id=t),class:b(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":a.value.pekerjaan_id}])},[e[18]||(e[18]=l("option",{value:""},"Pilih Pekerjaan (opsional)",-1)),(o(!0),n(B,null,P(f.occupations,t=>(o(),n("option",{key:t.id,value:t.id},i(t.name),9,A))),128))],2),[[y,r.value.pekerjaan_id]]),a.value.pekerjaan_id?(o(),n("p",E,i(a.value.pekerjaan_id),1)):m("",!0)])]),l("div",F,[e[22]||(e[22]=l("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Informasi Keamanan",-1)),l("div",K,[l("div",null,[e[20]||(e[20]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Password ",-1)),s(l("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>r.value.password=t),type:"password",class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",placeholder:"Masukkan password"},null,512),[[u,r.value.password]])]),l("div",null,[e[21]||(e[21]=l("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," PIN ",-1)),s(l("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>r.value.pin=t),type:"text",maxlength:"10",class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",placeholder:"Masukkan PIN"},null,512),[[u,r.value.pin]])])])]),l("div",$,[l("button",{type:"button",onClick:v,class:"px-6 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition"}," Batal "),l("button",{type:"submit",disabled:d.value,class:"px-6 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition disabled:opacity-50"},[d.value?(o(),n("i",O)):m("",!0),g(" "+i(d.value?"Menyimpan...":"Simpan Member"),1)],8,J)])],32)])])]),_:1}))}};export{le as default};
