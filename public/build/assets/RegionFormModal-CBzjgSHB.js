import{P as y,w,r as k,L as u,E as m,B as b,D as e,N as l,O as _,H as f,J as g,Q as a}from"./vendor-vue-g7iCcTkf.js";import{S as p}from"./app-a4QKyjuP.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const S={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},M={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 animate-fade-in"},j={class:"px-8 pt-8 pb-2"},E={class:"flex items-center gap-2 mb-6"},R={class:"text-2xl font-bold text-gray-900"},F={key:0,class:"text-xs text-red-500 mt-1"},N={key:0,class:"text-xs text-red-500 mt-1"},U={class:"flex justify-end gap-2 pt-4"},V=["disabled"],C={__name:"RegionFormModal",props:{show:Boolean,mode:String,region:Object},emits:["close","success"],setup(n,{emit:x}){const s=n,r=x,o=y({code:"",name:""});w(()=>s.show,d=>{d&&s.mode==="edit"&&s.region?(o.code=s.region.code,o.name=s.region.name):d&&s.mode==="create"&&(o.code="",o.name="")});const i=k(!1);async function h(){i.value=!0,s.mode==="create"?o.post(route("regions.store"),{onSuccess:()=>{p.fire("Berhasil","Region berhasil ditambahkan!","success"),r("success"),r("close")},onError:()=>i.value=!1,onFinish:()=>i.value=!1}):s.mode==="edit"&&s.region&&(o._method="PUT",o.post(route("regions.update",s.region.id),{onSuccess:()=>{p.fire("Berhasil","Region berhasil diupdate!","success"),r("success"),r("close")},onError:()=>i.value=!1,onFinish:()=>i.value=!1}))}function v(){r("close")}return(d,t)=>n.show?(b(),u("div",S,[e("div",M,[e("div",j,[e("div",E,[t[2]||(t[2]=e("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M16 7a4 4 0 01-8 0","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 3v4m0 0a4 4 0 01-4 4H4m8-4a4 4 0 014 4h4","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("h3",R,l(n.mode==="edit"?"Edit":"Tambah")+" Region",1)]),e("form",{onSubmit:_(h,["prevent"]),class:"space-y-5"},[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700"},"Kode",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>a(o).code=c),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"50"},null,512),[[g,a(o).code]]),a(o).errors.code?(b(),u("div",F,l(a(o).errors.code),1)):m("",!0)]),e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nama",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>a(o).name=c),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[g,a(o).name]]),a(o).errors.name?(b(),u("div",N,l(a(o).errors.name),1)):m("",!0)]),e("div",U,[e("button",{type:"button",onClick:v,class:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200"},"Batal"),e("button",{type:"submit",disabled:i.value,class:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-60"},l(n.mode==="edit"?"Update":"Simpan"),9,V)])],32)])])])):m("",!0)}},P=B(C,[["__scopeId","data-v-39da0c0a"]]);export{P as default};
