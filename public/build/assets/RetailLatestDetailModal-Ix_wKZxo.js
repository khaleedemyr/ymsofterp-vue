import w from"./LightboxModal-C05wjdKL.js";import{r as c,L as n,E as k,B as r,D as t,x as _,G as d,N as l,F as f,M as g}from"./vendor-vue-g7iCcTkf.js";import"./vendor-utils-CpgP2uT4.js";const I={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/40"},N={class:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto relative animate-fadeIn"},B={class:"p-6"},C={class:"mb-3 grid grid-cols-1 md:grid-cols-2 gap-2"},L={class:"mb-4"},$={class:"min-w-full text-xs rounded-xl overflow-hidden"},D={class:"py-1 px-2"},R={class:"py-1 px-2 text-right"},T={class:"py-1 px-2 text-right"},j={class:"py-1 px-2 text-right"},S={class:"py-1 px-2"},V={class:"flex flex-row flex-wrap gap-2"},A=["src","onClick"],M={class:"py-1 px-2"},z={class:"flex flex-row flex-wrap gap-2"},E=["src","onClick"],H={__name:"RetailLatestDetailModal",props:{retail:Object,show:Boolean},emits:["close"],setup(o,{emit:F}){const x=c(!1),b=c([]),v=c(0);function m(i){return i?"Rp "+Number(i).toLocaleString("id-ID"):"Rp 0"}function h(i,e,s){let u=[];e==="invoice"?u=i.invoice_images.map(a=>({type:"image",url:"/storage/"+a.file_path,caption:a.file_path.split("/").pop()})):u=i.barang_images.map(a=>({type:"image",url:"/storage/"+a.file_path,caption:a.file_path.split("/").pop()})),b.value=u,v.value=s,x.value=!0}return(i,e)=>o.show?(r(),n("div",I,[t("div",N,[t("button",{onClick:e[0]||(e[0]=s=>i.$emit("close")),class:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-xl z-10"},e[2]||(e[2]=[t("i",{class:"fas fa-times"},null,-1)])),t("div",B,[e[12]||(e[12]=t("h2",{class:"text-xl font-bold mb-4"},"Detail Retail",-1)),t("div",C,[t("div",null,[e[3]||(e[3]=t("span",{class:"font-semibold"},"Nama Toko:",-1)),d(" "+l(o.retail.nama_toko),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"font-semibold"},"Alamat:",-1)),d(" "+l(o.retail.alamat_toko||"-"),1)]),t("div",null,[e[5]||(e[5]=t("span",{class:"font-semibold"},"Task Number:",-1)),d(" "+l(o.retail.task_number||"-"),1)]),t("div",null,[e[6]||(e[6]=t("span",{class:"font-semibold"},"Outlet:",-1)),d(" "+l(o.retail.nama_outlet||"-"),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"font-semibold"},"Created By:",-1)),d(" "+l(o.retail.created_by||"-"),1)]),t("div",null,[e[8]||(e[8]=t("span",{class:"font-semibold"},"Tanggal:",-1)),d(" "+l(o.retail.created_at?o.retail.created_at.substring(0,10):"-"),1)]),t("div",null,[e[9]||(e[9]=t("span",{class:"font-semibold"},"Total Amount:",-1)),d(" "+l(m(o.retail.total_amount)),1)])]),t("div",L,[e[11]||(e[11]=t("div",{class:"font-semibold mb-1"},"Items:",-1)),t("table",$,[e[10]||(e[10]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"py-1 px-2 text-left"},"Nama Barang"),t("th",{class:"py-1 px-2 text-right"},"Qty"),t("th",{class:"py-1 px-2 text-right"},"Harga"),t("th",{class:"py-1 px-2 text-right"},"Subtotal"),t("th",{class:"py-1 px-2 text-left"},"Invoice Images"),t("th",{class:"py-1 px-2 text-left"},"Barang Images")])],-1)),t("tbody",null,[(r(!0),n(f,null,g(o.retail.items,(s,u)=>(r(),n("tr",{key:s.id},[t("td",D,l(s.nama_barang),1),t("td",R,l(s.qty),1),t("td",T,l(m(s.harga_barang)),1),t("td",j,l(m(s.subtotal)),1),t("td",S,[t("div",V,[(r(!0),n(f,null,g(s.invoice_images,(a,p)=>(r(),n("img",{key:a.id,src:"/storage/"+a.file_path,class:"w-12 h-12 object-cover rounded shadow border cursor-pointer",onClick:y=>h(s,"invoice",p)},null,8,A))),128))])]),t("td",M,[t("div",z,[(r(!0),n(f,null,g(s.barang_images,(a,p)=>(r(),n("img",{key:a.id,src:"/storage/"+a.file_path,class:"w-12 h-12 object-cover rounded shadow border cursor-pointer",onClick:y=>h(s,"barang",p)},null,8,E))),128))])])]))),128))])])])]),_(w,{show:x.value,mediaList:b.value,startIndex:v.value,onClose:e[1]||(e[1]=s=>x.value=!1)},null,8,["show","mediaList","startIndex"])])])):k("",!0)}};export{H as default};
