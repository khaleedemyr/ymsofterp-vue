import{J as N}from"./JsBarcode-7kUKaxTf.js";import{E as G}from"./jspdf.es.min-BF8XOIwI.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as B,c as $,w as H,n as _,a as K,L as r,B as i,D as o,F as L,M as T,Y as z,G as m,N as l,E as k}from"./vendor-vue-g7iCcTkf.js";import"./app-Vi2dpKR6.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const M={class:"barcode-body"},j={class:"barcode-image"},O={class:"barcode-info"},X={class:"barcode-text"},Q={class:"barcode-name"},Z={key:0,class:"barcode-detail"},I={key:1,class:"barcode-detail"},ee={key:2,class:"barcode-detail"},te={key:3,class:"barcode-detail"},oe={class:"mt-4 mb-2 text-sm text-yellow-700 bg-yellow-100 border border-yellow-300 rounded p-2 no-print"},ae={class:"flex justify-end mt-4 no-print"},ne=29.7,se=21,re={__name:"PrintPreview",props:{sku:String,name:String,qty:{type:Number,default:1},warehouseDivision:String,category:String,subCategory:String,itemCode:String},setup(E){const t=E,V=B(!0),d=B([]);function Y(n,e){for(d.value||(d.value=[]);d.value.length<=n;)d.value.push(null);d.value[n]=e}const g=$(()=>{const n=Array.from({length:t.qty},()=>t.sku),e=[];for(let u=0;u<n.length;u+=3)e.push(n.slice(u,u+3));return e}),D=$(()=>g.value.length),x=()=>{d.value.forEach((n,e)=>{n&&N(n,t.sku,{width:1.5,height:50,displayValue:!1})})};H(()=>g.value.length,n=>{d.value=Array(n*3).fill(null),_(()=>x())}),H(()=>t.sku,()=>{_(()=>x())}),K(()=>{d.value=Array(g.value.length*3).fill(null),_(()=>x())});const q=()=>{window.print()};async function A(){const a=new G({orientation:"landscape",unit:"mm",format:[297,210]});let h=5;for(let C=0;C<g.value.length;C++){for(let v=0;v<3;v++){const c=5+v*105,W=g.value[C][v];if(!W)continue;a.setDrawColor(0,0,0),a.setLineWidth(.5),a.rect(c,h,100,50);const S=90,f=20,y=3,w=document.createElement("canvas");w.width=S*y,w.height=f*y,N(w,W,{width:1.5*y,height:f*y,displayValue:!1});const R=c+(100-S)/2;a.addImage(w,"PNG",R,h+3,S,f);let s=h+f+5;a.setFontSize(8),a.setFont(void 0,"bold"),a.text(`SKU: ${W}`,c+100/2,s,{align:"center"}),s+=4;const U=t.name||"";a.setFontSize(9),a.setFont(void 0,"bold"),a.text(`Nama: ${U}`,c+100/2,s,{align:"center"}),s+=4.5,t.warehouseDivision&&(a.setFontSize(6),a.setFont(void 0,"normal"),a.text(`Warehouse: ${t.warehouseDivision}`,c+100/2,s,{align:"center"}),s+=3),t.category&&(a.text(`Category: ${t.category}`,c+100/2,s,{align:"center"}),s+=3),t.subCategory&&(a.text(`Sub Category: ${t.subCategory}`,c+100/2,s,{align:"center"}),s+=3),t.itemCode&&a.text(`Code: ${t.itemCode}`,c+100/2,s,{align:"center"})}h+=55}a.save(`${t.sku}_labels_10x5cm.pdf`)}return(n,e)=>(i(),r("div",{class:"print-container",style:z({height:D.value*5+"cm"})},[o("div",{class:"print-content",style:z({height:D.value*5+"cm"})},[(i(!0),r(L,null,T(g.value,(u,b)=>(i(),r("div",{key:"row-"+b,class:"barcode-row"},[(i(!0),r(L,null,T(u,(P,p)=>(i(),r("div",{key:"sku-"+b+"-"+p,class:"barcode-label"},[o("div",M,[o("div",j,[(i(),r("svg",{ref_for:!0,ref:F=>Y(b*3+p,F),key:"svg-"+b+"-"+p}))]),o("div",O,[o("div",X,[o("strong",null,"SKU: "+l(P),1)]),o("div",Q,[o("strong",null,"Nama: "+l(t.name),1)]),t.warehouseDivision?(i(),r("div",Z,"Warehouse: "+l(t.warehouseDivision),1)):k("",!0),t.category?(i(),r("div",I,"Category: "+l(t.category),1)):k("",!0),t.subCategory?(i(),r("div",ee,"Sub Category: "+l(t.subCategory),1)):k("",!0),t.itemCode?(i(),r("div",te,"Code: "+l(t.itemCode),1)):k("",!0)])])]))),128))]))),128))],4),o("div",oe,[e[1]||(e[1]=o("strong",null,"Tips:",-1)),m(" Untuk mencetak "+l(t.qty)+" label ukuran 10x5cm, atur paper size di print dialog ke ",1),o("b",null,l(ne)+"cm x "+l(se)+"cm"),e[2]||(e[2]=m(" (width x height),")),e[3]||(e[3]=o("br",null,null,-1)),e[4]||(e[4]=m(" lalu set margin ke ")),e[5]||(e[5]=o("b",null,"None",-1)),e[6]||(e[6]=m(" dan scale ke ")),e[7]||(e[7]=o("b",null,"100%",-1)),e[8]||(e[8]=m(" agar hasil presisi. Setiap label berukuran 10cm x 5cm. ")),e[9]||(e[9]=o("b",null,"Orientasi: Landscape",-1))]),o("div",ae,[o("button",{onClick:e[0]||(e[0]=u=>V.value=!1),class:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"Tutup"),o("button",{onClick:q,class:"ml-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"Print"),o("button",{onClick:A,class:"ml-2 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"},"Download PDF")])],4))}},pe=J(re,[["__scopeId","data-v-5ffaac9b"]]);export{pe as default};
