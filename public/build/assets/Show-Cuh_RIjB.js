import{A as B,B as o,C as m,D as t,G as r,N as s,x as y,Q as b,S as p,L as d,E as c,l as D,W as S}from"./vendor-vue-g7iCcTkf.js";import{S as u}from"./app-5sHs3Z-e.js";import{A as M}from"./AppLayout-IyEgvQ-G.js";import{a as k}from"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C59QAxMM.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const N={class:"max-w-4xl w-full mx-auto py-8 px-2"},A={class:"mb-6 flex justify-between items-center"},I={class:"text-gray-600 mt-1"},V={class:"flex gap-2"},q={class:"bg-white rounded-xl shadow-lg p-6 space-y-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},F={class:"text-sm font-semibold text-gray-900 mt-1"},L={class:"text-sm font-semibold text-gray-900 mt-1"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T={class:"text-sm text-gray-900 mt-1"},j={class:"text-sm text-gray-900 mt-1"},W={class:"mt-1"},$={class:"text-sm font-semibold text-gray-900 mt-1"},G={class:"text-sm text-gray-900 mt-1"},K={class:"text-sm text-gray-900 mt-1"},P={key:0},X={class:"text-sm text-gray-900 mt-1"},z={key:0},H={class:"text-sm text-gray-700 whitespace-pre-line"},O={key:1,class:"flex gap-3 pt-4 border-t border-gray-200"},at={__name:"Show",props:{maintenance:Object},setup(n){const x=n;function h(a){return a==null||a===void 0?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}function v(a){return a?new Date(a).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function w(a){return{Scheduled:"bg-gray-100 text-gray-800","In Progress":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800"}[a]||"bg-gray-100 text-gray-800"}async function C(){var e,i,l,g;if((await u.fire({title:"Complete Maintenance?",text:`Konfirmasi bahwa maintenance untuk "${(e=x.maintenance.asset)==null?void 0:e.name}" sudah selesai?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Complete",cancelButtonText:"Batal"})).isConfirmed)try{(i=(await k.post(`/asset-management/maintenances/${x.maintenance.id}/complete`,{},{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).data)!=null&&i.success&&(u.fire("Berhasil","Maintenance berhasil di-complete","success"),S.reload())}catch(f){u.fire("Error",((g=(l=f.response)==null?void 0:l.data)==null?void 0:g.message)||"Gagal complete maintenance","error")}}return(a,e)=>(o(),B(M,null,{default:m(()=>{var i,l;return[t("div",N,[t("div",A,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-wrench text-blue-500"}),r(" Maintenance Detail ")],-1)),t("p",I,"Maintenance #"+s(n.maintenance.id),1)]),t("div",V,[y(b(p),{href:`/asset-management/maintenances/${n.maintenance.id}/edit`,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2"},{default:m(()=>e[1]||(e[1]=[t("i",{class:"fa-solid fa-edit"},null,-1),r(" Edit ")])),_:1},8,["href"]),y(b(p),{href:"/asset-management/maintenances",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:m(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),r(" Kembali ")])),_:1})])]),t("div",q,[t("div",null,[e[5]||(e[5]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Asset Information",-1)),t("div",E,[t("div",null,[e[3]||(e[3]=t("label",{class:"text-sm font-medium text-gray-500"},"Asset Code",-1)),t("p",F,s((i=n.maintenance.asset)==null?void 0:i.asset_code),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"text-sm font-medium text-gray-500"},"Asset Name",-1)),t("p",L,s((l=n.maintenance.asset)==null?void 0:l.name),1)])])]),t("div",null,[e[13]||(e[13]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Maintenance Information",-1)),t("div",R,[t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-500"},"Maintenance Date",-1)),t("p",T,s(v(n.maintenance.maintenance_date)),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Maintenance Type",-1)),t("p",j,s(n.maintenance.maintenance_type),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("p",W,[t("span",{class:D([w(n.maintenance.status),"px-2 py-1 rounded-full text-xs font-medium"])},s(n.maintenance.status),3)])]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm font-medium text-gray-500"},"Cost",-1)),t("p",$,s(h(n.maintenance.cost)),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"text-sm font-medium text-gray-500"},"Vendor",-1)),t("p",G,s(n.maintenance.vendor||"-"),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-sm font-medium text-gray-500"},"Performed By",-1)),t("p",K,s(n.maintenance.performed_by||"-"),1)]),n.maintenance.schedule?(o(),d("div",P,[e[12]||(e[12]=t("label",{class:"text-sm font-medium text-gray-500"},"From Schedule",-1)),t("p",X,s(n.maintenance.schedule.maintenance_type)+" - "+s(n.maintenance.schedule.frequency),1)])):c("",!0)])]),n.maintenance.notes?(o(),d("div",z,[e[14]||(e[14]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Notes",-1)),t("p",H,s(n.maintenance.notes),1)])):c("",!0),n.maintenance.status!=="Completed"?(o(),d("div",O,[t("button",{onClick:C,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2"},e[15]||(e[15]=[t("i",{class:"fa-solid fa-check-circle"},null,-1),r(" Complete Maintenance ")]))])):c("",!0)])])]}),_:1}))}};export{at as default};
