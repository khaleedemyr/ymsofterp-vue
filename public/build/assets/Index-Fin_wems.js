import{A as B,B as o,C as p,D as t,x as D,G as f,Q as j,S as A,L as r,E as h,F as g,M as b,N as n,l as m,W as u}from"./vendor-vue-g7iCcTkf.js";import{A as T}from"./AppLayout-DZJ25Yod.js";import{S as l}from"./app-BujIObx9.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DNpNU_ax.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const S={class:"w-full py-8 px-0"},G={class:"flex justify-between items-center mb-6"},L={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},E={class:"w-full min-w-full divide-y divide-gray-200"},N={key:0},M={class:"px-6 py-3 font-mono font-semibold text-blue-700"},O={class:"px-6 py-3"},P={class:"px-6 py-3"},H={class:"px-6 py-3"},V={class:"px-6 py-3"},$={class:"px-6 py-3"},I={class:"px-6 py-3"},F={class:"px-6 py-3"},W={class:"flex gap-2"},z=["onClick"],K=["onClick"],Q={class:"flex justify-end mt-4 gap-2"},Y=["disabled","onClick","innerHTML"],ot={__name:"Index",props:{sales:Object,canDelete:Boolean},setup(i){const y=i;function w(s){return s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function k(s){s&&u.visit(s,{preserveState:!0,replace:!0})}function _(s){u.visit(`/warehouse-sales/${s.id}`)}async function v(s){if((await l.fire({title:"Hapus Data?",text:"Apakah Anda yakin ingin menghapus Penjualan Antar Gudang ini? Data yang dihapus tidak dapat dikembalikan.",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal",confirmButtonColor:"#dc2626",allowOutsideClick:!1})).isConfirmed){l.fire({title:"Menghapus...",text:"Mohon tunggu sebentar",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{l.showLoading()}});try{await u.delete(route("warehouse-sales.destroy",s.id),{onSuccess:()=>{l.fire({title:"Berhasil!",text:"Data berhasil dihapus",icon:"success",timer:1500,showConfirmButton:!1})},onError:e=>{l.fire({title:"Error!",text:e.message||"Terjadi kesalahan saat menghapus data",icon:"error"})}})}catch{l.fire({title:"Error!",text:"Terjadi kesalahan saat menghapus data",icon:"error"})}}}return(s,a)=>(o(),B(T,null,{default:p(()=>[t("div",S,[t("div",G,[a[1]||(a[1]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fas fa-exchange-alt"}),f(" Penjualan Antar Gudang ")],-1)),D(j(A),{href:s.route("warehouse-sales.create"),class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:p(()=>a[0]||(a[0]=[f(" + Buat Penjualan Antar Gudang ")])),_:1},8,["href"])]),t("div",L,[t("table",E,[a[5]||(a[5]=t("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"Nomor"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Gudang Asal"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Gudang Tujuan"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Total Item"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Dibuat Oleh"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),t("tbody",null,[!i.sales.data||!i.sales.data.length?(o(),r("tr",N,a[2]||(a[2]=[t("td",{colspan:"8",class:"text-center py-10 text-gray-400"},"Belum ada data Penjualan Antar Gudang.",-1)]))):h("",!0),(o(!0),r(g,null,b(i.sales.data,e=>{var d,c,x;return o(),r("tr",{key:e.id,class:"hover:bg-blue-50 transition shadow-sm"},[t("td",M,n(e.number),1),t("td",O,n(w(e.date)),1),t("td",P,n((d=e.source_warehouse)==null?void 0:d.name),1),t("td",H,n((c=e.target_warehouse)==null?void 0:c.name),1),t("td",V,n(e.total_items),1),t("td",$,[t("span",{class:m([{"bg-gray-100 text-gray-700":e.status==="draft","bg-green-100 text-green-700":e.status==="confirmed","bg-red-100 text-red-700":e.status==="rejected"},"px-2 py-1 rounded-full text-xs font-semibold shadow"])},n(e.status),3)]),t("td",I,n((x=e.creator)==null?void 0:x.nama_lengkap),1),t("td",F,[t("div",W,[t("button",{onClick:C=>_(e),class:"text-blue-600 hover:text-blue-900 mr-2"},a[3]||(a[3]=[t("i",{class:"fas fa-eye"},null,-1)]),8,z),y.canDelete?(o(),r("button",{key:0,onClick:C=>v(e),class:"text-red-600 hover:text-red-900"},a[4]||(a[4]=[t("i",{class:"fas fa-trash"},null,-1)]),8,K)):h("",!0)])])])}),128))])])]),t("div",Q,[(o(!0),r(g,null,b(i.sales.links,e=>(o(),r("button",{key:e.label,disabled:!e.url,onClick:d=>k(e.url),innerHTML:e.label,class:m(["px-3 py-1 rounded-lg border text-sm font-semibold",[e.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,Y))),128))])])]),_:1}))}};export{ot as default};
