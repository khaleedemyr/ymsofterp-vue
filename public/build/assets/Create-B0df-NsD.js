import{r as w,P as C,a as O,A as F,B as d,C as I,D as a,O as L,H as n,Q as o,J as s,L as r,F as i,M as m,N as b,I as g,E as J,W as U}from"./vendor-vue-g7iCcTkf.js";import{A as G}from"./AppLayout-nEB-Gr2i.js";import{a as P}from"./vendor-utils-CpgP2uT4.js";import{S as V}from"./app-YbzOJwkz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DIps1Q-A.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const E={class:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8 mt-8"},H=["value"],R=["value"],W=["value"],q=["value"],Q=["disabled"],Y=["value"],z=["disabled"],X=["value"],Z=["disabled"],$=["value"],h={key:0,class:"text-xs text-gray-500 mt-1"},_=["value"],c=["value"],ll={class:"md:col-span-2 flex justify-end gap-2 mt-6"},al=["disabled"],gl={__name:"Create",setup(tl){const p=w({outlets:[],jabatans:[],divisions:[]}),k=w(!1),x=w(!1),S=[{value:"L",label:"Laki-laki"},{value:"P",label:"Perempuan"}],K=[{value:"single",label:"Single"},{value:"married",label:"Menikah"},{value:"divorced",label:"Cerai"}],D=[{value:"Islam",label:"Islam"},{value:"Kristen",label:"Kristen"},{value:"Katolik",label:"Katolik"},{value:"Hindu",label:"Hindu"},{value:"Buddha",label:"Buddha"},{value:"Konghucu",label:"Konghucu"}],j=[{value:"A",label:"A"},{value:"B",label:"B"},{value:"AB",label:"AB"},{value:"O",label:"O"}],N=[{value:"Ayah",label:"Ayah"},{value:"Ibu",label:"Ibu"},{value:"Suami",label:"Suami"},{value:"Istri",label:"Istri"},{value:"Anak",label:"Anak"},{value:"Saudara",label:"Saudara"},{value:"Lainnya",label:"Lainnya"}],B=[{value:"SD",label:"SD"},{value:"SMP",label:"SMP"},{value:"SMA",label:"SMA"},{value:"D3",label:"D3"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"}],e=C({nik:"Akan di-generate otomatis",no_ktp:"",nama_lengkap:"",email:"",password:"",hint_password:"",nama_panggilan:"",jenis_kelamin:"",tempat_lahir:"",tanggal_lahir:"",suku:"",agama:"",status_pernikahan:"",alamat:"",alamat_ktp:"",foto_ktp:null,nomor_kk:"",foto_kk:null,no_hp:"",id_jabatan:"",id_outlet:"",division_id:"",imei:"",golongan_darah:"",nama_rekening:"",no_rekening:"",nama_kontak_darurat:"",no_hp_kontak_darurat:"",hubungan_kontak_darurat:"",pin_pos:"",npwp_number:"",bpjs_health_number:"",bpjs_employment_number:"",last_education:"",name_school_college:"",school_college_major:"",upload_latest_color_photo:null,tanggal_masuk:""});async function A(){var v,l,t;k.value=!0;try{console.log("Fetching dropdown data...");try{const f=await P.get("/test/users-dropdown");console.log("Test route response:",f.data)}catch(f){console.error("Test route error:",f)}const u=await P.get(route("users.dropdown-data"));console.log("Dropdown response:",u.data),u.data.success?(p.value={outlets:u.data.outlets||[],jabatans:u.data.jabatans||[],divisions:u.data.divisions||[]},console.log("Dropdown data set:",p.value)):console.error("Failed to load dropdown data:",u.data)}catch(u){console.error("Error fetching dropdown data:",u),console.error("Error details:",{message:u.message,response:(v=u.response)==null?void 0:v.data,status:(l=u.response)==null?void 0:l.status,headers:(t=u.response)==null?void 0:t.headers})}finally{k.value=!1}}O(A);function y(v,l){e[l]=v.target.files[0]}async function M(){if(!(await V.fire({title:"Simpan Data?",text:"Apakah Anda yakin ingin menyimpan data karyawan ini?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Simpan",cancelButtonText:"Batal"})).isConfirmed)return;const l=new FormData;Object.entries(e).forEach(([t,u])=>{u!=null&&l.append(t,u)}),console.log("FormData to send:",Array.from(l.entries())),x.value=!0;try{await P.post(route("users.store"),l,{headers:{"Content-Type":"multipart/form-data"}}),V.fire("Berhasil","Karyawan berhasil ditambahkan!","success").then(()=>U.visit("/users"))}catch(t){V.fire("Gagal","Gagal menyimpan data karyawan!","error"),console.error("Create error:",t)}finally{x.value=!1}}function T(){U.visit("/users")}return(v,l)=>(d(),F(G,{title:"Tambah Karyawan"},{default:I(()=>[a("div",E,[l[89]||(l[89]=a("h1",{class:"text-2xl font-bold mb-6 text-blue-800"},"Tambah Karyawan",-1)),a("form",{onSubmit:L(M,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[a("div",null,[l[38]||(l[38]=a("label",{class:"block text-sm font-medium text-gray-700"},"NIK",-1)),n(a("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>o(e).nik=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm bg-gray-100",readonly:""},null,512),[[s,o(e).nik]]),l[39]||(l[39]=a("p",{class:"text-xs text-gray-500 mt-1"},"NIK akan di-generate otomatis",-1))]),a("div",null,[l[40]||(l[40]=a("label",{class:"block text-sm font-medium text-gray-700"},"No KTP",-1)),n(a("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>o(e).no_ktp=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"50"},null,512),[[s,o(e).no_ktp]])]),a("div",null,[l[41]||(l[41]=a("label",{class:"block text-sm font-medium text-gray-700"},"Nama Lengkap *",-1)),n(a("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>o(e).nama_lengkap=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",required:"",maxlength:"255"},null,512),[[s,o(e).nama_lengkap]])]),a("div",null,[l[42]||(l[42]=a("label",{class:"block text-sm font-medium text-gray-700"},"Nama Panggilan",-1)),n(a("input",{"onUpdate:modelValue":l[3]||(l[3]=t=>o(e).nama_panggilan=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).nama_panggilan]])]),a("div",null,[l[43]||(l[43]=a("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),n(a("input",{"onUpdate:modelValue":l[4]||(l[4]=t=>o(e).email=t),type:"email",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).email]])]),a("div",null,[l[44]||(l[44]=a("label",{class:"block text-sm font-medium text-gray-700"},"Password",-1)),n(a("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>o(e).password=t),type:"password",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).password]])]),a("div",null,[l[45]||(l[45]=a("label",{class:"block text-sm font-medium text-gray-700"},"Hint Password",-1)),n(a("input",{"onUpdate:modelValue":l[6]||(l[6]=t=>o(e).hint_password=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).hint_password]])]),a("div",null,[l[47]||(l[47]=a("label",{class:"block text-sm font-medium text-gray-700"},"Jenis Kelamin",-1)),n(a("select",{"onUpdate:modelValue":l[7]||(l[7]=t=>o(e).jenis_kelamin=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[46]||(l[46]=a("option",{value:""},"Pilih Jenis Kelamin",-1)),(d(),r(i,null,m(S,t=>a("option",{key:t.value,value:t.value},b(t.label),9,H)),64))],512),[[g,o(e).jenis_kelamin]])]),a("div",null,[l[48]||(l[48]=a("label",{class:"block text-sm font-medium text-gray-700"},"Tempat Lahir",-1)),n(a("input",{"onUpdate:modelValue":l[8]||(l[8]=t=>o(e).tempat_lahir=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).tempat_lahir]])]),a("div",null,[l[49]||(l[49]=a("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Lahir",-1)),n(a("input",{"onUpdate:modelValue":l[9]||(l[9]=t=>o(e).tanggal_lahir=t),type:"date",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,512),[[s,o(e).tanggal_lahir]])]),a("div",null,[l[50]||(l[50]=a("label",{class:"block text-sm font-medium text-gray-700"},"Suku",-1)),n(a("input",{"onUpdate:modelValue":l[10]||(l[10]=t=>o(e).suku=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"50"},null,512),[[s,o(e).suku]])]),a("div",null,[l[52]||(l[52]=a("label",{class:"block text-sm font-medium text-gray-700"},"Agama",-1)),n(a("select",{"onUpdate:modelValue":l[11]||(l[11]=t=>o(e).agama=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[51]||(l[51]=a("option",{value:""},"Pilih Agama",-1)),(d(),r(i,null,m(D,t=>a("option",{key:t.value,value:t.value},b(t.label),9,R)),64))],512),[[g,o(e).agama]])]),a("div",null,[l[54]||(l[54]=a("label",{class:"block text-sm font-medium text-gray-700"},"Status Pernikahan",-1)),n(a("select",{"onUpdate:modelValue":l[12]||(l[12]=t=>o(e).status_pernikahan=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[53]||(l[53]=a("option",{value:""},"Pilih Status",-1)),(d(),r(i,null,m(K,t=>a("option",{key:t.value,value:t.value},b(t.label),9,W)),64))],512),[[g,o(e).status_pernikahan]])]),a("div",null,[l[56]||(l[56]=a("label",{class:"block text-sm font-medium text-gray-700"},"Golongan Darah",-1)),n(a("select",{"onUpdate:modelValue":l[13]||(l[13]=t=>o(e).golongan_darah=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[55]||(l[55]=a("option",{value:""},"Pilih Golongan Darah",-1)),(d(),r(i,null,m(j,t=>a("option",{key:t.value,value:t.value},b(t.label),9,q)),64))],512),[[g,o(e).golongan_darah]])]),a("div",null,[l[57]||(l[57]=a("label",{class:"block text-sm font-medium text-gray-700"},"No HP",-1)),n(a("input",{"onUpdate:modelValue":l[14]||(l[14]=t=>o(e).no_hp=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"15"},null,512),[[s,o(e).no_hp]])]),a("div",null,[l[58]||(l[58]=a("label",{class:"block text-sm font-medium text-gray-700"},"IMEI",-1)),n(a("input",{"onUpdate:modelValue":l[15]||(l[15]=t=>o(e).imei=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"50"},null,512),[[s,o(e).imei]])]),a("div",null,[l[60]||(l[60]=a("label",{class:"block text-sm font-medium text-gray-700"},"Jabatan",-1)),n(a("select",{"onUpdate:modelValue":l[16]||(l[16]=t=>o(e).id_jabatan=t),disabled:k.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[59]||(l[59]=a("option",{value:""},"Pilih Jabatan",-1)),(d(!0),r(i,null,m(p.value.jabatans,t=>(d(),r("option",{key:t.id_jabatan,value:t.id_jabatan},b(t.nama_jabatan),9,Y))),128))],8,Q),[[g,o(e).id_jabatan]])]),a("div",null,[l[62]||(l[62]=a("label",{class:"block text-sm font-medium text-gray-700"},"Outlet",-1)),n(a("select",{"onUpdate:modelValue":l[17]||(l[17]=t=>o(e).id_outlet=t),disabled:k.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[61]||(l[61]=a("option",{value:""},"Pilih Outlet",-1)),(d(!0),r(i,null,m(p.value.outlets,t=>(d(),r("option",{key:t.id_outlet,value:t.id_outlet},b(t.nama_outlet),9,X))),128))],8,z),[[g,o(e).id_outlet]])]),a("div",null,[l[64]||(l[64]=a("label",{class:"block text-sm font-medium text-gray-700"},"Divisi",-1)),n(a("select",{"onUpdate:modelValue":l[18]||(l[18]=t=>o(e).division_id=t),disabled:k.value,class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[63]||(l[63]=a("option",{value:""},"Pilih Divisi",-1)),(d(!0),r(i,null,m(p.value.divisions,t=>(d(),r("option",{key:t.id_division,value:t.id_division},b(t.nama_division),9,$))),128))],8,Z),[[g,o(e).division_id]]),p.value.divisions.length===0&&!k.value?(d(),r("p",h,"Tidak ada data divisi tersedia")):J("",!0)]),a("div",null,[l[65]||(l[65]=a("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Masuk",-1)),n(a("input",{"onUpdate:modelValue":l[19]||(l[19]=t=>o(e).tanggal_masuk=t),type:"date",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,512),[[s,o(e).tanggal_masuk]])]),a("div",null,[l[66]||(l[66]=a("label",{class:"block text-sm font-medium text-gray-700"},"PIN POS",-1)),n(a("input",{"onUpdate:modelValue":l[20]||(l[20]=t=>o(e).pin_pos=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"10"},null,512),[[s,o(e).pin_pos]])]),a("div",null,[l[67]||(l[67]=a("label",{class:"block text-sm font-medium text-gray-700"},"Alamat",-1)),n(a("textarea",{"onUpdate:modelValue":l[21]||(l[21]=t=>o(e).alamat=t),rows:"3",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,512),[[s,o(e).alamat]])]),a("div",null,[l[68]||(l[68]=a("label",{class:"block text-sm font-medium text-gray-700"},"Alamat KTP",-1)),n(a("textarea",{"onUpdate:modelValue":l[22]||(l[22]=t=>o(e).alamat_ktp=t),rows:"3",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,512),[[s,o(e).alamat_ktp]])]),a("div",null,[l[69]||(l[69]=a("label",{class:"block text-sm font-medium text-gray-700"},"Nomor KK",-1)),n(a("input",{"onUpdate:modelValue":l[23]||(l[23]=t=>o(e).nomor_kk=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"50"},null,512),[[s,o(e).nomor_kk]])]),a("div",null,[l[70]||(l[70]=a("label",{class:"block text-sm font-medium text-gray-700"},"Nama Rekening",-1)),n(a("input",{"onUpdate:modelValue":l[24]||(l[24]=t=>o(e).nama_rekening=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).nama_rekening]])]),a("div",null,[l[71]||(l[71]=a("label",{class:"block text-sm font-medium text-gray-700"},"No Rekening",-1)),n(a("input",{"onUpdate:modelValue":l[25]||(l[25]=t=>o(e).no_rekening=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"50"},null,512),[[s,o(e).no_rekening]])]),a("div",null,[l[72]||(l[72]=a("label",{class:"block text-sm font-medium text-gray-700"},"NPWP Number",-1)),n(a("input",{"onUpdate:modelValue":l[26]||(l[26]=t=>o(e).npwp_number=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"100"},null,512),[[s,o(e).npwp_number]])]),a("div",null,[l[73]||(l[73]=a("label",{class:"block text-sm font-medium text-gray-700"},"BPJS Health Number",-1)),n(a("input",{"onUpdate:modelValue":l[27]||(l[27]=t=>o(e).bpjs_health_number=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"100"},null,512),[[s,o(e).bpjs_health_number]])]),a("div",null,[l[74]||(l[74]=a("label",{class:"block text-sm font-medium text-gray-700"},"BPJS Employment Number",-1)),n(a("input",{"onUpdate:modelValue":l[28]||(l[28]=t=>o(e).bpjs_employment_number=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"100"},null,512),[[s,o(e).bpjs_employment_number]])]),a("div",null,[l[76]||(l[76]=a("label",{class:"block text-sm font-medium text-gray-700"},"Pendidikan Terakhir",-1)),n(a("select",{"onUpdate:modelValue":l[29]||(l[29]=t=>o(e).last_education=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[75]||(l[75]=a("option",{value:""},"Pilih Pendidikan",-1)),(d(),r(i,null,m(B,t=>a("option",{key:t.value,value:t.value},b(t.label),9,_)),64))],512),[[g,o(e).last_education]])]),a("div",null,[l[77]||(l[77]=a("label",{class:"block text-sm font-medium text-gray-700"},"Nama Sekolah/Kampus",-1)),n(a("input",{"onUpdate:modelValue":l[30]||(l[30]=t=>o(e).name_school_college=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).name_school_college]])]),a("div",null,[l[78]||(l[78]=a("label",{class:"block text-sm font-medium text-gray-700"},"Jurusan",-1)),n(a("input",{"onUpdate:modelValue":l[31]||(l[31]=t=>o(e).school_college_major=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).school_college_major]])]),a("div",null,[l[79]||(l[79]=a("label",{class:"block text-sm font-medium text-gray-700"},"Nama Kontak Darurat",-1)),n(a("input",{"onUpdate:modelValue":l[32]||(l[32]=t=>o(e).nama_kontak_darurat=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"255"},null,512),[[s,o(e).nama_kontak_darurat]])]),a("div",null,[l[80]||(l[80]=a("label",{class:"block text-sm font-medium text-gray-700"},"No HP Kontak Darurat",-1)),n(a("input",{"onUpdate:modelValue":l[33]||(l[33]=t=>o(e).no_hp_kontak_darurat=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm",maxlength:"15"},null,512),[[s,o(e).no_hp_kontak_darurat]])]),a("div",null,[l[82]||(l[82]=a("label",{class:"block text-sm font-medium text-gray-700"},"Hubungan Kontak Darurat",-1)),n(a("select",{"onUpdate:modelValue":l[34]||(l[34]=t=>o(e).hubungan_kontak_darurat=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},[l[81]||(l[81]=a("option",{value:""},"Pilih Hubungan",-1)),(d(),r(i,null,m(N,t=>a("option",{key:t.value,value:t.value},b(t.label),9,c)),64))],512),[[g,o(e).hubungan_kontak_darurat]])]),a("div",null,[l[83]||(l[83]=a("label",{class:"block text-sm font-medium text-gray-700"},"Foto KTP",-1)),a("input",{type:"file",onChange:l[35]||(l[35]=t=>y(t,"foto_ktp")),accept:"image/*",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,32),l[84]||(l[84]=a("p",{class:"text-xs text-gray-500 mt-1"},"Format: JPG, PNG. Maksimal 2MB",-1))]),a("div",null,[l[85]||(l[85]=a("label",{class:"block text-sm font-medium text-gray-700"},"Foto KK",-1)),a("input",{type:"file",onChange:l[36]||(l[36]=t=>y(t,"foto_kk")),accept:"image/*",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,32),l[86]||(l[86]=a("p",{class:"text-xs text-gray-500 mt-1"},"Format: JPG, PNG. Maksimal 2MB",-1))]),a("div",null,[l[87]||(l[87]=a("label",{class:"block text-sm font-medium text-gray-700"},"Upload Latest Color Photo",-1)),a("input",{type:"file",onChange:l[37]||(l[37]=t=>y(t,"upload_latest_color_photo")),accept:"image/*",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,32),l[88]||(l[88]=a("p",{class:"text-xs text-gray-500 mt-1"},"Format: JPG, PNG. Maksimal 2MB",-1))]),a("div",ll,[a("button",{type:"button",onClick:T,class:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300"},"Batal"),a("button",{type:"submit",class:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",disabled:x.value},"Simpan",8,al)])],32)])]),_:1}))}};export{gl as default};
