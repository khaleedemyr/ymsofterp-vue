import{r as _,A as C,B as s,C as U,D as e,G as d,O as M,H as b,L as a,E as p,J as k,N as n,F as v,M as x,I as h,V as q,W as P}from"./vendor-vue-g7iCcTkf.js";import{A as T}from"./AppLayout-CCl6N_RX.js";import"./vendor-utils-CpgP2uT4.js";import"./app-DvUgkxHf.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-oDgFzWKX.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const B={class:"w-full py-8 px-4"},N={class:"max-w-6xl mx-auto"},S={class:"bg-white rounded-2xl shadow-lg p-8"},j={class:"space-y-6"},D={key:0,class:"mt-1 text-sm text-red-600"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O=["value"],E={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},Q=["value"],W={class:"text-sm font-medium text-gray-700"},H={key:0,class:"mt-1 text-sm text-red-600"},J={key:1,class:"mt-1 text-sm text-gray-500"},z={key:2,class:"mt-1 text-sm text-green-600"},K={class:"space-y-6"},R={class:"flex items-center justify-between mb-4"},X={class:"text-md font-semibold text-gray-700"},Y=["onClick"],Z={class:"mb-4"},I=["for"],ee=["id","onUpdate:modelValue"],te={key:0,class:"mt-1 text-sm text-red-600"},se={class:"space-y-3"},ae={class:"flex items-center justify-between"},re=["onClick"],le=["for"],oe=["id","onUpdate:modelValue"],ie=["value"],ne={key:0,class:"mt-1 text-sm text-red-600"},de=["for"],ue=["id","onUpdate:modelValue"],me={key:0,class:"mt-1 text-sm text-red-600"},pe={class:"flex gap-4 pt-6"},ce=["disabled"],be={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},ge={key:1,class:"fa-solid fa-save mr-2"},Ve={__name:"Create",props:{guidance:Object,categories:Array,parameters:Array,departemenOptions:Array},setup(y){const o=_({title:"",departemen:"",status:"A",categories:[{category_id:"",parameters:[{parameter_pemeriksaan:"",details:[{parameter_id:"",point:0}]}]}]}),i=_({}),g=_(!1);function $(u){o.value.categories[u].parameters.push({parameter_pemeriksaan:"",details:[{parameter_id:"",point:0}]})}function V(u,t){o.value.categories[u].parameters.length>1&&o.value.categories[u].parameters.splice(t,1)}function A(){g.value=!0,i.value={},P.post("/qa-guidances",o.value,{onSuccess:()=>{},onError:u=>{i.value=u},onFinish:()=>{g.value=!1}})}function w(){P.visit("/qa-guidances")}return(u,t)=>(s(),C(T,{title:"Tambah QA Guidance"},{default:U(()=>[e("div",B,[e("div",N,[e("div",{class:"flex items-center gap-4 mb-6"},[e("button",{onClick:w,class:"text-gray-500 hover:text-gray-700 transition"},t[4]||(t[4]=[e("i",{class:"fa-solid fa-arrow-left text-xl"},null,-1)])),t[5]||(t[5]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-plus text-blue-500"}),d(" Tambah QA Guidance Baru ")],-1))]),e("div",S,[e("form",{onSubmit:M(A,["prevent"]),class:"space-y-8"},[e("div",j,[e("div",null,[t[6]||(t[6]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Title "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=l=>o.value.title=l),type:"text",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan title QA Guidance",required:""},null,512),[[k,o.value.title]]),i.value.title?(s(),a("div",D,n(i.value.title),1)):p("",!0)]),e("div",G,[e("div",null,[t[8]||(t[8]=e("label",{for:"departemen",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Departemen "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{id:"departemen","onUpdate:modelValue":t[1]||(t[1]=l=>o.value.departemen=l),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[7]||(t[7]=e("option",{value:""},"Pilih Departemen",-1)),(s(!0),a(v,null,x(y.departemenOptions,l=>(s(),a("option",{key:l,value:l},n(l),9,O))),128))],512),[[h,o.value.departemen]]),i.value.departemen?(s(),a("div",E,n(i.value.departemen),1)):p("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Status "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=l=>o.value.status=l),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},t[9]||(t[9]=[e("option",{value:"A"},"Aktif",-1),e("option",{value:"N"},"Non-Aktif",-1)]),512),[[h,o.value.status]]),i.value.status?(s(),a("div",F,n(i.value.status),1)):p("",!0)])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Categories "),e("span",{class:"text-red-500"},"*")],-1)),e("div",L,[(s(!0),a(v,null,x(y.categories,l=>(s(),a("label",{key:l.id,class:"flex items-center p-3 border border-gray-300 rounded-xl hover:bg-blue-50 cursor-pointer transition"},[b(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[3]||(t[3]=r=>o.value.category_ids=r),class:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Q),[[q,o.value.category_ids]]),e("span",W,n(l.categories),1)]))),128))]),i.value.category_ids?(s(),a("div",H,n(i.value.category_ids),1)):p("",!0),o.value.category_ids.length===0?(s(),a("div",J," Pilih minimal 1 category ")):(s(),a("div",z,[t[11]||(t[11]=e("i",{class:"fa-solid fa-check-circle mr-1"},null,-1)),d(" "+n(o.value.category_ids.length)+" category dipilih ",1)]))])]),e("div",K,[e("div",{class:"flex items-center justify-between"},[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Parameter Pemeriksaan",-1)),e("button",{type:"button",onClick:$,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium transition flex items-center"},t[13]||(t[13]=[e("i",{class:"fa-solid fa-plus mr-2"},null,-1),d("Tambah Parameter Pemeriksaan ")]))]),(s(!0),a(v,null,x(o.value.parameters,(l,r)=>(s(),a("div",{key:r,class:"border border-gray-200 rounded-xl p-6 bg-gray-50"},[e("div",R,[e("h4",X,"Parameter Pemeriksaan "+n(r+1),1),o.value.parameters.length>1?(s(),a("button",{key:0,type:"button",onClick:m=>V(r),class:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm transition"},t[15]||(t[15]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,Y)):p("",!0)]),e("div",Z,[e("label",{for:`parameter_pemeriksaan_${r}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[16]||(t[16]=[d(" Nama Parameter Pemeriksaan "),e("span",{class:"text-red-500"},"*",-1)]),8,I),b(e("input",{id:`parameter_pemeriksaan_${r}`,"onUpdate:modelValue":m=>l.parameter_pemeriksaan=m,type:"text",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan nama parameter pemeriksaan",required:""},null,8,ee),[[k,l.parameter_pemeriksaan]]),i.value[`parameters.${r}.parameter_pemeriksaan`]?(s(),a("div",te,n(i.value[`parameters.${r}.parameter_pemeriksaan`]),1)):p("",!0)]),e("div",se,[e("div",ae,[t[18]||(t[18]=e("h5",{class:"text-sm font-medium text-gray-600"},"Parameter & Point",-1)),e("button",{type:"button",onClick:m=>u.addParameterToPemeriksaan(r),class:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition flex items-center"},t[17]||(t[17]=[e("i",{class:"fa-solid fa-plus mr-1"},null,-1),d("Tambah Parameter ")]),8,re)]),(s(!0),a(v,null,x([l],(m,f)=>(s(),a("div",{key:f,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[e("label",{for:`parameter_${r}_${f}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[19]||(t[19]=[d(" Parameter "),e("span",{class:"text-red-500"},"*",-1)]),8,le),b(e("select",{id:`parameter_${r}_${f}`,"onUpdate:modelValue":c=>m.parameter_id=c,class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[20]||(t[20]=e("option",{value:""},"Pilih Parameter",-1)),(s(!0),a(v,null,x(y.parameters,c=>(s(),a("option",{key:c.id,value:c.id},n(c.parameter),9,ie))),128))],8,oe),[[h,m.parameter_id]]),i.value[`parameters.${r}.parameter_id`]?(s(),a("div",ne,n(i.value[`parameters.${r}.parameter_id`]),1)):p("",!0)]),e("div",null,[e("label",{for:`point_${r}_${f}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[21]||(t[21]=[d(" Point "),e("span",{class:"text-red-500"},"*",-1)]),8,de),b(e("input",{id:`point_${r}_${f}`,"onUpdate:modelValue":c=>m.point=c,type:"number",min:"0",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan point",required:""},null,8,ue),[[k,m.point,void 0,{number:!0}]]),i.value[`parameters.${r}.point`]?(s(),a("div",me,n(i.value[`parameters.${r}.point`]),1)):p("",!0)])]))),128))])]))),128))]),e("div",pe,[e("button",{type:"button",onClick:w,class:"flex-1 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-medium transition"}," Batal "),e("button",{type:"submit",disabled:g.value,class:"flex-1 px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl font-medium transition flex items-center justify-center"},[g.value?(s(),a("i",be)):(s(),a("i",ge)),d(" "+n(g.value?"Menyimpan...":"Simpan"),1)],8,ce)])],32)])])])]),_:1}))}};export{Ve as default};
