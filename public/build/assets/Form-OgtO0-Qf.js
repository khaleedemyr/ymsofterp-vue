import{c as ge,r as w,P as at,a as st,A as ot,B as u,C as nt,D as e,L as p,E as R,G as f,N as _,O as De,H as C,Q as F,J as P,F as I,M as W,l as lt,V as it,W as X}from"./vendor-vue-g7iCcTkf.js";import{A as rt}from"./AppLayout-DZJ25Yod.js";import{S as v}from"./app-BujIObx9.js";import{a as N}from"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DNpNU_ax.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const ut={class:"max-w-5xl w-full mx-auto py-8 px-2"},dt={class:"flex items-center justify-between mb-6"},pt={class:"flex items-center gap-2"},ct={class:"text-2xl font-bold text-gray-800 flex items-center gap-2 ml-4"},mt={class:"flex flex-col items-end"},_t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ft={key:0,class:"text-xs text-red-500 mt-1"},gt={key:0,class:"mb-6"},bt={class:"space-y-2"},yt={class:"flex items-center gap-2"},xt={key:0,class:"text-blue-500"},vt={key:1,class:"text-purple-500"},ht={key:2,class:"text-indigo-500"},kt={key:3,class:"text-green-500"},wt={class:"font-medium text-gray-700"},Bt=["onClick"],Ft={key:1,class:"bg-yellow-50 rounded-lg p-4 shadow mb-4"},Rt={class:"mb-4"},Ct={key:0,class:"mt-2"},St=["src"],$t={key:0,class:"text-xs text-red-500 mt-1"},Pt={class:"overflow-x-auto"},It={key:0,class:"flex justify-center items-center py-8"},Mt={key:1,class:"w-full min-w-full divide-y divide-gray-200"},Nt={class:"bg-gradient-to-r from-blue-50 to-blue-100"},Dt={class:"px-3 py-2 text-center text-xs font-bold text-blue-700 uppercase tracking-wider w-12"},Tt=["checked"],Ot={key:0,class:"text-center text-gray-500"},jt={class:"px-3 py-2 text-center"},Lt=["onUpdate:modelValue"],At={class:"px-3 py-2 min-w-[150px] text-xs"},Gt={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Kt={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},Vt={key:2,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},Et={key:3,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ut={key:4,class:"text-gray-400"},qt={class:"px-3 py-2 min-w-[200px]"},Wt={class:"px-3 py-2 min-w-[100px]"},Ht={class:"px-3 py-2 min-w-[100px]"},zt={class:"px-3 py-2 min-w-[120px]"},Qt=["onUpdate:modelValue","onInput","onBlur"],Jt={class:"px-3 py-2 min-w-[150px]"},Xt={class:"space-y-1"},Yt=["onUpdate:modelValue","onInput","onBlur"],Zt=["onUpdate:modelValue","onInput","onBlur"],ea={class:"px-3 py-2 min-w-[100px]"},ta={class:"px-3 py-2 min-w-[120px]"},aa=["onUpdate:modelValue"],sa={class:"bg-gray-100"},oa={class:"px-3 py-3 font-bold text-gray-700"},na={class:"px-3 py-3"},la={class:"px-3 py-3"},ia={class:"px-3 py-3 font-medium text-red-600"},ra={class:"px-3 py-3 font-bold text-blue-700"},ua={key:0,class:"text-xs text-red-500 mt-1"},da={class:"flex justify-end gap-2"},pa=["disabled"],ca={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ma={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] flex flex-col"},_a={class:"p-6 border-b"},fa={class:"mt-4"},ga={class:"flex-1 overflow-y-auto"},ba={key:0,class:"p-8 text-center"},ya={key:1,class:"p-8 text-center text-gray-500"},xa={key:2,class:"divide-y divide-gray-200"},va=["onClick"],ha={class:"flex items-center gap-3"},ka={key:0,class:"text-blue-500 text-xl"},wa={key:1,class:"text-green-500 text-xl"},Ba={key:2,class:"text-gray-500 text-xl"},Fa={class:"flex-1"},Ra={class:"font-semibold text-lg"},Ca={class:"text-gray-600"},Sa={key:0,class:"text-sm text-orange-600 mt-1"},$a={class:"text-right"},Pa={class:"text-sm text-gray-500"},Ia={class:"text-sm text-gray-500"},Ma={key:3,class:"p-4 border-t text-center"},Na=["disabled"],Da={key:0},Ta={key:1},Oa={class:"text-sm text-gray-500 mt-2"},ja={key:0,class:"text-blue-600"},La={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Aa={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] flex flex-col"},Ga={class:"p-6 border-b"},Ka={class:"mt-4"},Va={class:"flex-1 overflow-y-auto"},Ea={key:0,class:"p-8 text-center"},Ua={key:1,class:"p-8 text-center text-gray-500"},qa={key:2,class:"divide-y divide-gray-200"},Wa=["onClick"],Ha={class:"flex items-center gap-3"},za={class:"flex-1"},Qa={class:"font-semibold text-lg"},Ja={class:"text-gray-600"},Xa={key:0,class:"text-sm text-purple-600 mt-1"},Ya={class:"text-right"},Za={class:"text-sm text-gray-500"},es={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ts={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] flex flex-col"},as={class:"p-6 border-b"},ss={class:"mt-4"},os={class:"flex-1 overflow-y-auto"},ns={key:0,class:"p-8 text-center text-gray-500"},ls={key:1,class:"divide-y divide-gray-200"},is=["onClick"],rs={class:"flex items-center gap-3"},us={class:"flex-1"},ds={class:"font-semibold text-lg"},ps={class:"text-gray-600"},cs={key:0,class:"text-sm text-green-600 mt-1"},ms={class:"text-sm text-gray-500 mt-1"},_s={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},fs={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[80vh] flex flex-col"},gs={class:"p-6 border-b"},bs={class:"mt-4"},ys={class:"flex-1 overflow-y-auto"},xs={key:0,class:"p-8 text-center"},vs={key:1,class:"p-8 text-center text-gray-500"},hs={key:2,class:"divide-y divide-gray-200"},ks=["onClick"],ws={class:"flex items-center gap-3"},Bs={class:"flex-1"},Fs={class:"font-semibold text-lg"},Rs={class:"text-gray-600"},Cs={key:0,class:"text-sm text-indigo-600 mt-1"},Ss={class:"text-right"},$s={class:"text-sm text-gray-500"},Ps={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},Is={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full"},Ms={class:"bg-blue-600 px-6 py-4 flex items-center justify-between"},Ns={class:"bg-gray-50 px-6 py-4 flex justify-end"},Us={__name:"Form",props:{contraBon:Object,availableRetailNonFoods:Array,suppliers:Array,filters:Object},setup(Te){var we,Be,Fe,Re,Ce,Se,$e,Pe,Ie,Me,Ne;const i=Te,D=ge(()=>!!i.contraBon),H=w([]),S=w(!1),Y=w(!1),M=w({current_page:1,per_page:50,total:0,last_page:1,from:0,to:0}),h=w(null),ae=w(null),z=w(null),O=w([]),j=w([]),Z=w([]),se=w(!1),G=w(""),K=w([]),oe=w(!1),b=w([]),ne=w(!1),le=w(!1),ie=w(!1),T=w(""),V=w(""),E=w(""),ee=w([]),L=w([]),A=w([]),U=w(!1),n=at({date:(we=i.contraBon)!=null&&we.date?i.contraBon.date.substring(0,10):"",notes:((Be=i.contraBon)==null?void 0:Be.notes)||"",supplier_invoice_number:((Fe=i.contraBon)==null?void 0:Fe.supplier_invoice_number)||"",discount_total_percent:((Re=i.contraBon)==null?void 0:Re.discount_total_percent)||0,discount_total_amount:((Ce=i.contraBon)==null?void 0:Ce.discount_total_amount)||0,source_type:((Se=i.contraBon)==null?void 0:Se.source_type)||"purchase_order",source_id:(($e=i.contraBon)==null?void 0:$e.source_id)||null,po_id:((Pe=i.contraBon)==null?void 0:Pe.po_id)||null,gr_id:((Ie=i.contraBon)==null?void 0:Ie.gr_id)||null,sources:[],items:((Ne=(Me=i.contraBon)==null?void 0:Me.items)==null?void 0:Ne.map(s=>{var t,a,c,r,d,B,x;return{gr_item_id:s.gr_item_id,item_id:s.item_id,quantity:s.quantity,unit_id:s.unit_id,price:s.price,discount_percent:s.discount_percent||0,discount_amount:s.discount_amount||0,po_item_total:s.po_item_total||null,notes:s.notes||"",item:s.item,unit:s.unit,item_name:((t=s.item)==null?void 0:t.name)||s.item_name||null,unit_name:((a=s.unit)==null?void 0:a.name)||s.unit_name||null,source_type:((c=i.contraBon)==null?void 0:c.source_type)||"purchase_order",source_id:((r=i.contraBon)==null?void 0:r.source_id)||"",source_display:((d=i.contraBon)==null?void 0:d.source_type_display)||"",po_id:((B=i.contraBon)==null?void 0:B.po_id)||null,gr_id:((x=i.contraBon)==null?void 0:x.gr_id)||null,selected:!0,_rowKey:Date.now()+"-"+Math.random()}}))||[],selectedItems:[]});st(async()=>{var s,t,a,c,r,d,B,x,k;if(D.value)(s=i.contraBon)!=null&&s.image_path&&(z.value=`/storage/${i.contraBon.image_path}`),i.contraBon&&(i.contraBon.sources&&Array.isArray(i.contraBon.sources)&&i.contraBon.sources.length>0?i.contraBon.sources.forEach(o=>{var l,g,m,y,q;if(o.source_type==="purchase_order"&&o.po_id&&o.gr_id){const $=((l=o.purchaseOrder||o.purchase_order)==null?void 0:l.number)||"PO";b.value.push({key:`po-${o.po_id}-${o.gr_id}`,type:"purchase_order",po_id:o.po_id,gr_id:o.gr_id,display:`${$} - GR`,supplier_id:i.contraBon.supplier_id,supplier_name:((g=i.contraBon.supplier)==null?void 0:g.name)||"",data:null})}else if(o.source_type==="retail_food"&&o.source_id){const $=o.retailFood||o.retail_food,J=($==null?void 0:$.retail_number)||"Retail Food";b.value.push({key:`rf-${o.source_id}`,type:"retail_food",source_id:o.source_id,display:J,supplier_id:i.contraBon.supplier_id,supplier_name:((m=i.contraBon.supplier)==null?void 0:m.name)||"",data:null})}else if(o.source_type==="warehouse_retail_food"&&o.source_id){const $=o.warehouseRetailFood||o.warehouse_retail_food,J=($==null?void 0:$.retail_number)||"Warehouse Retail Food";b.value.push({key:`rwf-${o.source_id}`,type:"warehouse_retail_food",source_id:o.source_id,display:J,supplier_id:i.contraBon.supplier_id,supplier_name:((y=i.contraBon.supplier)==null?void 0:y.name)||"",data:null})}else if(o.source_type==="retail_non_food"&&o.source_id){const $=o.retailNonFood||o.retail_non_food,J=($==null?void 0:$.retail_number)||"Retail Non Food";b.value.push({key:`rnf-${o.source_id}`,type:"retail_non_food",source_id:o.source_id,display:J,supplier_id:i.contraBon.supplier_id,supplier_name:((q=i.contraBon.supplier)==null?void 0:q.name)||"",data:null})}}):i.contraBon.source_type==="purchase_order"&&i.contraBon.po_id&&i.contraBon.gr_id?b.value.push({key:`po-${i.contraBon.po_id}-${i.contraBon.gr_id}`,type:"purchase_order",po_id:i.contraBon.po_id,gr_id:i.contraBon.gr_id,display:(t=i.contraBon.purchase_order)!=null&&t.number?`${i.contraBon.purchase_order.number} - GR`:"PO/GR",supplier_id:i.contraBon.supplier_id,supplier_name:((a=i.contraBon.supplier)==null?void 0:a.name)||"",data:null}):i.contraBon.source_type==="retail_food"&&i.contraBon.source_id?b.value.push({key:`rf-${i.contraBon.source_id}`,type:"retail_food",source_id:i.contraBon.source_id,display:((c=i.contraBon.retailFood)==null?void 0:c.retail_number)||"Retail Food",supplier_id:i.contraBon.supplier_id,supplier_name:((r=i.contraBon.supplier)==null?void 0:r.name)||"",data:null}):i.contraBon.source_type==="warehouse_retail_food"&&i.contraBon.source_id?b.value.push({key:`rwf-${i.contraBon.source_id}`,type:"warehouse_retail_food",source_id:i.contraBon.source_id,display:((d=i.contraBon.warehouseRetailFood)==null?void 0:d.retail_number)||"Warehouse Retail Food",supplier_id:i.contraBon.supplier_id,supplier_name:((B=i.contraBon.supplier)==null?void 0:B.name)||"",data:null}):i.contraBon.source_type==="retail_non_food"&&i.contraBon.source_id&&b.value.push({key:`rnf-${i.contraBon.source_id}`,type:"retail_non_food",source_id:i.contraBon.source_id,display:((x=i.contraBon.retailNonFood)==null?void 0:x.retail_number)||"Retail Non Food",supplier_id:i.contraBon.supplier_id,supplier_name:((k=i.contraBon.supplier)==null?void 0:k.name)||"",data:null}),i.contraBon.supplier_id&&N.get(`/api/suppliers/${i.contraBon.supplier_id}`).then(o=>h.value=o.data).catch(()=>h.value=null)),oe.value=!1;else{const o=new Date,l=o.getFullYear(),g=String(o.getMonth()+1).padStart(2,"0"),m=String(o.getDate()).padStart(2,"0");n.date=`${l}-${g}-${m}`,i.availableRetailNonFoods&&(Z.value=i.availableRetailNonFoods,K.value=i.availableRetailNonFoods),oe.value=!1}});let re=null;function Oe(){re&&clearTimeout(re),T.value.trim()&&(S.value=!0),re=setTimeout(async()=>{const s=T.value.trim();await ue(1,!1,s)},500)}function je(){if(!V.value.trim()){L.value=O.value;return}const s=V.value.toLowerCase();L.value=O.value.filter(t=>t.retail_number.toLowerCase().includes(s)||t.supplier_name.toLowerCase().includes(s)||t.outlet_name&&t.outlet_name.toLowerCase().includes(s)||t.warehouse_outlet_name&&t.warehouse_outlet_name.toLowerCase().includes(s))}function Le(){if(!E.value.trim()){A.value=j.value;return}const s=E.value.toLowerCase();A.value=j.value.filter(t=>t.retail_number.toLowerCase().includes(s)||t.supplier_name.toLowerCase().includes(s)||t.warehouse_name&&t.warehouse_name.toLowerCase().includes(s)||t.warehouse_division_name&&t.warehouse_division_name.toLowerCase().includes(s))}async function Ae(){ne.value=!0,T.value="",await ue(1,!1,"")}async function ue(s=1,t=!1,a=""){var c,r,d,B;t?Y.value=!0:S.value=!0;try{const x={page:s,per_page:50};a&&a.trim()&&(x.search=a.trim());const k=await N.get("/api/contra-bon/po-with-approved-gr",{params:x}),o=((c=k.data)==null?void 0:c.data)||k.data||[],l=((r=k.data)==null?void 0:r.pagination)||null;t&&!a?H.value=[...H.value,...o]:H.value=o,ee.value=H.value,l&&(M.value=l)}catch(x){v.fire("Error","Gagal mengambil data PO/GR: "+(((B=(d=x.response)==null?void 0:d.data)==null?void 0:B.error)||x.message),"error"),t||(H.value=[],ee.value=[])}finally{S.value=!1,Y.value=!1}}async function Ge(){M.value.current_page<M.value.last_page&&await ue(M.value.current_page+1,!0,T.value.trim())}async function Ke(){if(le.value=!0,V.value="",O.value.length===0){S.value=!0;try{const s=await N.get("/api/contra-bon/retail-food-contra-bon");O.value=s.data||[],L.value=O.value}catch(s){console.error("Error loading retail food:",s),v.fire("Error","Gagal mengambil data Retail Food","error"),O.value=[],L.value=[]}finally{S.value=!1}}else L.value=O.value}async function Ve(){if(ie.value=!0,E.value="",j.value.length===0){S.value=!0;try{const s=await N.get("/api/contra-bon/warehouse-retail-food-contra-bon");j.value=s.data||[],A.value=j.value}catch(s){console.error("Error loading warehouse retail food:",s),v.fire("Error","Gagal mengambil data Warehouse Retail Food","error"),j.value=[],A.value=[]}finally{S.value=!1}}else A.value=j.value}function de(){ne.value=!1,T.value=""}function pe(){le.value=!1,V.value=""}function ce(){ie.value=!1,E.value=""}function Ee(){se.value=!0,G.value="",K.value=Z.value}function me(){se.value=!1,G.value=""}function Ue(){if(!G.value.trim()){K.value=Z.value;return}const s=G.value.toLowerCase();K.value=Z.value.filter(t=>(t.retail_number||"").toLowerCase().includes(s)||(t.supplier_name||"").toLowerCase().includes(s)||(t.outlet_name||"").toLowerCase().includes(s))}async function qe(s){if(b.value.find(a=>a.type==="retail_non_food"&&a.source_id===s.id)){v.fire("Info","Source ini sudah ditambahkan","info"),me();return}S.value=!0;try{const c=(await N.get(`/non-food-payments/retail-non-food-items/${s.id}`)).data.items_by_outlet||{},d={key:`rnf-${s.id}`,type:"retail_non_food",source_id:s.id,display:`${s.retail_number} - ${s.supplier_name}`,supplier_id:s.supplier_id,supplier_name:s.supplier_name,data:s};b.value.push(d);const B=[];if(Object.values(c).forEach(x=>{if(x.items&&x.items.length>0){const k=x.items.map(o=>({gr_item_id:null,item_id:o.item_id||null,po_item_id:null,unit_id:o.unit_id||null,quantity:o.quantity,price:o.price,discount_percent:0,discount_amount:0,notes:"",item_name:o.item_name,unit_name:o.unit_name||o.unit||"-",retail_non_food_item_id:o.id,selected:!1,source_type:"retail_non_food",source_id:s.id,source_display:s.retail_number,po_id:null,gr_id:null,_rowKey:Date.now()+"-"+Math.random()+"-rnf"}));B.push(...k)}}),n.items.push(...B),s.supplier_id)try{const x=await N.get(`/api/suppliers/${s.supplier_id}`);h.value=x.data}catch(x){console.error("Error loading supplier:",x)}me()}catch(a){console.error("Error loading retail non food items:",a),v.fire("Error","Gagal memuat detail Retail Non Food","error")}finally{S.value=!1}}function We(s){if(b.value.find(r=>r.type==="purchase_order"&&r.po_id===s.po_id&&r.gr_id===s.gr_id)){v.fire("Info","Source ini sudah ditambahkan","info"),de();return}const c={key:`po-${s.po_id}-${s.gr_id}`,type:"purchase_order",po_id:s.po_id,gr_id:s.gr_id,display:`${s.po_number} - ${s.gr_number} - ${s.supplier_name}`,supplier_id:s.supplier_id,supplier_name:s.supplier_name,data:s};if(b.value.push(c),s.items&&s.items.length>0){const r=s.items.map(d=>{(!d.item_name||!d.unit_name)&&(console.warn("Item missing name/unit:",d),console.warn("Available keys:",Object.keys(d)));const B=d.item_name||"",x=d.unit_name||"",k={gr_item_id:d.id,item_id:d.item_id,po_item_id:d.po_item_id,unit_id:d.unit_id,item_name:B,unit_name:x,quantity:d.qty_received,price:d.po_price,discount_percent:d.discount_percent||0,discount_amount:d.discount_amount||0,po_item_total:d.po_item_total||d.po_price*d.qty_received,notes:"",selected:!1,source_type:"purchase_order",source_id:`${s.po_id}-${s.gr_id}`,source_display:`${s.po_number} - ${s.gr_number}`,po_id:s.po_id,gr_id:s.gr_id,_rowKey:Date.now()+"-"+Math.random()+"-po"};return(!k.item_name||!k.unit_name)&&console.error("WARNING: Item still missing name/unit after mapping:",{item_id:k.item_id,unit_id:k.unit_id,item_name:k.item_name,unit_name:k.unit_name,raw_item:d}),k});n.items.push(...r)}s.supplier_id&&(h.value?h.value.id!==s.supplier_id&&v.fire("Info","Contra Bon ini memiliki beberapa supplier. Supplier detail akan menampilkan supplier pertama.","info"):N.get(`/api/suppliers/${s.supplier_id}`).then(r=>h.value=r.data).catch(()=>h.value=null)),de()}function He(s){if(b.value.find(r=>r.type==="retail_food"&&r.source_id===s.retail_food_id)){v.fire("Info","Source ini sudah ditambahkan","info"),pe();return}const c={key:`rf-${s.retail_food_id}`,type:"retail_food",source_id:s.retail_food_id,display:`${s.retail_number} - ${s.supplier_name}`,supplier_id:s.supplier_id,supplier_name:s.supplier_name,data:s};if(b.value.push(c),s.items&&s.items.length>0){const r=s.items.map(d=>({gr_item_id:null,item_id:d.item_id||null,po_item_id:null,unit_id:d.unit_id||null,quantity:d.qty,price:d.price,discount_percent:0,discount_amount:0,notes:"",item_name:d.item_name,unit_name:d.unit_name,retail_food_item_id:d.id,selected:!1,source_type:"retail_food",source_id:s.retail_food_id,source_display:s.retail_number,po_id:null,gr_id:null,_rowKey:Date.now()+"-"+Math.random()+"-rf"}));n.items.push(...r)}s.supplier_id&&(h.value?h.value.id!==s.supplier_id&&v.fire("Info","Contra Bon ini memiliki beberapa supplier. Supplier detail akan menampilkan supplier pertama.","info"):N.get(`/api/suppliers/${s.supplier_id}`).then(r=>h.value=r.data).catch(()=>h.value=null)),pe()}function ze(s){if(b.value.find(r=>r.type==="warehouse_retail_food"&&r.source_id===s.retail_warehouse_food_id)){v.fire("Info","Source ini sudah ditambahkan","info"),ce();return}const c={key:`rwf-${s.retail_warehouse_food_id}`,type:"warehouse_retail_food",source_id:s.retail_warehouse_food_id,display:`${s.retail_number} - ${s.supplier_name}`,supplier_id:s.supplier_id,supplier_name:s.supplier_name,data:s};if(b.value.push(c),s.items&&s.items.length>0){const r=s.items.map(d=>({gr_item_id:null,item_id:d.item_id||null,po_item_id:null,unit_id:d.unit_id||null,quantity:d.qty,price:d.price,discount_percent:0,discount_amount:0,notes:"",item_name:d.item_name,unit_name:d.unit_name,warehouse_retail_food_item_id:d.id,selected:!1,source_type:"warehouse_retail_food",source_id:s.retail_warehouse_food_id,source_display:s.retail_number,po_id:null,gr_id:null,_rowKey:Date.now()+"-"+Math.random()+"-rwf"}));n.items.push(...r)}s.supplier_id&&(h.value?h.value.id!==s.supplier_id&&v.fire("Info","Contra Bon ini memiliki beberapa supplier. Supplier detail akan menampilkan supplier pertama.","info"):N.get(`/api/suppliers/${s.supplier_id}`).then(r=>h.value=r.data).catch(()=>h.value=null)),ce()}function Qe(s){n.items=n.items.filter(t=>t.source_type==="purchase_order"?`po-${t.po_id}-${t.gr_id}`!==s:t.source_type==="retail_food"?`rf-${t.source_id}`!==s:t.source_type==="warehouse_retail_food"?`rwf-${t.source_id}`!==s:!0),b.value=b.value.filter(t=>t.key!==s),b.value.length===0&&(h.value=null)}function Je(s){const t=s.target.files[0];if(ae.value=t,t){const a=new FileReader;a.onload=c=>{z.value=c.target.result},a.readAsDataURL(t)}else z.value=null}function Q(s){return s==null?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s)}function Xe(s){return s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}const _e=ge(()=>n.items.filter(s=>s.selected).reduce((s,t)=>s+fe(t),0)),be=ge(()=>{const s=_e.value,t=Number(n.discount_total_percent)||0,a=Number(n.discount_total_amount)||0;let c=0;return t>0?c=s*(t/100):a>0&&(c=a),s-c});function fe(s){const t=Number(s.quantity)||0,a=Number(s.price)||0,c=t*a,r=Number(s.discount_percent)||0,d=Number(s.discount_amount)||0;let B=0;if(r>0)B=c*(r/100);else if(d>0)if(s.source_type==="purchase_order"){const x=b.value.find(k=>k.type==="purchase_order"&&k.po_id===s.po_id&&k.gr_id===s.gr_id);if(x&&x.data&&x.data.items){const k=x.data.items.find(o=>o.id===s.gr_item_id||o.item_id===s.item_id);if(k&&k.qty_received>0){const o=t/k.qty_received;B=d*o}else B=d}else B=d}else B=d;return c-B}function te(s){if(s.price===null||s.price===void 0||s.price==="")s.price=0;else{const t=parseFloat(s.price);s.price=t>=0?t:0}s.source_type==="purchase_order"&&s.po_item_id&&(s.po_item_total=fe(s))}function ye(s){s.discount_percent>0&&(s.discount_amount=0),te(s)}function xe(s){s.discount_amount>0&&(s.discount_percent=0),te(s)}function ve(){n.discount_total_percent>0&&(n.discount_total_amount=0)}function he(){n.discount_total_amount>0&&(n.discount_total_percent=0)}async function Ye(){const s=n.items.filter(o=>o.selected);if(s.length===0){v.fire("Peringatan","Pilih minimal 1 item untuk dibuat contra bon","warning");return}const t=s[0];let a=(t==null?void 0:t.source_type)||null,c=(t==null?void 0:t.po_id)||null,r=(t==null?void 0:t.gr_id)||null,d=(t==null?void 0:t.source_id)||null;if(!a&&b.value.length>0){const o=b.value[0];a=(o==null?void 0:o.type)||null,(o==null?void 0:o.type)==="purchase_order"?(c=(o==null?void 0:o.po_id)||null,r=(o==null?void 0:o.gr_id)||null):d=(o==null?void 0:o.source_id)||null}a||(a="purchase_order"),console.log("Contra Bon Submit - Source Detection:",{firstItem:t,itemSourceType:a,itemPoId:c,itemGrId:r,itemSourceId:d,selectedSources:b.value,selectedItemsCount:s.length}),v.fire({title:D.value?"Menyimpan Perubahan...":"Menyimpan Data...",allowOutsideClick:!1,showConfirmButton:!1,didOpen:()=>v.showLoading()});const B=(o,l,g,m,y)=>{l==="purchase_order"?(o.append("po_id",g||""),o.append("gr_id",m||""),o.append("source_type","purchase_order"),o.append("source_id",g&&m?`${g}-${m}`:"")):l==="retail_food"?(o.append("po_id",""),o.append("gr_id",""),o.append("source_type","retail_food"),o.append("source_id",y||"")):l==="warehouse_retail_food"?(o.append("po_id",""),o.append("gr_id",""),o.append("source_type","warehouse_retail_food"),o.append("source_id",y||"")):l==="retail_non_food"&&(o.append("po_id",""),o.append("gr_id",""),o.append("source_type","retail_non_food"),o.append("source_id",y||""))},x=(o,l,g,m)=>{o==="purchase_order"?(n.po_id=l||"",n.gr_id=g||"",n.source_type="purchase_order",n.source_id=l&&g?`${l}-${g}`:""):o==="retail_food"?(n.po_id="",n.gr_id="",n.source_type="retail_food",n.source_id=m||""):o==="warehouse_retail_food"?(n.po_id="",n.gr_id="",n.source_type="warehouse_retail_food",n.source_id=m||""):o==="retail_non_food"&&(n.po_id="",n.gr_id="",n.source_type="retail_non_food",n.source_id=m||"")};if(ae.value){const o=new FormData;if(o.append("date",n.date),console.log("Setting FormData source info (with file):",{itemSourceType:a,itemPoId:c,itemGrId:r,itemSourceId:d,firstItem:t,selectedSources:b.value}),(!a||a==="purchase_order")&&b.value.length>0){const l=b.value[0];l!=null&&l.type&&l.type!=="purchase_order"&&(a=l.type,l.type!=="purchase_order"&&(d=l.source_id||d))}if(B(o,a,c,r,d),console.log("FormData source_type set to:",a),b.value.length>0)b.value.forEach((l,g)=>{o.append(`sources[${g}][source_type]`,l.type);let m=l.source_id;l.type==="purchase_order"?m=l.po_id||"":m=l.source_id||"",m==null&&(m=""),o.append(`sources[${g}][source_id]`,m),l.type==="purchase_order"?(o.append(`sources[${g}][po_id]`,l.po_id||""),o.append(`sources[${g}][gr_id]`,l.gr_id||"")):(o.append(`sources[${g}][po_id]`,""),o.append(`sources[${g}][gr_id]`,""))});else{o.append("sources[0][source_type]",a);let l="";a==="purchase_order"?l=c||"":l=d||"",o.append("sources[0][source_id]",l),a==="purchase_order"?(o.append("sources[0][po_id]",c||""),o.append("sources[0][gr_id]",r||"")):(o.append("sources[0][po_id]",""),o.append("sources[0][gr_id]",""))}o.append("notes",n.notes),o.append("supplier_invoice_number",n.supplier_invoice_number),o.append("discount_total_percent",n.discount_total_percent||0),o.append("discount_total_amount",n.discount_total_amount||0),o.append("image",ae.value),s.forEach((l,g)=>{(a==="retail_non_food"||a==="retail_food"||a==="warehouse_retail_food")&&((!l.unit_name||l.unit_name===""||l.unit_name===null||l.unit_name===void 0)&&(l.unit_name=l.unit||"-"),(!l.item_name||l.item_name===""||l.item_name===null||l.item_name===void 0)&&(l.item_name="-")),Object.keys(l).forEach(m=>{if(m!=="selected"&&m!=="_rowKey"){let y=l[m];y==null&&(y=""),o.append(`items[${g}][${m}]`,y)}})});try{const l=D.value?`/contra-bons/${i.contraBon.id}`:"/contra-bons",g=(D.value,"post"),m={headers:{"Content-Type":"multipart/form-data",Accept:"application/json","X-Requested-With":"XMLHttpRequest"}};let y;if(D.value?(o.append("_method","PUT"),y=await N.post(l,o,m)):y=await N.post(l,o,m),y.status===200||y.status===201){if(y.data&&y.data.success===!1)throw new Error(y.data.message||"Gagal menyimpan data");await v.close(),y.data&&y.data.success===!0?(await v.fire("Berhasil",y.data.message||"Data berhasil disimpan","success"),X.visit("/contra-bons")):(await v.fire("Berhasil","Data berhasil disimpan","success"),X.visit("/contra-bons"))}else throw new Error("Unexpected response status: "+y.status)}catch(l){console.error("Error saving contra bon:",l),await v.close();let g="Terjadi kesalahan saat menyimpan data";if(l.response){if(l.response.data)if(l.response.data.message)g=l.response.data.message;else if(l.response.data.errors){const m=l.response.data.errors;g=Object.keys(m).map(q=>Array.isArray(m[q])?m[q].join(", "):m[q]).join(`
`),n.setError(m)}else l.response.data.error?g=l.response.data.error:typeof l.response.data=="string"&&(g=l.response.data);l.response.status===422?g="Validasi gagal: "+g:l.response.status===500&&(g="Server error: "+g)}else l.request?g="Tidak ada response dari server. Pastikan koneksi internet Anda stabil.":g=l.message||g;await v.fire({icon:"error",title:"Gagal Menyimpan",text:g,confirmButtonText:"OK"})}return}if(x(a,c,r,d),console.log("Contra Bon Submit - After setFormSourceInfo:",{formSourceType:n.source_type,formPoId:n.po_id,formGrId:n.gr_id,formSourceId:n.source_id,itemSourceType:a,expectedSourceType:a}),n.source_type!==a&&(console.warn("Contra Bon Submit - source_type mismatch! Setting manually...",{formSourceType:n.source_type,itemSourceType:a}),n.source_type=a,a==="purchase_order"?(n.po_id=c||"",n.gr_id=r||""):(n.po_id="",n.gr_id="",n.source_id=d||"")),b.value.length>0)n.sources=b.value.map(o=>{let l=null;return o.type==="purchase_order"?l=o.po_id||null:l=o.source_id||null,{source_type:o.type,source_id:l,po_id:o.type==="purchase_order"?o.po_id:null,gr_id:o.type==="purchase_order"?o.gr_id:null}});else{let o=null;a==="purchase_order"?o=c||null:o=d||null,n.sources=[{source_type:a,source_id:o,po_id:a==="purchase_order"?c:null,gr_id:a==="purchase_order"?r:null}]}const k=s.map(o=>{const{selected:l,_rowKey:g,...m}=o;return(a==="retail_non_food"||a==="retail_food"||a==="warehouse_retail_food")&&(!m.unit_name||m.unit_name===""||m.unit_name===null||m.unit_name===void 0)&&(m.unit_name=m.unit||o.unit||"-"),(!m.item_name||m.item_name===""||m.item_name===null||m.item_name===void 0)&&(m.item_name=o.item_name||"-"),m});n.items=k,n.source_type=a,a==="purchase_order"?(n.po_id=c||"",n.gr_id=r||""):(n.po_id="",n.gr_id="",n.source_id=d||""),console.log("Contra Bon Submit - Final check before submit:",{formSourceType:n.source_type,formPoId:n.po_id,formGrId:n.gr_id,formSourceId:n.source_id,itemSourceType:a,sources:n.sources}),D.value?n.put(route("contra-bons.update",i.contraBon.id),{onSuccess:async()=>{await v.close(),await v.fire("Berhasil","Data berhasil disimpan","success"),X.visit("/contra-bons")},onError:async o=>{console.error("Error saving contra bon:",o),await v.close();let l="Terjadi kesalahan saat menyimpan data";o&&(l=Object.keys(o).map(m=>{const y=o[m];return Array.isArray(y)?y.join(", "):y}).join(`
`)),await v.fire({icon:"error",title:"Gagal Menyimpan",text:l,confirmButtonText:"OK"})}}):n.post("/contra-bons",{onSuccess:async()=>{await v.close(),await v.fire("Berhasil","Data berhasil disimpan","success"),X.visit("/contra-bons")},onError:async o=>{console.error("Error saving contra bon:",o),await v.close();let l="Terjadi kesalahan saat menyimpan data";o&&(l=Object.keys(o).map(m=>{const y=o[m];return Array.isArray(y)?y.join(", "):y}).join(`
`)),await v.fire({icon:"error",title:"Gagal Menyimpan",text:l,confirmButtonText:"OK"})}})}function ke(){X.visit("/contra-bons")}function Ze(s){const t=s.target.checked;n.items.forEach(a=>{a.selected=t})}function et(s){var t;if(s.item_name)return s.item_name;if((t=s.item)!=null&&t.name)return s.item.name;if(s.source_type==="purchase_order"&&s.gr_item_id){const a=b.value.find(c=>c.type==="purchase_order"&&c.po_id===s.po_id&&c.gr_id===s.gr_id);if(a&&a.data&&a.data.items){const c=a.data.items.find(r=>r.id===s.gr_item_id||r.id===s.gr_item_id);if(c&&c.item_name)return s.item_name=c.item_name,c.item_name}}return"-"}function tt(s){var t;if(s.unit_name)return s.unit_name;if((t=s.unit)!=null&&t.name)return s.unit.name;if(s.source_type==="purchase_order"&&s.gr_item_id){const a=b.value.find(c=>c.type==="purchase_order"&&c.po_id===s.po_id&&c.gr_id===s.gr_id);if(a&&a.data&&a.data.items){const c=a.data.items.find(r=>r.id===s.gr_item_id||r.id===s.gr_item_id);if(c&&c.unit_name)return s.unit_name=c.unit_name,c.unit_name}}return"-"}return(s,t)=>(u(),ot(rt,null,{default:nt(()=>[e("div",ut,[e("div",dt,[e("div",pt,[e("button",{onClick:ke,class:"text-blue-500 hover:underline"},t[14]||(t[14]=[e("i",{class:"fa fa-arrow-left"},null,-1),f(" Kembali")])),e("h1",ct,[t[15]||(t[15]=e("i",{class:"fa-solid fa-file-circle-xmark text-blue-500"},null,-1)),f(" "+_(D.value?"Edit":"Tambah")+" Contra Bon ",1)])]),e("div",mt,[t[17]||(t[17]=e("p",{class:"text-xs text-gray-600 mb-1"},[e("span",{class:"text-red-600 font-semibold"},"Klik disini untuk tutorial")],-1)),e("button",{type:"button",onClick:t[0]||(t[0]=a=>U.value=!0),class:"inline-flex items-center px-4 py-2 border-2 border-red-500 text-sm font-semibold rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-md transition-all duration-200 hover:shadow-lg"},t[16]||(t[16]=[e("i",{class:"fa fa-question-circle mr-2 text-lg"},null,-1),f(" Cara Menggunakan Contra Bon ")]))])]),e("form",{onSubmit:De(Ye,["prevent"]),class:"space-y-6"},[e("div",_t,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal",-1)),C(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=a=>F(n).date=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[P,F(n).date]]),F(n).errors.date?(u(),p("div",ft,_(F(n).errors.date),1)):R("",!0)])]),e("div",{class:"mb-6"},[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Tambah Sumber Data",-1)),e("div",{class:"flex flex-wrap gap-3"},[e("button",{type:"button",onClick:Ae,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 flex items-center gap-2"},t[19]||(t[19]=[e("i",{class:"fa fa-plus"},null,-1),e("span",null,"Tambah PO/GR",-1)])),e("button",{type:"button",onClick:Ke,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 flex items-center gap-2"},t[20]||(t[20]=[e("i",{class:"fa fa-plus"},null,-1),e("span",null,"Tambah Retail Food",-1)])),e("button",{type:"button",onClick:Ve,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 flex items-center gap-2"},t[21]||(t[21]=[e("i",{class:"fa fa-plus"},null,-1),e("span",null,"Tambah Warehouse Retail Food",-1)])),e("button",{type:"button",onClick:Ee,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 flex items-center gap-2"},t[22]||(t[22]=[e("i",{class:"fa fa-plus"},null,-1),e("span",null,"Tambah Retail Non Food",-1)]))])]),b.value.length>0?(u(),p("div",gt,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sumber Data yang Dipilih",-1)),e("div",bt,[(u(!0),p(I,null,W(b.value,a=>(u(),p("div",{key:a.key,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"},[e("div",yt,[a.type==="purchase_order"?(u(),p("span",xt,t[24]||(t[24]=[e("i",{class:"fa fa-file-invoice"},null,-1)]))):a.type==="retail_food"?(u(),p("span",vt,t[25]||(t[25]=[e("i",{class:"fa fa-shopping-cart"},null,-1)]))):a.type==="warehouse_retail_food"?(u(),p("span",ht,t[26]||(t[26]=[e("i",{class:"fa fa-warehouse"},null,-1)]))):a.type==="retail_non_food"?(u(),p("span",kt,t[27]||(t[27]=[e("i",{class:"fa fa-shopping-bag"},null,-1)]))):R("",!0),e("span",wt,_(a.display),1)]),e("button",{type:"button",onClick:c=>Qe(a.key),class:"text-red-500 hover:text-red-700 px-2 py-1 rounded hover:bg-red-50",title:"Hapus source dan semua item-nya"},t[28]||(t[28]=[e("i",{class:"fa fa-times"},null,-1)]),8,Bt)]))),128))])])):R("",!0),h.value?(u(),p("div",Ft,[t[39]||(t[39]=e("h3",{class:"font-bold mb-2"},"Info Supplier",-1)),e("div",null,[t[30]||(t[30]=e("b",null,"Nama:",-1)),f(" "+_(h.value.name),1)]),e("div",null,[t[31]||(t[31]=e("b",null,"PIC:",-1)),f(" "+_(h.value.contact_person),1)]),e("div",null,[t[32]||(t[32]=e("b",null,"No. Telp:",-1)),f(" "+_(h.value.phone),1)]),e("div",null,[t[33]||(t[33]=e("b",null,"Email:",-1)),f(" "+_(h.value.email),1)]),e("div",null,[t[34]||(t[34]=e("b",null,"Alamat:",-1)),f(" "+_(h.value.address),1)]),e("div",null,[t[35]||(t[35]=e("b",null,"Kota:",-1)),f(" "+_(h.value.city),1)]),e("div",null,[t[36]||(t[36]=e("b",null,"Provinsi:",-1)),f(" "+_(h.value.province),1)]),e("div",null,[t[37]||(t[37]=e("b",null,"Kode Pos:",-1)),f(" "+_(h.value.postal_code),1)]),e("div",null,[t[38]||(t[38]=e("b",null,"NPWP:",-1)),f(" "+_(h.value.npwp),1)])])):R("",!0),e("div",Rt,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700"},"Upload Scan/Foto Contra Bon Fisik",-1)),e("input",{type:"file",accept:"image/*",onChange:Je,class:"mt-1 block"},null,32),z.value?(u(),p("div",Ct,[e("img",{src:z.value,alt:"Preview",class:"max-w-xs rounded shadow"},null,8,St)])):R("",!0)]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700"},"No Invoice Supplier",-1)),C(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>F(n).supplier_invoice_number=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"No Invoice dari Supplier"},null,512),[[P,F(n).supplier_invoice_number]]),F(n).errors.supplier_invoice_number?(u(),p("div",$t,_(F(n).errors.supplier_invoice_number),1)):R("",!0)]),e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Detail Item",-1)),e("div",Pt,[oe.value&&!D.value?(u(),p("div",It,t[42]||(t[42]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("span",{class:"ml-2 text-gray-600"},"Memuat data...",-1)]))):(u(),p("table",Mt,[e("thead",Nt,[e("tr",null,[e("th",Dt,[e("input",{type:"checkbox",checked:F(n).items.length>0&&F(n).items.every(a=>a.selected),onChange:Ze,class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,Tt)]),t[43]||(t[43]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Source",-1)),t[44]||(t[44]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Item",-1)),t[45]||(t[45]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Qty",-1)),t[46]||(t[46]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Unit",-1)),t[47]||(t[47]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Price",-1)),t[48]||(t[48]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Diskon Item",-1)),t[49]||(t[49]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Total",-1)),t[50]||(t[50]=e("th",{class:"px-3 py-2 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Notes",-1))])]),e("tbody",null,[F(n).items.length===0?(u(),p("tr",Ot,t[51]||(t[51]=[e("td",{colspan:"9",class:"px-3 py-4"},"Tidak ada data item",-1)]))):R("",!0),(u(!0),p(I,null,W(F(n).items,(a,c)=>(u(),p("tr",{key:a._rowKey||c,class:lt({"bg-gray-50":!a.selected})},[e("td",jt,[C(e("input",{type:"checkbox","onUpdate:modelValue":r=>a.selected=r,class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,8,Lt),[[it,a.selected]])]),e("td",At,[a.source_type==="purchase_order"?(u(),p("span",Gt,[t[52]||(t[52]=e("i",{class:"fa fa-file-invoice mr-1"},null,-1)),f(" "+_(a.source_display||"PO/GR"),1)])):a.source_type==="retail_food"?(u(),p("span",Kt,[t[53]||(t[53]=e("i",{class:"fa fa-shopping-cart mr-1"},null,-1)),f(" "+_(a.source_display||"Retail Food"),1)])):a.source_type==="warehouse_retail_food"?(u(),p("span",Vt,[t[54]||(t[54]=e("i",{class:"fa fa-warehouse mr-1"},null,-1)),f(" "+_(a.source_display||"Warehouse RF"),1)])):a.source_type==="retail_non_food"?(u(),p("span",Et,[t[55]||(t[55]=e("i",{class:"fa fa-shopping-bag mr-1"},null,-1)),f(" "+_(a.source_display||"Retail Non Food"),1)])):(u(),p("span",Ut,"-"))]),e("td",qt,[a.item_name&&a.item_name!=="-"&&a.item_name!==""?(u(),p(I,{key:0},[f(_(a.item_name),1)],64)):a.item&&a.item.name?(u(),p(I,{key:1},[f(_(a.item.name),1)],64)):(u(),p(I,{key:2},[f(_(et(a)),1)],64))]),e("td",Wt,_(a.quantity),1),e("td",Ht,[a.unit_name&&a.unit_name!=="-"&&a.unit_name!==""?(u(),p(I,{key:0},[f(_(a.unit_name),1)],64)):a.unit&&a.unit.name?(u(),p(I,{key:1},[f(_(a.unit.name),1)],64)):(u(),p(I,{key:2},[f(_(tt(a)),1)],64))]),e("td",zt,[C(e("input",{type:"number","onUpdate:modelValue":r=>a.price=r,onInput:r=>te(a),onBlur:r=>te(a),step:"0.01",min:"0",class:"w-full px-2 py-1 rounded border-gray-300 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"},null,40,Qt),[[P,a.price,void 0,{number:!0}]])]),e("td",Jt,[e("div",Xt,[e("div",null,[t[56]||(t[56]=e("label",{class:"block text-[10px] text-gray-600 font-medium mb-0.5"},"Diskon %",-1)),C(e("input",{type:"number","onUpdate:modelValue":r=>a.discount_percent=r,onInput:r=>ye(a),onBlur:r=>ye(a),step:"0.01",min:"0",max:"100",class:"w-full px-2 py-1 rounded border-gray-300 text-xs focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},null,40,Yt),[[P,a.discount_percent,void 0,{number:!0}]])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-[10px] text-gray-600 font-medium mb-0.5"},"Diskon Rp",-1)),C(e("input",{type:"number","onUpdate:modelValue":r=>a.discount_amount=r,onInput:r=>xe(a),onBlur:r=>xe(a),step:"0.01",min:"0",class:"w-full px-2 py-1 rounded border-gray-300 text-xs focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},null,40,Zt),[[P,a.discount_amount,void 0,{number:!0}]])])])]),e("td",ea,_(Q(fe(a))),1),e("td",ta,[C(e("input",{type:"text","onUpdate:modelValue":r=>a.notes=r,class:"w-full rounded border-gray-300"},null,8,aa),[[P,a.notes]])])],2))),128))]),e("tfoot",sa,[e("tr",null,[t[58]||(t[58]=e("td",{colspan:"6",class:"px-3 py-3 text-right font-bold text-gray-700"}," Subtotal: ",-1)),e("td",oa,_(Q(_e.value)),1),t[59]||(t[59]=e("td",{colspan:"2",class:"px-3 py-3"},null,-1))]),e("tr",null,[t[62]||(t[62]=e("td",{colspan:"4",class:"px-3 py-3 text-right font-medium text-gray-700"}," Discount Total: ",-1)),e("td",na,[e("div",null,[t[60]||(t[60]=e("label",{class:"block text-xs text-gray-600 font-medium mb-1"},"Diskon %",-1)),C(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=a=>F(n).discount_total_percent=a),onInput:ve,onBlur:ve,step:"0.01",min:"0",max:"100",class:"w-full px-2 py-1 rounded border-gray-300 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},null,544),[[P,F(n).discount_total_percent,void 0,{number:!0}]])])]),e("td",la,[e("div",null,[t[61]||(t[61]=e("label",{class:"block text-xs text-gray-600 font-medium mb-1"},"Diskon Rp",-1)),C(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=a=>F(n).discount_total_amount=a),onInput:he,onBlur:he,step:"0.01",min:"0",class:"w-full px-2 py-1 rounded border-gray-300 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"0"},null,544),[[P,F(n).discount_total_amount,void 0,{number:!0}]])])]),e("td",ia,_(Q(_e.value-be.value)),1),t[63]||(t[63]=e("td",{colspan:"2",class:"px-3 py-3"},null,-1))]),e("tr",null,[t[64]||(t[64]=e("td",{colspan:"6",class:"px-3 py-3 text-right font-bold text-gray-700"}," Total: ",-1)),e("td",ra,_(Q(be.value)),1),t[65]||(t[65]=e("td",{colspan:"2",class:"px-3 py-3"},null,-1))])])]))])]),e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),C(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=a=>F(n).notes=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[P,F(n).notes]]),F(n).errors.notes?(u(),p("div",ua,_(F(n).errors.notes),1)):R("",!0)]),e("div",da,[e("button",{type:"button",onClick:ke,class:"px-4 py-2 rounded bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300"},"Batal"),e("button",{type:"submit",disabled:F(n).processing,class:"px-4 py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50"},_(D.value?"Simpan Perubahan":"Simpan"),9,pa)])],32)]),ne.value?(u(),p("div",ca,[e("div",ma,[e("div",_a,[e("div",{class:"flex justify-between items-center"},[t[69]||(t[69]=e("h3",{class:"text-lg font-semibold"},"Pilih Purchase Order",-1)),e("button",{onClick:de,class:"text-gray-500 hover:text-gray-700"},t[68]||(t[68]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",fa,[C(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>T.value=a),onInput:Oe,type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Cari PO, GR, Supplier, atau Outlet..."},null,544),[[P,T.value]])])]),e("div",ga,[S.value?(u(),p("div",ba,t[70]||(t[70]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Memuat data...",-1)]))):ee.value.length===0?(u(),p("div",ya," Tidak ada data yang ditemukan ")):(u(),p("div",xa,[(u(!0),p(I,null,W(ee.value,a=>(u(),p("div",{key:a.po_id+"-"+a.gr_id,onClick:c=>We(a),class:"p-4 cursor-pointer hover:bg-blue-50 transition-colors"},[e("div",ha,[a.source_type_display==="PR Foods"?(u(),p("span",ka,"ðŸ”µ")):a.source_type_display==="RO Supplier"?(u(),p("span",wa,"ðŸŸ¢")):(u(),p("span",Ba,"âšª")),e("div",Fa,[e("div",Ra,_(a.po_number)+" - "+_(a.gr_number),1),e("div",Ca,_(a.supplier_name),1),a.outlet_names&&a.outlet_names.length>0?(u(),p("div",Sa,[t[71]||(t[71]=e("i",{class:"fa fa-map-marker-alt"},null,-1)),f(" "+_(a.outlet_names.join(", ")),1)])):R("",!0)]),e("div",$a,[e("div",Pa,_(a.source_type_display),1),e("div",Ia,_(a.po_date),1)])])],8,va))),128))])),!S.value&&M.value.current_page<M.value.last_page?(u(),p("div",Ma,[e("button",{onClick:Ge,disabled:Y.value,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[Y.value?(u(),p("span",Da,t[72]||(t[72]=[e("i",{class:"fa fa-spinner fa-spin mr-2"},null,-1),f("Memuat... ")]))):(u(),p("span",Ta," Muat Lebih Banyak ("+_(M.value.current_page)+" / "+_(M.value.last_page)+") ",1))],8,Na),e("p",Oa,[f(" Menampilkan "+_(M.value.from)+"-"+_(M.value.to)+" dari "+_(M.value.total)+" data ",1),T.value.trim()?(u(),p("span",ja,"(hasil pencarian)")):R("",!0)])])):R("",!0)])])])):R("",!0),le.value?(u(),p("div",La,[e("div",Aa,[e("div",Ga,[e("div",{class:"flex justify-between items-center"},[t[74]||(t[74]=e("h3",{class:"text-lg font-semibold"},"Pilih Retail Food",-1)),e("button",{onClick:pe,class:"text-gray-500 hover:text-gray-700"},t[73]||(t[73]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Ka,[C(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>V.value=a),onInput:je,type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Cari Retail Food, Supplier, atau Outlet..."},null,544),[[P,V.value]])])]),e("div",Va,[S.value?(u(),p("div",Ea,t[75]||(t[75]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Memuat data...",-1)]))):L.value.length===0?(u(),p("div",Ua," Tidak ada data yang ditemukan ")):(u(),p("div",qa,[(u(!0),p(I,null,W(L.value,a=>(u(),p("div",{key:a.retail_food_id,onClick:c=>He(a),class:"p-4 cursor-pointer hover:bg-purple-50 transition-colors"},[e("div",Ha,[t[78]||(t[78]=e("span",{class:"text-purple-500 text-xl"},"ðŸŸ£",-1)),e("div",za,[e("div",Qa,_(a.retail_number),1),e("div",Ja,_(a.supplier_name),1),a.outlet_name||a.warehouse_outlet_name?(u(),p("div",Xa,[t[76]||(t[76]=e("i",{class:"fa fa-map-marker-alt"},null,-1)),f(" "+_(a.outlet_name||a.warehouse_outlet_name),1)])):R("",!0)]),e("div",Ya,[t[77]||(t[77]=e("div",{class:"text-sm text-gray-500"},"Retail Food",-1)),e("div",Za,_(a.transaction_date),1)])])],8,Wa))),128))]))])])])):R("",!0),se.value?(u(),p("div",es,[e("div",ts,[e("div",as,[e("div",{class:"flex justify-between items-center"},[t[80]||(t[80]=e("h3",{class:"text-lg font-semibold"},"Pilih Retail Non Food",-1)),e("button",{onClick:me,class:"text-gray-500 hover:text-gray-700"},t[79]||(t[79]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",ss,[C(e("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>G.value=a),onInput:Ue,type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Cari Retail Non Food, Supplier, atau Outlet..."},null,544),[[P,G.value]])])]),e("div",os,[K.value.length===0?(u(),p("div",ns," Tidak ada data yang ditemukan ")):(u(),p("div",ls,[(u(!0),p(I,null,W(K.value,a=>(u(),p("div",{key:a.id,onClick:c=>qe(a),class:"p-4 cursor-pointer hover:bg-green-50 transition-colors"},[e("div",rs,[t[82]||(t[82]=e("span",{class:"text-green-500 text-xl"},"ðŸŸ¢",-1)),e("div",us,[e("div",ds,_(a.retail_number),1),e("div",ps,_(a.supplier_name),1),a.outlet_name?(u(),p("div",cs,[t[81]||(t[81]=e("i",{class:"fa fa-map-marker-alt"},null,-1)),f(" "+_(a.outlet_name),1)])):R("",!0),e("div",ms,_(Xe(a.transaction_date))+" - "+_(Q(a.total_amount)),1)]),t[83]||(t[83]=e("div",{class:"text-right"},[e("div",{class:"text-sm text-gray-500"},"Retail Non Food")],-1))])],8,is))),128))]))])])])):R("",!0),ie.value?(u(),p("div",_s,[e("div",fs,[e("div",gs,[e("div",{class:"flex justify-between items-center"},[t[85]||(t[85]=e("h3",{class:"text-lg font-semibold"},"Pilih Warehouse Retail Food",-1)),e("button",{onClick:ce,class:"text-gray-500 hover:text-gray-700"},t[84]||(t[84]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",bs,[C(e("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>E.value=a),onInput:Le,type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Cari Warehouse Retail Food, Supplier, atau Warehouse..."},null,544),[[P,E.value]])])]),e("div",ys,[S.value?(u(),p("div",xs,t[86]||(t[86]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Memuat data...",-1)]))):A.value.length===0?(u(),p("div",vs," Tidak ada data yang ditemukan ")):(u(),p("div",hs,[(u(!0),p(I,null,W(A.value,a=>(u(),p("div",{key:a.retail_warehouse_food_id,onClick:c=>ze(a),class:"p-4 cursor-pointer hover:bg-indigo-50 transition-colors"},[e("div",ws,[t[89]||(t[89]=e("span",{class:"text-indigo-500 text-xl"},"ðŸŸ¦",-1)),e("div",Bs,[e("div",Fs,_(a.retail_number),1),e("div",Rs,_(a.supplier_name),1),a.warehouse_name||a.warehouse_division_name?(u(),p("div",Cs,[t[87]||(t[87]=e("i",{class:"fa fa-map-marker-alt"},null,-1)),f(" "+_(a.warehouse_name||"")+_(a.warehouse_name&&a.warehouse_division_name?" - ":"")+_(a.warehouse_division_name||""),1)])):R("",!0)]),e("div",Ss,[t[88]||(t[88]=e("div",{class:"text-sm text-gray-500"},"Warehouse Retail Food",-1)),e("div",$s,_(a.transaction_date),1)])])],8,ks))),128))]))])])])):R("",!0),U.value?(u(),p("div",{key:4,class:"fixed inset-0 z-50 overflow-y-auto",onClick:t[13]||(t[13]=De(a=>U.value=!1,["self"]))},[e("div",Ps,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t[10]||(t[10]=a=>U.value=!1)}),e("div",Is,[e("div",Ms,[t[91]||(t[91]=e("h3",{class:"text-lg font-semibold text-white"},[e("i",{class:"fa fa-graduation-cap mr-2"}),f(" Tutorial: Panduan Contra Bon ")],-1)),e("button",{onClick:t[11]||(t[11]=a=>U.value=!1),class:"text-white hover:text-gray-200 focus:outline-none"},t[90]||(t[90]=[e("i",{class:"fa fa-times text-xl"},null,-1)]))]),t[92]||(t[92]=e("div",{class:"px-6 py-6 max-h-[70vh] overflow-y-auto"},[e("div",{class:"space-y-6"},[e("div",{class:"bg-green-50 border-l-4 border-green-500 p-4 rounded"},[e("h4",{class:"font-semibold text-green-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),f(" Apa itu Contra Bon? ")]),e("p",{class:"text-sm text-green-700"}," Contra Bon adalah dokumen yang digunakan untuk mencatat pengembalian barang atau koreksi terhadap transaksi pembelian sebelumnya. Fitur ini memungkinkan Anda untuk membuat contra bon dari berbagai sumber data, seperti Purchase Order (PO), Good Receipt (GR), Retail Food, dan Warehouse Retail Food. ")]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 1 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Informasi Dasar"),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Tanggal:"),f(" Pilih tanggal contra bon (wajib)")]),e("li",null,[e("strong",null,"Supplier Invoice Number:"),f(" Masukkan nomor invoice dari supplier (opsional)")]),e("li",null,[e("strong",null,"Notes:"),f(" Tambahkan catatan jika diperlukan (opsional)")])])])])]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 2 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Sumber Data"),e("p",{class:"text-sm text-gray-700 mb-2"}," Klik salah satu tombol untuk menambahkan sumber data: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Tambah PO/GR:"),f(" Untuk menambahkan data dari Purchase Order dan Good Receipt")]),e("li",null,[e("strong",null,"Tambah Retail Food:"),f(" Untuk menambahkan data dari Retail Food")]),e("li",null,[e("strong",null,"Tambah Warehouse Retail Food:"),f(" Untuk menambahkan data dari Warehouse Retail Food")])]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200 mt-2"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),f(" Anda bisa menambahkan beberapa sumber data sekaligus dalam satu contra bon. ")])])])])]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 3 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Pilih Item dari Modal"),e("p",{class:"text-sm text-gray-700 mb-2"}," Setelah membuka modal sumber data: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Gunakan kotak pencarian untuk mencari data yang diinginkan"),e("li",null,"Klik pada item yang ingin ditambahkan"),e("li",null,"Item akan otomatis ditambahkan ke form contra bon")])])])]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 4 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Pilih Item yang Akan Dikembalikan"),e("p",{class:"text-sm text-gray-700 mb-2"}," Di tabel item, centang checkbox pada item yang ingin dikembalikan: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Gunakan checkbox di header untuk memilih semua item sekaligus"),e("li",null,"Atau centang item secara individual"),e("li",null,"Hanya item yang dicentang yang akan disimpan ke contra bon")]),e("div",{class:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-amber-800"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),e("strong",null,"Penting:"),f(" Pastikan untuk memilih item yang benar sebelum menyimpan. ")])])])])]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 5 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Edit Item (Opsional)"),e("p",{class:"text-sm text-gray-700 mb-2"}," Anda bisa mengedit detail item sebelum menyimpan: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Quantity:"),f(" Sesuaikan jumlah item yang dikembalikan")]),e("li",null,[e("strong",null,"Price:"),f(" Sesuaikan harga jika diperlukan")]),e("li",null,[e("strong",null,"Notes:"),f(" Tambahkan catatan untuk item tertentu")])])])])]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 6 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Hapus Sumber Data (Opsional)"),e("p",{class:"text-sm text-gray-700 mb-2"}," Jika Anda ingin menghapus sumber data yang sudah ditambahkan: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[f("Klik tombol "),e("strong",null,'"Hapus"'),f(" pada card sumber data")]),e("li",null,"Semua item dari sumber data tersebut akan ikut terhapus")])])])]),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 7 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Simpan Contra Bon"),e("p",{class:"text-sm text-gray-700 mb-2"}," Setelah semua data diisi dengan benar: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[f("Klik tombol "),e("strong",null,'"Simpan"'),f(" di bagian bawah form")]),e("li",null,"Sistem akan memvalidasi data sebelum menyimpan"),e("li",null,"Jika berhasil, Anda akan diarahkan ke halaman daftar contra bon")]),e("div",{class:"bg-green-50 border-l-4 border-green-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-green-800"},[e("i",{class:"fa fa-check-circle mr-1"}),e("strong",null,"Info:"),f(" Pastikan minimal ada satu item yang dipilih sebelum menyimpan. ")])])])])]),e("div",{class:"border border-blue-200 rounded-lg p-4 bg-blue-50"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"},[e("i",{class:"fa fa-info-circle text-sm"})]),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-blue-900 mb-2"},[e("i",{class:"fa fa-money-bill-wave mr-2"}),f(" Informasi: Payment Type di Purchase Order ")]),e("p",{class:"text-sm text-blue-800 mb-2"}," PO yang digunakan sebagai sumber data contra bon mungkin memiliki metode pembayaran: "),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-2"},[e("div",{class:"bg-white p-3 rounded border border-blue-200"},[e("p",{class:"text-xs font-semibold text-green-800 mb-1"},[e("i",{class:"fa fa-check-circle mr-1"}),f(" Bayar Lunas: ")]),e("ul",{class:"text-xs text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Pembayaran penuh sekaligus"),e("li",null,"Hanya 1x payment di Non Food Payment")])]),e("div",{class:"bg-white p-3 rounded border border-blue-200"},[e("p",{class:"text-xs font-semibold text-blue-800 mb-1"},[e("i",{class:"fa fa-calendar-alt mr-1"}),f(" Termin Bayar: ")]),e("ul",{class:"text-xs text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Pembayaran bertahap"),e("li",null,"Multiple payments di Non Food Payment"),e("li",null,"Ada progress tracking pembayaran")])])]),e("div",{class:"bg-blue-100 border-l-4 border-blue-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-blue-800"},[e("i",{class:"fa fa-info-circle mr-1"}),e("strong",null,"Catatan:"),f(" Payment type ditentukan saat membuat PO di menu Purchase Order Ops. Informasi ini akan muncul di menu Non Food Payment saat membuat payment untuk PO tersebut. ")])])])])])])],-1)),e("div",Ns,[e("button",{onClick:t[12]||(t[12]=a=>U.value=!1),class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Tutup ")])])])])):R("",!0)]),_:1}))}};export{Us as default};
