import{r as c,w as F,A as w,B as n,C as P,D as e,E as p,G as C,H as L,I as V,J,L as l,F as $,M as A,N as r,l as v,W as b}from"./vendor-vue-g7iCcTkf.js";import{A as E}from"./AppLayout-zB0hvXOw.js";import H from"./Form-_3eddTQT.js";import"./vendor-utils-CpgP2uT4.js";import"./app-BgZdqVzD.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C4ea0y0B.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const M={class:"max-w-7xl w-full mx-auto py-8 px-2"},U={class:"flex items-center justify-between mb-4"},I={class:"flex gap-2"},O={class:"flex flex-wrap gap-2 mb-4"},W={class:"overflow-x-auto rounded shadow"},z={class:"min-w-full"},G={class:"px-3 py-2"},Y={class:"px-3 py-2"},j=["src"],q={class:"px-3 py-2 font-bold"},K={class:"px-3 py-2"},Q={class:"px-3 py-2"},R={class:"px-3 py-2"},X={class:"px-3 py-2 flex gap-2"},Z=["onClick"],ee=["onClick"],te=["onClick","title"],se={key:0},ae={class:"mt-4 flex justify-end"},oe={key:0,class:"inline-flex -space-x-px"},ne=["onClick"],be={__name:"Index",props:{vacancies:Object,filters:Object},setup(S){var y,_;const f=S,o=c(f.vacancies),u=c(((y=f.filters)==null?void 0:y.search)||""),d=c(((_=f.filters)==null?void 0:_.is_active)??""),x=c(!1),g=c(null);function i(a=1){b.get("/admin/job-vacancy",{search:u.value,is_active:d.value,page:a},{preserveState:!0,replace:!0})}F([u,d],()=>{i(1)});function m(a=null){g.value=a,x.value=!0}function B(){x.value=!1,g.value=null}function N(a){confirm("Yakin hapus lowongan ini?")&&b.delete(`/admin/job-vacancy/${a}`,{onSuccess:()=>i(o.value.current_page)})}function D(a){b.patch(`/admin/job-vacancy/${a.id}/set-active`,{is_active:a.is_active?0:1},{onSuccess:()=>i(o.value.current_page)})}function T(a){return a?`/storage/${a}`:""}return(a,s)=>(n(),w(E,{title:"Data Lowongan Pekerjaan"},{default:P(()=>[e("div",M,[e("div",U,[s[6]||(s[6]=e("h2",{class:"text-2xl font-bold flex items-center gap-2"},[e("i",{class:"fa-solid fa-briefcase"}),C(" Data Lowongan Pekerjaan ")],-1)),e("div",I,[s[5]||(s[5]=e("a",{href:"/job-vacancies",target:"_blank",class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded shadow hover:from-green-600 hover:to-green-800 transition flex items-center gap-2",title:"Lihat Halaman Landing"},[e("i",{class:"fa-solid fa-globe"}),C(" Lihat Landing Page ")],-1)),e("button",{onClick:s[0]||(s[0]=t=>m()),class:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition"},"+ Tambah Lowongan Baru")])]),e("div",O,[L(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>d.value=t),class:"rounded border px-2 py-1"},s[7]||(s[7]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"1"},"Aktif",-1),e("option",{value:"0"},"Nonaktif",-1)]),512),[[V,d.value]]),L(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>u.value=t),placeholder:"Cari Posisi, Lokasi, Deskripsi...",class:"rounded border px-2 py-1 w-64"},null,512),[[J,u.value]]),e("button",{onClick:s[3]||(s[3]=t=>i(1)),class:"bg-blue-500 text-white px-3 py-1 rounded"},"Cari")]),e("div",W,[e("table",z,[s[11]||(s[11]=e("thead",null,[e("tr",{class:"bg-blue-700 text-white"},[e("th",{class:"px-3 py-2"},"#"),e("th",{class:"px-3 py-2"},"Banner"),e("th",{class:"px-3 py-2"},"Posisi"),e("th",{class:"px-3 py-2"},"Lokasi"),e("th",{class:"px-3 py-2"},"Tgl Tutup"),e("th",{class:"px-3 py-2"},"Status"),e("th",{class:"px-3 py-2"},"Aksi")])],-1)),e("tbody",null,[(n(!0),l($,null,A(o.value.data,(t,h)=>(n(),l("tr",{key:t.id,class:"bg-white border-b last:border-b-0"},[e("td",G,r(h+1+(o.value.current_page-1)*o.value.per_page),1),e("td",Y,[t.banner?(n(),l("img",{key:0,src:T(t.banner),class:"w-16 h-10 object-cover rounded shadow"},null,8,j)):p("",!0)]),e("td",q,r(t.position),1),e("td",K,r(t.location),1),e("td",Q,r(t.closing_date),1),e("td",R,[e("span",{class:v(t.is_active?"text-green-700 font-bold":"text-gray-400")},r(t.is_active?"Aktif":"Nonaktif"),3)]),e("td",X,[e("button",{onClick:k=>m(t),class:"bg-yellow-400 text-white px-2 py-1 rounded",title:"Edit"},s[8]||(s[8]=[e("i",{class:"fa fa-pen"},null,-1)]),8,Z),e("button",{onClick:k=>N(t.id),class:"bg-red-500 text-white px-2 py-1 rounded",title:"Hapus"},s[9]||(s[9]=[e("i",{class:"fa fa-trash"},null,-1)]),8,ee),e("button",{onClick:k=>D(t),class:v([t.is_active?"bg-gray-400":"bg-green-600","text-white px-2 py-1 rounded"]),title:t.is_active?"Nonaktifkan":"Aktifkan"},[e("i",{class:v(t.is_active?"fa fa-eye-slash":"fa fa-eye")},null,2)],10,te)])]))),128)),o.value.data.length===0?(n(),l("tr",se,s[10]||(s[10]=[e("td",{colspan:"7",class:"text-center py-8 text-gray-400"},"Tidak ada data lowongan",-1)]))):p("",!0)])])]),e("div",ae,[o.value.last_page>1?(n(),l("nav",oe,[(n(!0),l($,null,A(o.value.last_page,t=>(n(),l("button",{key:t,onClick:h=>i(t),class:v(["px-3 py-1 border border-gray-300",t===o.value.current_page?"bg-blue-600 text-white":"bg-white text-blue-700 hover:bg-blue-50"])},r(t),11,ne))),128))])):p("",!0)]),x.value?(n(),w(H,{key:0,job:g.value,onClose:B,onSaved:s[4]||(s[4]=t=>i(o.value.current_page))},null,8,["job"])):p("",!0)])]),_:1}))}};export{be as default};
