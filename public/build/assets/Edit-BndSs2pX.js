import{r as g,a as z,c as q,A as V,B as n,C as f,D as e,x as v,Q as w,S as h,G as d,O as U,H as a,J as u,L as m,E as c,I as y,V as _,W as j}from"./vendor-vue-g7iCcTkf.js";import{A as B}from"./AppLayout-CLYhXf-W.js";import{S as r}from"./app-DdwtQE43.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./ProfileUpdateModal-CauiUg4O.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const M={class:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden"},S={class:"relative z-10 py-8 px-6"},Q={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl mb-8"},T={class:"p-8 bg-gradient-to-r from-blue-600/80 via-purple-600/80 to-pink-600/80 rounded-3xl"},A={class:"flex items-center justify-between"},C={class:"flex items-center space-x-4"},D={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},N={class:"mb-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O=["disabled"],W={class:"md:col-span-2"},L=["disabled"],P={class:"md:col-span-2"},G=["disabled"],K={class:"mb-6"},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},J={class:"relative"},H=["disabled"],R=["disabled"],X={key:0,class:"mt-2"},Y=["disabled"],Z={key:1,class:"mt-2"},$=["disabled"],ee=["disabled"],te=["disabled"],se={class:"flex items-center space-x-3"},le=["disabled"],ie={class:"flex items-center space-x-3"},oe=["disabled"],ae={class:"flex space-x-3 mt-6"},re=["disabled"],de={key:0,class:"flex items-center justify-center"},ue={key:1,class:"flex items-center justify-center"},ne={key:2,class:"absolute inset-0 bg-blue-600/20 backdrop-blur-sm"},pe={__name:"Edit",props:{quiz:Object},setup(b){const o=b,i=g(!1),s=g({title:"",description:"",instructions:"",time_limit_type:"",time_limit_minutes:"",time_per_question_seconds:"",passing_score:70,max_attempts:"",is_randomized:!1,show_results:!0,status:"draft"});z(()=>{s.value={title:o.quiz.title||"",description:o.quiz.description||"",instructions:o.quiz.instructions||"",time_limit_type:o.quiz.time_limit_type||"",time_limit_minutes:o.quiz.time_limit_minutes||"",time_per_question_seconds:o.quiz.time_per_question_seconds||"",passing_score:o.quiz.passing_score||70,max_attempts:o.quiz.max_attempts||"",is_randomized:o.quiz.is_randomized||!1,show_results:o.quiz.show_results!==void 0?o.quiz.show_results:!0,status:o.quiz.status||"draft"}});const x=q(()=>s.value.title.trim()&&s.value.passing_score>=0&&s.value.passing_score<=100&&s.value.status),k=async()=>{if(!x.value){r.fire({icon:"error",title:"Validasi Error",text:"Mohon lengkapi semua field yang wajib diisi!"});return}r.fire({title:"Sabar Bu Ghea....",text:"Antosan sakedap Bu Ghea, Nuju loding",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{r.showLoading()}}),i.value=!0;try{await j.put(route("lms.quizzes.update",o.quiz.id),s.value,{onSuccess:()=>{r.close(),r.fire({icon:"success",title:"Berhasil!",text:"Quiz berhasil diperbarui!"})},onError:p=>{r.close(),r.fire({icon:"error",title:"Error!",text:Object.values(p)[0]||"Terjadi kesalahan saat memperbarui quiz"})},onFinish:()=>{i.value=!1}})}catch{r.close(),i.value=!1,r.fire({icon:"error",title:"Error!",text:"Terjadi kesalahan saat memperbarui quiz"})}};return(p,t)=>(n(),V(B,null,{default:f(()=>[e("div",M,[t[33]||(t[33]=e("div",{class:"absolute inset-0 overflow-hidden"},[e("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),e("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),e("div",{class:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),e("div",S,[e("div",Q,[e("div",T,[e("div",A,[t[12]||(t[12]=e("div",{class:"space-y-4"},[e("h1",{class:"text-4xl font-bold text-white drop-shadow-lg"}," Edit Quiz "),e("p",{class:"text-xl text-white/90 drop-shadow-md"}," Perbarui informasi quiz ")],-1)),e("div",C,[v(w(h),{href:p.route("lms.quizzes.show",b.quiz.id),class:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg"},{default:f(()=>t[11]||(t[11]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),d(" Kembali ke Quiz ")])),_:1},8,["href"])])])])]),e("div",D,[e("form",{onSubmit:U(k,["prevent"]),class:"space-y-8"},[e("div",N,[t[16]||(t[16]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-info-circle mr-2 text-blue-400"}),d(" Informasi Dasar ")],-1)),e("div",I,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[d("Judul Quiz "),e("span",{class:"text-red-400"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.title=l),type:"text",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan judul quiz",disabled:i.value},null,8,O),[[u,s.value.title]])]),e("div",W,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Deskripsi",-1)),a(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.description=l),rows:"3",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deskripsi quiz (opsional)",disabled:i.value},null,8,L),[[u,s.value.description]])]),e("div",P,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Instruksi",-1)),a(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.instructions=l),rows:"3",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Instruksi untuk peserta quiz",disabled:i.value},null,8,G),[[u,s.value.instructions]])])])]),e("div",K,[t[29]||(t[29]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-cog mr-2 text-green-400"}),d(" Pengaturan Quiz ")],-1)),e("div",F,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[d("Nilai Minimum Lulus "),e("span",{class:"text-red-400"},"*")],-1)),e("div",J,[a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.passing_score=l),type:"number",min:"0",max:"100",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12",placeholder:"70",disabled:i.value},null,8,H),[[u,s.value.passing_score]]),t[17]||(t[17]=e("span",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60"},"%",-1))])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Batas Waktu",-1)),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.time_limit_type=l),class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-2 [&>option]:bg-slate-800 [&>option]:text-white",disabled:i.value},t[19]||(t[19]=[e("option",{value:""},"Tidak ada batas waktu",-1),e("option",{value:"total"},"Total waktu quiz",-1),e("option",{value:"per_question"},"Waktu per pertanyaan",-1)]),8,R),[[y,s.value.time_limit_type]]),s.value.time_limit_type==="total"?(n(),m("div",X,[a(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.time_limit_minutes=l),type:"number",min:"1",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"60",disabled:i.value},null,8,Y),[[u,s.value.time_limit_minutes]]),t[20]||(t[20]=e("p",{class:"text-xs text-gray-400 mt-1"},"Total waktu dalam menit",-1))])):c("",!0),s.value.time_limit_type==="per_question"?(n(),m("div",Z,[a(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.time_per_question_seconds=l),type:"number",min:"1",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"30",disabled:i.value},null,8,$),[[u,s.value.time_per_question_seconds]]),t[21]||(t[21]=e("p",{class:"text-xs text-gray-400 mt-1"},"Waktu per pertanyaan dalam detik",-1))])):c("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Maksimal Percobaan",-1)),a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.max_attempts=l),type:"number",min:"1",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"3",disabled:i.value},null,8,ee),[[u,s.value.max_attempts]]),t[24]||(t[24]=e("p",{class:"text-xs text-gray-400 mt-1"},"Kosongkan jika tidak terbatas",-1))]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Status",-1)),a(e("select",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.status=l),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent [&>option]:bg-slate-800 [&>option]:text-white",disabled:i.value},t[25]||(t[25]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"archived"},"Archived",-1)]),8,te),[[y,s.value.status]])]),e("div",se,[a(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>s.value.is_randomized=l),type:"checkbox",id:"is_randomized",class:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2",disabled:i.value},null,8,le),[[_,s.value.is_randomized]]),t[27]||(t[27]=e("label",{for:"is_randomized",class:"text-sm font-medium text-gray-300"}," Acak urutan pertanyaan ",-1))]),e("div",ie,[a(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>s.value.show_results=l),type:"checkbox",id:"show_results",class:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2",disabled:i.value},null,8,oe),[[_,s.value.show_results]]),t[28]||(t[28]=e("label",{for:"show_results",class:"text-sm font-medium text-gray-300"}," Tampilkan hasil setelah selesai ",-1))])])]),e("div",ae,[v(w(h),{href:p.route("lms.quizzes.show",b.quiz.id),class:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors duration-200 text-center",disabled:i.value},{default:f(()=>t[30]||(t[30]=[d(" Batal ")])),_:1},8,["href","disabled"]),e("button",{type:"submit",disabled:i.value||!x.value,class:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden"},[i.value?(n(),m("span",de,t[31]||(t[31]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),d(" Menyimpan... ")]))):(n(),m("span",ue,t[32]||(t[32]=[e("i",{class:"fas fa-save mr-2"},null,-1),d(" Update Quiz ")]))),i.value?(n(),m("div",ne)):c("",!0)],8,re)])],32)])])])]),_:1}))}},_e=E(pe,[["__scopeId","data-v-116e492c"]]);export{_e as default};
