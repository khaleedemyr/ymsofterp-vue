import{P as w,w as y,r as k,L as d,E as u,B as c,D as e,N as m,O as M,H as f,J as p,Q as o,I as S,G as B}from"./vendor-vue-g7iCcTkf.js";import{S as g}from"./app-DAB8i6cE.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const _={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},C={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 animate-fade-in"},V={class:"px-8 pt-8 pb-2"},j={class:"flex items-center gap-2 mb-6"},E={class:"text-2xl font-bold text-gray-900"},N={key:0,class:"text-xs text-red-500 mt-1"},T={key:0,class:"text-xs text-red-500 mt-1"},F={key:0,class:"text-xs text-red-500 mt-1"},z={class:"bg-gray-50 px-6 py-4 flex justify-end rounded-b-2xl"},D=["disabled"],H={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},I={__name:"UnitFormModal",props:{show:Boolean,mode:String,unit:Object},emits:["close","success"],setup(n,{emit:v}){const a=n,r=v,t=w({code:"",name:"",status:"active"});y(()=>a.show,b=>{b&&a.mode==="edit"&&a.unit?(t.code=a.unit.code,t.name=a.unit.name,t.status=a.unit.status):b&&a.mode==="create"&&(t.code="",t.name="",t.status="active")});const i=k(!1);async function x(){i.value=!0,a.mode==="create"?t.post(route("units.store"),{onSuccess:()=>{g.fire("Berhasil","Unit berhasil ditambahkan!","success"),r("success"),r("close")},onError:()=>i.value=!1,onFinish:()=>i.value=!1}):a.mode==="edit"&&a.unit&&(t._method="PUT",t.post(route("units.update",a.unit.id),{onSuccess:()=>{g.fire("Berhasil","Unit berhasil diupdate!","success"),r("success"),r("close")},onError:()=>i.value=!1,onFinish:()=>i.value=!1}))}function h(){r("close")}return(b,s)=>n.show?(c(),d("div",_,[e("div",C,[e("div",V,[e("div",j,[s[3]||(s[3]=e("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M16 7a4 4 0 01-8 0","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 3v4m0 0a4 4 0 01-4 4H4m8-4a4 4 0 014 4h4","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("h3",E,m(n.mode==="edit"?"Edit":"Tambah")+" Unit",1)]),e("form",{onSubmit:M(x,["prevent"]),class:"space-y-5"},[e("div",null,[s[4]||(s[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Kode",-1)),f(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o(t).code=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"50"},null,512),[[p,o(t).code]]),o(t).errors.code?(c(),d("div",N,m(o(t).errors.code),1)):u("",!0)]),e("div",null,[s[5]||(s[5]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nama",-1)),f(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o(t).name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[p,o(t).name]]),o(t).errors.name?(c(),d("div",T,m(o(t).errors.name),1)):u("",!0)]),e("div",null,[s[7]||(s[7]=e("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),f(e("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>o(t).status=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},s[6]||(s[6]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[S,o(t).status]]),o(t).errors.status?(c(),d("div",F,m(o(t).errors.status),1)):u("",!0)])],32)]),e("div",z,[e("button",{type:"button",onClick:h,class:"inline-flex items-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition sm:w-auto sm:text-sm mr-2"}," Batal "),e("button",{type:"button",onClick:x,disabled:i.value,class:"inline-flex items-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[i.value?(c(),d("svg",H,s[8]||(s[8]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),B(" "+m(i.value?n.mode==="edit"?"Menyimpan...":"Menambah...":n.mode==="edit"?"Simpan":"Tambah"),1)],8,D)])])])):u("",!0)}},J=U(I,[["__scopeId","data-v-0118739a"]]);export{J as default};
