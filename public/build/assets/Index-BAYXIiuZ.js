import{r as g,k as D,A as ge,B as o,C as G,D as e,L as i,E as u,H as f,J as y,I as R,G as r,F as V,M as F,N as l,l as q,O as K,W as j}from"./vendor-vue-g7iCcTkf.js";import{A as me}from"./AppLayout-DwCHohmp.js";import{a as S}from"./vendor-utils-CpgP2uT4.js";import{S as d}from"./app-BFfP2QJl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BgI6B89c.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const fe={class:"flex justify-between items-center"},be={class:"flex gap-2"},ce={class:"py-6"},pe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},xe={class:"p-4"},ve={class:"flex gap-4 items-end"},ye={class:"flex-1"},he={class:"w-32"},we={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ke={class:"overflow-x-auto"},_e={class:"min-w-full divide-y divide-gray-200"},Ce={class:"bg-white divide-y divide-gray-200"},je={class:"px-6 py-4 whitespace-nowrap"},Se={class:"flex items-center"},Be={class:"flex-shrink-0 h-10 w-10"},Me={class:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold"},Te={class:"ml-4"},Ae={class:"text-sm font-medium text-gray-900"},Pe={class:"text-sm text-gray-500"},$e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},De={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Fe={class:"flex gap-2"},Ke=["onClick"],Le=["onClick"],Ie=["onClick"],Je={key:0,class:"px-4 py-3 border-t border-gray-200 bg-white"},qe={class:"flex items-center justify-between"},ze={class:"text-sm text-gray-700"},He={class:"flex items-center gap-2"},Ne=["onClick"],Oe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ge={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] overflow-y-auto"},Re={class:"p-6 border-b"},We={class:"flex justify-between items-center"},Ye={key:0,class:"p-6"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xe={class:"bg-blue-50 p-4 rounded-lg"},Ze={class:"text-2xl font-bold text-blue-900"},et={class:"bg-green-50 p-4 rounded-lg"},tt={class:"text-2xl font-bold text-green-900"},st={class:"bg-purple-50 p-4 rounded-lg"},at={class:"text-2xl font-bold text-purple-900"},lt={class:"bg-orange-50 p-4 rounded-lg"},ot={class:"text-2xl font-bold text-orange-900"},it={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},nt={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},rt={class:"p-6 border-b"},dt={class:"flex justify-between items-center"},ut={class:"mb-4"},gt={class:"mb-4"},mt=["value"],ft={class:"flex justify-end gap-2"},bt=["disabled"],ct={key:0,class:"fa-solid fa-spinner fa-spin mr-1"},pt={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},xt={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},vt={class:"p-6 border-b"},yt={class:"flex justify-between items-center"},ht={class:"mb-4"},wt={class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},kt={class:"text-sm text-red-800"},_t={class:"flex justify-end gap-2"},Ct=["disabled"],jt={key:0,class:"fa-solid fa-spinner fa-spin mr-1"},St={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Bt={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Mt={class:"p-6 border-b"},Tt={class:"flex justify-between items-center"},At={class:"mb-4"},Pt={class:"text-sm text-gray-600 mb-2"},$t={class:"mb-4"},Et={class:"mb-4"},Ut={class:"flex justify-end gap-2"},Dt=["disabled"],Vt={key:0,class:"fa-solid fa-spinner fa-spin mr-1"},Ft={key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Kt={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Lt={class:"p-6 border-b"},It={class:"flex justify-between items-center"},Jt={class:"mb-4"},qt={class:"text-sm text-gray-600 mb-2"},zt={class:"mb-4"},Ht={class:"mb-4"},Nt={class:"flex justify-end gap-2"},Ot=["disabled"],Gt={key:0,class:"fa-solid fa-spinner fa-spin mr-1"},Rt={key:5,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Wt={class:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden"},Yt={class:"px-6 py-4 border-b border-gray-200 flex items-center justify-between"},Qt={class:"text-lg font-semibold text-gray-900"},Xt={class:"p-6 max-h-[70vh] overflow-y-auto"},Zt={key:0,class:"text-center py-8 text-gray-500"},es={key:1,class:"space-y-4"},ts={class:"flex items-center justify-between"},ss={class:"flex items-center space-x-3"},as={class:"flex-shrink-0"},ls={key:0,class:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},os={key:1,class:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center"},is={key:2,class:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},ns={key:3,class:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center"},rs={class:"font-medium text-gray-900"},ds={class:"text-sm text-gray-500"},us={key:0,class:"text-sm text-gray-600 mt-1"},gs={class:"text-right"},ms={class:"text-sm text-gray-500"},fs={class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},Cs={__name:"Index",props:{users:Object,filters:Object},setup(x){var H,N;const B=x,v=g({search:((H=B.filters)==null?void 0:H.search)||"",per_page:((N=B.filters)==null?void 0:N.per_page)||15}),L=g(!1),h=g(!1),w=g(!1),M=g(!1),T=g(!1),P=g(!1),k=g(null),b=g(null),n=g(!1),I=g([]),A=D({year:new Date().getFullYear(),month:new Date().getMonth()+1}),$=D({year:new Date().getFullYear()}),c=D({user_id:null,amount:null,description:""}),p=D({user_id:null,amount:null,description:""}),W=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];function J(){j.get(route("leave-management.index"),v.value,{preserveState:!0,replace:!0})}function Y(){v.value={search:"",per_page:15},J()}function Q(a){a>=1&&a<=B.users.last_page&&j.get(route("leave-management.index"),{...v.value,page:a},{preserveState:!0,replace:!0})}function X(){const a=B.users.current_page,t=B.users.last_page,m=[],E=Math.max(1,a-2),U=Math.min(t,a+2);for(let _=E;_<=U;_++)m.push(_);return m}function Z(a){return a?a.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().substring(0,2):"?"}function z(a){return a?new Date(a).toLocaleDateString("id-ID"):"-"}function ee(a){return a>=10?"bg-green-100 text-green-800":a>=5?"bg-yellow-100 text-yellow-800":a>=1?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}function te(a){return{credit:"Kredit Cuti",usage:"Penggunaan Cuti",adjustment:"Penyesuaian",burning:"Burning Cuti"}[a]||a}function se(a,t){return a==="credit"||a==="adjustment"&&t>0?"text-green-600":a==="usage"||a==="adjustment"&&t<0?"text-red-600":a==="burning"?"text-orange-600":"text-gray-600"}async function ae(){try{const a=await S.get(route("leave-management.statistics"));k.value=a.data,L.value=!0}catch{d.fire("Error","Gagal mengambil statistik","error")}}async function le(a){b.value=a,n.value=!0;try{const t=await S.get(route("leave-management.history",a.id));t.data.success?(I.value=t.data.data,P.value=!0):d.fire("Error",t.data.message||"Gagal mengambil data history cuti","error")}catch(t){console.error("Error fetching leave history:",t),d.fire("Error","Gagal mengambil data history cuti","error")}finally{n.value=!1}}function oe(a){b.value=a,c.user_id=a.id,c.amount=null,c.description="",M.value=!0}function ie(a){b.value=a,p.user_id=a.id,p.amount=null,p.description="",T.value=!0}async function ne(){n.value=!0;try{const a=await S.post(route("leave-management.process-monthly-credit"),A);a.data.success?d.fire("Berhasil",a.data.message,"success").then(()=>{j.reload()}):d.fire("Error",a.data.message,"error")}catch{d.fire("Error","Terjadi kesalahan saat memproses kredit bulanan","error")}finally{n.value=!1,h.value=!1}}async function re(){n.value=!0;try{const a=await S.post(route("leave-management.process-burning"),$);a.data.success?d.fire("Berhasil",a.data.message,"success").then(()=>{j.reload()}):d.fire("Error",a.data.message,"error")}catch{d.fire("Error","Terjadi kesalahan saat memproses burning","error")}finally{n.value=!1,w.value=!1}}async function de(){n.value=!0;try{const a=await S.post(route("leave-management.manual-adjustment"),c);a.data.success?d.fire("Berhasil",a.data.message,"success").then(()=>{j.reload()}):d.fire("Error",a.data.message,"error")}catch{d.fire("Error","Terjadi kesalahan saat menyesuaikan saldo","error")}finally{n.value=!1,M.value=!1}}async function ue(){n.value=!0;try{const a=await S.post(route("leave-management.use-leave"),p);a.data.success?d.fire("Berhasil",a.data.message,"success").then(()=>{j.reload()}):d.fire("Error",a.data.message,"error")}catch{d.fire("Error","Terjadi kesalahan saat menggunakan cuti","error")}finally{n.value=!1,T.value=!1}}return(a,t)=>(o(),ge(me,{title:"Manajemen Cuti"},{header:G(()=>[e("div",fe,[t[25]||(t[25]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Manajemen Cuti Karyawan ",-1)),e("div",be,[e("button",{onClick:ae,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2"},t[22]||(t[22]=[e("i",{class:"fa-solid fa-chart-bar"},null,-1),r(" Statistik ")])),e("button",{onClick:t[0]||(t[0]=(...m)=>h.value&&h.value(...m)),class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2"},t[23]||(t[23]=[e("i",{class:"fa-solid fa-plus"},null,-1),r(" Kredit Bulanan ")])),e("button",{onClick:t[1]||(t[1]=(...m)=>w.value&&w.value(...m)),class:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2"},t[24]||(t[24]=[e("i",{class:"fa-solid fa-fire"},null,-1),r(" Burning Cuti ")]))])])]),default:G(()=>{var m,E,U,_,O;return[e("div",ce,[e("div",pe,[e("div",xe,[e("div",ve,[e("div",ye,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cari Karyawan",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>v.value.search=s),placeholder:"Cari nama, email, jabatan, outlet...",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,v.value.search]])]),e("div",he,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Per Halaman",-1)),f(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>v.value.per_page=s),onChange:J,class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},t[27]||(t[27]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)]),544),[[R,v.value.per_page]])]),e("button",{onClick:J,class:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg"},t[29]||(t[29]=[e("i",{class:"fa-solid fa-search mr-1"},null,-1),r(" Cari ")])),e("button",{onClick:Y,class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg"},t[30]||(t[30]=[e("i",{class:"fa-solid fa-refresh mr-1"},null,-1),r(" Reset ")]))])])]),e("div",we,[e("div",ke,[e("table",_e,[t[34]||(t[34]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Karyawan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jabatan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Outlet"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Masuk"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Saldo Cuti"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),e("tbody",Ce,[(o(!0),i(V,null,F(x.users.data,s=>(o(),i("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",je,[e("div",Se,[e("div",Be,[e("div",Me,l(Z(s.nama_lengkap)),1)]),e("div",Te,[e("div",Ae,l(s.nama_lengkap),1),e("div",Pe,l(s.email),1)])])]),e("td",$e,l(s.nama_jabatan||"-"),1),e("td",Ee,l(s.nama_outlet||"-"),1),e("td",Ue,l(z(s.tanggal_masuk)),1),e("td",De,[e("span",{class:q(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ee(s.cuti)])},l(s.cuti||0)+" hari ",3)]),e("td",Ve,[e("div",Fe,[e("button",{onClick:C=>le(s),class:"text-indigo-600 hover:text-indigo-900"},t[31]||(t[31]=[e("i",{class:"fa-solid fa-history mr-1"},null,-1),r(" History ")]),8,Ke),e("button",{onClick:C=>oe(s),class:"text-green-600 hover:text-green-900"},t[32]||(t[32]=[e("i",{class:"fa-solid fa-edit mr-1"},null,-1),r(" Adjust ")]),8,Le),e("button",{onClick:C=>ie(s),class:"text-red-600 hover:text-red-900"},t[33]||(t[33]=[e("i",{class:"fa-solid fa-minus mr-1"},null,-1),r(" Pakai ")]),8,Ie)])])]))),128))])])]),x.users.total>0?(o(),i("div",Je,[e("div",qe,[e("div",ze," Menampilkan "+l(x.users.from)+" sampai "+l(x.users.to)+" dari "+l(x.users.total)+" data ",1),e("div",He,[(o(!0),i(V,null,F(X(),s=>(o(),i("button",{key:s,onClick:C=>Q(s),class:q(["px-3 py-1 text-sm border rounded",s===x.users.current_page?"bg-indigo-600 text-white border-indigo-600":"border-gray-300 hover:bg-gray-50"])},l(s),11,Ne))),128))])])])):u("",!0)])]),L.value?(o(),i("div",Oe,[e("div",Ge,[e("div",Re,[e("div",We,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold"},"Statistik Cuti",-1)),e("button",{onClick:t[4]||(t[4]=s=>L.value=!1),class:"text-gray-500 hover:text-gray-700"},t[35]||(t[35]=[e("i",{class:"fa fa-times"},null,-1)]))])]),k.value?(o(),i("div",Ye,[e("div",Qe,[e("div",Xe,[t[37]||(t[37]=e("div",{class:"text-sm text-blue-600 font-medium"},"Total Karyawan Aktif",-1)),e("div",Ze,l(k.value.total_active_users),1)]),e("div",et,[t[38]||(t[38]=e("div",{class:"text-sm text-green-600 font-medium"},"Total Saldo Cuti",-1)),e("div",tt,l(k.value.total_leave_balance)+" hari",1)]),e("div",st,[t[39]||(t[39]=e("div",{class:"text-sm text-purple-600 font-medium"},"Rata-rata Saldo Cuti",-1)),e("div",at,l(k.value.average_leave_balance)+" hari",1)]),e("div",lt,[t[40]||(t[40]=e("div",{class:"text-sm text-orange-600 font-medium"},"Kredit Bulanan Tahun Ini",-1)),e("div",ot,l(k.value.monthly_credits_this_year)+"x",1)])])])):u("",!0)])])):u("",!0),h.value?(o(),i("div",it,[e("div",nt,[e("div",rt,[e("div",dt,[t[42]||(t[42]=e("h3",{class:"text-lg font-semibold"},"Kredit Cuti Bulanan",-1)),e("button",{onClick:t[5]||(t[5]=s=>h.value=!1),class:"text-gray-500 hover:text-gray-700"},t[41]||(t[41]=[e("i",{class:"fa fa-times"},null,-1)]))])]),e("form",{onSubmit:K(ne,["prevent"]),class:"p-6"},[e("div",ut,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tahun",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=s=>A.year=s),min:"2020",max:"2030",required:"",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,A.year]])]),e("div",gt,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bulan",-1)),f(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>A.month=s),required:"",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},[t[44]||(t[44]=e("option",{value:""},"Pilih Bulan",-1)),(o(),i(V,null,F(W,(s,C)=>e("option",{key:C,value:C+1},l(s),9,mt)),64))],512),[[R,A.month]])]),e("div",ft,[e("button",{type:"button",onClick:t[8]||(t[8]=s=>h.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300"}," Batal "),e("button",{type:"submit",disabled:n.value,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400"},[n.value?(o(),i("i",ct)):u("",!0),t[46]||(t[46]=r(" Proses "))],8,bt)])],32)])])):u("",!0),w.value?(o(),i("div",pt,[e("div",xt,[e("div",vt,[e("div",yt,[t[48]||(t[48]=e("h3",{class:"text-lg font-semibold"},"Burning Cuti Tahun Sebelumnya",-1)),e("button",{onClick:t[9]||(t[9]=s=>w.value=!1),class:"text-gray-500 hover:text-gray-700"},t[47]||(t[47]=[e("i",{class:"fa fa-times"},null,-1)]))])]),e("form",{onSubmit:K(re,["prevent"]),class:"p-6"},[e("div",ht,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tahun Saat Ini",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[10]||(t[10]=s=>$.year=s),min:"2020",max:"2030",required:"",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,$.year]])]),e("div",wt,[e("div",kt,[t[50]||(t[50]=e("strong",null,"Peringatan:",-1)),r(" Proses ini akan menghapus sisa cuti tahun "+l($.year-1)+" untuk semua karyawan. ",1)])]),e("div",_t,[e("button",{type:"button",onClick:t[11]||(t[11]=s=>w.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300"}," Batal "),e("button",{type:"submit",disabled:n.value,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400"},[n.value?(o(),i("i",jt)):u("",!0),t[51]||(t[51]=r(" Burning "))],8,Ct)])],32)])])):u("",!0),M.value?(o(),i("div",St,[e("div",Bt,[e("div",Mt,[e("div",Tt,[t[53]||(t[53]=e("h3",{class:"text-lg font-semibold"},"Penyesuaian Saldo Cuti",-1)),e("button",{onClick:t[12]||(t[12]=s=>M.value=!1),class:"text-gray-500 hover:text-gray-700"},t[52]||(t[52]=[e("i",{class:"fa fa-times"},null,-1)]))])]),e("form",{onSubmit:K(de,["prevent"]),class:"p-6"},[e("div",At,[e("div",Pt,[t[54]||(t[54]=e("strong",null,"Karyawan:",-1)),r(" "+l((m=b.value)==null?void 0:m.nama_lengkap),1),t[55]||(t[55]=e("br",null,null,-1)),t[56]||(t[56]=e("strong",null,"Saldo Saat Ini:",-1)),r(" "+l(((E=b.value)==null?void 0:E.cuti)||0)+" hari ",1)])]),e("div",$t,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Penyesuaian",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=s=>c.amount=s),step:"0.5",required:"",placeholder:"Contoh: +1 untuk tambah, -1 untuk kurang",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,c.amount]])]),e("div",Et,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Deskripsi",-1)),f(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>c.description=s),required:"",placeholder:"Alasan penyesuaian saldo cuti...",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[y,c.description]])]),e("div",Ut,[e("button",{type:"button",onClick:t[15]||(t[15]=s=>M.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300"}," Batal "),e("button",{type:"submit",disabled:n.value,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400"},[n.value?(o(),i("i",Vt)):u("",!0),t[59]||(t[59]=r(" Simpan "))],8,Dt)])],32)])])):u("",!0),T.value?(o(),i("div",Ft,[e("div",Kt,[e("div",Lt,[e("div",It,[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold"},"Penggunaan Cuti",-1)),e("button",{onClick:t[16]||(t[16]=s=>T.value=!1),class:"text-gray-500 hover:text-gray-700"},t[60]||(t[60]=[e("i",{class:"fa fa-times"},null,-1)]))])]),e("form",{onSubmit:K(ue,["prevent"]),class:"p-6"},[e("div",Jt,[e("div",qt,[t[62]||(t[62]=e("strong",null,"Karyawan:",-1)),r(" "+l((U=b.value)==null?void 0:U.nama_lengkap),1),t[63]||(t[63]=e("br",null,null,-1)),t[64]||(t[64]=e("strong",null,"Saldo Saat Ini:",-1)),r(" "+l(((_=b.value)==null?void 0:_.cuti)||0)+" hari ",1)])]),e("div",zt,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Cuti",-1)),f(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=s=>p.amount=s),step:"0.5",min:"0.5",required:"",placeholder:"Jumlah hari cuti yang digunakan",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[y,p.amount]])]),e("div",Ht,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Deskripsi",-1)),f(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=s=>p.description=s),required:"",placeholder:"Alasan penggunaan cuti...",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:"3"},null,512),[[y,p.description]])]),e("div",Nt,[e("button",{type:"button",onClick:t[19]||(t[19]=s=>T.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300"}," Batal "),e("button",{type:"submit",disabled:n.value,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400"},[n.value?(o(),i("i",Gt)):u("",!0),t[67]||(t[67]=r(" Pakai Cuti "))],8,Ot)])],32)])])):u("",!0),P.value?(o(),i("div",Rt,[e("div",Wt,[e("div",Yt,[e("h3",Qt,[t[68]||(t[68]=e("i",{class:"fa-solid fa-history mr-2"},null,-1)),r(" History Cuti - "+l((O=b.value)==null?void 0:O.nama_lengkap),1)]),e("button",{onClick:t[20]||(t[20]=s=>P.value=!1),class:"text-gray-500 hover:text-gray-700"},t[69]||(t[69]=[e("i",{class:"fa-solid fa-times text-xl"},null,-1)]))]),e("div",Xt,[I.value.length===0?(o(),i("div",Zt,t[70]||(t[70]=[e("i",{class:"fa-solid fa-inbox text-4xl mb-4"},null,-1),e("p",null,"Belum ada transaksi cuti",-1)]))):(o(),i("div",es,[(o(!0),i(V,null,F(I.value,s=>(o(),i("div",{key:s.id,class:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",ts,[e("div",ss,[e("div",as,[s.type==="credit"?(o(),i("div",ls,t[71]||(t[71]=[e("i",{class:"fa-solid fa-plus text-green-600"},null,-1)]))):s.type==="usage"?(o(),i("div",os,t[72]||(t[72]=[e("i",{class:"fa-solid fa-minus text-red-600"},null,-1)]))):s.type==="adjustment"?(o(),i("div",is,t[73]||(t[73]=[e("i",{class:"fa-solid fa-edit text-blue-600"},null,-1)]))):s.type==="burning"?(o(),i("div",ns,t[74]||(t[74]=[e("i",{class:"fa-solid fa-fire text-orange-600"},null,-1)]))):u("",!0)]),e("div",null,[e("p",rs,l(te(s.type)),1),e("p",ds,l(z(s.transaction_date)),1),s.description?(o(),i("p",us,l(s.description),1)):u("",!0)])]),e("div",gs,[e("p",{class:q([se(s.type,s.amount),"font-semibold"])},l(s.amount>0?"+":"")+l(s.amount)+" hari ",3),e("p",ms," Saldo: "+l(s.current_balance)+" hari ",1)])])]))),128))]))]),e("div",fs,[e("button",{type:"button",onClick:t[21]||(t[21]=s=>P.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"}," Tutup ")])])])):u("",!0)]}),_:1}))}};export{Cs as default};
