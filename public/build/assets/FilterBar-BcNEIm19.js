import{r as v,c as m,w as h,L as s,B as n,H as b,E as O,D as i,I as f,N as d,F as g,M as _,G as B,l as x}from"./vendor-vue-g7iCcTkf.js";import{S as C}from"./app-D7xoXxxM.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const N={class:"flex flex-col md:flex-row gap-2 mb-4"},V=["disabled"],F={value:"",disabled:""},L=["value"],T={value:"",disabled:""},D=["value"],A=["disabled"],z={__name:"FilterBar",props:{outlets:Array,rukos:Array,selectedOutlet:[String,Number],selectedRuko:[String,Number],disableOutlet:Boolean,hideRuko:Boolean},emits:["update:outlet","update:ruko"],setup(c,{emit:R}){const l=c,r=R,e=v(String(l.selectedOutlet)),o=v(l.selectedRuko),p=m(()=>e.value=="1");console.log("FilterBar props:",{outlets:l.outlets,rukos:l.rukos,selectedOutlet:l.selectedOutlet,selectedRuko:l.selectedRuko,showRuko:p.value});const k=m(()=>!(!e.value||e.value=="1"&&!o.value));h(()=>l.selectedOutlet,a=>e.value=String(a)),h(()=>l.selectedRuko,a=>o.value=a);function S(){r("update:outlet",e.value),e.value!="1"&&r("update:ruko",null)}function w(){r("update:ruko",o.value)}function y(){if(!k.value){C.fire({title:"Perhatian",text:e.value=="1"?"Silakan pilih outlet dan ruko terlebih dahulu!":"Silakan pilih outlet terlebih dahulu!",icon:"warning"});return}r("update:outlet",e.value),e.value=="1"&&r("update:ruko",o.value)}return(a,u)=>(n(),s("div",N,[b(i("select",{"onUpdate:modelValue":u[0]||(u[0]=t=>e.value=t),onChange:S,class:"border rounded p-2",disabled:l.disableOutlet},[i("option",F,d(a.$t("kanban.pilih_outlet")),1),(n(!0),s(g,null,_(c.outlets,t=>(n(),s("option",{key:t.id_outlet,value:String(t.id_outlet)},d(t.nama_outlet),9,L))),128))],40,V),[[f,e.value]]),p.value&&!l.hideRuko?b((n(),s("select",{key:0,"onUpdate:modelValue":u[1]||(u[1]=t=>o.value=t),onChange:w,class:"border rounded p-2"},[i("option",T,d(a.$t("kanban.pilih_ruko")),1),(n(!0),s(g,null,_(c.rukos,t=>(n(),s("option",{key:t.id_ruko,value:t.id_ruko},d(t.nama_ruko),9,D))),128))],544)),[[f,o.value]]):O("",!0),i("button",{onClick:y,class:x(["px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",{"opacity-50 cursor-not-allowed":!k.value}]),disabled:!k.value},u[2]||(u[2]=[i("i",{class:"fas fa-sync-alt mr-2"},null,-1),B(" Load Task ")]),10,A)]))}};export{z as default};
