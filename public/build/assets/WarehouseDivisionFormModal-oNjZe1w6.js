import{P as w,w as y,r as k,L as l,E as c,B as d,D as e,N as n,O as _,H as v,J as S,Q as o,I as f,F as M,M as B}from"./vendor-vue-g7iCcTkf.js";import{S as h}from"./app-5sHs3Z-e.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const W={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},F={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 animate-fade-in"},E={class:"px-8 pt-8 pb-2"},U={class:"flex items-center gap-2 mb-6"},V={class:"text-2xl font-bold text-gray-900"},j={key:0,class:"text-xs text-red-500 mt-1"},N=["value"],C={key:0,class:"text-xs text-red-500 mt-1"},I={key:0,class:"text-xs text-red-500 mt-1"},P={class:"flex justify-end gap-2 pt-4"},T=["disabled"],q={__name:"WarehouseDivisionFormModal",props:{show:Boolean,mode:String,division:Object,warehouses:Array},emits:["close","success"],setup(u,{emit:p}){const i=u,m=p,s=w({name:"",warehouse_id:"",status:"active"});y(()=>i.show,b=>{b&&i.mode==="edit"&&i.division?(s.name=i.division.name,s.warehouse_id=i.division.warehouse_id,s.status=i.division.status):b&&i.mode==="create"&&(s.name="",s.warehouse_id="",s.status="active")});const r=k(!1);async function x(){r.value=!0,i.mode==="create"?s.post(route("warehouse-divisions.store"),{onSuccess:()=>{h.fire("Berhasil","Warehouse Division berhasil ditambahkan!","success"),m("success"),m("close")},onError:()=>r.value=!1,onFinish:()=>r.value=!1}):i.mode==="edit"&&i.division&&(s._method="PUT",s.post(route("warehouse-divisions.update",i.division.id),{onSuccess:()=>{h.fire("Berhasil","Warehouse Division berhasil diupdate!","success"),m("success"),m("close")},onError:()=>r.value=!1,onFinish:()=>r.value=!1}))}function g(){m("close")}return(b,t)=>u.show?(d(),l("div",W,[e("div",F,[e("div",E,[e("div",U,[t[3]||(t[3]=e("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M4 6h16M4 12h16M4 18h16","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("h3",V,n(u.mode==="edit"?"Edit":"Tambah")+" Warehouse Division",1)]),e("form",{onSubmit:_(x,["prevent"]),class:"space-y-5"},[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nama Division",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).name=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[S,o(s).name]]),o(s).errors.name?(d(),l("div",j,n(o(s).errors.name),1)):c("",!0)]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"},"Warehouse",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).warehouse_id=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},[t[5]||(t[5]=e("option",{value:""},"Pilih Warehouse",-1)),(d(!0),l(M,null,B(u.warehouses,a=>(d(),l("option",{key:a.id,value:a.id},n(a.name),9,N))),128))],512),[[f,o(s).warehouse_id]]),o(s).errors.warehouse_id?(d(),l("div",C,n(o(s).errors.warehouse_id),1)):c("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).status=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},t[7]||(t[7]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[f,o(s).status]]),o(s).errors.status?(d(),l("div",I,n(o(s).errors.status),1)):c("",!0)]),e("div",P,[e("button",{type:"button",onClick:g,class:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200"},"Batal"),e("button",{type:"submit",disabled:r.value,class:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-60"},n(u.mode==="edit"?"Update":"Simpan"),9,T)])],32)])])])):c("",!0)}},J=D(q,[["__scopeId","data-v-a81efe53"]]);export{J as default};
