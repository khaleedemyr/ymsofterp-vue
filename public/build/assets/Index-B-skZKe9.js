import{r as i,c as $,A as _,B as a,C as A,D as e,E as x,G as F,H as B,L as r,F as f,M as g,N as h,I as H,Z as M,J as S,l as L,Q as V,W as y}from"./vendor-vue-g7iCcTkf.js";import{A as j}from"./AppLayout-cuNKSDqJ.js";import{S as E}from"./app-Bb65-N1P.js";import K from"./FormModal-BuwjMO0s.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-aFVowX1N.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const Y={class:"max-w-4xl mx-auto py-8"},I={class:"flex items-center gap-4 mb-4"},U=["value"],W={class:"bg-white rounded-2xl shadow-lg overflow-x-auto"},q={class:"min-w-full divide-y divide-blue-200"},z={class:"px-4 py-2 whitespace-nowrap font-mono"},G={class:"px-4 py-2 whitespace-nowrap"},J={class:"px-4 py-2 whitespace-nowrap text-center flex gap-2 justify-center"},O=["onClick"],Q=["onClick"],Z={key:0},P={key:0,class:"flex justify-center my-4 gap-1 flex-wrap"},R=["innerHTML","disabled","onClick"],de={__name:"Index",props:{libur:Array,years:Array,filter:Object},setup(v){var m,k;const s=v,u=i(((m=s.filter)==null?void 0:m.search)||""),d=i(((k=s.filter)==null?void 0:k.year)||new Date().getFullYear()),n=i(!1),p=i(null),w=$(()=>s.libur.data||[]);function T(){p.value=null,n.value=!0}function N(o){p.value={...o},n.value=!0}function D(o){E.fire({title:"Hapus Libur Nasional?",text:`Yakin ingin menghapus libur "${o.keterangan}" (${o.tgl_libur})?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&y.delete(`/kalender-perusahaan/${o.id}`)})}function c(){y.get("/kalender-perusahaan",{year:d.value,search:u.value},{preserveState:!0,replace:!0})}return(o,l)=>(a(),_(j,{title:"Libur Nasional"},{default:A(()=>[e("div",Y,[e("div",{class:"flex justify-between items-center mb-6"},[l[3]||(l[3]=e("h1",{class:"text-2xl font-bold text-blue-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-calendar-day text-blue-500"}),F(" Libur Nasional ")],-1)),e("button",{onClick:T,class:"bg-blue-600 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Tambah Libur Nasional ")]),e("div",I,[B(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>d.value=t),onChange:c,class:"px-3 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},[(a(!0),r(f,null,g(v.years,t=>(a(),r("option",{key:t,value:t},h(t),9,U))),128))],544),[[H,d.value]]),B(e("input",{"onUpdate:modelValue":l[1]||(l[1]=t=>u.value=t),onKeyup:M(c,["enter"]),type:"text",placeholder:"Cari tanggal, keterangan...",class:"flex-1 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,544),[[S,u.value]]),e("button",{onClick:c,class:"bg-blue-500 text-white px-4 py-2 rounded-xl shadow hover:bg-blue-600 transition"},l[4]||(l[4]=[e("i",{class:"fa fa-search"},null,-1)]))]),e("div",W,[e("table",q,[l[8]||(l[8]=e("thead",{class:"bg-blue-600 text-white"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Tanggal Libur"),e("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Keterangan"),e("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),e("tbody",null,[(a(!0),r(f,null,g(w.value,(t,b)=>(a(),r("tr",{key:t.id,class:L(b%2===1?"bg-blue-50":"")},[e("td",z,h(t.tgl_libur),1),e("td",G,h(t.keterangan),1),e("td",J,[e("button",{onClick:C=>N(t),class:"px-2 py-1 rounded bg-yellow-200 text-yellow-900 hover:bg-yellow-300 transition",title:"Edit"},l[5]||(l[5]=[e("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,O),e("button",{onClick:C=>D(t),class:"px-2 py-1 rounded bg-red-500 text-white hover:bg-red-600 transition",title:"Hapus"},l[6]||(l[6]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,Q)])],2))),128)),w.value.length===0?(a(),r("tr",Z,l[7]||(l[7]=[e("td",{colspan:"3",class:"text-center py-8 text-gray-400"},"Tidak ada data libur nasional",-1)]))):x("",!0)])]),s.libur&&s.libur.links&&s.libur.links.length>1?(a(),r("div",P,[(a(!0),r(f,null,g(s.libur.links,(t,b)=>(a(),r("button",{key:b,innerHTML:t.label,disabled:!t.url,onClick:C=>t.url&&V(y).get(t.url,{},{preserveState:!0,replace:!0}),class:L(["px-3 py-1 rounded-lg border text-sm font-semibold",[t.active?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-700 border-blue-200 hover:bg-blue-50",t.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,R))),128))])):x("",!0)]),n.value?(a(),_(K,{key:0,show:n.value,editData:p.value,onClose:l[2]||(l[2]=t=>n.value=!1)},null,8,["show","editData"])):x("",!0)])]),_:1}))}};export{de as default};
