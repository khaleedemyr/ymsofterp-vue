import{r as y,k as zt,c as B,a8 as Jt,A as Gt,B as l,C as $,D as t,L as a,E as n,G as u,l as v,H as k,J as M,I as F,F as p,M as m,N as o,x as q,Q as L,S as z,O as J,W as G}from"./vendor-vue-g7iCcTkf.js";import{A as Qt}from"./AppLayout-BqaX40sL.js";import{m as Wt}from"./vendor-charts-CuqD4wLC.js";import{a as Q}from"./vendor-utils-CpgP2uT4.js";import{_ as Ht}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-BoSIlzLW.js";import"./ProfileUpdateModal-CY3nv2ep.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const Kt={class:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 p-4 md:p-8"},Xt={class:"mb-8"},Yt={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6"},Zt={class:"flex gap-3"},te=["disabled"],ee={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100"},se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},oe=["value"],le=["value"],ae=["value"],re={class:"md:col-span-2"},ie={key:0,class:"flex items-center justify-center py-20"},ne={key:1},de={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ue={class:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300"},ce={class:"flex items-center justify-between mb-4"},xe={class:"text-right"},ge={class:"text-3xl font-bold"},pe={class:"text-sm text-blue-100 mt-2"},me={class:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300"},be={class:"flex items-center justify-between mb-4"},ve={class:"text-right"},ye={class:"text-2xl font-bold"},fe={class:"text-sm text-green-100 mt-2"},he={class:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300"},_e={class:"flex items-center justify-between mb-4"},we={class:"text-right"},ke={class:"text-3xl font-bold"},Ce={class:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-xl p-6 text-white transform hover:scale-105 transition-all duration-300"},De={class:"flex items-center justify-between mb-4"},Re={class:"text-right"},je={class:"text-3xl font-bold"},Pe={class:"text-sm text-orange-100 mt-2"},Ae={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"},qe={class:"flex items-center justify-between"},Te={class:"text-gray-500 text-sm font-medium mb-1"},Se={class:"text-sm text-gray-500 mt-1"},Ee={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},$e={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100"},Fe={class:"h-64"},Ve={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100"},Ne={class:"h-64"},Oe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Ie={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100"},Ue={class:"overflow-x-auto"},Be={class:"w-full"},Me=["onClick"],Le={class:"px-4 py-3"},ze={class:"text-sm font-medium text-blue-600 hover:underline"},Je={key:0,class:"text-xs text-gray-500 mt-1"},Ge={key:1,class:"text-xs text-gray-400 mt-1"},Qe={class:"px-4 py-3 text-sm text-right text-gray-600"},We={class:"px-4 py-3 text-sm text-right text-gray-700"},He={class:"px-4 py-3 text-sm text-right text-gray-600"},Ke={class:"px-4 py-3 text-sm text-right text-gray-700"},Xe={class:"px-4 py-3 text-sm text-right font-semibold text-gray-900"},Ye={key:0},Ze={key:1,class:"text-gray-400"},ts={key:0},es={key:0,class:"mt-4 flex justify-center gap-2"},ss=["onClick"],os={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100"},ls={class:"overflow-x-auto"},as={class:"w-full"},rs=["onClick"],is={class:"px-4 py-3 text-sm font-medium text-blue-600 hover:underline"},ns={class:"px-4 py-3 text-sm text-right text-gray-600"},ds={class:"px-4 py-3 text-sm text-right text-gray-700"},us={class:"px-4 py-3 text-sm text-right text-gray-600"},cs={class:"px-4 py-3 text-sm text-right text-gray-700"},xs={class:"px-4 py-3 text-sm text-right font-semibold text-gray-900"},gs={key:0},ps={key:0,class:"mt-4 flex justify-center gap-2"},ms=["onClick"],bs={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100 mb-8"},vs={class:"overflow-x-auto"},ys={class:"w-full"},fs=["onClick"],hs={class:"px-4 py-3 text-sm font-medium text-blue-600 hover:underline"},_s={class:"px-4 py-3 text-sm text-right text-gray-600"},ws={class:"px-4 py-3 text-sm text-right font-semibold text-gray-900"},ks={key:0},Cs={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100 mb-8"},Ds={class:"overflow-x-auto"},Rs={class:"w-full"},js={class:"px-4 py-3 text-sm font-medium text-blue-600"},Ps={class:"px-4 py-3 text-sm text-gray-600"},As={class:"px-4 py-3 text-sm text-gray-600"},qs={class:"px-4 py-3"},Ts={class:"px-4 py-3 text-sm text-right text-gray-600"},Ss={class:"px-4 py-3 text-sm text-right font-semibold text-gray-900"},Es={key:0},$s={key:0,class:"mt-4 flex justify-center gap-2"},Fs=["onClick"],Vs={class:"bg-white rounded-2xl shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto"},Ns={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center"},Os={class:"text-2xl font-bold text-gray-800"},Is={key:0,class:"flex items-center justify-center py-20"},Us={key:1,class:"p-6"},Bs={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},Ms={class:"bg-blue-50 rounded-xl p-4 border border-blue-200"},Ls={class:"text-2xl font-bold text-blue-800"},zs={class:"bg-green-50 rounded-xl p-4 border border-green-200"},Js={class:"text-xl font-bold text-green-800"},Gs={class:"bg-purple-50 rounded-xl p-4 border border-purple-200"},Qs={class:"text-2xl font-bold text-purple-800"},Ws={class:"bg-indigo-50 rounded-xl p-4 border border-indigo-200"},Hs={class:"text-xl font-bold text-indigo-800"},Ks={class:"bg-yellow-50 rounded-xl p-4 border border-yellow-200 mb-6"},Xs={class:"text-3xl font-bold text-yellow-800"},Ys={class:"mb-6"},Zs={class:"flex justify-between items-center mb-4"},to={class:"text-lg font-bold text-gray-800 flex items-center gap-2"},eo={class:"flex items-center gap-2"},so={class:"space-y-3"},oo={class:"flex justify-between items-start mb-2"},lo={class:"flex-1"},ao={class:"text-sm text-gray-600 mt-1"},ro={key:0,class:"flex items-center gap-2 mt-2"},io=["onClick"],no=["src","alt"],uo={key:1,class:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},co={class:"text-xs text-gray-600"},xo={key:1,class:"flex items-center gap-2 mt-2"},go=["onClick"],po=["src","alt"],mo={key:1,class:"w-6 h-6 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},bo={class:"flex flex-col"},vo={class:"text-xs text-gray-600 font-medium"},yo={key:0,class:"text-xs text-gray-500"},fo={class:"text-right"},ho={key:0,class:"mt-1"},_o={class:"text-lg font-bold text-gray-900 mt-1"},wo={key:0,class:"mt-3 pt-3 border-t border-gray-200"},ko={class:"space-y-1"},Co={class:"font-semibold"},Do={key:0,class:"text-center py-8 text-gray-500"},Ro={key:0,class:"mt-4 flex justify-center items-center gap-2"},jo=["disabled"],Po={class:"text-sm text-gray-600"},Ao=["disabled"],qo={class:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2"},To={class:"space-y-3"},So={class:"flex justify-between items-start mb-2"},Eo={class:"flex-1"},$o={class:"font-semibold text-gray-900"},Fo={class:"text-sm text-gray-600 mt-1"},Vo={key:0,class:"text-sm text-gray-500 mt-1 italic"},No={key:1,class:"flex items-center gap-2 mt-2"},Oo=["onClick"],Io=["src","alt"],Uo={key:1,class:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},Bo={class:"text-xs text-gray-600"},Mo={class:"text-lg font-bold text-gray-900"},Lo={key:0,class:"mt-3 pt-3 border-t border-gray-200"},zo={class:"overflow-x-auto"},Jo={class:"w-full text-sm"},Go={class:"px-3 py-2 text-gray-700"},Qo={class:"px-3 py-2 text-right text-gray-600"},Wo={class:"px-3 py-2 text-right text-gray-600"},Ho={class:"px-3 py-2 text-right text-gray-700"},Ko={class:"px-3 py-2 text-right font-semibold text-gray-900"},Xo={key:0,class:"text-center py-8 text-gray-500"},Yo={class:"bg-white rounded-2xl shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto"},Zo={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center"},tl={class:"text-2xl font-bold text-gray-800"},el={key:0,class:"flex items-center justify-center py-20"},sl={key:1,class:"p-6"},ol={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},ll={class:"bg-blue-50 rounded-xl p-4 border border-blue-200"},al={class:"text-2xl font-bold text-blue-800"},rl={class:"text-sm text-blue-600 mt-1"},il={class:"bg-purple-50 rounded-xl p-4 border border-purple-200"},nl={class:"text-2xl font-bold text-purple-800"},dl={class:"text-sm text-purple-600 mt-1"},ul={class:"bg-yellow-50 rounded-xl p-4 border border-yellow-200"},cl={class:"text-2xl font-bold text-yellow-800"},xl={class:"space-y-4"},gl=["onClick"],pl={class:"flex justify-between items-center"},ml={class:"flex items-center gap-3"},bl={class:"font-bold text-gray-900"},vl={class:"text-sm text-gray-600"},yl={class:"text-right"},fl={class:"text-lg font-bold text-gray-900"},hl={class:"text-xs text-gray-500"},_l={key:0,class:"p-4 space-y-4"},wl={key:0},kl={class:"text-md font-semibold text-gray-800 mb-3 flex items-center gap-2"},Cl={class:"space-y-2 ml-4"},Dl={class:"flex justify-between items-start mb-2"},Rl={class:"flex-1"},jl={class:"text-xs text-gray-600 mt-1"},Pl={key:0,class:"flex items-center gap-2 mt-2"},Al=["onClick"],ql=["src","alt"],Tl={key:1,class:"w-5 h-5 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},Sl={class:"text-xs text-gray-600"},El={key:1,class:"flex items-center gap-2 mt-2"},$l=["onClick"],Fl=["src","alt"],Vl={key:1,class:"w-5 h-5 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},Nl={class:"flex flex-col"},Ol={class:"text-xs text-gray-600 font-medium"},Il={key:0,class:"text-xs text-gray-500"},Ul={class:"text-right"},Bl={key:0,class:"mt-1"},Ml={class:"text-sm font-bold text-gray-900 mt-1"},Ll={key:0,class:"mt-2 pt-2 border-t border-gray-200"},zl={class:"space-y-1"},Jl={class:"font-semibold"},Gl={key:1},Ql={class:"text-md font-semibold text-gray-800 mb-3 flex items-center gap-2"},Wl={class:"space-y-2 ml-4"},Hl={class:"flex justify-between items-start mb-2"},Kl={class:"flex-1"},Xl={class:"font-semibold text-gray-900"},Yl={class:"text-xs text-gray-600 mt-1"},Zl={key:0,class:"text-xs text-gray-500 mt-1 italic"},ta={key:1,class:"flex items-center gap-2 mt-2"},ea=["onClick"],sa=["src","alt"],oa={key:1,class:"w-5 h-5 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},la={class:"text-xs text-gray-600"},aa={class:"text-sm font-bold text-gray-900"},ra={key:0,class:"mt-2 pt-2 border-t border-gray-200"},ia={class:"overflow-x-auto"},na={class:"w-full text-xs"},da={class:"px-2 py-1 text-gray-700"},ua={class:"px-2 py-1 text-right text-gray-600"},ca={class:"px-2 py-1 text-right text-gray-600"},xa={class:"px-2 py-1 text-right text-gray-700"},ga={class:"px-2 py-1 text-right font-semibold text-gray-900"},pa={key:2,class:"text-center py-4 text-gray-500 text-sm"},ma={key:0,class:"text-center py-8 text-gray-500"},ba={class:"bg-white rounded-2xl shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto"},va={class:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center"},ya={class:"text-2xl font-bold text-gray-800"},fa={key:0,class:"flex items-center justify-center py-20"},ha={key:1,class:"p-6"},_a={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},wa={class:"bg-blue-50 rounded-xl p-4 border border-blue-200"},ka={class:"text-2xl font-bold text-blue-800"},Ca={class:"bg-green-50 rounded-xl p-4 border border-green-200"},Da={class:"text-xl font-bold text-green-800"},Ra={class:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2"},ja={class:"space-y-3"},Pa={class:"flex justify-between items-start mb-2"},Aa={class:"flex-1"},qa={class:"text-sm text-gray-600 mt-1"},Ta={key:0,class:"text-sm text-gray-500 mt-1 italic"},Sa={key:1,class:"flex items-center gap-2 mt-2"},Ea=["onClick"],$a=["src","alt"],Fa={key:1,class:"w-6 h-6 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},Va={class:"text-xs text-gray-600"},Na={key:2,class:"flex items-center gap-2 mt-2"},Oa=["onClick"],Ia=["src","alt"],Ua={key:1,class:"w-6 h-6 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white text-xs font-bold border-2 border-gray-200"},Ba={class:"flex flex-col"},Ma={class:"text-xs text-gray-600 font-medium"},La={key:0,class:"text-xs text-gray-500"},za={class:"text-right"},Ja={key:0,class:"mt-1"},Ga={class:"text-lg font-bold text-gray-900 mt-1"},Qa={class:"text-xs text-gray-500 mt-1"},Wa={key:0,class:"mt-3 pt-3 border-t border-gray-200"},Ha=["onClick"],Ka={class:"text-xs text-gray-500 font-semibold"},Xa={key:0,class:"mt-2"},Ya={class:"overflow-x-auto"},Za={class:"w-full text-sm"},tr={class:"px-3 py-2 text-gray-700"},er={class:"px-3 py-2 text-right text-gray-600"},sr={class:"px-3 py-2 text-right text-gray-700"},or={class:"px-3 py-2 text-right font-semibold text-gray-900"},lr={key:0,class:"text-center py-8 text-gray-500"},ar={class:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center"},rr=["src"],ir=Object.assign({components:{apexchart:Wt}},{__name:"Report",props:{summary:Object,statusDistribution:Array,trendData:Array,categoryAnalysis:Object,outletAnalysis:Object,divisionAnalysis:Array,itemAnalysis:Object,purchaseRequisitions:Object,prPerOutlet:Array,prPerCategory:Array,categories:Array,outlets:Array,divisions:Array,filters:Object},setup(g){const f=g,_=y(!1),V=y(!1),x=y(null),T=y(!1),S=y(""),E=y(10),W=y(null),N=y(!1),h=y(null),H=y(!1),O=y(!1),w=y(null),K=y(!1),j=y(new Set),jt=y(new Set),P=y(new Set),X=y(!1),Y=y(""),c=zt({date_from:f.filters.date_from||new Date().toISOString().split("T")[0],date_to:f.filters.date_to||new Date().toISOString().split("T")[0],status:f.filters.status||"all",category_id:f.filters.category_id||"",outlet_id:f.filters.outlet_id||"",division_id:f.filters.division_id||"",search:f.filters.search||""});function d(i){return i==null||i===void 0?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i)}function Z(i){return i==null||i===void 0?"0":new Intl.NumberFormat("id-ID").format(i)}function R(i){return i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function tt(i){return i?new Date(i).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function I(i){return{DRAFT:"bg-gray-100 text-gray-800",SUBMITTED:"bg-yellow-100 text-yellow-800",APPROVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800"}[i]||"bg-gray-100 text-gray-800"}function et(){_.value=!0,G.get(route("pr-ops.report"),c,{preserveState:!0,preserveScroll:!0,onFinish:()=>{_.value=!1}})}function Pt(){et()}function At(){const i=new URLSearchParams(c);window.location.href=route("pr-ops.report.export")+"?"+i.toString()}function qt(i){_.value=!0,G.get(route("pr-ops.report"),{...c,page:i},{preserveState:!0,preserveScroll:!0,onFinish:()=>{_.value=!1}})}function Tt(i){_.value=!0,G.get(route("pr-ops.report"),{...c,category_page:i},{preserveState:!0,preserveScroll:!0,onFinish:()=>{_.value=!1}})}function St(i){_.value=!0,G.get(route("pr-ops.report"),{...c,outlet_page:i},{preserveState:!0,preserveScroll:!0,onFinish:()=>{_.value=!1}})}async function Et(i){T.value=!0,V.value=!0,x.value=null,S.value="",E.value=10,W.value=i;try{const s=await Q.get(route("pr-ops.report.category-detail",i),{params:{date_from:c.date_from,date_to:c.date_to,status:c.status,search:S.value,per_page:E.value,page:1}});s.data.success?x.value=s.data:alert("Gagal mengambil data category detail")}catch(s){console.error("Error fetching category detail:",s),alert("Terjadi kesalahan saat mengambil data category detail")}finally{T.value=!1}}async function U(i){if(W.value){T.value=!0;try{const s=await Q.get(route("pr-ops.report.category-detail",W.value),{params:{date_from:c.date_from,date_to:c.date_to,status:c.status,search:S.value,per_page:E.value,page:i}});s.data.success&&(x.value=s.data)}catch(s){console.error("Error fetching category detail page:",s),alert("Terjadi kesalahan saat mengambil data")}finally{T.value=!1}}}async function $t(i){H.value=!0,N.value=!0,h.value=null,j.value.clear(),jt.value.clear();try{const s=await Q.get(route("pr-ops.report.outlet-detail",i),{params:{date_from:c.date_from,date_to:c.date_to,status:c.status}});s.data.success?h.value=s.data:alert("Gagal mengambil data outlet detail")}catch(s){console.error("Error fetching outlet detail:",s),alert("Terjadi kesalahan saat mengambil data outlet detail")}finally{H.value=!1}}function Ft(i){j.value.has(i)?j.value.delete(i):j.value.add(i)}async function Vt(i){K.value=!0,O.value=!0,w.value=null,P.value.clear();try{const s=await Q.get(route("pr-ops.report.division-detail",i),{params:{date_from:c.date_from,date_to:c.date_to,status:c.status}});s.data.success?w.value=s.data:alert("Gagal mengambil data division detail")}catch(s){console.error("Error fetching division detail:",s),alert("Terjadi kesalahan saat mengambil data division detail")}finally{K.value=!1}}function Nt(i){P.value.has(i)?P.value.delete(i):P.value.add(i)}function C(i){return i?i.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):"U"}function D(i){Y.value=i,X.value=!0}function st(){X.value=!1,Y.value=""}const Ot=B(()=>f.statusDistribution.map(i=>i.count)),It=B(()=>({chart:{type:"donut"},labels:f.statusDistribution.map(i=>i.status),legend:{position:"bottom"},colors:["#9CA3AF","#FBBF24","#10B981","#EF4444"]})),Ut=B(()=>[{name:"PR Value",type:"line",data:f.trendData.map(i=>i.pr_value||0)},{name:"RNF Value",type:"line",data:f.trendData.map(i=>i.rnf_value||0)}]),Bt=B(()=>({chart:{type:"line",toolbar:{show:!0}},stroke:{width:[3,3],curve:"smooth"},labels:f.trendData.map(i=>R(i.date)),xaxis:{type:"category"},yaxis:{title:{text:"Value (Rp)"},labels:{formatter:function(i){return d(i)}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(i){return d(i)}}},legend:{position:"top"},fill:{opacity:[1,1]},colors:["#3B82F6","#8B5CF6"],markers:{size:[5,5],hover:{size:[7,7]}}}));return(i,s)=>{const ot=Jt("apexchart");return l(),Gt(Qt,null,{default:$(()=>{var lt,at,rt,it,nt,dt,ut,ct,xt,gt,pt,mt,bt,vt,yt,ft,ht,_t,wt,kt,Ct,Dt,Rt;return[t("div",Kt,[t("div",Xt,[t("div",Yt,[s[22]||(s[22]=t("div",null,[t("h1",{class:"text-4xl font-extrabold text-gray-900 mb-2 flex items-center gap-3"},[t("div",{class:"p-3 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg"},[t("i",{class:"fa-solid fa-chart-line text-white text-2xl"})]),t("span",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"}," Purchase Requisition Ops Report ")]),t("p",{class:"text-gray-600 ml-16"},"Comprehensive analytics and insights for Purchase Requisitions")],-1)),t("div",Zt,[t("button",{onClick:At,class:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center gap-2 font-semibold"},s[20]||(s[20]=[t("i",{class:"fa-solid fa-file-excel"},null,-1),u(" Export Excel ")])),t("button",{onClick:Pt,class:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 flex items-center gap-2 font-semibold",disabled:_.value},[t("i",{class:v(["fa-solid fa-sync-alt",{"fa-spin":_.value}])},null,2),s[21]||(s[21]=u(" Refresh "))],8,te)])]),t("div",ee,[t("div",se,[t("div",null,[s[23]||(s[23]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-calendar-alt mr-1 text-blue-500"}),u(" Date From ")],-1)),k(t("input",{type:"date","onUpdate:modelValue":s[0]||(s[0]=e=>c.date_from=e),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[M,c.date_from]])]),t("div",null,[s[24]||(s[24]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-calendar-check mr-1 text-blue-500"}),u(" Date To ")],-1)),k(t("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=e=>c.date_to=e),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[M,c.date_to]])]),t("div",null,[s[26]||(s[26]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-filter mr-1 text-blue-500"}),u(" Status ")],-1)),k(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>c.status=e),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},s[25]||(s[25]=[t("option",{value:"all"},"All Status",-1),t("option",{value:"DRAFT"},"Draft",-1),t("option",{value:"SUBMITTED"},"Submitted",-1),t("option",{value:"APPROVED"},"Approved",-1),t("option",{value:"REJECTED"},"Rejected",-1)]),512),[[F,c.status]])]),t("div",null,[s[28]||(s[28]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-building mr-1 text-blue-500"}),u(" Category ")],-1)),k(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>c.category_id=e),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[s[27]||(s[27]=t("option",{value:""},"All Categories",-1)),(l(!0),a(p,null,m(g.categories,e=>(l(),a("option",{key:e.id,value:e.id},o(e.name),9,oe))),128))],512),[[F,c.category_id]])]),t("div",null,[s[30]||(s[30]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-store mr-1 text-blue-500"}),u(" Outlet ")],-1)),k(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>c.outlet_id=e),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[s[29]||(s[29]=t("option",{value:""},"All Outlets",-1)),(l(!0),a(p,null,m(g.outlets,e=>(l(),a("option",{key:e.id,value:e.id},o(e.name),9,le))),128))],512),[[F,c.outlet_id]])]),t("div",null,[s[32]||(s[32]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-sitemap mr-1 text-blue-500"}),u(" Division ")],-1)),k(t("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>c.division_id=e),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},[s[31]||(s[31]=t("option",{value:""},"All Divisions",-1)),(l(!0),a(p,null,m(g.divisions,e=>(l(),a("option",{key:e.id,value:e.id},o(e.name),9,ae))),128))],512),[[F,c.division_id]])]),t("div",re,[s[33]||(s[33]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[t("i",{class:"fa-solid fa-search mr-1 text-blue-500"}),u(" Search ")],-1)),k(t("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=e=>c.search=e),placeholder:"Search PR Number or Description...",class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[M,c.search]])])]),t("div",{class:"mt-4 flex justify-end"},[t("button",{onClick:et,class:"px-8 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 font-semibold flex items-center gap-2"},s[34]||(s[34]=[t("i",{class:"fa-solid fa-filter"},null,-1),u(" Apply Filters ")]))])])]),_.value?(l(),a("div",ie,s[35]||(s[35]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"}),t("p",{class:"text-gray-600 text-lg font-semibold"},"Loading report data...")],-1)]))):(l(),a("div",ne,[t("div",de,[t("div",ue,[t("div",ce,[s[37]||(s[37]=t("div",{class:"p-3 bg-white bg-opacity-20 rounded-xl"},[t("i",{class:"fa-solid fa-file-invoice text-2xl"})],-1)),t("div",xe,[t("div",ge,o(Z(g.summary.total_pr)),1),s[36]||(s[36]=t("div",{class:"text-blue-100 text-sm"},"Total PR",-1))])]),t("div",pe,[s[38]||(s[38]=t("i",{class:"fa-solid fa-arrow-trend-up mr-1"},null,-1)),u(" "+o(g.summary.approved_count)+" Approved ",1)])]),t("div",me,[t("div",be,[s[40]||(s[40]=t("div",{class:"p-3 bg-white bg-opacity-20 rounded-xl"},[t("i",{class:"fa-solid fa-money-bill-wave text-2xl"})],-1)),t("div",ve,[t("div",ye,o(d(g.summary.total_value)),1),s[39]||(s[39]=t("div",{class:"text-green-100 text-sm"},"Total Value",-1))])]),t("div",fe,[s[41]||(s[41]=t("i",{class:"fa-solid fa-chart-line mr-1"},null,-1)),u(" Avg: "+o(d(g.summary.avg_pr_value)),1)])]),t("div",he,[t("div",_e,[s[43]||(s[43]=t("div",{class:"p-3 bg-white bg-opacity-20 rounded-xl"},[t("i",{class:"fa-solid fa-paper-plane text-2xl"})],-1)),t("div",we,[t("div",ke,o(Z(g.summary.submitted_count)),1),s[42]||(s[42]=t("div",{class:"text-purple-100 text-sm"},"Submitted",-1))])]),s[44]||(s[44]=t("div",{class:"text-sm text-purple-100 mt-2"},[t("i",{class:"fa-solid fa-clock mr-1"}),u(" Waiting for approval ")],-1))]),t("div",Ce,[t("div",De,[s[46]||(s[46]=t("div",{class:"p-3 bg-white bg-opacity-20 rounded-xl"},[t("i",{class:"fa-solid fa-times-circle text-2xl"})],-1)),t("div",Re,[t("div",je,o(Z(g.summary.rejected_count)),1),s[45]||(s[45]=t("div",{class:"text-orange-100 text-sm"},"Rejected",-1))])]),t("div",Pe,[s[47]||(s[47]=t("i",{class:"fa-solid fa-exclamation-triangle mr-1"},null,-1)),u(" "+o(g.summary.draft_count)+" Draft ",1)])])]),t("div",Ae,[(l(!0),a(p,null,m(g.statusDistribution,e=>(l(),a("div",{key:e.status,class:v(["bg-white rounded-xl shadow-lg p-5 border-l-4 hover:shadow-xl transition-all",{"border-gray-400":e.status==="DRAFT","border-yellow-400":e.status==="SUBMITTED","border-green-500":e.status==="APPROVED","border-red-500":e.status==="REJECTED"}])},[t("div",qe,[t("div",null,[t("div",Te,o(e.status),1),t("div",{class:v(["text-3xl font-bold",{"text-gray-700":e.status==="DRAFT","text-yellow-600":e.status==="SUBMITTED","text-green-600":e.status==="APPROVED","text-red-600":e.status==="REJECTED"}])},o(e.count),3),t("div",Se,o(d(e.total_value)),1)]),t("div",{class:v(["p-3 rounded-lg",{"bg-gray-100":e.status==="DRAFT","bg-yellow-100":e.status==="SUBMITTED","bg-green-100":e.status==="APPROVED","bg-red-100":e.status==="REJECTED"}])},[t("i",{class:v(["fa-solid text-2xl",{"fa-file text-gray-600":e.status==="DRAFT","fa-paper-plane text-yellow-600":e.status==="SUBMITTED","fa-check-circle text-green-600":e.status==="APPROVED","fa-times-circle text-red-600":e.status==="REJECTED"}])},null,2)],2)])],2))),128))]),t("div",Ee,[t("div",$e,[s[48]||(s[48]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-chart-pie text-blue-600"}),u(" Status Distribution ")],-1)),t("div",Fe,[q(ot,{type:"donut",height:"100%",options:It.value,series:Ot.value},null,8,["options","series"])])]),t("div",Ve,[s[49]||(s[49]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-chart-line text-indigo-600"}),u(" Daily Trend ")],-1)),t("div",Ne,[q(ot,{type:"line",height:"100%",options:Bt.value,series:Ut.value},null,8,["options","series"])])])]),t("div",Oe,[t("div",Ie,[s[52]||(s[52]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-tags text-purple-600"}),u(" Category Analysis ")],-1)),t("div",Ue,[t("table",Be,[s[51]||(s[51]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Category"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"PR Count"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"PR Value"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"RNF Count"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"RNF Value"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Total Value"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Remaining")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(g.categoryAnalysis.data,e=>(l(),a("tr",{key:e.category_id,class:"border-b hover:bg-blue-50 cursor-pointer transition-colors",onClick:r=>Et(e.category_id)},[t("td",Le,[t("div",ze,o(e.display_name||e.category_name),1),e.budget_limit?(l(),a("div",Je," Budget: "+o(d(e.budget_limit)),1)):(l(),a("div",Ge,"No Budget Limit"))]),t("td",Qe,o(e.pr_count||0),1),t("td",We,o(d(e.pr_value||0)),1),t("td",He,o(e.rnf_count||0),1),t("td",Ke,o(d(e.rnf_value||0)),1),t("td",Xe,o(d(e.total_value)),1),t("td",{class:v(["px-4 py-3 text-sm text-right font-semibold",e.remaining_budget!==null&&e.remaining_budget<0?"text-red-600":"text-gray-700"])},[e.remaining_budget!==null?(l(),a("span",Ye,o(d(e.remaining_budget)),1)):(l(),a("span",Ze,"-"))],2)],8,Me))),128)),g.categoryAnalysis.data.length===0?(l(),a("tr",ts,s[50]||(s[50]=[t("td",{colspan:"7",class:"px-4 py-8 text-center text-gray-500"},"No data available",-1)]))):n("",!0)])]),g.categoryAnalysis.last_page>1?(l(),a("div",es,[(l(!0),a(p,null,m(g.categoryAnalysis.last_page,e=>(l(),a("button",{key:e,onClick:r=>Tt(e),class:v(["px-3 py-1 rounded",g.categoryAnalysis.current_page===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},o(e),11,ss))),128))])):n("",!0)])]),t("div",os,[s[55]||(s[55]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-store text-indigo-600"}),u(" Outlet Analysis ")],-1)),t("div",ls,[t("table",as,[s[54]||(s[54]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Outlet"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"PR Count"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"PR Value"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"RNF Count"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"RNF Value"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Total Value")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(g.outletAnalysis.data,e=>(l(),a("tr",{key:e.outlet_id,class:"border-b hover:bg-blue-50 cursor-pointer transition-colors",onClick:r=>$t(e.outlet_id)},[t("td",is,o(e.outlet_name),1),t("td",ns,o(e.pr_count||0),1),t("td",ds,o(d(e.pr_value||0)),1),t("td",us,o(e.rnf_count||0),1),t("td",cs,o(d(e.rnf_value||0)),1),t("td",xs,o(d(e.total_value)),1)],8,rs))),128)),g.outletAnalysis.data.length===0?(l(),a("tr",gs,s[53]||(s[53]=[t("td",{colspan:"6",class:"px-4 py-8 text-center text-gray-500"},"No data available",-1)]))):n("",!0)])]),g.outletAnalysis.last_page>1?(l(),a("div",ps,[(l(!0),a(p,null,m(g.outletAnalysis.last_page,e=>(l(),a("button",{key:e,onClick:r=>St(e),class:v(["px-3 py-1 rounded",g.outletAnalysis.current_page===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},o(e),11,ms))),128))])):n("",!0)])])]),t("div",bs,[s[58]||(s[58]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-sitemap text-green-600"}),u(" Division Analysis ")],-1)),t("div",vs,[t("table",ys,[s[57]||(s[57]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Division"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"PR Count"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Total Value")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(g.divisionAnalysis,e=>(l(),a("tr",{key:e.division_id,class:"border-b hover:bg-blue-50 cursor-pointer transition-colors",onClick:r=>Vt(e.division_id)},[t("td",hs,o(e.division_name),1),t("td",_s,o(e.pr_count),1),t("td",ws,o(d(e.total_value)),1)],8,fs))),128)),g.divisionAnalysis.length===0?(l(),a("tr",ks,s[56]||(s[56]=[t("td",{colspan:"3",class:"px-4 py-8 text-center text-gray-500"},"No data available",-1)]))):n("",!0)])])])]),t("div",Cs,[s[61]||(s[61]=t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-list text-blue-600"}),u(" Purchase Requisitions ")],-1)),t("div",Ds,[t("table",Rs,[s[60]||(s[60]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"PR Number"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Division"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Status"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Items"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase"},"Total Amount")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(g.purchaseRequisitions.data,e=>{var r,b,A;return l(),a("tr",{key:e.id,class:"border-b hover:bg-gray-50"},[t("td",js,[q(L(z),{href:i.route("purchase-requisitions.show",e.id),class:"hover:underline"},{default:$(()=>[u(o(e.pr_number),1)]),_:2},1032,["href"])]),t("td",Ps,o(R(e.created_at)),1),t("td",As,o(((r=e.division)==null?void 0:r.nama_divisi)||"-"),1),t("td",qs,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",I(e.status)])},o(e.status),3)]),t("td",Ts,o(((b=e.items)==null?void 0:b.length)||0),1),t("td",Ss,o(d(((A=e.items)==null?void 0:A.reduce((Mt,Lt)=>Mt+(Lt.subtotal||0),0))||0)),1)])}),128)),g.purchaseRequisitions.data.length===0?(l(),a("tr",Es,s[59]||(s[59]=[t("td",{colspan:"6",class:"px-4 py-8 text-center text-gray-500"},"No data available",-1)]))):n("",!0)])]),g.purchaseRequisitions.last_page>1?(l(),a("div",$s,[(l(!0),a(p,null,m(g.purchaseRequisitions.last_page,e=>(l(),a("button",{key:e,onClick:r=>qt(e),class:v(["px-3 py-1 rounded",g.purchaseRequisitions.current_page===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},o(e),11,Fs))),128))])):n("",!0)])])]))]),V.value?(l(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:s[14]||(s[14]=J(e=>V.value=!1,["self"]))},[t("div",Vs,[t("div",Ns,[t("h3",Os,[s[62]||(s[62]=t("i",{class:"fa-solid fa-tags text-purple-600 mr-2"},null,-1)),u(" Category Detail: "+o(((at=(lt=x.value)==null?void 0:lt.category)==null?void 0:at.name)||""),1)]),t("button",{onClick:s[7]||(s[7]=e=>V.value=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},s[63]||(s[63]=[t("i",{class:"fas fa-times"},null,-1)]))]),T.value?(l(),a("div",Is,s[64]||(s[64]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"}),t("p",{class:"text-gray-600 text-lg font-semibold"},"Loading category detail...")],-1)]))):x.value?(l(),a("div",Us,[t("div",Bs,[t("div",Ms,[s[65]||(s[65]=t("div",{class:"text-sm text-blue-600 font-medium mb-1"},"PR Count",-1)),t("div",Ls,o(((rt=x.value.summary)==null?void 0:rt.pr_count)||0),1)]),t("div",zs,[s[66]||(s[66]=t("div",{class:"text-sm text-green-600 font-medium mb-1"},"PR Total",-1)),t("div",Js,o(d(((it=x.value.summary)==null?void 0:it.pr_total)||0)),1)]),t("div",Gs,[s[67]||(s[67]=t("div",{class:"text-sm text-purple-600 font-medium mb-1"},"RNF Count",-1)),t("div",Qs,o(((nt=x.value.summary)==null?void 0:nt.rnf_count)||0),1)]),t("div",Ws,[s[68]||(s[68]=t("div",{class:"text-sm text-indigo-600 font-medium mb-1"},"RNF Total",-1)),t("div",Hs,o(d(((dt=x.value.summary)==null?void 0:dt.rnf_total)||0)),1)])]),t("div",Ks,[s[69]||(s[69]=t("div",{class:"text-sm text-yellow-600 font-medium mb-1"},"Grand Total",-1)),t("div",Xs,o(d(((ut=x.value.summary)==null?void 0:ut.grand_total)||0)),1)]),t("div",Ys,[t("div",Zs,[t("h4",to,[s[70]||(s[70]=t("i",{class:"fa-solid fa-file-invoice text-blue-600"},null,-1)),u(" Purchase Requisitions ("+o(((ct=x.value.purchase_requisitions)==null?void 0:ct.total)||0)+") ",1)]),t("div",eo,[k(t("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>S.value=e),onInput:s[9]||(s[9]=e=>U(1)),type:"text",placeholder:"Search PR number...",class:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[M,S.value]]),k(t("select",{"onUpdate:modelValue":s[10]||(s[10]=e=>E.value=e),onChange:s[11]||(s[11]=e=>U(1)),class:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},s[71]||(s[71]=[t("option",{value:5},"5 per page",-1),t("option",{value:10},"10 per page",-1),t("option",{value:20},"20 per page",-1),t("option",{value:50},"50 per page",-1)]),544),[[F,E.value]])])]),t("div",so,[(l(!0),a(p,null,m(((xt=x.value.purchase_requisitions)==null?void 0:xt.data)||[],e=>(l(),a("div",{key:e.id,class:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[t("div",oo,[t("div",lo,[q(L(z),{href:i.route("purchase-requisitions.show",e.id),class:"text-blue-600 hover:underline font-semibold"},{default:$(()=>[u(o(e.pr_number),1)]),_:2},1032,["href"]),t("div",ao,o(R(e.date))+" | "+o(e.division),1),e.creator?(l(),a("div",ro,[e.creator.avatar?(l(),a("div",{key:0,class:"w-6 h-6 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:r=>D(`/storage/${e.creator.avatar}`)},[t("img",{src:`/storage/${e.creator.avatar}`,alt:e.creator.name,class:"w-full h-full object-cover"},null,8,no)],8,io)):(l(),a("div",uo,o(C(e.creator.name)),1)),t("span",co,o(e.creator.name),1)])):n("",!0),e.approval&&e.approval.approver?(l(),a("div",xo,[s[72]||(s[72]=t("i",{class:"fa-solid fa-check-circle text-green-600 text-xs"},null,-1)),e.approval.approver.avatar?(l(),a("div",{key:0,class:"w-6 h-6 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:r=>D(`/storage/${e.approval.approver.avatar}`)},[t("img",{src:`/storage/${e.approval.approver.avatar}`,alt:e.approval.approver.name,class:"w-full h-full object-cover"},null,8,po)],8,go)):(l(),a("div",mo,o(C(e.approval.approver.name)),1)),t("div",bo,[t("span",vo,o(e.approval.approver.name),1),e.approval.approved_at?(l(),a("span",yo,o(tt(e.approval.approved_at)),1)):n("",!0)])])):n("",!0)]),t("div",fo,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",I(e.status)])},o(e.status),3),e.approval?(l(),a("div",ho,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",e.approval.status==="APPROVED"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},o(e.approval.status),3)])):n("",!0),t("div",_o,o(d(e.total_amount)),1)])]),e.items&&e.items.length>0?(l(),a("div",wo,[s[73]||(s[73]=t("div",{class:"text-xs text-gray-500 mb-2"},"Items:",-1)),t("div",ko,[(l(!0),a(p,null,m(e.items,(r,b)=>(l(),a("div",{key:b,class:"text-sm text-gray-700 flex justify-between"},[t("span",null,o(r.item_name)+" ("+o(r.qty)+"x)",1),t("span",Co,o(d(r.subtotal)),1)]))),128))])])):n("",!0)]))),128)),!((gt=x.value.purchase_requisitions)!=null&&gt.data)||x.value.purchase_requisitions.data.length===0?(l(),a("div",Do," No Purchase Requisitions ")):n("",!0)]),x.value.purchase_requisitions&&x.value.purchase_requisitions.last_page>1?(l(),a("div",Ro,[t("button",{onClick:s[12]||(s[12]=e=>U(x.value.purchase_requisitions.current_page-1)),disabled:x.value.purchase_requisitions.current_page===1,class:v(["px-3 py-1 rounded border",x.value.purchase_requisitions.current_page===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"])},s[74]||(s[74]=[t("i",{class:"fa-solid fa-chevron-left"},null,-1)]),10,jo),t("span",Po," Page "+o(x.value.purchase_requisitions.current_page)+" of "+o(x.value.purchase_requisitions.last_page),1),t("button",{onClick:s[13]||(s[13]=e=>U(x.value.purchase_requisitions.current_page+1)),disabled:x.value.purchase_requisitions.current_page===x.value.purchase_requisitions.last_page,class:v(["px-3 py-1 rounded border",x.value.purchase_requisitions.current_page===x.value.purchase_requisitions.last_page?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"])},s[75]||(s[75]=[t("i",{class:"fa-solid fa-chevron-right"},null,-1)]),10,Ao)])):n("",!0)]),t("div",null,[t("h4",qo,[s[76]||(s[76]=t("i",{class:"fa-solid fa-shopping-bag text-purple-600"},null,-1)),u(" Retail Non Food ("+o(((pt=x.value.retail_non_food)==null?void 0:pt.length)||0)+") ",1)]),t("div",To,[(l(!0),a(p,null,m(x.value.retail_non_food,e=>(l(),a("div",{key:e.id,class:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[t("div",So,[t("div",Eo,[t("div",$o,o(e.retail_number),1),t("div",Fo,o(R(e.date))+" | "+o(e.outlet_name)+" | "+o(e.supplier_name),1),e.notes?(l(),a("div",Vo,o(e.notes),1)):n("",!0),e.creator?(l(),a("div",No,[e.creator.avatar?(l(),a("div",{key:0,class:"w-6 h-6 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:r=>D(`/storage/${e.creator.avatar}`)},[t("img",{src:`/storage/${e.creator.avatar}`,alt:e.creator.name,class:"w-full h-full object-cover"},null,8,Io)],8,Oo)):(l(),a("div",Uo,o(C(e.creator.name)),1)),t("span",Bo,o(e.creator.name),1)])):n("",!0)]),t("div",Mo,o(d(e.total_amount)),1)]),e.items&&e.items.length>0?(l(),a("div",Lo,[s[78]||(s[78]=t("div",{class:"text-xs text-gray-500 mb-2 font-semibold"},"Items:",-1)),t("div",zo,[t("table",Jo,[s[77]||(s[77]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-3 py-2 text-left text-xs font-semibold text-gray-600"},"Item"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Qty"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Unit"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Price"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Subtotal")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(e.items,(r,b)=>(l(),a("tr",{key:b,class:"border-b border-gray-100"},[t("td",Go,o(r.item_name),1),t("td",Qo,o(r.qty),1),t("td",Wo,o(r.unit||"-"),1),t("td",Ho,o(d(r.price)),1),t("td",Ko,o(d(r.subtotal)),1)]))),128))])])])])):n("",!0)]))),128)),!x.value.retail_non_food||x.value.retail_non_food.length===0?(l(),a("div",Xo," No Retail Non Food ")):n("",!0)])])])):n("",!0)])])):n("",!0),N.value?(l(),a("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:s[16]||(s[16]=J(e=>N.value=!1,["self"]))},[t("div",Yo,[t("div",Zo,[t("h3",tl,[s[79]||(s[79]=t("i",{class:"fa-solid fa-store text-indigo-600 mr-2"},null,-1)),u(" Outlet Detail: "+o(((bt=(mt=h.value)==null?void 0:mt.outlet)==null?void 0:bt.name)||""),1)]),t("button",{onClick:s[15]||(s[15]=e=>N.value=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},s[80]||(s[80]=[t("i",{class:"fas fa-times"},null,-1)]))]),H.value?(l(),a("div",el,s[81]||(s[81]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"}),t("p",{class:"text-gray-600 text-lg font-semibold"},"Loading outlet detail...")],-1)]))):h.value?(l(),a("div",sl,[t("div",ol,[t("div",ll,[s[82]||(s[82]=t("div",{class:"text-sm text-blue-600 font-medium mb-1"},"Total PR",-1)),t("div",al,o(((vt=h.value.summary)==null?void 0:vt.total_pr)||0),1),t("div",rl,o(d(((yt=h.value.summary)==null?void 0:yt.total_pr_amount)||0)),1)]),t("div",il,[s[83]||(s[83]=t("div",{class:"text-sm text-purple-600 font-medium mb-1"},"Total RNF",-1)),t("div",nl,o(((ft=h.value.summary)==null?void 0:ft.total_rnf)||0),1),t("div",dl,o(d(((ht=h.value.summary)==null?void 0:ht.total_rnf_amount)||0)),1)]),t("div",ul,[s[84]||(s[84]=t("div",{class:"text-sm text-yellow-600 font-medium mb-1"},"Grand Total",-1)),t("div",cl,o(d(((_t=h.value.summary)==null?void 0:_t.grand_total)||0)),1)])]),t("div",xl,[(l(!0),a(p,null,m(h.value.categories,e=>(l(),a("div",{key:e.category_id,class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},[t("div",{class:"bg-gradient-to-r from-purple-50 to-indigo-50 px-4 py-3 cursor-pointer hover:from-purple-100 hover:to-indigo-100 transition-colors",onClick:r=>Ft(e.category_id)},[t("div",pl,[t("div",ml,[t("i",{class:v(["fa-solid",j.value.has(e.category_id)?"fa-chevron-down":"fa-chevron-right"])},null,2),t("div",null,[t("div",bl,o(e.display_name),1),t("div",vl," PR: "+o(e.pr_count)+" | RNF: "+o(e.rnf_count),1)])]),t("div",yl,[t("div",fl,o(d(e.total)),1),t("div",hl," PR: "+o(d(e.pr_total))+" | RNF: "+o(d(e.rnf_total)),1)])])],8,gl),j.value.has(e.category_id)?(l(),a("div",_l,[e.purchase_requisitions&&e.purchase_requisitions.length>0?(l(),a("div",wl,[t("h5",kl,[s[85]||(s[85]=t("i",{class:"fa-solid fa-file-invoice text-blue-600"},null,-1)),u(" Purchase Requisitions ("+o(e.pr_count)+") ",1)]),t("div",Cl,[(l(!0),a(p,null,m(e.purchase_requisitions,r=>(l(),a("div",{key:r.id,class:"bg-gray-50 border border-gray-200 rounded-lg p-3"},[t("div",Dl,[t("div",Rl,[q(L(z),{href:i.route("purchase-requisitions.show",r.id),class:"text-blue-600 hover:underline font-semibold"},{default:$(()=>[u(o(r.pr_number),1)]),_:2},1032,["href"]),t("div",jl,o(R(r.date)),1),r.creator?(l(),a("div",Pl,[r.creator.avatar?(l(),a("div",{key:0,class:"w-5 h-5 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:b=>D(`/storage/${r.creator.avatar}`)},[t("img",{src:`/storage/${r.creator.avatar}`,alt:r.creator.name,class:"w-full h-full object-cover"},null,8,ql)],8,Al)):(l(),a("div",Tl,o(C(r.creator.name)),1)),t("span",Sl,o(r.creator.name),1)])):n("",!0),r.approval&&r.approval.approver?(l(),a("div",El,[s[86]||(s[86]=t("i",{class:"fa-solid fa-check-circle text-green-600 text-xs"},null,-1)),r.approval.approver.avatar?(l(),a("div",{key:0,class:"w-5 h-5 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:b=>D(`/storage/${r.approval.approver.avatar}`)},[t("img",{src:`/storage/${r.approval.approver.avatar}`,alt:r.approval.approver.name,class:"w-full h-full object-cover"},null,8,Fl)],8,$l)):(l(),a("div",Vl,o(C(r.approval.approver.name)),1)),t("div",Nl,[t("span",Ol,o(r.approval.approver.name),1),r.approval.approved_at?(l(),a("span",Il,o(tt(r.approval.approved_at)),1)):n("",!0)])])):n("",!0)]),t("div",Ul,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",I(r.status)])},o(r.status),3),r.approval?(l(),a("div",Bl,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",r.approval.status==="APPROVED"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},o(r.approval.status),3)])):n("",!0),t("div",Ml,o(d(r.total_amount)),1)])]),r.items&&r.items.length>0?(l(),a("div",Ll,[s[87]||(s[87]=t("div",{class:"text-xs text-gray-500 mb-1"},"Items:",-1)),t("div",zl,[(l(!0),a(p,null,m(r.items,(b,A)=>(l(),a("div",{key:A,class:"text-xs text-gray-700 flex justify-between"},[t("span",null,o(b.item_name)+" ("+o(b.qty)+"x)",1),t("span",Jl,o(d(b.subtotal)),1)]))),128))])])):n("",!0)]))),128))])])):n("",!0),e.retail_non_food&&e.retail_non_food.length>0?(l(),a("div",Gl,[t("h5",Ql,[s[88]||(s[88]=t("i",{class:"fa-solid fa-shopping-bag text-purple-600"},null,-1)),u(" Retail Non Food ("+o(e.rnf_count)+") ",1)]),t("div",Wl,[(l(!0),a(p,null,m(e.retail_non_food,r=>(l(),a("div",{key:r.id,class:"bg-gray-50 border border-gray-200 rounded-lg p-3"},[t("div",Hl,[t("div",Kl,[t("div",Xl,o(r.retail_number),1),t("div",Yl,o(R(r.date))+" | "+o(r.supplier_name),1),r.notes?(l(),a("div",Zl,o(r.notes),1)):n("",!0),r.creator?(l(),a("div",ta,[r.creator.avatar?(l(),a("div",{key:0,class:"w-5 h-5 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:b=>D(`/storage/${r.creator.avatar}`)},[t("img",{src:`/storage/${r.creator.avatar}`,alt:r.creator.name,class:"w-full h-full object-cover"},null,8,sa)],8,ea)):(l(),a("div",oa,o(C(r.creator.name)),1)),t("span",la,o(r.creator.name),1)])):n("",!0)]),t("div",aa,o(d(r.total_amount)),1)]),r.items&&r.items.length>0?(l(),a("div",ra,[s[90]||(s[90]=t("div",{class:"text-xs text-gray-500 mb-1 font-semibold"},"Items:",-1)),t("div",ia,[t("table",na,[s[89]||(s[89]=t("thead",null,[t("tr",{class:"bg-gray-100"},[t("th",{class:"px-2 py-1 text-left text-xs font-semibold text-gray-600"},"Item"),t("th",{class:"px-2 py-1 text-right text-xs font-semibold text-gray-600"},"Qty"),t("th",{class:"px-2 py-1 text-right text-xs font-semibold text-gray-600"},"Unit"),t("th",{class:"px-2 py-1 text-right text-xs font-semibold text-gray-600"},"Price"),t("th",{class:"px-2 py-1 text-right text-xs font-semibold text-gray-600"},"Subtotal")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(r.items,(b,A)=>(l(),a("tr",{key:A,class:"border-b border-gray-100"},[t("td",da,o(b.item_name),1),t("td",ua,o(b.qty),1),t("td",ca,o(b.unit||"-"),1),t("td",xa,o(d(b.price)),1),t("td",ga,o(d(b.subtotal)),1)]))),128))])])])])):n("",!0)]))),128))])])):n("",!0),(!e.purchase_requisitions||e.purchase_requisitions.length===0)&&(!e.retail_non_food||e.retail_non_food.length===0)?(l(),a("div",pa," No data for this category ")):n("",!0)])):n("",!0)]))),128)),!h.value.categories||h.value.categories.length===0?(l(),a("div",ma," No categories found ")):n("",!0)])])):n("",!0)])])):n("",!0),O.value?(l(),a("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:s[18]||(s[18]=J(e=>O.value=!1,["self"]))},[t("div",ba,[t("div",va,[t("h3",ya,[s[91]||(s[91]=t("i",{class:"fa-solid fa-sitemap text-green-600 mr-2"},null,-1)),u(" Division Detail: "+o(((kt=(wt=w.value)==null?void 0:wt.division)==null?void 0:kt.name)||""),1)]),t("button",{onClick:s[17]||(s[17]=e=>O.value=!1),class:"text-gray-400 hover:text-gray-600 text-2xl"},s[92]||(s[92]=[t("i",{class:"fas fa-times"},null,-1)]))]),K.value?(l(),a("div",fa,s[93]||(s[93]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"}),t("p",{class:"text-gray-600 text-lg font-semibold"},"Loading division detail...")],-1)]))):w.value?(l(),a("div",ha,[t("div",_a,[t("div",wa,[s[94]||(s[94]=t("div",{class:"text-sm text-blue-600 font-medium mb-1"},"Total PR",-1)),t("div",ka,o(((Ct=w.value.summary)==null?void 0:Ct.pr_count)||0),1)]),t("div",Ca,[s[95]||(s[95]=t("div",{class:"text-sm text-green-600 font-medium mb-1"},"Total Value",-1)),t("div",Da,o(d(((Dt=w.value.summary)==null?void 0:Dt.pr_total)||0)),1)])]),t("div",null,[t("h4",Ra,[s[96]||(s[96]=t("i",{class:"fa-solid fa-file-invoice text-blue-600"},null,-1)),u(" Purchase Requisitions ("+o(((Rt=w.value.purchase_requisitions)==null?void 0:Rt.length)||0)+") ",1)]),t("div",ja,[(l(!0),a(p,null,m(w.value.purchase_requisitions,e=>(l(),a("div",{key:e.id,class:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[t("div",Pa,[t("div",Aa,[q(L(z),{href:i.route("purchase-requisitions.show",e.id),class:"text-blue-600 hover:underline font-semibold"},{default:$(()=>[u(o(e.pr_number),1)]),_:2},1032,["href"]),t("div",qa,o(R(e.date)),1),e.description?(l(),a("div",Ta,o(e.description),1)):n("",!0),e.creator?(l(),a("div",Sa,[e.creator.avatar?(l(),a("div",{key:0,class:"w-6 h-6 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:r=>D(`/storage/${e.creator.avatar}`)},[t("img",{src:`/storage/${e.creator.avatar}`,alt:e.creator.name,class:"w-full h-full object-cover"},null,8,$a)],8,Ea)):(l(),a("div",Fa,o(C(e.creator.name)),1)),t("span",Va,o(e.creator.name),1)])):n("",!0),e.approval&&e.approval.approver?(l(),a("div",Na,[s[97]||(s[97]=t("i",{class:"fa-solid fa-check-circle text-green-600 text-xs"},null,-1)),e.approval.approver.avatar?(l(),a("div",{key:0,class:"w-6 h-6 rounded-full overflow-hidden cursor-pointer hover:scale-110 transition-transform border-2 border-gray-200",onClick:r=>D(`/storage/${e.approval.approver.avatar}`)},[t("img",{src:`/storage/${e.approval.approver.avatar}`,alt:e.approval.approver.name,class:"w-full h-full object-cover"},null,8,Ia)],8,Oa)):(l(),a("div",Ua,o(C(e.approval.approver.name)),1)),t("div",Ba,[t("span",Ma,o(e.approval.approver.name),1),e.approval.approved_at?(l(),a("span",La,o(tt(e.approval.approved_at)),1)):n("",!0)])])):n("",!0)]),t("div",za,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",I(e.status)])},o(e.status),3),e.approval?(l(),a("div",Ja,[t("span",{class:v(["px-2 py-1 rounded-full text-xs font-semibold",e.approval.status==="APPROVED"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},o(e.approval.status),3)])):n("",!0),t("div",Ga,o(d(e.total_amount)),1),t("div",Qa,o(e.items_count)+" items",1)])]),e.items&&e.items.length>0?(l(),a("div",Wa,[t("div",{class:"flex justify-between items-center mb-2 cursor-pointer",onClick:r=>Nt(e.id)},[t("div",Ka,"Items ("+o(e.items.length)+")",1),t("i",{class:v(["fa-solid text-xs text-gray-500",P.value.has(e.id)?"fa-chevron-up":"fa-chevron-down"])},null,2)],8,Ha),P.value.has(e.id)?(l(),a("div",Xa,[t("div",Ya,[t("table",Za,[s[98]||(s[98]=t("thead",null,[t("tr",{class:"bg-gray-50"},[t("th",{class:"px-3 py-2 text-left text-xs font-semibold text-gray-600"},"Item"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Qty"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Unit Price"),t("th",{class:"px-3 py-2 text-right text-xs font-semibold text-gray-600"},"Subtotal")])],-1)),t("tbody",null,[(l(!0),a(p,null,m(e.items,(r,b)=>(l(),a("tr",{key:b,class:"border-b border-gray-100"},[t("td",tr,o(r.item_name),1),t("td",er,o(r.qty),1),t("td",sr,o(d(r.unit_price)),1),t("td",or,o(d(r.subtotal)),1)]))),128))])])])])):n("",!0)])):n("",!0)]))),128)),!w.value.purchase_requisitions||w.value.purchase_requisitions.length===0?(l(),a("div",lr," No Purchase Requisitions ")):n("",!0)])])])):n("",!0)])])):n("",!0),X.value?(l(),a("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[100] p-4",onClick:st},[t("div",ar,[t("button",{onClick:st,class:"absolute top-4 right-4 text-white hover:text-gray-300 text-3xl z-10"},s[99]||(s[99]=[t("i",{class:"fas fa-times"},null,-1)])),t("img",{src:Y.value,alt:"Avatar",class:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:s[19]||(s[19]=J(()=>{},["stop"]))},null,8,rr)])])):n("",!0)]}),_:1})}}}),yr=Ht(ir,[["__scopeId","data-v-fdb0ff21"]]);export{yr as default};
