import{r as n,a as y,A as h,B as s,C as k,D as o,G as v,Q as w,W as m,L as u,E as f,H as D,F as b,M as g,N as l,I as O}from"./vendor-vue-g7iCcTkf.js";import{a as x}from"./vendor-utils-CpgP2uT4.js";import{A as S}from"./AppLayout-BKllqouQ.js";import"./app-DlrnVByK.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-10Z7fBeb.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const R={class:"w-full py-8 px-0"},B={class:"flex justify-between items-center mb-6"},C={class:"bg-white rounded-xl shadow-lg p-6 max-w-2xl mx-auto"},N={class:"mb-6"},L={label:"RO Supplier"},G=["value"],M={label:"Delivery Order (RO Supplier GR)"},V=["value"],W={key:0,class:"mt-2 text-sm text-red-600"},A={key:0,class:"text-center py-8"},q={__name:"Create",setup(E){const r=n(""),c=n([]),d=n([]),i=n(""),p=n(!1);y(async()=>{p.value=!0;try{const[a,e]=await Promise.all([x.get("/api/ro-suppliers"),x.get("/api/delivery-orders-ro-supplier")]);c.value=a.data,d.value=e.data}catch(a){console.error("Error fetching data:",a),i.value="Gagal memuat data"}finally{p.value=!1}});const _=()=>{if(r.value){i.value="";try{if(r.value.startsWith("ro-")){const a=r.value.replace("ro-","");m.visit("/good-receive-outlet-supplier/create?ro_number="+a)}else if(r.value.startsWith("do-")){const a=r.value.replace("do-",""),e=d.value.find(t=>t.do_number===a);e?m.visit("/good-receive-outlet-supplier/create-from-do/"+e.id):i.value="Delivery Order tidak ditemukan"}}catch{i.value="Terjadi kesalahan"}}};return(a,e)=>(s(),h(S,null,{default:k(()=>[o("div",R,[o("div",B,[e[3]||(e[3]=o("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[o("i",{class:"fa-solid fa-truck"}),v(" Buat Good Receive Outlet Supplier ")],-1)),o("button",{onClick:e[0]||(e[0]=t=>w(m).visit("/good-receive-outlet-supplier")),class:"bg-gray-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[2]||(e[2]=[o("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),v(" Kembali ")]))]),o("div",C,[o("div",N,[e[5]||(e[5]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pilih RO Supplier atau Delivery Order",-1)),D(o("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400",onChange:_},[e[4]||(e[4]=o("option",{value:""},"Pilih RO Supplier atau DO...",-1)),o("optgroup",L,[(s(!0),u(b,null,g(c.value,t=>(s(),u("option",{key:t.id,value:"ro-"+t.ro_number},l(t.ro_number)+" - "+l(t.floor_order_number||"")+" - "+l(t.tanggal||""),9,G))),128))]),o("optgroup",M,[(s(!0),u(b,null,g(d.value,t=>(s(),u("option",{key:t.id,value:"do-"+t.do_number},l(t.do_number)+" - "+l(t.ro_gr_number||"")+" - "+l(t.ro_floor_order_number||"")+" - "+l(t.outlet_name||""),9,V))),128))])],544),[[O,r.value]]),i.value?(s(),u("div",W,l(i.value),1)):f("",!0)]),p.value?(s(),u("div",A,e[6]||(e[6]=[o("i",{class:"fa fa-spinner fa-spin text-blue-400 text-2xl"},null,-1),o("p",{class:"mt-2 text-gray-600"},"Memuat data...",-1)]))):f("",!0)])])]),_:1}))}};export{q as default};
