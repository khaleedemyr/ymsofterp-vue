import{P as w,w as k,r as S,L as i,E as u,B as n,D as t,N as a,O as B,H as c,J as p,Q as o,I as g}from"./vendor-vue-g7iCcTkf.js";import{S as x}from"./app-C7BJ3pFi.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const M={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},U={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 animate-fade-in"},V={class:"px-8 pt-8 pb-2"},E={class:"flex items-center gap-2 mb-6"},j={class:"text-2xl font-bold text-gray-900"},q={key:0,class:"text-xs text-red-500 mt-1"},F={key:0,class:"text-xs text-red-500 mt-1"},N={key:0,class:"text-xs text-red-500 mt-1"},T={key:0,class:"text-xs text-red-500 mt-1"},_={key:0,class:"text-xs text-red-500 mt-1"},D={class:"flex justify-end gap-2 pt-4"},I=["disabled"],O={__name:"CustomerFormModal",props:{show:Boolean,mode:String,customer:Object},emits:["close","success"],setup(b,{emit:v}){const r=b,m=v,e=w({code:"",name:"",type:"branch",region:"",status:"active"});k(()=>r.show,f=>{f&&r.mode==="edit"&&r.customer?(e.code=r.customer.code,e.name=r.customer.name,e.type=r.customer.type,e.region=r.customer.region,e.status=r.customer.status):f&&r.mode==="create"&&(e.code="",e.name="",e.type="branch",e.region="",e.status="active")});const d=S(!1);async function y(){d.value=!0,r.mode==="create"?e.post(route("customers.store"),{onSuccess:()=>{x.fire("Berhasil","Customer berhasil ditambahkan!","success"),m("success"),m("close")},onError:()=>d.value=!1,onFinish:()=>d.value=!1}):r.mode==="edit"&&r.customer&&(e._method="PUT",e.post(route("customers.update",r.customer.id),{onSuccess:()=>{x.fire("Berhasil","Customer berhasil diupdate!","success"),m("success"),m("close")},onError:()=>d.value=!1,onFinish:()=>d.value=!1}))}function h(){m("close")}return(f,s)=>b.show?(n(),i("div",M,[t("div",U,[t("div",V,[t("div",E,[s[5]||(s[5]=t("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M4 6h16M4 12h16M4 18h16","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),t("h3",j,a(b.mode==="edit"?"Edit":"Tambah")+" Customer",1)]),t("form",{onSubmit:B(y,["prevent"]),class:"space-y-5"},[t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Kode",-1)),c(t("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o(e).code=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"20"},null,512),[[p,o(e).code]]),o(e).errors.code?(n(),i("div",q,a(o(e).errors.code),1)):u("",!0)]),t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Nama",-1)),c(t("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o(e).name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[p,o(e).name]]),o(e).errors.name?(n(),i("div",F,a(o(e).errors.name),1)):u("",!0)]),t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Tipe",-1)),c(t("select",{"onUpdate:modelValue":s[2]||(s[2]=l=>o(e).type=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},s[8]||(s[8]=[t("option",{value:"branch"},"Branch",-1),t("option",{value:"customer"},"Customer",-1)]),512),[[g,o(e).type]]),o(e).errors.type?(n(),i("div",N,a(o(e).errors.type),1)):u("",!0)]),t("div",null,[s[10]||(s[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Region",-1)),c(t("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>o(e).region=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"20"},null,512),[[p,o(e).region]]),o(e).errors.region?(n(),i("div",T,a(o(e).errors.region),1)):u("",!0)]),t("div",null,[s[12]||(s[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),c(t("select",{"onUpdate:modelValue":s[4]||(s[4]=l=>o(e).status=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},s[11]||(s[11]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)]),512),[[g,o(e).status]]),o(e).errors.status?(n(),i("div",_,a(o(e).errors.status),1)):u("",!0)]),t("div",D,[t("button",{type:"button",onClick:h,class:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200"},"Batal"),t("button",{type:"submit",disabled:d.value,class:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-60"},a(b.mode==="edit"?"Update":"Simpan"),9,I)])],32)])])])):u("",!0)}},K=C(O,[["__scopeId","data-v-2a4dad3e"]]);export{K as default};
