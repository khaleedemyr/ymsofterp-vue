import{P as v,w,r as _,L as n,E as a,B as d,D as o,N as u,O as h,H as i,J as m,Q as s,I as V,G as S}from"./vendor-vue-g7iCcTkf.js";import{S as g}from"./app-CL3toCqm.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const B={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},M={class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-0 animate-fade-in"},P={class:"px-8 pt-8 pb-2"},C={class:"flex items-center gap-2 mb-6"},N={class:"text-2xl font-bold text-gray-900"},j={key:0,class:"text-xs text-red-500 mt-1"},E={key:0,class:"text-xs text-red-500 mt-1"},T={key:0,class:"text-xs text-red-500 mt-1"},F={key:0,class:"text-xs text-red-500 mt-1"},H={key:0,class:"text-xs text-red-500 mt-1"},O={class:"md:col-span-2"},z={key:0,class:"text-xs text-red-500 mt-1"},A={key:0,class:"text-xs text-red-500 mt-1"},D={key:0,class:"text-xs text-red-500 mt-1"},I={key:0,class:"text-xs text-red-500 mt-1"},K={key:0,class:"text-xs text-red-500 mt-1"},q={key:0,class:"text-xs text-red-500 mt-1"},R={key:0,class:"text-xs text-red-500 mt-1"},G={key:0,class:"text-xs text-red-500 mt-1"},J={key:0,class:"text-xs text-red-500 mt-1"},L={key:0,class:"text-xs text-red-500 mt-1"},Q={key:0,class:"text-xs text-red-500 mt-1"},W={class:"bg-gray-50 px-6 py-4 flex justify-end rounded-b-2xl"},X=["disabled"],Y={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Z={__name:"SupplierFormModal",props:{show:Boolean,mode:String,supplier:Object},emits:["close","success"],setup(b,{emit:y}){const r=b,c=y,t=v({code:"",name:"",contact_person:"",phone:"",email:"",address:"",city:"",province:"",postal_code:"",npwp:"",bank_name:"",bank_account_number:"",bank_account_name:"",payment_term:"",payment_days:"",status:"active"});w(()=>r.show,x=>{x&&r.mode==="edit"&&r.supplier?Object.assign(t,{code:r.supplier.code,name:r.supplier.name,contact_person:r.supplier.contact_person,phone:r.supplier.phone,email:r.supplier.email,address:r.supplier.address,city:r.supplier.city,province:r.supplier.province,postal_code:r.supplier.postal_code,npwp:r.supplier.npwp,bank_name:r.supplier.bank_name,bank_account_number:r.supplier.bank_account_number,bank_account_name:r.supplier.bank_account_name,payment_term:r.supplier.payment_term,payment_days:r.supplier.payment_days,status:r.supplier.status}):x&&r.mode==="create"&&Object.assign(t,{code:"",name:"",contact_person:"",phone:"",email:"",address:"",city:"",province:"",postal_code:"",npwp:"",bank_name:"",bank_account_number:"",bank_account_name:"",payment_term:"",payment_days:"",status:"active"})});const p=_(!1);async function f(){p.value=!0,r.mode==="create"?t.post(route("suppliers.store"),{onSuccess:()=>{g.fire("Berhasil","Supplier berhasil ditambahkan!","success"),c("success"),c("close")},onError:()=>p.value=!1,onFinish:()=>p.value=!1}):r.mode==="edit"&&r.supplier&&t.patch(route("suppliers.update",r.supplier.id),{onSuccess:()=>{g.fire("Berhasil","Supplier berhasil diupdate!","success"),c("success"),c("close")},onError:()=>p.value=!1,onFinish:()=>p.value=!1})}function k(){c("close")}return(x,e)=>b.show?(d(),n("div",B,[o("div",M,[o("div",P,[o("div",C,[e[16]||(e[16]=o("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M16 7a4 4 0 01-8 0","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),o("path",{d:"M12 3v4m0 0a4 4 0 01-4 4H4m8-4a4 4 0 014 4h4","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),o("h3",N,u(b.mode==="edit"?"Edit":"Tambah")+" Supplier",1)]),o("form",{onSubmit:h(f,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[o("div",null,[e[17]||(e[17]=o("label",{class:"block text-sm font-medium text-gray-700"},"Kode",-1)),i(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s(t).code=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"50"},null,512),[[m,s(t).code]]),s(t).errors.code?(d(),n("div",j,u(s(t).errors.code),1)):a("",!0)]),o("div",null,[e[18]||(e[18]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nama",-1)),i(o("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s(t).name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[m,s(t).name]]),s(t).errors.name?(d(),n("div",E,u(s(t).errors.name),1)):a("",!0)]),o("div",null,[e[19]||(e[19]=o("label",{class:"block text-sm font-medium text-gray-700"},"Contact Person",-1)),i(o("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>s(t).contact_person=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"100"},null,512),[[m,s(t).contact_person]]),s(t).errors.contact_person?(d(),n("div",T,u(s(t).errors.contact_person),1)):a("",!0)]),o("div",null,[e[20]||(e[20]=o("label",{class:"block text-sm font-medium text-gray-700"},"Phone",-1)),i(o("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>s(t).phone=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"30"},null,512),[[m,s(t).phone]]),s(t).errors.phone?(d(),n("div",F,u(s(t).errors.phone),1)):a("",!0)]),o("div",null,[e[21]||(e[21]=o("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),i(o("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(t).email=l),type:"email",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"100"},null,512),[[m,s(t).email]]),s(t).errors.email?(d(),n("div",H,u(s(t).errors.email),1)):a("",!0)]),o("div",O,[e[22]||(e[22]=o("label",{class:"block text-sm font-medium text-gray-700"},"Alamat",-1)),i(o("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(t).address=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,s(t).address]]),s(t).errors.address?(d(),n("div",z,u(s(t).errors.address),1)):a("",!0)]),o("div",null,[e[23]||(e[23]=o("label",{class:"block text-sm font-medium text-gray-700"},"Kota",-1)),i(o("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>s(t).city=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"100"},null,512),[[m,s(t).city]]),s(t).errors.city?(d(),n("div",A,u(s(t).errors.city),1)):a("",!0)]),o("div",null,[e[24]||(e[24]=o("label",{class:"block text-sm font-medium text-gray-700"},"Provinsi",-1)),i(o("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>s(t).province=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"100"},null,512),[[m,s(t).province]]),s(t).errors.province?(d(),n("div",D,u(s(t).errors.province),1)):a("",!0)]),o("div",null,[e[25]||(e[25]=o("label",{class:"block text-sm font-medium text-gray-700"},"Kode Pos",-1)),i(o("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>s(t).postal_code=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"20"},null,512),[[m,s(t).postal_code]]),s(t).errors.postal_code?(d(),n("div",I,u(s(t).errors.postal_code),1)):a("",!0)]),o("div",null,[e[26]||(e[26]=o("label",{class:"block text-sm font-medium text-gray-700"},"NPWP",-1)),i(o("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>s(t).npwp=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"30"},null,512),[[m,s(t).npwp]]),s(t).errors.npwp?(d(),n("div",K,u(s(t).errors.npwp),1)):a("",!0)]),o("div",null,[e[27]||(e[27]=o("label",{class:"block text-sm font-medium text-gray-700"},"Bank",-1)),i(o("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>s(t).bank_name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"100"},null,512),[[m,s(t).bank_name]]),s(t).errors.bank_name?(d(),n("div",q,u(s(t).errors.bank_name),1)):a("",!0)]),o("div",null,[e[28]||(e[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"No. Rekening",-1)),i(o("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>s(t).bank_account_number=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"50"},null,512),[[m,s(t).bank_account_number]]),s(t).errors.bank_account_number?(d(),n("div",R,u(s(t).errors.bank_account_number),1)):a("",!0)]),o("div",null,[e[29]||(e[29]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nama Rekening",-1)),i(o("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>s(t).bank_account_name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"100"},null,512),[[m,s(t).bank_account_name]]),s(t).errors.bank_account_name?(d(),n("div",G,u(s(t).errors.bank_account_name),1)):a("",!0)]),o("div",null,[e[30]||(e[30]=o("label",{class:"block text-sm font-medium text-gray-700"},"Term Pembayaran",-1)),i(o("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>s(t).payment_term=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",maxlength:"50"},null,512),[[m,s(t).payment_term]]),s(t).errors.payment_term?(d(),n("div",J,u(s(t).errors.payment_term),1)):a("",!0)]),o("div",null,[e[31]||(e[31]=o("label",{class:"block text-sm font-medium text-gray-700"},"Hari Pembayaran",-1)),i(o("input",{"onUpdate:modelValue":e[14]||(e[14]=l=>s(t).payment_days=l),type:"number",min:"0",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[m,s(t).payment_days]]),s(t).errors.payment_days?(d(),n("div",L,u(s(t).errors.payment_days),1)):a("",!0)]),o("div",null,[e[33]||(e[33]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),i(o("select",{"onUpdate:modelValue":e[15]||(e[15]=l=>s(t).status=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},e[32]||(e[32]=[o("option",{value:"active"},"Active",-1),o("option",{value:"inactive"},"Inactive",-1)]),512),[[V,s(t).status]]),s(t).errors.status?(d(),n("div",Q,u(s(t).errors.status),1)):a("",!0)])],32)]),o("div",W,[o("button",{type:"button",onClick:k,class:"inline-flex items-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition sm:w-auto sm:text-sm mr-2"}," Batal "),o("button",{type:"button",onClick:f,disabled:p.value,class:"inline-flex items-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(d(),n("svg",Y,e[34]||(e[34]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):a("",!0),S(" "+u(p.value?b.mode==="edit"?"Menyimpan...":"Menambah...":b.mode==="edit"?"Simpan":"Tambah"),1)],8,X)])])])):a("",!0)}},le=U(Z,[["__scopeId","data-v-27293c09"]]);export{le as default};
