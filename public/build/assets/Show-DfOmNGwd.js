import{r as y,P as ue,c as _,w as Te,a8 as Be,A as pe,B as r,C as q,D as e,x as ge,L as a,E as p,G as c,N as l,l as w,Y as Ue,H as W,J,F as $,M as j,O as De,W as C}from"./vendor-vue-g7iCcTkf.js";import{A as Me}from"./AppLayout-D6FAfGlz.js";import{a as A}from"./vendor-utils-CpgP2uT4.js";import{S as m}from"./app-dzBjFUgD.js";import Ne from"./PrintPreviewModal-CzKuA0xE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CUUHZNnG.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const Se={class:"w-full py-8 px-4"},Re={class:"flex justify-between items-center mb-6"},Le={class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},ze={class:"flex space-x-2"},Ge={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},He={class:"lg:col-span-2 space-y-6"},Ve={class:"bg-white rounded-xl shadow-lg p-6"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"text-lg font-semibold text-gray-900"},Je={class:"text-gray-900"},Ye={class:"text-gray-900"},Ke={class:"text-gray-900"},Xe={key:0},Qe={class:"text-gray-900"},Ze={class:"text-gray-900"},et={class:"text-lg font-semibold text-gray-900"},tt={key:1},st={class:"text-lg font-semibold text-red-600"},ot={key:0},lt={key:1},nt={key:2},rt={class:"text-lg font-semibold text-gray-900"},at={class:"md:col-span-2"},it={class:"text-2xl font-bold text-blue-600"},dt={key:0,class:"mt-4"},ut={class:"text-gray-900 mt-1"},pt={class:"mt-4"},gt={class:"mt-1"},ct={key:0,class:"text-gray-700 mt-2 text-sm"},ft={key:0,class:"bg-white rounded-xl shadow-lg p-6"},mt={class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},xt={class:"ml-2 text-sm font-normal text-gray-600"},bt={key:0,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg"},yt={class:"text-sm text-blue-600"},vt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},wt={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},ht={class:"flex items-center justify-between"},kt={class:"text-sm font-medium text-blue-600"},_t={class:"text-2xl font-bold text-blue-800"},Ct={key:0,class:"text-xs text-gray-500 mt-1"},It={class:"bg-orange-50 border border-orange-200 rounded-lg p-4"},Pt={class:"flex items-center justify-between"},Et={class:"text-2xl font-bold text-orange-800"},At={class:"bg-green-50 border border-green-200 rounded-lg p-4"},Ot={class:"flex items-center justify-between"},$t={class:"mt-4"},jt={class:"flex justify-between text-sm text-gray-600 mb-2"},Ft={class:"w-full bg-gray-200 rounded-full h-3"},Tt={key:1,class:"mt-4 p-3 bg-red-100 border border-red-300 rounded text-red-800 text-sm"},Bt={key:0},Ut={key:1},Dt={key:2,class:"mt-4 p-3 bg-yellow-100 border border-yellow-300 rounded text-yellow-800 text-sm"},Mt={key:3,class:"mt-4 pt-4 border-t border-gray-200"},Nt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3"},St={class:"p-3 bg-white rounded-lg border border-blue-100 shadow-sm"},Rt={class:"text-base font-bold text-blue-800"},Lt={class:"p-3 bg-white rounded-lg border border-blue-100 shadow-sm"},zt={class:"text-base font-bold text-blue-800"},Gt={class:"p-3 bg-white rounded-lg border border-orange-100 shadow-sm"},Ht={class:"text-base font-bold text-orange-600"},Vt={class:"p-3 bg-white rounded-lg border border-yellow-100 shadow-sm"},qt={class:"text-base font-bold text-yellow-600"},Wt={class:"p-3 bg-white rounded-lg border border-green-100 shadow-sm"},Jt={class:"text-base font-bold text-green-600"},Yt={class:"p-3 bg-white rounded-lg border border-purple-100 shadow-sm"},Kt={class:"text-base font-bold text-purple-600"},Xt={key:1,class:"bg-white rounded-xl shadow-lg p-6"},Qt={class:"mb-4"},Zt={class:"relative"},es={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},ts=["onClick"],ss={class:"font-medium"},os={class:"text-sm text-gray-600"},ls={key:0,class:"text-xs text-blue-600 font-medium"},ns={key:0,class:"space-y-2"},rs={class:"flex items-center space-x-3"},as={class:"flex items-center space-x-2"},is=["onClick"],ds=["onClick"],us={class:"flex items-center space-x-2"},ps={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},gs={class:"font-medium"},cs={class:"text-sm text-gray-600"},fs={key:0,class:"text-xs text-blue-600 font-medium"},ms=["onClick"],xs={class:"bg-white rounded-xl shadow-lg p-6"},bs={key:0,class:"py-6 text-center text-sm text-gray-500"},ys={key:1,class:"space-y-5"},vs={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 px-4 py-3 bg-gray-50"},ws={class:"text-sm text-gray-700 flex items-center gap-2"},hs={class:"font-semibold text-gray-900"},ks={class:"text-xs text-gray-500"},_s={class:"text-sm text-gray-700"},Cs={class:"font-semibold text-gray-900"},Is={class:"overflow-x-auto"},Ps={class:"min-w-full divide-y divide-gray-200"},Es={class:"bg-white divide-y divide-gray-200"},As={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Os={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$s={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},js={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Fs={class:"px-6 py-4 whitespace-nowrap text-sm text-xs"},Ts={key:0,class:"text-red-600"},Bs={key:0},Us={key:1},Ds={key:1,class:"text-gray-400"},Ms={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right"},Ns={class:"bg-gray-50"},Ss={class:"px-6 py-3 text-right text-sm font-bold text-gray-900"},Rs={key:2,class:"bg-white rounded-xl shadow-lg p-6"},Ls={class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},zs={class:"ml-2 bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},Gs={class:"space-y-3"},Hs={class:"flex items-center space-x-3"},Vs={key:0,class:"relative"},qs=["src","alt","onClick"],Ws={class:"text-sm font-medium text-gray-900"},Js={class:"flex items-center space-x-4 text-xs text-gray-500"},Ys={class:"flex items-center space-x-2"},Ks=["onClick"],Xs=["onClick"],Qs={class:"bg-white rounded-xl shadow-lg p-6"},Zs={class:"text-lg font-semibold text-gray-800 mb-4 flex items-center"},eo={key:0,class:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full"},to={class:"mb-6"},so={class:"border-2 border-dashed border-gray-300 rounded-lg p-6"},oo={class:"text-center"},lo=["disabled"],no={key:0,class:"fas fa-spinner fa-spin mr-2"},ro={key:1,class:"fa fa-upload mr-2"},ao={key:0,class:"space-y-3"},io={class:"flex items-center space-x-3"},uo={key:0,class:"relative"},po=["src","alt","onClick"],go={class:"text-sm font-medium text-gray-900"},co={class:"flex items-center space-x-4 text-xs text-gray-500"},fo={class:"flex items-center space-x-2"},mo=["onClick"],xo=["onClick"],bo=["onClick"],yo={key:1,class:"text-center py-8 text-gray-500"},vo={class:"space-y-6"},wo={class:"bg-white rounded-xl shadow-lg p-6"},ho={class:"space-y-3"},ko={key:0,class:"space-y-2"},_o={key:1,class:"space-y-2"},Co={key:2,class:"space-y-2"},Io={key:3,class:"space-y-2"},Po={class:"bg-white rounded-xl shadow-lg p-6"},Eo={class:"space-y-4"},Ao={key:0},Oo={class:"text-sm text-gray-600 ml-6"},$o={class:"text-xs text-gray-500 ml-6"},jo={key:0,class:"text-sm text-gray-600 ml-6 mt-1"},Fo={key:1},To={class:"text-sm text-gray-600 ml-6"},Bo={class:"text-xs text-gray-500 ml-6"},Uo={key:0,class:"text-sm text-gray-600 ml-6 mt-1"},Do={class:"bg-white rounded-xl shadow-lg p-6"},Mo={class:"space-y-2"},No={class:"text-gray-900"},So={class:"text-gray-900"},Ro={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Lo={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},zo={class:"mt-3"},Go={class:"flex justify-end space-x-2 mt-4"},Ho={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Vo={class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white"},qo={class:"mt-3"},Wo={class:"flex justify-end space-x-2 mt-4"},Jo=["src","alt"],Yo={class:"absolute bottom-4 left-4 right-4 text-center"},Ko={class:"text-white bg-black bg-opacity-50 px-3 py-1 rounded-lg text-sm"},il={__name:"Show",props:{po:Object,user:Object,budgetInfo:Object},setup(o){const i=o,F=y(!1),T=y(!1);y(!1);const N=y(""),S=y("");y([]);const h=y([]),O=y(""),B=y([]),R=y(!1),G=y(!1),Y=ue({approved:!0,note:""}),K=ue({approved:!1,note:""}),x=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),I=s=>new Date(s).toLocaleDateString("id-ID"),ce=s=>({draft:"bg-gray-100 text-gray-800",approved:"bg-green-100 text-green-800",received:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",fe=_(()=>i.po.status==="draft"&&(i.user.id_jabatan===167||i.user.id_role===1)),me=_(()=>i.po.status==="draft"&&i.po.purchasing_manager_approved_at&&(i.user.id_jabatan===152||i.user.id_jabatan===381));function X(s){var t;return(s==null?void 0:s.outlet_id)??((t=s==null?void 0:s.pr_ops_item)==null?void 0:t.outlet_id)??null}function xe(s){var t,d,u;return((t=s==null?void 0:s.outlet)==null?void 0:t.nama_outlet)??((u=(d=s==null?void 0:s.pr_ops_item)==null?void 0:d.outlet)==null?void 0:u.nama_outlet)??(X(s)==null?"Head Office":"Unknown Outlet")}const be=_(()=>{var d;const s=new Map;return(Array.isArray((d=i.po)==null?void 0:d.items)?i.po.items:[]).forEach(u=>{const f=X(u),v=xe(u),k=f==null?"HO":String(f);s.has(k)||s.set(k,{outlet_id:f,outlet_name:v,items:[],subtotal:0});const M=s.get(k);M.items.push(u),M.subtotal+=Number((u==null?void 0:u.total)||0)}),Array.from(s.values()).sort((u,f)=>String(u.outlet_name||"").localeCompare(String(f.outlet_name||""),"id-ID"))}),ye=_(()=>["draft","approved"].includes(i.po.status)),ve=_(()=>["draft","approved"].includes(i.po.status)),Q=_(()=>i.po.status==="draft"),Z=_(()=>i.po.approval_flows&&i.po.approval_flows.some(s=>s.approver_id===i.user.id&&s.status==="PENDING"));_(()=>i.po.approval_flows?i.po.approval_flows.find(s=>s.approver_id===i.user.id&&s.status==="PENDING"):null);const ee=async s=>{var t,d;try{if(Z.value)await _e(s);else{const u=s?Y:K;u.note=s?N.value:S.value;const v=await A.post(`/po-ops/${i.po.id}/approve-pm`,u.data());v.data.success?(m.fire("Success",v.data.message,"success"),C.reload()):m.fire("Error",v.data.message||"Failed to process approval","error")}}catch(u){console.error("Error processing approval:",u),m.fire("Error",((d=(t=u.response)==null?void 0:t.data)==null?void 0:d.message)||"Failed to process approval","error")}},te=async(s="")=>{try{const t=await A.get("/po-ops/approvers",{params:{search:s},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});t.data.success&&(B.value=t.data.users,R.value=!0)}catch(t){console.error("Failed to load approvers:",t),B.value=[]}},we=s=>{h.value.find(t=>t.id===s.id)||h.value.push(s),O.value="",R.value=!1},he=s=>{h.value.splice(s,1)},se=(s,t)=>{const d=h.value.splice(s,1)[0];h.value.splice(t,0,d)},ke=async()=>{var s,t;if(h.value.length===0){m.fire("Error","Please select at least one approver","error");return}try{const d=await A.post(`/po-ops/${i.po.id}/submit-approval`,{approvers:h.value.map(u=>u.id)});d.data.success?(m.fire("Success",d.data.message,"success"),C.reload()):m.fire("Error",d.data.message||"Failed to submit for approval","error")}catch(d){console.error("Error submitting for approval:",d),m.fire("Error",((t=(s=d.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to submit for approval","error")}},_e=async s=>{var t,d;try{const u=s?Y:K;u.comments=s?N.value:S.value;const f=await A.post(`/po-ops/${i.po.id}/approve`,u.data());f.data.success?(m.fire("Success",f.data.message,"success"),C.reload()):m.fire("Error",f.data.message||"Failed to process approval","error")}catch(u){console.error("Error processing approval:",u),m.fire("Error",((d=(t=u.response)==null?void 0:t.data)==null?void 0:d.message)||"Failed to process approval","error")}},Ce=()=>{m.fire({title:"Konfirmasi Hapus",text:`Apakah Anda yakin ingin menghapus PO ${i.po.number}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&C.delete(`/po-ops/${i.po.id}`,{onSuccess:()=>{m.fire("Berhasil!","PO berhasil dihapus.","success"),C.visit("/po-ops")},onError:()=>{m.fire("Error!","Gagal menghapus PO.","error")}})})};function H(){return i.budgetInfo?i.budgetInfo.budget_type==="PER_OUTLET"?i.budgetInfo.outlet_budget:i.budgetInfo.category_budget:0}function oe(){return i.budgetInfo?i.budgetInfo.budget_type==="PER_OUTLET"?i.budgetInfo.outlet_used_amount:i.budgetInfo.category_used_amount:0}function P(){return i.budgetInfo?i.budgetInfo.budget_type==="PER_OUTLET"?i.budgetInfo.outlet_remaining_amount:i.budgetInfo.category_remaining_amount:0}function le(){const s=oe(),t=H();return t===0?0:s/t*100}function Ie(s,t){const d=s/t*100;return d>=100?"bg-red-500":d>=80?"bg-yellow-500":d>=60?"bg-orange-500":"bg-green-500"}function Pe(s){return["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]||"Unknown"}function ne(){if(!i.po.source_pr)return"N/A";if(i.po.source_pr.items&&i.po.source_pr.items.length>0){const s=i.po.source_pr.items.find(t=>t.category_id&&t.category);if(s&&s.category){const t=s.category,d=t.division||"",u=t.name||"";return`${d}${d&&u?" - ":""}${u}`.trim()||"N/A"}}if(i.po.source_pr.category){const s=i.po.source_pr.category,t=s.division||"",d=s.name||"";return`${t}${t&&d?" - ":""}${d}`.trim()||"N/A"}return"N/A"}Te(O,s=>{s.length>=2?te(s):(R.value=!1,B.value=[])});const Ee=async()=>{try{(await A.post(`/po-ops/${i.po.id}/mark-printed`)).data.success&&(m.fire("Success","PO marked as printed","success"),C.reload())}catch(s){console.error("Error marking as printed:",s),m.fire("Error","Failed to mark as printed","error")}},U=y(!1),D=s=>{if(!s)return!1;const t=["jpg","jpeg","png","gif","webp","bmp"],d=s.split(".").pop().toLowerCase();return t.includes(d)},L=s=>{if(!s)return"fa-file";const t=s.split(".").pop().toLowerCase();return{pdf:"fa-file-pdf text-red-500",doc:"fa-file-word text-blue-500",docx:"fa-file-word text-blue-500",xls:"fa-file-excel text-green-500",xlsx:"fa-file-excel text-green-500",ppt:"fa-file-powerpoint text-orange-500",pptx:"fa-file-powerpoint text-orange-500",jpg:"fa-file-image text-purple-500",jpeg:"fa-file-image text-purple-500",png:"fa-file-image text-purple-500",gif:"fa-file-image text-purple-500",txt:"fa-file-alt text-gray-500",zip:"fa-file-archive text-yellow-500",rar:"fa-file-archive text-yellow-500",webp:"fa-file-image text-purple-500",bmp:"fa-file-image text-purple-500"}[t]||"fa-file text-gray-500"},re=s=>{if(!s)return"0 Bytes";const t=1024,d=["Bytes","KB","MB","GB","TB"],u=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,u)).toFixed(2))+" "+d[u]},Ae=s=>{window.open(`/po-ops/attachments/${s.id}/download`,"_blank")},Oe=s=>{window.open(`/purchase-requisitions/attachments/${s.id}/download`,"_blank")},V=y(!1),E=y(null),ae=y("po"),z=(s,t="po")=>{D(s.file_name)&&(E.value=s,ae.value=t,V.value=!0)},ie=()=>{V.value=!1,E.value=null},$e=async s=>{var d,u;const t=s.target.files;if(!(!t||t.length===0)){U.value=!0;try{for(const f of t){const v=new FormData;v.append("file",f);const k=await A.post(`/po-ops/${i.po.id}/attachments`,v,{headers:{"Content-Type":"multipart/form-data"}});k.data.success?C.reload():m.fire("Error",k.data.message||"Failed to upload file","error")}}catch(f){console.error("Upload error:",f),m.fire("Error",((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to upload file","error")}finally{U.value=!1,s.target.value=""}}},je=async s=>{var d,u;if((await m.fire({title:"Are you sure?",text:`Do you want to delete "${s.file_name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const f=await A.delete(`/po-ops/attachments/${s.id}`);f.data.success?(m.fire("Deleted!","File has been deleted.","success"),C.reload()):m.fire("Error",f.data.message||"Failed to delete file","error")}catch(f){console.error("Delete error:",f),m.fire("Error",((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to delete file","error")}},Fe=s=>s.uploaded_by===i.user.id||i.user.id_role===1;return(s,t)=>{const d=Be("Link");return r(),pe(Me,{title:"Purchase Order Ops Details"},{default:q(()=>{var u,f,v,k,M,de;return[e("div",Se,[e("div",Re,[e("h1",Le,[t[20]||(t[20]=e("i",{class:"fa-solid fa-shopping-cart text-blue-500"},null,-1)),c(" Purchase Order: "+l(o.po.number),1)]),e("div",ze,[ye.value?(r(),pe(d,{key:0,href:`/po-ops/${o.po.id}/edit`,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"},{default:q(()=>t[21]||(t[21]=[e("i",{class:"fas fa-edit mr-2"},null,-1),c(" Edit ")])),_:1},8,["href"])):p("",!0),o.po.status==="approved"?(r(),a("button",{key:1,onClick:t[0]||(t[0]=n=>G.value=!0),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2",title:"Print PO"},t[22]||(t[22]=[e("i",{class:"fas fa-print mr-2"},null,-1),c(" Print PO ")]))):p("",!0),ge(d,{href:"/po-ops",class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:q(()=>t[23]||(t[23]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),c(" Back to List ")])),_:1})])]),e("div",Ge,[e("div",He,[e("div",Ve,[t[38]||(t[38]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Basic Information",-1)),e("div",qe,[e("div",null,[t[24]||(t[24]=e("label",{class:"text-sm font-medium text-gray-600"},"PO Number",-1)),e("p",We,l(o.po.number),1)]),e("div",null,[t[25]||(t[25]=e("label",{class:"text-sm font-medium text-gray-600"},"Status",-1)),e("span",{class:w(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ce(o.po.status)])},l(o.po.status.toUpperCase()),3)]),e("div",null,[t[26]||(t[26]=e("label",{class:"text-sm font-medium text-gray-600"},"Date",-1)),e("p",Je,l(I(o.po.date)),1)]),e("div",null,[t[27]||(t[27]=e("label",{class:"text-sm font-medium text-gray-600"},"Supplier",-1)),e("p",Ye,l(((u=o.po.supplier)==null?void 0:u.name)||"-"),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"text-sm font-medium text-gray-600"},"Source PR",-1)),e("p",Ke,l(((f=o.po.source_pr)==null?void 0:f.pr_number)||"-"),1)]),ne()?(r(),a("div",Xe,[t[29]||(t[29]=e("label",{class:"text-sm font-medium text-gray-600"},"Category",-1)),e("p",Qe,l(ne()),1)])):p("",!0),e("div",null,[t[30]||(t[30]=e("label",{class:"text-sm font-medium text-gray-600"},"Arrival Date",-1)),e("p",Ze,l(o.po.arrival_date?I(o.po.arrival_date):"-"),1)]),e("div",null,[t[31]||(t[31]=e("label",{class:"text-sm font-medium text-gray-600"},"Subtotal",-1)),e("p",et,l(x(o.po.subtotal)),1)]),o.po.discount_total_percent>0||o.po.discount_total_amount>0?(r(),a("div",tt,[t[32]||(t[32]=e("label",{class:"text-sm font-medium text-gray-600"},"Diskon Total",-1)),e("p",st,[o.po.discount_total_percent>0?(r(),a("span",ot,l(o.po.discount_total_percent)+"%",1)):p("",!0),o.po.discount_total_percent>0&&o.po.discount_total_amount>0?(r(),a("span",lt," / ")):p("",!0),o.po.discount_total_amount>0?(r(),a("span",nt,l(x(o.po.discount_total_amount)),1)):p("",!0)])])):p("",!0),e("div",null,[t[33]||(t[33]=e("label",{class:"text-sm font-medium text-gray-600"},"PPN (11%)",-1)),e("p",rt,l(x(o.po.ppn_amount)),1)]),e("div",at,[t[34]||(t[34]=e("label",{class:"text-sm font-medium text-gray-600"},"Grand Total",-1)),e("p",it,l(x(o.po.grand_total)),1)])]),o.po.notes?(r(),a("div",dt,[t[35]||(t[35]=e("label",{class:"text-sm font-medium text-gray-600"},"Notes",-1)),e("p",ut,l(o.po.notes),1)])):p("",!0),e("div",pt,[t[37]||(t[37]=e("label",{class:"text-sm font-medium text-gray-600"},"Metode Pembayaran",-1)),e("div",gt,[e("span",{class:w(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",o.po.payment_type==="lunas"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"])},[e("i",{class:w(o.po.payment_type==="lunas"?"fa fa-check-circle mr-1":"fa fa-calendar-alt mr-1")},null,2),c(" "+l(o.po.payment_type==="lunas"?"Bayar Lunas":"Termin Bayar"),1)],2)]),o.po.payment_type==="termin"&&o.po.payment_terms?(r(),a("p",ct,[t[36]||(t[36]=e("strong",null,"Detail Termin:",-1)),c(" "+l(o.po.payment_terms),1)])):p("",!0)])]),o.budgetInfo?(r(),a("div",ft,[e("h2",mt,[t[39]||(t[39]=e("i",{class:"fa fa-chart-pie mr-2 text-green-500"},null,-1)),c(" "+l(o.budgetInfo.budget_type==="PER_OUTLET"?"Outlet Budget Information":"Category Budget Information")+" - "+l(Pe(o.budgetInfo.current_month))+" "+l(o.budgetInfo.current_year)+" ",1),e("span",xt," ("+l(o.budgetInfo.budget_type==="PER_OUTLET"?"Per Outlet":"Global")+") ",1)]),o.budgetInfo.budget_type==="PER_OUTLET"&&o.budgetInfo.outlet_info?(r(),a("div",bt,[e("p",yt,[t[40]||(t[40]=e("i",{class:"fa fa-store mr-2"},null,-1)),t[41]||(t[41]=e("strong",null,"Outlet:",-1)),c(" "+l(o.budgetInfo.outlet_info.name),1)])])):p("",!0),e("div",vt,[e("div",wt,[e("div",ht,[e("div",null,[e("p",kt,l(o.budgetInfo.budget_type==="PER_OUTLET"?"Outlet Budget":"Total Budget"),1),e("p",_t,l(x(o.budgetInfo.budget_type==="PER_OUTLET"?o.budgetInfo.outlet_budget:o.budgetInfo.category_budget)),1),o.budgetInfo.budget_type==="PER_OUTLET"?(r(),a("p",Ct," Global: "+l(x(o.budgetInfo.category_budget)),1)):p("",!0)]),t[42]||(t[42]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},[e("i",{class:"fa fa-wallet text-blue-600 text-xl"})],-1))])]),e("div",It,[e("div",Pt,[e("div",null,[t[43]||(t[43]=e("p",{class:"text-sm font-medium text-orange-600"},"Used This Month",-1)),e("p",Et,l(x(o.budgetInfo.budget_type==="PER_OUTLET"?o.budgetInfo.outlet_used_amount:o.budgetInfo.category_used_amount)),1)]),t[44]||(t[44]=e("div",{class:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center"},[e("i",{class:"fa fa-chart-line text-orange-600 text-xl"})],-1))])]),e("div",At,[e("div",Ot,[e("div",null,[t[45]||(t[45]=e("p",{class:"text-sm font-medium text-green-600"},"Remaining Budget",-1)),e("p",{class:w(["text-2xl font-bold",P()<0?"text-red-800":"text-green-800"])},l(x(P())),3)]),e("div",{class:w(["w-12 h-12 rounded-full flex items-center justify-center",P()<0?"bg-red-100":"bg-green-100"])},[e("i",{class:w(["fa fa-piggy-bank text-xl",P()<0?"text-red-600":"text-green-600"])},null,2)],2)])])]),e("div",$t,[e("div",jt,[t[46]||(t[46]=e("span",null,"Budget Usage",-1)),e("span",null,l(Math.round(le()))+"%",1)]),e("div",Ft,[e("div",{class:w(["h-3 rounded-full transition-all duration-300",Ie(oe(),H())]),style:Ue({width:Math.min(le(),100)+"%"})},null,6)])]),P()<0?(r(),a("div",Tt,[t[47]||(t[47]=e("i",{class:"fa fa-exclamation-triangle mr-2"},null,-1)),t[48]||(t[48]=e("strong",null,"Budget Exceeded!",-1)),o.budgetInfo.budget_type==="PER_OUTLET"?(r(),a("span",Bt," This outlet has exceeded its monthly budget limit. ")):(r(),a("span",Ut," This category has exceeded its monthly budget limit. "))])):P()<H()*.1?(r(),a("div",Dt,[t[49]||(t[49]=e("i",{class:"fa fa-exclamation-circle mr-2"},null,-1)),t[50]||(t[50]=e("strong",null,"Budget Warning!",-1)),c(" Only "+l(x(P()))+" remaining. ",1)])):p("",!0),o.budgetInfo.breakdown?(r(),a("div",Mt,[t[60]||(t[60]=e("h5",{class:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2"},[e("i",{class:"fa fa-list-ul text-blue-500"}),c("Budget Breakdown Detail ")],-1)),e("div",Nt,[e("div",St,[t[51]||(t[51]=e("p",{class:"text-blue-600 font-medium text-xs mb-1"},"PR Unpaid",-1)),e("p",Rt,l(x(o.budgetInfo.breakdown.pr_unpaid||0)),1),t[52]||(t[52]=e("p",{class:"text-xs text-gray-500 mt-1"},[c("PR Submitted & Approved"),e("br"),c("yang belum dibuat PO")],-1))]),e("div",Lt,[t[53]||(t[53]=e("p",{class:"text-blue-600 font-medium text-xs mb-1"},"PO Unpaid",-1)),e("p",zt,l(x(o.budgetInfo.breakdown.po_unpaid||0)),1),t[54]||(t[54]=e("p",{class:"text-xs text-gray-500 mt-1"},[c("PO Submitted & Approved"),e("br"),c("yang belum dibuat NFP")],-1))]),e("div",Gt,[t[55]||(t[55]=e("p",{class:"text-orange-600 font-medium text-xs mb-1"},"NFP Submitted",-1)),e("p",Ht,l(x(o.budgetInfo.breakdown.nfp_submitted||0)),1)]),e("div",Vt,[t[56]||(t[56]=e("p",{class:"text-yellow-600 font-medium text-xs mb-1"},"NFP Approved",-1)),e("p",qt,l(x(o.budgetInfo.breakdown.nfp_approved||0)),1)]),e("div",Wt,[t[57]||(t[57]=e("p",{class:"text-green-600 font-medium text-xs mb-1"},"NFP Paid",-1)),e("p",Jt,l(x(o.budgetInfo.breakdown.nfp_paid||0)),1)]),e("div",Yt,[t[58]||(t[58]=e("p",{class:"text-purple-600 font-medium text-xs mb-1"},"Retail Non Food",-1)),e("p",Kt,l(x(o.budgetInfo.breakdown.retail_non_food||0)),1),t[59]||(t[59]=e("p",{class:"text-xs text-gray-500 mt-1"},"Status: Approved",-1))])])])):p("",!0)])):p("",!0),Q.value?(r(),a("div",Xt,[t[65]||(t[65]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Approval Flow",-1)),t[66]||(t[66]=e("p",{class:"text-sm text-gray-600 mb-4"},"Add approvers in order from lowest to highest level. The first approver will be the lowest level, and the last approver will be the highest level.",-1)),e("div",Qt,[e("div",Zt,[W(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>O.value=n),type:"text",placeholder:"Search users by name, email, or jabatan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onFocus:t[2]||(t[2]=n=>O.value.length>=2&&te(O.value))},null,544),[[J,O.value]]),R.value&&B.value.length>0?(r(),a("div",es,[(r(!0),a($,null,j(B.value,n=>(r(),a("div",{key:n.id,onClick:g=>we(n),class:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0"},[e("div",ss,l(n.name),1),e("div",os,l(n.email),1),n.jabatan?(r(),a("div",ls,l(n.jabatan),1)):p("",!0)],8,ts))),128))])):p("",!0)])]),h.value.length>0?(r(),a("div",ns,[t[64]||(t[64]=e("h4",{class:"font-medium text-gray-700"},"Approval Order (Lowest to Highest):",-1)),(r(!0),a($,null,j(h.value,(n,g)=>(r(),a("div",{key:n.id,class:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-md"},[e("div",rs,[e("div",as,[g>0?(r(),a("button",{key:0,onClick:b=>se(g,g-1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Move Up"},t[61]||(t[61]=[e("i",{class:"fa fa-arrow-up"},null,-1)]),8,is)):p("",!0),g<h.value.length-1?(r(),a("button",{key:1,onClick:b=>se(g,g+1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Move Down"},t[62]||(t[62]=[e("i",{class:"fa fa-arrow-down"},null,-1)]),8,ds)):p("",!0)]),e("div",us,[e("span",ps," Level "+l(g+1),1),e("div",null,[e("div",gs,l(n.name),1),e("div",cs,l(n.email),1),n.jabatan?(r(),a("div",fs,l(n.jabatan),1)):p("",!0)])])]),e("button",{onClick:b=>he(g),class:"p-1 text-red-500 hover:text-red-700",title:"Remove Approver"},t[63]||(t[63]=[e("i",{class:"fa fa-times"},null,-1)]),8,ms)]))),128))])):p("",!0)])):p("",!0),e("div",xs,[t[72]||(t[72]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Items",-1)),!o.po.items||o.po.items.length===0?(r(),a("div",bs," No items found. ")):(r(),a("div",ys,[(r(!0),a($,null,j(be.value,n=>(r(),a("div",{key:n.outlet_id??"HO",class:"border border-gray-200 rounded-xl overflow-hidden"},[e("div",vs,[e("div",ws,[t[67]||(t[67]=e("i",{class:"fa fa-store text-blue-600"},null,-1)),t[68]||(t[68]=e("span",{class:"font-medium"},"Outlet:",-1)),e("span",hs,l(n.outlet_name),1),e("span",ks,"("+l(n.items.length)+" item)",1)]),e("div",_s,[t[69]||(t[69]=e("span",{class:"font-medium"},"Subtotal Outlet:",-1)),e("span",Cs,l(x(n.subtotal)),1)])]),e("div",Is,[e("table",Ps,[t[71]||(t[71]=e("thead",{class:"bg-white"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Unit"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Diskon"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total")])],-1)),e("tbody",Es,[(r(!0),a($,null,j(n.items,g=>(r(),a("tr",{key:g.id},[e("td",As,l(g.item_name),1),e("td",Os,l(g.quantity),1),e("td",$s,l(g.unit),1),e("td",js,l(x(g.price)),1),e("td",Fs,[g.discount_percent>0||g.discount_amount>0?(r(),a("div",Ts,[g.discount_percent>0?(r(),a("div",Bs,l(g.discount_percent)+"%",1)):p("",!0),g.discount_amount>0?(r(),a("div",Us,l(x(g.discount_amount)),1)):p("",!0)])):(r(),a("span",Ds,"-"))]),e("td",Ms,l(x(g.total)),1)]))),128)),e("tr",Ns,[t[70]||(t[70]=e("td",{colspan:"5",class:"px-6 py-3 text-right text-sm font-semibold text-gray-700"}," Subtotal Outlet ",-1)),e("td",Ss,l(x(n.subtotal)),1)])])])])]))),128))]))]),o.po.source_pr&&o.po.source_pr.attachments&&o.po.source_pr.attachments.length>0?(r(),a("div",Rs,[e("h2",Ls,[t[73]||(t[73]=e("i",{class:"fa fa-paperclip mr-2 text-green-500"},null,-1)),t[74]||(t[74]=c(" Purchase Requisition Attachments ")),e("span",zs,l(o.po.source_pr.attachments.length),1)]),e("div",Gs,[(r(!0),a($,null,j(o.po.source_pr.attachments,n=>{var g;return r(),a("div",{key:n.id,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors"},[e("div",Hs,[D(n.file_name)?(r(),a("div",Vs,[e("img",{src:`/purchase-requisitions/attachments/${n.id}/view`,alt:n.file_name,class:"w-12 h-12 object-cover rounded-lg border border-gray-300 cursor-pointer hover:opacity-80 transition-opacity",onClick:b=>z(n,"pr"),onError:t[3]||(t[3]=b=>{b.target.style.display="none",b.target.nextElementSibling.style.display="block"})},null,40,qs),e("i",{class:w([L(n.file_name),"text-lg absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg"]),style:{display:"none"}},null,2)])):(r(),a("i",{key:1,class:w([L(n.file_name),"text-lg"])},null,2)),e("div",null,[e("p",Ws,l(n.file_name),1),e("div",Js,[e("span",null,l(re(n.file_size)),1),t[75]||(t[75]=e("span",null,"•",-1)),e("span",null,"Uploaded by "+l(((g=n.uploader)==null?void 0:g.nama_lengkap)||"Unknown User"),1),t[76]||(t[76]=e("span",null,"•",-1)),e("span",null,l(I(n.created_at)),1)])])]),e("div",Ys,[D(n.file_name)?(r(),a("button",{key:0,onClick:b=>z(n,"pr"),class:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-md transition-colors",title:"View Image"},t[77]||(t[77]=[e("i",{class:"fa fa-eye"},null,-1)]),8,Ks)):p("",!0),e("button",{onClick:b=>Oe(n),class:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-md transition-colors",title:"Download"},t[78]||(t[78]=[e("i",{class:"fa fa-download"},null,-1)]),8,Xs)])])}),128))])])):p("",!0),e("div",Qs,[e("h2",Zs,[t[79]||(t[79]=e("i",{class:"fa fa-paperclip mr-2 text-blue-500"},null,-1)),t[80]||(t[80]=c(" Purchase Order Attachments ")),o.po.attachments&&o.po.attachments.length>0?(r(),a("span",eo,l(o.po.attachments.length),1)):p("",!0)]),e("div",to,[e("div",so,[e("div",oo,[e("input",{ref:"fileInput",type:"file",multiple:"",onChange:$e,class:"hidden",accept:"*/*"},null,544),e("button",{type:"button",onClick:t[4]||(t[4]=n=>s.$refs.fileInput.click()),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:U.value},[U.value?(r(),a("i",no)):(r(),a("i",ro)),c(" "+l(U.value?"Uploading...":"Upload Files"),1)],8,lo),t[81]||(t[81]=e("p",{class:"mt-2 text-sm text-gray-500"}," Upload any file type (Max 10MB per file) ",-1))])])]),o.po.attachments&&o.po.attachments.length>0?(r(),a("div",ao,[(r(!0),a($,null,j(o.po.attachments,n=>{var g;return r(),a("div",{key:n.id,class:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors"},[e("div",io,[D(n.file_name)?(r(),a("div",uo,[e("img",{src:`/po-ops/attachments/${n.id}/view`,alt:n.file_name,class:"w-12 h-12 object-cover rounded-lg border border-gray-300 cursor-pointer hover:opacity-80 transition-opacity",onClick:b=>z(n),onError:t[5]||(t[5]=b=>{b.target.style.display="none",b.target.nextElementSibling.style.display="block"})},null,40,po),e("i",{class:w([L(n.file_name),"text-lg absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg"]),style:{display:"none"}},null,2)])):(r(),a("i",{key:1,class:w([L(n.file_name),"text-lg"])},null,2)),e("div",null,[e("p",go,l(n.file_name),1),e("div",co,[e("span",null,l(re(n.file_size)),1),t[82]||(t[82]=e("span",null,"•",-1)),e("span",null,"Uploaded by "+l(((g=n.uploader)==null?void 0:g.nama_lengkap)||"Unknown User"),1),t[83]||(t[83]=e("span",null,"•",-1)),e("span",null,l(I(n.created_at)),1)])])]),e("div",fo,[D(n.file_name)?(r(),a("button",{key:0,onClick:b=>z(n),class:"p-2 text-green-600 hover:text-green-800 hover:bg-green-100 rounded-md transition-colors",title:"View Image"},t[84]||(t[84]=[e("i",{class:"fa fa-eye"},null,-1)]),8,mo)):p("",!0),e("button",{onClick:b=>Ae(n),class:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-md transition-colors",title:"Download"},t[85]||(t[85]=[e("i",{class:"fa fa-download"},null,-1)]),8,xo),Fe(n)?(r(),a("button",{key:1,onClick:b=>je(n),class:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-md transition-colors",title:"Delete"},t[86]||(t[86]=[e("i",{class:"fa fa-trash"},null,-1)]),8,bo)):p("",!0)])])}),128))])):(r(),a("div",yo,t[87]||(t[87]=[e("i",{class:"fa fa-paperclip text-4xl mb-2"},null,-1),e("p",null,"No attachments uploaded yet",-1)])))])]),e("div",vo,[e("div",wo,[t[97]||(t[97]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Actions",-1)),e("div",ho,[fe.value?(r(),a("div",ko,[e("button",{onClick:t[6]||(t[6]=n=>F.value=!0),class:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},t[88]||(t[88]=[e("i",{class:"fas fa-check mr-2"},null,-1),c(" Approve (PM) ")])),e("button",{onClick:t[7]||(t[7]=n=>T.value=!0),class:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"},t[89]||(t[89]=[e("i",{class:"fas fa-times mr-2"},null,-1),c(" Reject (PM) ")]))])):p("",!0),me.value?(r(),a("div",_o,[e("button",{onClick:t[8]||(t[8]=n=>F.value=!0),class:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},t[90]||(t[90]=[e("i",{class:"fas fa-check mr-2"},null,-1),c(" Approve (GM Finance) ")])),e("button",{onClick:t[9]||(t[9]=n=>T.value=!0),class:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"},t[91]||(t[91]=[e("i",{class:"fas fa-times mr-2"},null,-1),c(" Reject (GM Finance) ")]))])):p("",!0),Q.value?(r(),a("div",Co,[e("button",{onClick:ke,class:"w-full bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700"},t[92]||(t[92]=[e("i",{class:"fas fa-paper-plane mr-2"},null,-1),c(" Submit for Approval ")]))])):p("",!0),Z.value?(r(),a("div",Io,[e("button",{onClick:t[10]||(t[10]=n=>F.value=!0),class:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},t[93]||(t[93]=[e("i",{class:"fas fa-check mr-2"},null,-1),c(" Approve ")])),e("button",{onClick:t[11]||(t[11]=n=>T.value=!0),class:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"},t[94]||(t[94]=[e("i",{class:"fas fa-times mr-2"},null,-1),c(" Reject ")]))])):p("",!0),e("button",{onClick:Ee,class:"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700"},t[95]||(t[95]=[e("i",{class:"fas fa-print mr-2"},null,-1),c(" Mark as Printed ")])),ve.value?(r(),a("button",{key:4,onClick:Ce,class:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"},t[96]||(t[96]=[e("i",{class:"fas fa-trash mr-2"},null,-1),c(" Delete ")]))):p("",!0)])]),e("div",Po,[t[100]||(t[100]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Approval History",-1)),e("div",Eo,[o.po.purchasing_manager_approved_at?(r(),a("div",Ao,[t[98]||(t[98]=e("div",{class:"flex items-center space-x-2"},[e("i",{class:"fas fa-user-tie text-blue-500"}),e("span",{class:"font-medium"},"Purchasing Manager"),e("span",{class:"text-green-600 text-sm"},"✓ Approved")],-1)),e("p",Oo,l((v=o.po.purchasing_manager)==null?void 0:v.nama_lengkap),1),e("p",$o,l(I(o.po.purchasing_manager_approved_at)),1),o.po.purchasing_manager_note?(r(),a("p",jo,l(o.po.purchasing_manager_note),1)):p("",!0)])):p("",!0),o.po.gm_finance_approved_at?(r(),a("div",Fo,[t[99]||(t[99]=e("div",{class:"flex items-center space-x-2"},[e("i",{class:"fas fa-user-shield text-purple-500"}),e("span",{class:"font-medium"},"GM Finance"),e("span",{class:"text-green-600 text-sm"},"✓ Approved")],-1)),e("p",To,l((k=o.po.gm_finance)==null?void 0:k.nama_lengkap),1),e("p",Bo,l(I(o.po.gm_finance_approved_at)),1),o.po.gm_finance_note?(r(),a("p",Uo,l(o.po.gm_finance_note),1)):p("",!0)])):p("",!0)])]),e("div",Do,[t[103]||(t[103]=e("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Creator Info",-1)),e("div",Mo,[e("div",null,[t[101]||(t[101]=e("span",{class:"text-sm font-medium text-gray-600"},"Created by:",-1)),e("p",No,l(((M=o.po.creator)==null?void 0:M.nama_lengkap)||"-"),1)]),e("div",null,[t[102]||(t[102]=e("span",{class:"text-sm font-medium text-gray-600"},"Created at:",-1)),e("p",So,l(I(o.po.created_at)),1)])])])])]),F.value?(r(),a("div",Ro,[e("div",Lo,[e("div",zo,[t[104]||(t[104]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Approval Note",-1)),W(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=n=>N.value=n),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter approval note..."},null,512),[[J,N.value]]),e("div",Go,[e("button",{onClick:t[13]||(t[13]=n=>F.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"}," Cancel "),e("button",{onClick:t[14]||(t[14]=n=>ee(!0)),class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"}," Approve ")])])])])):p("",!0),T.value?(r(),a("div",Ho,[e("div",Vo,[e("div",qo,[t[105]||(t[105]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Rejection Reason",-1)),W(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=n=>S.value=n),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Enter rejection reason..."},null,512),[[J,S.value]]),e("div",Wo,[e("button",{onClick:t[16]||(t[16]=n=>T.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400"}," Cancel "),e("button",{onClick:t[17]||(t[17]=n=>ee(!1)),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"}," Reject ")])])])])):p("",!0)]),ge(Ne,{show:G.value,po:o.po,onClose:t[18]||(t[18]=n=>G.value=!1)},null,8,["show","po"]),V.value?(r(),a("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:ie},[e("div",{class:"relative max-w-4xl max-h-full p-4",onClick:t[19]||(t[19]=De(()=>{},["stop"]))},[e("button",{onClick:ie,class:"absolute top-2 right-2 z-10 p-2 text-white bg-black bg-opacity-50 rounded-full hover:bg-opacity-75 transition-colors"},t[106]||(t[106]=[e("i",{class:"fa fa-times text-xl"},null,-1)])),E.value?(r(),a("img",{key:0,src:ae.value==="pr"?`/purchase-requisitions/attachments/${E.value.id}/view`:`/po-ops/attachments/${E.value.id}/view`,alt:E.value.file_name,class:"max-w-full max-h-full object-contain rounded-lg"},null,8,Jo)):p("",!0),e("div",Yo,[e("p",Ko,l((de=E.value)==null?void 0:de.file_name),1)])])])):p("",!0)]}),_:1})}}};export{il as default};
