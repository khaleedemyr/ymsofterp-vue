import{r as f,c as S,A as B,B as a,C as v,D as t,G as m,x as N,Q as V,S as L,H as w,L as r,F as g,M as x,N as l,I as h,E as O,l as D,W as E}from"./vendor-vue-g7iCcTkf.js";import{A as F}from"./AppLayout-DwCHohmp.js";import"./vendor-utils-CpgP2uT4.js";import"./app-BFfP2QJl.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BgI6B89c.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const I={class:"max-w-7xl w-full mx-auto py-8 px-2"},T={class:"mb-6 flex justify-between items-center"},U={class:"flex gap-2"},j={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},z={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},M=["value"],R=["value"],K={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},W={class:"text-sm font-medium text-gray-500 mb-2"},G={class:"text-2xl font-bold text-gray-900"},H={class:"bg-white rounded-xl shadow-lg overflow-hidden"},P={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},$={class:"bg-white divide-y divide-gray-200"},q={key:0},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},tt={class:"px-6 py-4 whitespace-nowrap"},pt={__name:"AssetByCategory",props:{assets:Array,categories:Array,outlets:Array,filters:Object},setup(n){var y,b;const c=n,i=f(((y=c.filters)==null?void 0:y.category_id)||""),u=f(((b=c.filters)==null?void 0:b.outlet_id)||""),_=S(()=>{const o={};return c.assets.forEach(e=>{var d;const s=e.category_id||"uncategorized",p=((d=e.category)==null?void 0:d.name)||"Uncategorized";o[s]||(o[s]={id:s,name:p,count:0}),o[s].count++}),Object.values(o)});function k(){E.get("/asset-management/reports/asset-by-category",{category_id:i.value,outlet_id:u.value},{preserveState:!0,replace:!0})}function A(){const o=new URLSearchParams({category_id:i.value||"",outlet_id:u.value||"",export:"1"});window.open(`/asset-management/reports/asset-by-category?${o.toString()}`,"_blank")}function C(o){return{Active:"bg-green-100 text-green-800",Maintenance:"bg-yellow-100 text-yellow-800",Disposed:"bg-red-100 text-red-800",Lost:"bg-gray-100 text-gray-800",Transfer:"bg-blue-100 text-blue-800"}[o]||"bg-gray-100 text-gray-800"}return(o,e)=>(a(),B(F,null,{default:v(()=>[t("div",I,[t("div",T,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-tags text-blue-500"}),m(" Asset by Category Report ")]),t("p",{class:"text-gray-600 mt-1"},"Asset per kategori")],-1)),t("div",U,[t("button",{onClick:A,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2"},e[2]||(e[2]=[t("i",{class:"fa-solid fa-download"},null,-1),m(" Export ")])),N(V(L),{href:"/asset-management/reports",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:v(()=>e[3]||(e[3]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),m(" Kembali ")])),_:1})])]),t("div",j,[t("div",z,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),w(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[e[5]||(e[5]=t("option",{value:""},"Semua Kategori",-1)),(a(!0),r(g,null,x(n.categories,s=>(a(),r("option",{key:s.id,value:s.id},l(s.name),9,M))),128))],512),[[h,i.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[e[7]||(e[7]=t("option",{value:""},"Semua Outlet",-1)),(a(!0),r(g,null,x(n.outlets,s=>(a(),r("option",{key:s.id,value:s.id},l(s.name),9,R))),128))],512),[[h,u.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Action",-1)),t("button",{onClick:k,class:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg"}," Apply Filters ")])])]),t("div",K,[(a(!0),r(g,null,x(_.value,s=>(a(),r("div",{key:s.id,class:"bg-white rounded-xl shadow-lg p-4"},[t("h3",W,l(s.name),1),t("p",G,l(s.count),1),e[10]||(e[10]=t("p",{class:"text-xs text-gray-500 mt-1"},"Total Assets",-1))]))),128))]),t("div",H,[t("div",P,[t("table",Q,[e[12]||(e[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Category"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Asset Code"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Name"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),t("tbody",$,[n.assets.length===0?(a(),r("tr",q,e[11]||(e[11]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," Tidak ada data ",-1)]))):O("",!0),(a(!0),r(g,null,x(n.assets,s=>{var p,d;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",J,l(((p=s.category)==null?void 0:p.name)||"-"),1),t("td",X,l(s.asset_code),1),t("td",Y,l(s.name),1),t("td",Z,l(((d=s.current_outlet)==null?void 0:d.name)||"-"),1),t("td",tt,[t("span",{class:D([C(s.status),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.status),3)])])}),128))])])])])])]),_:1}))}};export{pt as default};
