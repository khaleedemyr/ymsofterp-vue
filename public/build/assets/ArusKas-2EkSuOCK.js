import{r as x,c as k,w as T,A as B,B as o,C as L,D as t,L as n,E as g,G as u,H as w,J as O,F as _,M as A,N as r,I,l as b,W as M}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-Cke2dYBX.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-AaUk6aDd.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-DtjcyHN1.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const C={class:"min-h-screen bg-gradient-to-br from-gray-50 via-green-50/30 to-gray-50 py-6 px-4 sm:px-6 lg:px-8"},N={class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 mb-6 backdrop-blur-sm"},P={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},R={class:"space-y-1.5"},J={class:"space-y-1.5"},E={class:"space-y-1.5"},H=["value"],W={class:"space-y-1.5"},$={class:"flex flex-wrap gap-3 pt-4 border-t border-gray-200"},z=["disabled"],G={key:0,class:"animate-spin"},q={key:1},Q={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},X={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-lg p-6 border-2 border-blue-200 hover:shadow-xl transition-all duration-200"},Y={class:"text-2xl font-bold text-blue-800"},Z={class:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl shadow-lg p-6 border-2 border-green-200 hover:shadow-xl transition-all duration-200"},tt={class:"text-2xl font-bold text-green-800"},et={class:"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl shadow-lg p-6 border-2 border-red-200 hover:shadow-xl transition-all duration-200"},st={class:"text-2xl font-bold text-red-800"},rt={class:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl shadow-lg p-6 border-2 border-orange-200 hover:shadow-xl transition-all duration-200"},at={class:"text-2xl font-bold text-orange-800"},ot={key:1,class:"bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-300 text-red-800 px-6 py-4 rounded-2xl mb-6 shadow-lg flex items-center gap-3"},lt={class:"font-medium"},nt={key:2,class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center"},it={key:3,class:"bg-white rounded-2xl shadow-xl border border-gray-100 p-12 text-center"},dt={key:4,class:"space-y-6"},ut={class:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden"},pt={class:"overflow-x-auto"},gt={class:"min-w-full divide-y divide-gray-200"},xt={class:"bg-white divide-y divide-gray-200"},bt={class:"hover:bg-blue-50/50 transition-colors"},ct={class:"px-6 py-4 text-right"},ft={class:"font-semibold text-green-700"},mt={class:"hover:bg-blue-50/50 transition-colors"},vt={class:"px-6 py-4 text-right"},yt={class:"font-semibold text-red-700"},ht={class:"bg-blue-50 border-t-2 border-blue-300"},wt={class:"px-6 py-4 text-right"},kt={class:"font-bold text-blue-700"},_t={class:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden"},At={class:"overflow-x-auto"},jt={class:"min-w-full divide-y divide-gray-200"},St={class:"bg-white divide-y divide-gray-200"},Dt={key:0,class:"hover:bg-purple-50/50 transition-colors"},Kt={class:"px-6 py-4"},Ot={class:"font-semibold text-gray-900"},It={class:"px-6 py-4 text-right"},Ft={class:"bg-purple-50 border-t-2 border-purple-300"},Tt={class:"px-6 py-4 text-right"},Bt={class:"font-bold text-purple-700"},Lt={class:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden"},Mt={class:"overflow-x-auto"},Ut={class:"min-w-full divide-y divide-gray-200"},Vt={class:"bg-white divide-y divide-gray-200"},Ct={key:0,class:"hover:bg-pink-50/50 transition-colors"},Nt={class:"px-6 py-4"},Pt={class:"font-semibold text-gray-900"},Rt={class:"px-6 py-4 text-right"},Jt={class:"bg-pink-50 border-t-2 border-pink-300"},Et={class:"px-6 py-4 text-right"},Ht={class:"font-bold text-pink-700"},Wt={class:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl shadow-xl border-2 border-gray-300 p-6"},$t={class:"space-y-3"},zt={class:"flex justify-between items-center pb-3 border-b border-gray-300"},Gt={class:"text-lg font-bold text-gray-900"},qt={class:"flex justify-between items-center pb-3 border-b border-gray-300"},Qt={class:"flex justify-between items-center pb-3 border-b border-gray-300"},Xt={class:"flex justify-between items-center pb-3 border-b border-gray-300"},Yt={class:"flex justify-between items-center pt-3 border-t-2 border-gray-400 bg-white rounded-lg p-4"},Zt={class:"text-2xl font-bold text-orange-700"},te={__name:"ArusKas",props:{report:Object,summary:Object,outlets:Array,filters:Object,error:String},setup(i){var j,S,D,K;const d=i,c=x(((j=d.filters)==null?void 0:j.date_from)||new Date().toISOString().split("T")[0].slice(0,-2)+"01"),f=x(((S=d.filters)==null?void 0:S.date_to)||new Date().toISOString().split("T")[0]),m=x(((D=d.filters)==null?void 0:D.outlet_id)||""),v=x(((K=d.filters)==null?void 0:K.per_page)||25),p=x(!1);k(()=>d.report||{});const y=k(()=>d.report&&Object.keys(d.report).length>0),l=k(()=>y.value?d.report:{operational:{revenue:0,expenses:0,net:0},investment:{items:[],net:0},financing:{items:[],net:0}});T([c,f,m,v],()=>{});function F(){p.value=!0,M.get("/report-arus-kas",{date_from:c.value,date_to:f.value,outlet_id:m.value||null,per_page:v.value,load_data:!0},{preserveState:!1,preserveScroll:!1,onFinish:()=>{p.value=!1}})}function a(h){return h==null?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(h)}return(h,e)=>(o(),B(U,null,{default:L(()=>[t("div",C,[e[39]||(e[39]=t("div",{class:"mb-6"},[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3"},[t("div",{class:"p-2 bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg"},[t("i",{class:"fas fa-water text-white text-xl"})]),t("span",null,"Laporan Arus Kas"),t("span",{class:"text-lg font-normal text-gray-500"},"(Cash Flow Statement)")]),t("p",{class:"text-sm text-gray-600 ml-14"},"Analisis pergerakan kas masuk dan kas keluar dalam periode tertentu")])])],-1)),t("div",N,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"text-lg font-semibold text-gray-800 flex items-center gap-2"},[t("i",{class:"fas fa-filter text-green-600"}),u(" Filter Laporan ")])],-1)),t("div",P,[t("div",R,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},[t("i",{class:"fas fa-calendar-alt text-green-500 text-xs"}),u(" Tanggal Dari ")],-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"date",class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white hover:border-gray-300"},null,512),[[O,c.value]])]),t("div",J,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},[t("i",{class:"fas fa-calendar-check text-green-500 text-xs"}),u(" Tanggal Sampai ")],-1)),w(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),type:"date",class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white hover:border-gray-300"},null,512),[[O,f.value]])]),t("div",E,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},[t("i",{class:"fas fa-store text-green-500 text-xs"}),u(" Outlet ")],-1)),w(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>m.value=s),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white hover:border-gray-300 appearance-none cursor-pointer"},[e[6]||(e[6]=t("option",{value:""},"Semua Outlet",-1)),(o(!0),n(_,null,A(i.outlets,s=>(o(),n("option",{key:s.id,value:s.id},r(s.name),9,H))),128))],512),[[I,m.value]])]),t("div",W,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 flex items-center gap-2"},[t("i",{class:"fas fa-list text-green-500 text-xs"}),u(" Per Halaman ")],-1)),w(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>v.value=s),class:"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-white hover:border-gray-300 appearance-none cursor-pointer"},e[8]||(e[8]=[t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1)]),512),[[I,v.value]])])]),t("div",$,[t("button",{onClick:F,disabled:p.value,class:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl font-semibold hover:from-green-700 hover:to-green-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"},[p.value?(o(),n("span",G,e[10]||(e[10]=[t("i",{class:"fas fa-spinner"},null,-1)]))):(o(),n("span",q,e[11]||(e[11]=[t("i",{class:"fas fa-sync-alt"},null,-1)]))),e[12]||(e[12]=t("span",null,"Load Data",-1))],8,z)])]),i.summary&&y.value?(o(),n("div",Q,[t("div",X,[e[14]||(e[14]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-sm font-medium text-blue-700 uppercase tracking-wide"},"Saldo Awal"),t("div",{class:"p-2 bg-blue-200 rounded-lg"},[t("i",{class:"fas fa-arrow-right text-blue-700"})])],-1)),t("div",Y,r(a(i.summary.opening_balance)),1)]),t("div",Z,[e[15]||(e[15]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-sm font-medium text-green-700 uppercase tracking-wide"},"Kas Masuk"),t("div",{class:"p-2 bg-green-200 rounded-lg"},[t("i",{class:"fas fa-arrow-down text-green-700"})])],-1)),t("div",tt,r(a(i.summary.total_inflow)),1)]),t("div",et,[e[16]||(e[16]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-sm font-medium text-red-700 uppercase tracking-wide"},"Kas Keluar"),t("div",{class:"p-2 bg-red-200 rounded-lg"},[t("i",{class:"fas fa-arrow-up text-red-700"})])],-1)),t("div",st,r(a(i.summary.total_outflow)),1)]),t("div",rt,[e[17]||(e[17]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-sm font-medium text-orange-700 uppercase tracking-wide"},"Saldo Akhir"),t("div",{class:"p-2 bg-orange-200 rounded-lg"},[t("i",{class:"fas fa-balance-scale text-orange-700"})])],-1)),t("div",at,r(a(i.summary.closing_balance)),1)])])):g("",!0),i.error?(o(),n("div",ot,[e[18]||(e[18]=t("i",{class:"fas fa-exclamation-circle text-red-600 text-xl"},null,-1)),t("span",lt,r(i.error),1)])):g("",!0),!y.value&&!p.value?(o(),n("div",nt,e[19]||(e[19]=[t("div",{class:"max-w-md mx-auto"},[t("div",{class:"mb-4"},[t("div",{class:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-100 to-green-200 rounded-full mb-4"},[t("i",{class:"fas fa-chart-line text-green-600 text-3xl"})])]),t("h3",{class:"text-xl font-semibold text-gray-800 mb-2"},"Belum Ada Data"),t("p",{class:"text-gray-600 mb-6"},'Silakan isi filter di atas dan klik "Load Data" untuk menampilkan laporan Arus Kas.')],-1)]))):g("",!0),p.value?(o(),n("div",it,e[20]||(e[20]=[t("div",{class:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-full mb-4"},[t("i",{class:"fas fa-spinner fa-spin text-green-600 text-2xl"})],-1),t("p",{class:"text-gray-600 font-medium"},"Memuat data...",-1)]))):g("",!0),y.value&&!p.value?(o(),n("div",dt,[t("div",ut,[e[25]||(e[25]=t("div",{class:"px-6 py-4 bg-gradient-to-r from-blue-50 to-blue-100 border-b-2 border-blue-300"},[t("h3",{class:"text-lg font-semibold text-gray-800 flex items-center gap-2"},[t("i",{class:"fas fa-cogs text-blue-600"}),u(" Aktivitas Operasi ")])],-1)),t("div",pt,[t("table",gt,[e[24]||(e[24]=t("thead",{class:"bg-gradient-to-r from-blue-100 to-blue-50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-bold text-blue-900 uppercase tracking-wider"},"Uraian"),t("th",{class:"px-6 py-4 text-right text-xs font-bold text-blue-900 uppercase tracking-wider"},"Jumlah")])],-1)),t("tbody",xt,[t("tr",bt,[e[21]||(e[21]=t("td",{class:"px-6 py-4"},[t("span",{class:"font-semibold text-gray-900"},"Revenue Operasi")],-1)),t("td",ct,[t("span",ft,r(a(l.value.operational.revenue)),1)])]),t("tr",mt,[e[22]||(e[22]=t("td",{class:"px-6 py-4"},[t("span",{class:"font-semibold text-gray-900"},"Beban Operasi")],-1)),t("td",vt,[t("span",yt,"("+r(a(l.value.operational.expenses))+")",1)])]),t("tr",ht,[e[23]||(e[23]=t("td",{class:"px-6 py-4 font-bold"},[t("span",{class:"text-blue-900"},"Arus Kas Operasi")],-1)),t("td",wt,[t("span",kt,r(a(l.value.operational.net)),1)])])])])])]),t("div",_t,[e[29]||(e[29]=t("div",{class:"px-6 py-4 bg-gradient-to-r from-purple-50 to-purple-100 border-b-2 border-purple-300"},[t("h3",{class:"text-lg font-semibold text-gray-800 flex items-center gap-2"},[t("i",{class:"fas fa-chart-pie text-purple-600"}),u(" Aktivitas Investasi ")])],-1)),t("div",At,[t("table",jt,[e[28]||(e[28]=t("thead",{class:"bg-gradient-to-r from-purple-100 to-purple-50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-bold text-purple-900 uppercase tracking-wider"},"Uraian"),t("th",{class:"px-6 py-4 text-right text-xs font-bold text-purple-900 uppercase tracking-wider"},"Jumlah")])],-1)),t("tbody",St,[l.value.investment.items.length===0?(o(),n("tr",Dt,e[26]||(e[26]=[t("td",{colspan:"2",class:"px-6 py-8 text-center text-gray-400"},[t("i",{class:"fas fa-inbox text-3xl mb-2"}),t("p",{class:"text-sm"},"Tidak ada transaksi investasi")],-1)]))):g("",!0),(o(!0),n(_,null,A(l.value.investment.items,s=>(o(),n("tr",{key:s.id,class:"hover:bg-purple-50/50 transition-colors"},[t("td",Kt,[t("span",Ot,r(s.description),1)]),t("td",It,[t("span",{class:b(["font-semibold",s.amount>=0?"text-green-700":"text-red-700"])},r(s.amount>=0?a(s.amount):`(${a(Math.abs(s.amount))})`),3)])]))),128)),t("tr",Ft,[e[27]||(e[27]=t("td",{class:"px-6 py-4 font-bold"},[t("span",{class:"text-purple-900"},"Arus Kas Investasi")],-1)),t("td",Tt,[t("span",Bt,r(a(l.value.investment.net)),1)])])])])])]),t("div",Lt,[e[33]||(e[33]=t("div",{class:"px-6 py-4 bg-gradient-to-r from-pink-50 to-pink-100 border-b-2 border-pink-300"},[t("h3",{class:"text-lg font-semibold text-gray-800 flex items-center gap-2"},[t("i",{class:"fas fa-money-bill-wave text-pink-600"}),u(" Aktivitas Pendanaan ")])],-1)),t("div",Mt,[t("table",Ut,[e[32]||(e[32]=t("thead",{class:"bg-gradient-to-r from-pink-100 to-pink-50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-bold text-pink-900 uppercase tracking-wider"},"Uraian"),t("th",{class:"px-6 py-4 text-right text-xs font-bold text-pink-900 uppercase tracking-wider"},"Jumlah")])],-1)),t("tbody",Vt,[l.value.financing.items.length===0?(o(),n("tr",Ct,e[30]||(e[30]=[t("td",{colspan:"2",class:"px-6 py-8 text-center text-gray-400"},[t("i",{class:"fas fa-inbox text-3xl mb-2"}),t("p",{class:"text-sm"},"Tidak ada transaksi pendanaan")],-1)]))):g("",!0),(o(!0),n(_,null,A(l.value.financing.items,s=>(o(),n("tr",{key:s.id,class:"hover:bg-pink-50/50 transition-colors"},[t("td",Nt,[t("span",Pt,r(s.description),1)]),t("td",Rt,[t("span",{class:b(["font-semibold",s.amount>=0?"text-green-700":"text-red-700"])},r(s.amount>=0?a(s.amount):`(${a(Math.abs(s.amount))})`),3)])]))),128)),t("tr",Jt,[e[31]||(e[31]=t("td",{class:"px-6 py-4 font-bold"},[t("span",{class:"text-pink-900"},"Arus Kas Pendanaan")],-1)),t("td",Et,[t("span",Ht,r(a(l.value.financing.net)),1)])])])])])]),t("div",Wt,[t("div",$t,[t("div",zt,[e[34]||(e[34]=t("span",{class:"text-gray-700 font-semibold"},"Saldo Awal Kas",-1)),t("span",Gt,r(a(i.summary.opening_balance)),1)]),t("div",qt,[e[35]||(e[35]=t("span",{class:"text-gray-700 font-semibold"},"Arus Kas Operasi",-1)),t("span",{class:b(["text-lg font-bold",l.value.operational.net>=0?"text-green-700":"text-red-700"])},r(a(l.value.operational.net)),3)]),t("div",Qt,[e[36]||(e[36]=t("span",{class:"text-gray-700 font-semibold"},"Arus Kas Investasi",-1)),t("span",{class:b(["text-lg font-bold",l.value.investment.net>=0?"text-green-700":"text-red-700"])},r(a(l.value.investment.net)),3)]),t("div",Xt,[e[37]||(e[37]=t("span",{class:"text-gray-700 font-semibold"},"Arus Kas Pendanaan",-1)),t("span",{class:b(["text-lg font-bold",l.value.financing.net>=0?"text-green-700":"text-red-700"])},r(a(l.value.financing.net)),3)]),t("div",Yt,[e[38]||(e[38]=t("span",{class:"text-gray-900 font-bold text-lg"},"Saldo Akhir Kas",-1)),t("span",Zt,r(a(i.summary.closing_balance)),1)])])])])):g("",!0)])]),_:1}))}},pe=V(te,[["__scopeId","data-v-0f29929e"]]);export{pe as default};
