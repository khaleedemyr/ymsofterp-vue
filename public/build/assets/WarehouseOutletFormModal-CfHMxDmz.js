import{P as w,w as k,r as B,A as h,B as b,C as c,D as t,x as O,Q as l,N as m,O as S,H as d,J as f,L as x,F as G,M,I as p}from"./vendor-vue-g7iCcTkf.js";import{S as g}from"./app-BjOxw_aQ.js";import{G as U,Y as C}from"./vendor-ui-CrPgGUUb.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const j={class:"fixed inset-0 flex items-center justify-center p-4"},F={class:"flex justify-between items-center mb-6"},q={class:"text-xl font-bold text-gray-800"},E=["value"],L={class:"flex justify-end gap-3 mt-6"},N=["disabled"],T={__name:"WarehouseOutletFormModal",props:{show:Boolean,mode:String,warehouseOutlet:Object,outlets:Array},emits:["close","success"],setup(i,{emit:v}){const n=i,u=v,s=w({code:"",name:"",outlet_id:"",location:"",status:"active"});k(()=>n.warehouseOutlet,r=>{r?(s.code=r.code,s.name=r.name,s.outlet_id=r.outlet_id,s.location=r.location,s.status=r.status):s.reset()},{immediate:!0});const a=B(!1);async function y(){a.value=!0,n.mode==="create"?s.post(route("warehouse-outlets.store"),{onSuccess:()=>{g.fire("Berhasil","Gudang outlet berhasil ditambahkan!","success"),s.reset(),u("success"),u("close")},onError:()=>a.value=!1,onFinish:()=>a.value=!1}):n.mode==="edit"&&n.warehouseOutlet&&(s._method="PUT",s.post(route("warehouse-outlets.update",n.warehouseOutlet.id),{onSuccess:()=>{g.fire("Berhasil","Gudang outlet berhasil diupdate!","success"),u("success"),u("close")},onError:()=>a.value=!1,onFinish:()=>a.value=!1}))}return(r,e)=>(b(),h(l(C),{open:i.show,onClose:e[7]||(e[7]=o=>u("close")),class:"relative z-50"},{default:c(()=>[e[16]||(e[16]=t("div",{class:"fixed inset-0 bg-black/30","aria-hidden":"true"},null,-1)),t("div",j,[O(l(U),{class:"mx-auto max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-6"},{default:c(()=>[t("div",F,[t("h2",q,m(i.mode==="create"?"Buat Gudang Outlet Baru":"Edit Gudang Outlet"),1),t("button",{onClick:e[0]||(e[0]=o=>u("close")),class:"text-gray-400 hover:text-gray-600"},e[8]||(e[8]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("form",{onSubmit:S(y,["prevent"]),class:"space-y-4"},[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>l(s).code=o),type:"text",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",required:""},null,512),[[f,l(s).code]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Gudang",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l(s).name=o),type:"text",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",required:""},null,512),[[f,l(s).name]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),d(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>l(s).outlet_id=o),class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",required:""},[e[11]||(e[11]=t("option",{value:""},"Pilih Outlet",-1)),(b(!0),x(G,null,M(i.outlets,o=>(b(),x("option",{key:o.id,value:o.id},m(o.name),9,E))),128))],512),[[p,l(s).outlet_id]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lokasi",-1)),d(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>l(s).location=o),rows:"3",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",required:""},null,512),[[f,l(s).location]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),d(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>l(s).status=o),class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},e[14]||(e[14]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)]),512),[[p,l(s).status]])]),t("div",L,[t("button",{type:"button",onClick:e[6]||(e[6]=o=>u("close")),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition"}," Batal "),t("button",{type:"submit",disabled:a.value,class:"px-4 py-2 text-white bg-blue-600 rounded-xl hover:bg-blue-700 transition disabled:opacity-50"},m(i.mode==="create"?"Simpan":"Update"),9,N)])],32)]),_:1})])]),_:1},8,["open"]))}};export{T as default};
