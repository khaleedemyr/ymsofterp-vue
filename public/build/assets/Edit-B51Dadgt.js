import{r as T,k as B,a as J,A as N,B as i,C,D as e,x as A,Q as D,S as q,G as p,O as L,H as b,L as n,E as d,l as c,J as _,N as m,I as w,F as E,M as F,W}from"./vendor-vue-g7iCcTkf.js";import{A as R}from"./AppLayout-CLYhXf-W.js";import"./vendor-utils-CpgP2uT4.js";import"./app-DdwtQE43.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CauiUg4O.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const z={class:"w-full min-h-screen py-8 px-2 md:px-6"},Y={class:"max-w-6xl mx-auto"},K={class:"mb-6"},Q={class:"flex items-center gap-3 mb-2"},X={class:"bg-white rounded-lg shadow-sm border p-6"},Z={class:"grid grid-cols-1 md:grid-cols-1 gap-6"},ee={class:"md:col-span-2"},ae={key:0,class:"mt-1 text-sm text-red-600"},te={class:"md:col-span-2"},se={key:0,class:"mt-1 text-sm text-red-600"},le={class:"bg-white rounded-lg shadow-sm border p-6"},oe={key:0,class:"text-center py-8 text-gray-500"},re={key:1,class:"space-y-4"},ie={class:"flex justify-between items-center mb-4"},ne={class:"text-lg font-medium text-gray-900"},de=["onClick"],ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pe=["onUpdate:modelValue"],me={key:0,class:"mt-1 text-sm text-red-600"},be=["onUpdate:modelValue"],ce={key:0,class:"mt-1 text-sm text-red-600"},ge={class:"mt-4"},_e=["onUpdate:modelValue"],fe={key:0,class:"mt-1 text-sm text-red-600"},ye={class:"mt-4"},he={class:"border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50"},ke=["onChange"],ve={class:"text-center"},xe=["onClick"],we={key:0,class:"mt-4"},$e={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},Ce=["src","alt"],je=["onClick"],Pe={key:0,class:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md"},Ue={key:1,class:"mt-4"},Ve=["onUpdate:modelValue"],Se={key:0,class:"mt-1 text-sm text-red-600"},Be={key:2,class:"mt-4 space-y-3"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},De=["onUpdate:modelValue"],qe={key:0,class:"mt-1 text-sm text-red-600"},Ee=["onChange"],Fe=["onClick"],Oe={key:0,class:"mt-2 flex items-center gap-2"},He=["src"],Ie=["onClick"],Me={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge=["onUpdate:modelValue"],Te={key:0,class:"mt-1 text-sm text-red-600"},Je=["onChange"],Ne=["onClick"],Le={key:0,class:"mt-2 flex items-center gap-2"},We=["src"],Re=["onClick"],ze={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ye=["onUpdate:modelValue"],Ke={key:0,class:"mt-1 text-sm text-red-600"},Qe=["onChange"],Xe=["onClick"],Ze={key:0,class:"mt-2 flex items-center gap-2"},ea=["src"],aa=["onClick"],ta={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},sa=["onUpdate:modelValue"],la={key:0,class:"mt-1 text-sm text-red-600"},oa=["onChange"],ra=["onClick"],ia={key:0,class:"mt-2 flex items-center gap-2"},na=["src"],da=["onClick"],ua={class:"mt-3"},pa=["onUpdate:modelValue"],ma={key:0,class:"mt-1 text-sm text-red-600"},ba={key:3,class:"mt-4"},ca=["onUpdate:modelValue"],ga={key:0,class:"mt-1 text-sm text-red-600"},_a={class:"flex justify-end gap-4"},fa=["disabled"],ya={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},Va={__name:"Edit",props:{masterSoal:Object,tipeSoalOptions:Array,errors:Object},setup(O){var P,U,V,S;const y=O,f=T(!1),u=B({judul:((P=y.masterSoal)==null?void 0:P.judul)||"",deskripsi:((U=y.masterSoal)==null?void 0:U.deskripsi)||"",status:((V=y.masterSoal)==null?void 0:V.status)||"active",pertanyaans:((S=y.masterSoal)==null?void 0:S.pertanyaans)||[]}),r=B(y.errors||{}),j=()=>{u.pertanyaans.push({tipe_soal:"",pertanyaan:"",pertanyaan_gambar:[],waktu_detik:60,jawaban_benar:"",pilihan_a:"",pilihan_a_gambar:null,pilihan_b:"",pilihan_b_gambar:null,pilihan_c:"",pilihan_c_gambar:null,pilihan_d:"",pilihan_d_gambar:null,skor:null})},H=l=>{u.pertanyaans.splice(l,1)},I=(l,a)=>{const s=Array.from(l.target.files),t=u.pertanyaans[a];t.pertanyaan_gambar||(t.pertanyaan_gambar=[]),s.forEach(o=>{if(o.type.startsWith("image/")){const g=new FileReader;g.onload=x=>{t.pertanyaan_gambar.push({file:o,preview:x.target.result})},g.readAsDataURL(o)}}),l.target.value=""},k=(l,a,s)=>{const t=l.target.files[0],o=u.pertanyaans[a];if(t&&t.type.startsWith("image/")){const g=new FileReader;g.onload=x=>{o[`pilihan_${s}_gambar`]={file:t,preview:x.target.result}},g.readAsDataURL(t)}l.target.value=""},M=(l,a)=>{u.pertanyaans[l].pertanyaan_gambar.splice(a,1)},v=(l,a)=>{u.pertanyaans[l][`pilihan_${a}_gambar`]=null},G=()=>{f.value=!0;const l=new FormData;l.append("judul",u.judul),l.append("deskripsi",u.deskripsi||""),l.append("status",u.status),l.append("_method","PUT"),u.pertanyaans.forEach((a,s)=>{l.append(`pertanyaans[${s}][tipe_soal]`,a.tipe_soal),l.append(`pertanyaans[${s}][pertanyaan]`,a.pertanyaan),l.append(`pertanyaans[${s}][waktu_detik]`,a.waktu_detik),l.append(`pertanyaans[${s}][skor]`,a.skor||""),l.append(`pertanyaans[${s}][jawaban_benar]`,a.jawaban_benar||""),l.append(`pertanyaans[${s}][pilihan_a]`,a.pilihan_a||""),l.append(`pertanyaans[${s}][pilihan_b]`,a.pilihan_b||""),l.append(`pertanyaans[${s}][pilihan_c]`,a.pilihan_c||""),l.append(`pertanyaans[${s}][pilihan_d]`,a.pilihan_d||"");const t=$(a);t&&t.length>0&&t.forEach((o,g)=>{o.file instanceof File&&l.append(`pertanyaans[${s}][pertanyaan_images][]`,o.file)}),a.pilihan_a_gambar&&a.pilihan_a_gambar.file instanceof File&&l.append(`pertanyaans[${s}][pilihan_a_image]`,a.pilihan_a_gambar.file),a.pilihan_b_gambar&&a.pilihan_b_gambar.file instanceof File&&l.append(`pertanyaans[${s}][pilihan_b_image]`,a.pilihan_b_gambar.file),a.pilihan_c_gambar&&a.pilihan_c_gambar.file instanceof File&&l.append(`pertanyaans[${s}][pilihan_c_image]`,a.pilihan_c_gambar.file),a.pilihan_d_gambar&&a.pilihan_d_gambar.file instanceof File&&l.append(`pertanyaans[${s}][pilihan_d_image]`,a.pilihan_d_gambar.file)}),W.post(`/master-soal-new/${y.masterSoal.id}`,l,{onSuccess:()=>{f.value=!1},onError:a=>{f.value=!1,Object.assign(a,a)},onFinish:()=>{f.value=!1}})},$=l=>{if(!l.pertanyaan_gambar)return[];try{return Array.isArray(l.pertanyaan_gambar)?l.pertanyaan_gambar:typeof l.pertanyaan_gambar=="string"?JSON.parse(l.pertanyaan_gambar):[]}catch(a){return console.error("Error parsing pertanyaan_gambar:",a),[]}},h=l=>l?`/storage/${l.replace(/\\/g,"/")}`:"";return J(()=>{u.pertanyaans.length===0&&j()}),(l,a)=>(i(),N(R,null,{default:C(()=>[e("div",z,[e("div",Y,[e("div",K,[e("div",Q,[A(D(q),{href:"/master-soal-new",class:"text-gray-600 hover:text-gray-800"},{default:C(()=>a[3]||(a[3]=[e("i",{class:"fa-solid fa-arrow-left"},null,-1)])),_:1}),a[4]||(a[4]=e("h1",{class:"text-3xl font-bold text-gray-900 flex items-center gap-3"},[e("i",{class:"fa-solid fa-edit text-blue-600"}),p(" Edit Soal ")],-1))]),a[5]||(a[5]=e("p",{class:"text-gray-600"},"Edit judul soal dan pertanyaan",-1))]),e("form",{onSubmit:L(G,["prevent"]),class:"space-y-6"},[e("div",X,[a[10]||(a[10]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Informasi Soal",-1)),e("div",Z,[e("div",ee,[a[6]||(a[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Judul Soal * ",-1)),b(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>u.judul=s),type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r.judul}]),placeholder:"Masukkan judul soal",required:""},null,2),[[_,u.judul]]),r.judul?(i(),n("p",ae,m(r.judul),1)):d("",!0)]),e("div",te,[a[7]||(a[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Deskripsi ",-1)),b(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=s=>u.deskripsi=s),rows:"3",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r.deskripsi}]),placeholder:"Deskripsi soal (opsional)"},null,2),[[_,u.deskripsi]])]),e("div",null,[a[9]||(a[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Status * ",-1)),b(e("select",{"onUpdate:modelValue":a[2]||(a[2]=s=>u.status=s),class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r.status}]),required:""},a[8]||(a[8]=[e("option",{value:""},"Pilih Status",-1),e("option",{value:"active"},"Aktif",-1),e("option",{value:"inactive"},"Tidak Aktif",-1)]),2),[[w,u.status]]),r.status?(i(),n("p",se,m(r.status),1)):d("",!0)])])]),e("div",le,[a[43]||(a[43]=e("div",{class:"flex justify-between items-center mb-4"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Pertanyaan")],-1)),u.pertanyaans.length===0?(i(),n("div",oe,a[11]||(a[11]=[e("i",{class:"fa-solid fa-question-circle text-4xl mb-4 block"},null,-1),e("p",null,'Belum ada pertanyaan. Klik tombol "Tambah Pertanyaan" di bawah untuk menambah.',-1)]))):(i(),n("div",re,[(i(!0),n(E,null,F(u.pertanyaans,(s,t)=>(i(),n("div",{key:t,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[e("div",ie,[e("h3",ne," Pertanyaan "+m(t+1),1),e("button",{type:"button",onClick:o=>H(t),class:"text-red-600 hover:text-red-800",title:"Hapus Pertanyaan"},a[12]||(a[12]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,de)]),e("div",ue,[e("div",null,[a[14]||(a[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tipe Soal * ",-1)),b(e("select",{"onUpdate:modelValue":o=>s.tipe_soal=o,class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.tipe_soal`]}]),required:""},a[13]||(a[13]=[e("option",{value:""},"Pilih Tipe Soal",-1),e("option",{value:"essay"},"Essay",-1),e("option",{value:"pilihan_ganda"},"Pilihan Ganda",-1),e("option",{value:"yes_no"},"Yes/No",-1)]),10,pe),[[w,s.tipe_soal]]),r[`pertanyaans.${t}.tipe_soal`]?(i(),n("p",me,m(r[`pertanyaans.${t}.tipe_soal`]),1)):d("",!0)]),e("div",null,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Waktu (detik) * ",-1)),b(e("input",{"onUpdate:modelValue":o=>s.waktu_detik=o,type:"number",min:"1",max:"1800",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.waktu_detik`]}]),placeholder:"60",required:""},null,10,be),[[_,s.waktu_detik]]),a[16]||(a[16]=e("p",{class:"mt-1 text-sm text-gray-500"}," Minimal 1 detik, maksimal 1800 detik (30 menit) ",-1)),r[`pertanyaans.${t}.waktu_detik`]?(i(),n("p",ce,m(r[`pertanyaans.${t}.waktu_detik`]),1)):d("",!0)])]),e("div",ge,[a[17]||(a[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Pertanyaan * ",-1)),b(e("textarea",{"onUpdate:modelValue":o=>s.pertanyaan=o,rows:"3",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.pertanyaan`]}]),placeholder:"Masukkan pertanyaan",required:""},null,10,_e),[[_,s.pertanyaan]]),r[`pertanyaans.${t}.pertanyaan`]?(i(),n("p",fe,m(r[`pertanyaans.${t}.pertanyaan`]),1)):d("",!0)]),e("div",ye,[a[21]||(a[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fa-solid fa-image mr-2"}),p(" Gambar Pertanyaan (Optional - Multiple Images) ")],-1)),e("div",he,[e("input",{type:"file",ref_for:!0,ref:`pertanyaan_images_${t}`,onChange:o=>I(o,t),multiple:"",accept:"image/*",class:"hidden"},null,40,ke),e("div",ve,[e("button",{type:"button",onClick:()=>l.$refs[`pertanyaan_images_${t}`][0].click(),class:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 flex items-center gap-2 mx-auto"},a[18]||(a[18]=[e("i",{class:"fa-solid fa-upload"},null,-1),p(" Upload Gambar Pertanyaan ")]),8,xe),a[19]||(a[19]=e("p",{class:"text-sm text-gray-500 mt-2"},[e("i",{class:"fa-solid fa-info-circle mr-1"}),p(" Optional - Bisa upload multiple images untuk pertanyaan ")],-1))]),$(s).length>0?(i(),n("div",we,[a[20]||(a[20]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Gambar yang diupload:",-1)),e("div",$e,[(i(!0),n(E,null,F($(s),(o,g)=>(i(),n("div",{key:g,class:"relative bg-white rounded border p-2"},[e("img",{src:o.preview||h(o),alt:`Pertanyaan ${t+1} - Image ${g+1}`,class:"w-full h-20 object-cover rounded"},null,8,Ce),e("button",{type:"button",onClick:x=>M(t,g),class:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",title:"Hapus gambar"}," Ã— ",8,je)]))),128))])])):d("",!0)])]),s.tipe_soal==="essay"?(i(),n("div",Pe,a[22]||(a[22]=[e("div",{class:"flex items-center gap-2 text-blue-700"},[e("i",{class:"fa-solid fa-info-circle"}),e("span",{class:"text-sm font-medium"},"Essay tidak memerlukan skor - akan dinilai manual")],-1)]))):s.tipe_soal==="pilihan_ganda"||s.tipe_soal==="yes_no"?(i(),n("div",Ue,[a[23]||(a[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Skor * ",-1)),b(e("input",{"onUpdate:modelValue":o=>s.skor=o,type:"number",step:"0.01",min:"0.01",max:"100",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.skor`]}]),placeholder:"1.00",required:""},null,10,Ve),[[_,s.skor]]),a[24]||(a[24]=e("p",{class:"mt-1 text-sm text-gray-500"}," Skor untuk pertanyaan ini (0.01 - 100) ",-1)),r[`pertanyaans.${t}.skor`]?(i(),n("p",Se,m(r[`pertanyaans.${t}.skor`]),1)):d("",!0)])):d("",!0),s.tipe_soal==="pilihan_ganda"?(i(),n("div",Be,[a[39]||(a[39]=e("h4",{class:"text-sm font-medium text-gray-700"},"Pilihan Jawaban:",-1)),e("div",Ae,[e("div",null,[a[25]||(a[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pilihan A *",-1)),b(e("input",{"onUpdate:modelValue":o=>s.pilihan_a=o,type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.pilihan_a`]}]),placeholder:"Pilihan A",required:""},null,10,De),[[_,s.pilihan_a]]),r[`pertanyaans.${t}.pilihan_a`]?(i(),n("p",qe,m(r[`pertanyaans.${t}.pilihan_a`]),1)):d("",!0)]),e("div",null,[e("input",{type:"file",ref_for:!0,ref:`pilihan_a_image_${t}`,onChange:o=>k(o,t,"a"),accept:"image/*",class:"hidden"},null,40,Ee),e("button",{type:"button",onClick:()=>l.$refs[`pilihan_a_image_${t}`][0].click(),class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 flex items-center gap-1"},a[26]||(a[26]=[e("i",{class:"fa-solid fa-image"},null,-1),p(" Upload Gambar (Optional) ")]),8,Fe),s.pilihan_a_gambar?(i(),n("div",Oe,[e("img",{src:s.pilihan_a_gambar.preview||h(s.pilihan_a_gambar),alt:"Pilihan A",class:"w-16 h-16 object-cover rounded border"},null,8,He),e("button",{type:"button",onClick:o=>v(t,"a"),class:"text-red-500 hover:text-red-700 text-sm",title:"Hapus gambar"},a[27]||(a[27]=[e("i",{class:"fa-solid fa-trash"},null,-1),p(" Hapus ")]),8,Ie)])):d("",!0)])]),e("div",Me,[e("div",null,[a[28]||(a[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pilihan B *",-1)),b(e("input",{"onUpdate:modelValue":o=>s.pilihan_b=o,type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.pilihan_b`]}]),placeholder:"Pilihan B",required:""},null,10,Ge),[[_,s.pilihan_b]]),r[`pertanyaans.${t}.pilihan_b`]?(i(),n("p",Te,m(r[`pertanyaans.${t}.pilihan_b`]),1)):d("",!0)]),e("div",null,[e("input",{type:"file",ref_for:!0,ref:`pilihan_b_image_${t}`,onChange:o=>k(o,t,"b"),accept:"image/*",class:"hidden"},null,40,Je),e("button",{type:"button",onClick:()=>l.$refs[`pilihan_b_image_${t}`][0].click(),class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 flex items-center gap-1"},a[29]||(a[29]=[e("i",{class:"fa-solid fa-image"},null,-1),p(" Upload Gambar (Optional) ")]),8,Ne),s.pilihan_b_gambar?(i(),n("div",Le,[e("img",{src:s.pilihan_b_gambar.preview||h(s.pilihan_b_gambar),alt:"Pilihan B",class:"w-16 h-16 object-cover rounded border"},null,8,We),e("button",{type:"button",onClick:o=>v(t,"b"),class:"text-red-500 hover:text-red-700 text-sm",title:"Hapus gambar"},a[30]||(a[30]=[e("i",{class:"fa-solid fa-trash"},null,-1),p(" Hapus ")]),8,Re)])):d("",!0)])]),e("div",ze,[e("div",null,[a[31]||(a[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pilihan C *",-1)),b(e("input",{"onUpdate:modelValue":o=>s.pilihan_c=o,type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.pilihan_c`]}]),placeholder:"Pilihan C",required:""},null,10,Ye),[[_,s.pilihan_c]]),r[`pertanyaans.${t}.pilihan_c`]?(i(),n("p",Ke,m(r[`pertanyaans.${t}.pilihan_c`]),1)):d("",!0)]),e("div",null,[e("input",{type:"file",ref_for:!0,ref:`pilihan_c_image_${t}`,onChange:o=>k(o,t,"c"),accept:"image/*",class:"hidden"},null,40,Qe),e("button",{type:"button",onClick:()=>l.$refs[`pilihan_c_image_${t}`][0].click(),class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 flex items-center gap-1"},a[32]||(a[32]=[e("i",{class:"fa-solid fa-image"},null,-1),p(" Upload Gambar (Optional) ")]),8,Xe),s.pilihan_c_gambar?(i(),n("div",Ze,[e("img",{src:s.pilihan_c_gambar.preview||h(s.pilihan_c_gambar),alt:"Pilihan C",class:"w-16 h-16 object-cover rounded border"},null,8,ea),e("button",{type:"button",onClick:o=>v(t,"c"),class:"text-red-500 hover:text-red-700 text-sm",title:"Hapus gambar"},a[33]||(a[33]=[e("i",{class:"fa-solid fa-trash"},null,-1),p(" Hapus ")]),8,aa)])):d("",!0)])]),e("div",ta,[e("div",null,[a[34]||(a[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pilihan D *",-1)),b(e("input",{"onUpdate:modelValue":o=>s.pilihan_d=o,type:"text",class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.pilihan_d`]}]),placeholder:"Pilihan D",required:""},null,10,sa),[[_,s.pilihan_d]]),r[`pertanyaans.${t}.pilihan_d`]?(i(),n("p",la,m(r[`pertanyaans.${t}.pilihan_d`]),1)):d("",!0)]),e("div",null,[e("input",{type:"file",ref_for:!0,ref:`pilihan_d_image_${t}`,onChange:o=>k(o,t,"d"),accept:"image/*",class:"hidden"},null,40,oa),e("button",{type:"button",onClick:()=>l.$refs[`pilihan_d_image_${t}`][0].click(),class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 flex items-center gap-1"},a[35]||(a[35]=[e("i",{class:"fa-solid fa-image"},null,-1),p(" Upload Gambar (Optional) ")]),8,ra),s.pilihan_d_gambar?(i(),n("div",ia,[e("img",{src:s.pilihan_d_gambar.preview||h(s.pilihan_d_gambar),alt:"Pilihan D",class:"w-16 h-16 object-cover rounded border"},null,8,na),e("button",{type:"button",onClick:o=>v(t,"d"),class:"text-red-500 hover:text-red-700 text-sm",title:"Hapus gambar"},a[36]||(a[36]=[e("i",{class:"fa-solid fa-trash"},null,-1),p(" Hapus ")]),8,da)])):d("",!0)])]),e("div",ua,[a[38]||(a[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Jawaban Benar * ",-1)),b(e("select",{"onUpdate:modelValue":o=>s.jawaban_benar=o,class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.jawaban_benar`]}]),required:""},a[37]||(a[37]=[e("option",{value:""},"Pilih Jawaban Benar",-1),e("option",{value:"A"},"A",-1),e("option",{value:"B"},"B",-1),e("option",{value:"C"},"C",-1),e("option",{value:"D"},"D",-1)]),10,pa),[[w,s.jawaban_benar]]),r[`pertanyaans.${t}.jawaban_benar`]?(i(),n("p",ma,m(r[`pertanyaans.${t}.jawaban_benar`]),1)):d("",!0)])])):d("",!0),s.tipe_soal==="yes_no"?(i(),n("div",ba,[a[41]||(a[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Jawaban Benar * ",-1)),b(e("select",{"onUpdate:modelValue":o=>s.jawaban_benar=o,class:c(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":r[`pertanyaans.${t}.jawaban_benar`]}]),required:""},a[40]||(a[40]=[e("option",{value:""},"Pilih Jawaban Benar",-1),e("option",{value:"yes"},"Ya",-1),e("option",{value:"no"},"Tidak",-1)]),10,ca),[[w,s.jawaban_benar]]),r[`pertanyaans.${t}.jawaban_benar`]?(i(),n("p",ga,m(r[`pertanyaans.${t}.jawaban_benar`]),1)):d("",!0)])):d("",!0)]))),128))])),e("div",{class:"mt-6 pt-4 border-t border-gray-200"},[e("button",{type:"button",onClick:j,class:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 font-medium"},a[42]||(a[42]=[e("i",{class:"fa-solid fa-plus"},null,-1),p(" Tambah Pertanyaan ")]))])]),e("div",_a,[A(D(q),{href:"/master-soal-new",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},{default:C(()=>a[44]||(a[44]=[p(" Batal ")])),_:1}),e("button",{type:"submit",disabled:f.value||u.pertanyaans.length===0,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[f.value?(i(),n("i",ya)):d("",!0),p(" "+m(f.value?"Menyimpan...":"Simpan Perubahan"),1)],8,fa)])],32)])])]),_:1}))}};export{Va as default};
