import{r as S,W as n,w as D,A as H,B as o,C as L,D as t,G as x,H as E,J as N,L as l,E as $,F as m,M as b,N as d,l as j}from"./vendor-vue-g7iCcTkf.js";import{A}from"./AppLayout-hxs5t3XP.js";import{S as f}from"./app-D6rf3j_5.js";import{l as F}from"./lodash-DB3HVzpp.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-D4k-zQf5.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const I={class:"max-w-7xl mx-auto py-8 px-2"},M={class:"mb-4"},V={class:"bg-white rounded-xl shadow-lg overflow-hidden"},G={class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},R={class:"bg-white divide-y divide-gray-200"},U={key:0},W={class:"px-4 py-3 font-semibold"},Y={class:"px-4 py-3"},z={class:"px-4 py-3"},J={class:"px-4 py-3 text-right"},P={class:"px-4 py-3"},q={class:"list-disc ml-4"},K={class:"px-4 py-3"},Q={class:"flex gap-2"},X=["onClick"],Z=["onClick"],tt={class:"flex justify-end mt-4 gap-2"},et=["disabled","onClick","innerHTML"],xt={__name:"Index",props:{data:Object,filters:Object},setup(_){var g;const u=_,c=S(((g=u.filters)==null?void 0:g.search)||""),v=F.debounce(()=>{n.get("/item-supplier",{search:c.value},{preserveState:!0,replace:!0})},400);D(c,v);function w(){n.visit("/item-supplier/create")}function k(a){a&&n.visit(a,{preserveState:!0,replace:!0})}async function C(a){var e,r;if((await f.fire({title:"Hapus Data?",text:"Yakin ingin menghapus data item supplier ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed)try{const i=await axios.delete(`/item-supplier/${a.id}`);i.data&&i.data.message&&(f.fire({icon:"success",title:"Berhasil",text:i.data.message,timer:1500,showConfirmButton:!1}),setTimeout(()=>n.reload(),1200))}catch(i){f.fire({icon:"error",title:"Gagal",text:((r=(e=i.response)==null?void 0:e.data)==null?void 0:r.message)||"Gagal menghapus data"})}}function B(a){return a?"Rp "+Number(a).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2}):"Rp 0"}function T(a){n.visit(`/item-supplier/${a}/edit`)}return(a,s)=>(o(),H(A,null,{default:L(()=>[t("div",I,[t("div",{class:"flex justify-between items-center mb-6"},[s[1]||(s[1]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-link text-blue-500"}),x(" Items Supplier ")],-1)),t("button",{onClick:w,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Tambah Baru ")]),t("div",M,[E(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),type:"text",placeholder:"Cari supplier, item, atau outlet...",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,512),[[N,c.value]])]),t("div",V,[t("div",G,[t("table",O,[s[5]||(s[5]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Supplier"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Item"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Unit"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-blue-700 uppercase tracking-wider"},"Harga"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Outlet"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",R,[u.data.data.length?$("",!0):(o(),l("tr",U,s[2]||(s[2]=[t("td",{colspan:"6",class:"text-center py-10 text-gray-400"},"Tidak ada data.",-1)]))),(o(!0),l(m,null,b(u.data.data,e=>{var r,i,h;return o(),l("tr",{key:e.id,class:"hover:bg-blue-50 transition shadow-sm"},[t("td",W,d(((r=e.supplier)==null?void 0:r.name)||"-"),1),t("td",Y,d(((i=e.item)==null?void 0:i.name)||"-"),1),t("td",z,d(((h=e.unit)==null?void 0:h.name)||"-"),1),t("td",J,d(B(e.price)),1),t("td",P,[t("ul",q,[(o(!0),l(m,null,b(e.item_supplier_outlets,p=>{var y;return o(),l("li",{key:p.id},d(((y=p.outlet)==null?void 0:y.nama_outlet)||"-"),1)}),128))])]),t("td",K,[t("div",Q,[t("button",{onClick:p=>T(e.id),class:"inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},s[3]||(s[3]=[t("i",{class:"fa fa-pen mr-1"},null,-1),x(" Edit ")]),8,X),t("button",{onClick:p=>C(e),class:"inline-flex items-center btn btn-xs bg-red-100 text-red-700 hover:bg-red-200 rounded px-2 py-1 font-semibold transition"},s[4]||(s[4]=[t("i",{class:"fa fa-trash mr-1"},null,-1),x(" Hapus ")]),8,Z)])])])}),128))])])])]),t("div",tt,[(o(!0),l(m,null,b(u.data.links,e=>(o(),l("button",{key:e.label,disabled:!e.url,onClick:r=>k(e.url),innerHTML:e.label,class:j(["px-3 py-1 rounded-lg border text-sm font-semibold",[e.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,et))),128))])])]),_:1}))}};export{xt as default};
