import{r as x,A as L,B as a,C,D as t,G as y,x as N,Q as U,S as I,H as g,L as r,F as f,M as c,N as l,I as F,J as T,E as j,l as E,W as H}from"./vendor-vue-g7iCcTkf.js";import{A as M}from"./AppLayout-B4yqCJld.js";import"./vendor-utils-CpgP2uT4.js";import"./app-CX1ZKpmy.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DJpuzLQV.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const q={class:"max-w-7xl w-full mx-auto py-8 px-2"},P={class:"mb-6 flex justify-between items-center"},W={class:"flex gap-2"},z={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},G={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},J=["value"],K=["value"],Q={class:"bg-white rounded-xl shadow-lg overflow-hidden"},$={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={key:0},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},et={class:"px-6 py-4 whitespace-nowrap"},st={class:"text-sm font-medium text-blue-600"},lt={class:"text-xs text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},dt={class:"px-6 py-4 whitespace-nowrap"},bt={__name:"TransferHistory",props:{transfers:Array,assets:Array,outlets:Array,filters:Object},setup(d){var b,v,w,_;const n=d,u=x(((b=n.filters)==null?void 0:b.asset_id)||""),i=x(((v=n.filters)==null?void 0:v.from_outlet_id)||""),p=x(((w=n.filters)==null?void 0:w.date_from)||""),m=x(((_=n.filters)==null?void 0:_.date_to)||"");function V(){H.get("/asset-management/reports/transfer-history",{asset_id:u.value,from_outlet_id:i.value,date_from:p.value,date_to:m.value},{preserveState:!0,replace:!0})}function B(){const o=new URLSearchParams({asset_id:u.value||"",from_outlet_id:i.value||"",date_from:p.value||"",date_to:m.value||"",export:"1"});window.open(`/asset-management/reports/transfer-history?${o.toString()}`,"_blank")}function O(o){return o?new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function R(o){return{Pending:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Completed:"bg-blue-100 text-blue-800",Rejected:"bg-red-100 text-red-800"}[o]||"bg-gray-100 text-gray-800"}return(o,e)=>(a(),L(M,null,{default:C(()=>[t("div",q,[t("div",P,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-exchange-alt text-blue-500"}),y(" Transfer History Report ")]),t("p",{class:"text-gray-600 mt-1"},"Riwayat transfer asset")],-1)),t("div",W,[t("button",{onClick:B,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2"},e[4]||(e[4]=[t("i",{class:"fa-solid fa-download"},null,-1),y(" Export ")])),N(U(I),{href:"/asset-management/reports",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:C(()=>e[5]||(e[5]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),y(" Kembali ")])),_:1})])]),t("div",z,[t("div",G,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Asset",-1)),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[e[7]||(e[7]=t("option",{value:""},"Semua Asset",-1)),(a(!0),r(f,null,c(d.assets,s=>(a(),r("option",{key:s.id,value:s.id},l(s.asset_code)+" - "+l(s.name),9,J))),128))],512),[[F,u.value]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Outlet",-1)),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[e[9]||(e[9]=t("option",{value:""},"Semua Outlet",-1)),(a(!0),r(f,null,c(d.outlets,s=>(a(),r("option",{key:s.id,value:s.id},l(s.name),9,K))),128))],512),[[F,i.value]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),g(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[T,p.value]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),g(t("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[T,m.value]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Action",-1)),t("button",{onClick:V,class:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg"}," Apply Filters ")])])]),t("div",Q,[t("div",$,[t("table",X,[e[15]||(e[15]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Asset"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"From Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"To Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Requested By"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),t("tbody",Y,[d.transfers.length===0?(a(),r("tr",Z,e[14]||(e[14]=[t("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"}," Tidak ada data ",-1)]))):j("",!0),(a(!0),r(f,null,c(d.transfers,s=>{var h,k,A,S,D;return a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",tt,l(O(s.transfer_date)),1),t("td",et,[t("div",null,[t("p",st,l((h=s.asset)==null?void 0:h.asset_code),1),t("p",lt,l((k=s.asset)==null?void 0:k.name),1)])]),t("td",at,l(((A=s.from_outlet)==null?void 0:A.name)||"-"),1),t("td",ot,l(((S=s.to_outlet)==null?void 0:S.name)||"-"),1),t("td",rt,l(((D=s.requester)==null?void 0:D.name)||"-"),1),t("td",dt,[t("span",{class:E([R(s.status),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.status),3)])])}),128))])])])])])]),_:1}))}};export{bt as default};
