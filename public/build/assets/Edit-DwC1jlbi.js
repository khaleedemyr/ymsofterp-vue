import{r as k,A as M,B as s,C as q,D as e,G as d,O as N,H as b,L as a,E as m,J as h,N as n,F as x,M as y,I as w,V as B,W as $}from"./vendor-vue-g7iCcTkf.js";import{A as E}from"./AppLayout-nEB-Gr2i.js";import"./vendor-utils-CpgP2uT4.js";import"./app-YbzOJwkz.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DIps1Q-A.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const S={class:"w-full py-8 px-4"},T={class:"max-w-6xl mx-auto"},j={class:"bg-white rounded-2xl shadow-lg p-8"},D={class:"space-y-6"},G={key:0,class:"mt-1 text-sm text-red-600"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F=["value"],L={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},W={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},H=["value"],J={class:"text-sm font-medium text-gray-700"},z={key:0,class:"mt-1 text-sm text-red-600"},K={key:1,class:"mt-1 text-sm text-gray-500"},R={key:2,class:"mt-1 text-sm text-green-600"},X={class:"space-y-6"},Y={class:"flex items-center justify-between mb-4"},Z={class:"text-md font-semibold text-gray-700"},I=["onClick"],ee={class:"mb-4"},te=["for"],se=["id","onUpdate:modelValue"],ae={key:0,class:"mt-1 text-sm text-red-600"},re={class:"space-y-3"},le={class:"flex items-center justify-between"},oe=["onClick"],ie=["for"],ne=["id","onUpdate:modelValue"],de=["value"],ue={key:0,class:"mt-1 text-sm text-red-600"},me=["for"],pe=["id","onUpdate:modelValue"],ce={key:0,class:"mt-1 text-sm text-red-600"},ge={class:"flex gap-4 pt-6"},be=["disabled"],fe={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},ve={key:1,class:"fa-solid fa-save mr-2"},Ce={__name:"Edit",props:{guidance:Object,categories:Array,parameters:Array,departemenOptions:Array},setup(_){const p=_,r=k({title:p.guidance.title,departemen:p.guidance.departemen,category_ids:p.guidance.category_ids||[],status:p.guidance.status,parameters:p.guidance.parameters||[{parameter_pemeriksaan:"",parameter_id:"",point:0}]}),i=k({}),f=k(!1);function V(){r.value.parameters.push({parameter_pemeriksaan:"",parameter_id:"",point:0})}function A(c){r.value.parameters.length>1&&r.value.parameters.splice(c,1)}function C(c){const t={parameter_pemeriksaan:r.value.parameters[c].parameter_pemeriksaan,parameter_id:"",point:0};r.value.parameters.splice(c+1,0,t)}function U(){f.value=!0,i.value={},$.put(`/qa-guidances/${p.guidance.id}`,r.value,{onSuccess:()=>{},onError:c=>{i.value=c},onFinish:()=>{f.value=!1}})}function P(){$.visit(`/qa-guidances/${p.guidance.id}`)}return(c,t)=>(s(),M(E,{title:"Edit QA Guidance"},{default:q(()=>[e("div",S,[e("div",T,[e("div",{class:"flex items-center gap-4 mb-6"},[e("button",{onClick:P,class:"text-gray-500 hover:text-gray-700 transition"},t[4]||(t[4]=[e("i",{class:"fa-solid fa-arrow-left text-xl"},null,-1)])),t[5]||(t[5]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-edit text-blue-500"}),d(" Edit QA Guidance ")],-1))]),e("div",j,[e("form",{onSubmit:N(U,["prevent"]),class:"space-y-8"},[e("div",D,[e("div",null,[t[6]||(t[6]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Title "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=o=>r.value.title=o),type:"text",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan title QA Guidance",required:""},null,512),[[h,r.value.title]]),i.value.title?(s(),a("div",G,n(i.value.title),1)):m("",!0)]),e("div",O,[e("div",null,[t[8]||(t[8]=e("label",{for:"departemen",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Departemen "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{id:"departemen","onUpdate:modelValue":t[1]||(t[1]=o=>r.value.departemen=o),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[7]||(t[7]=e("option",{value:""},"Pilih Departemen",-1)),(s(!0),a(x,null,y(_.departemenOptions,o=>(s(),a("option",{key:o,value:o},n(o),9,F))),128))],512),[[w,r.value.departemen]]),i.value.departemen?(s(),a("div",L,n(i.value.departemen),1)):m("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Status "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=o=>r.value.status=o),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},t[9]||(t[9]=[e("option",{value:"A"},"Aktif",-1),e("option",{value:"N"},"Non-Aktif",-1)]),512),[[w,r.value.status]]),i.value.status?(s(),a("div",Q,n(i.value.status),1)):m("",!0)])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[d(" Categories "),e("span",{class:"text-red-500"},"*")],-1)),e("div",W,[(s(!0),a(x,null,y(_.categories,o=>(s(),a("label",{key:o.id,class:"flex items-center p-3 border border-gray-300 rounded-xl hover:bg-blue-50 cursor-pointer transition"},[b(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[3]||(t[3]=l=>r.value.category_ids=l),class:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,H),[[B,r.value.category_ids]]),e("span",J,n(o.categories),1)]))),128))]),i.value.category_ids?(s(),a("div",z,n(i.value.category_ids),1)):m("",!0),r.value.category_ids.length===0?(s(),a("div",K," Pilih minimal 1 category ")):(s(),a("div",R,[t[11]||(t[11]=e("i",{class:"fa-solid fa-check-circle mr-1"},null,-1)),d(" "+n(r.value.category_ids.length)+" category dipilih ",1)]))])]),e("div",X,[e("div",{class:"flex items-center justify-between"},[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Parameter Pemeriksaan",-1)),e("button",{type:"button",onClick:V,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium transition flex items-center"},t[13]||(t[13]=[e("i",{class:"fa-solid fa-plus mr-2"},null,-1),d("Tambah Parameter Pemeriksaan ")]))]),(s(!0),a(x,null,y(r.value.parameters,(o,l)=>(s(),a("div",{key:l,class:"border border-gray-200 rounded-xl p-6 bg-gray-50"},[e("div",Y,[e("h4",Z,"Parameter Pemeriksaan "+n(l+1),1),r.value.parameters.length>1?(s(),a("button",{key:0,type:"button",onClick:u=>A(l),class:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm transition"},t[15]||(t[15]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,I)):m("",!0)]),e("div",ee,[e("label",{for:`parameter_pemeriksaan_${l}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[16]||(t[16]=[d(" Nama Parameter Pemeriksaan "),e("span",{class:"text-red-500"},"*",-1)]),8,te),b(e("input",{id:`parameter_pemeriksaan_${l}`,"onUpdate:modelValue":u=>o.parameter_pemeriksaan=u,type:"text",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan nama parameter pemeriksaan",required:""},null,8,se),[[h,o.parameter_pemeriksaan]]),i.value[`parameters.${l}.parameter_pemeriksaan`]?(s(),a("div",ae,n(i.value[`parameters.${l}.parameter_pemeriksaan`]),1)):m("",!0)]),e("div",re,[e("div",le,[t[18]||(t[18]=e("h5",{class:"text-sm font-medium text-gray-600"},"Parameter & Point",-1)),e("button",{type:"button",onClick:u=>C(l),class:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition flex items-center"},t[17]||(t[17]=[e("i",{class:"fa-solid fa-plus mr-1"},null,-1),d("Tambah Parameter ")]),8,oe)]),(s(!0),a(x,null,y([o],(u,v)=>(s(),a("div",{key:v,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[e("label",{for:`parameter_${l}_${v}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[19]||(t[19]=[d(" Parameter "),e("span",{class:"text-red-500"},"*",-1)]),8,ie),b(e("select",{id:`parameter_${l}_${v}`,"onUpdate:modelValue":g=>u.parameter_id=g,class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[20]||(t[20]=e("option",{value:""},"Pilih Parameter",-1)),(s(!0),a(x,null,y(_.parameters,g=>(s(),a("option",{key:g.id,value:g.id},n(g.parameter),9,de))),128))],8,ne),[[w,u.parameter_id]]),i.value[`parameters.${l}.parameter_id`]?(s(),a("div",ue,n(i.value[`parameters.${l}.parameter_id`]),1)):m("",!0)]),e("div",null,[e("label",{for:`point_${l}_${v}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[21]||(t[21]=[d(" Point "),e("span",{class:"text-red-500"},"*",-1)]),8,me),b(e("input",{id:`point_${l}_${v}`,"onUpdate:modelValue":g=>u.point=g,type:"number",min:"0",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan point",required:""},null,8,pe),[[h,u.point,void 0,{number:!0}]]),i.value[`parameters.${l}.point`]?(s(),a("div",ce,n(i.value[`parameters.${l}.point`]),1)):m("",!0)])]))),128))])]))),128))]),e("div",ge,[e("button",{type:"button",onClick:P,class:"flex-1 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-medium transition"}," Batal "),e("button",{type:"submit",disabled:f.value,class:"flex-1 px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl font-medium transition flex items-center justify-center"},[f.value?(s(),a("i",fe)):(s(),a("i",ve)),d(" "+n(f.value?"Menyimpan...":"Update"),1)],8,be)])],32)])])])]),_:1}))}};export{Ce as default};
