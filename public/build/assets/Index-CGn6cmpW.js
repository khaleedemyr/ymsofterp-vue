import{r as i,A,B as o,C as d,D as t,x as g,G as u,Q as b,S as y,H as v,Z as L,J as w,I as E,L as r,E as D,F as H,M as U,N as l,l as _,W as C}from"./vendor-vue-g7iCcTkf.js";import{A as G}from"./AppLayout-nEB-Gr2i.js";import{S}from"./app-YbzOJwkz.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DIps1Q-A.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const K={class:"min-h-screen bg-gradient-to-br from-slate-50 via-pink-50/30 to-slate-50"},M={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6"},P={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8"},W={class:"bg-white/80 backdrop-blur rounded-2xl border border-slate-200/60 shadow-sm p-5 mb-6"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},z={class:"lg:col-span-2"},J={class:"relative"},O={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},Q={class:"overflow-x-auto"},Y={class:"w-full"},Z={class:"divide-y divide-slate-100"},$={key:0},X={colspan:"10",class:"px-5 py-16 text-center"},tt={class:"flex flex-col items-center gap-4"},et={class:"px-5 py-4 text-sm text-slate-500"},st={class:"px-5 py-4"},at={class:"font-medium text-slate-800"},lt={class:"px-5 py-4 text-sm text-slate-600"},ot={class:"px-5 py-4"},rt={class:"text-sm text-slate-700"},nt={class:"text-xs text-slate-500"},it={class:"px-5 py-4 text-sm text-slate-600"},dt={class:"px-5 py-4 text-sm font-medium text-slate-700"},ut={class:"px-5 py-4"},xt=["title"],pt={class:"px-5 py-4"},mt={class:"px-5 py-4"},ct={class:"px-5 py-4 text-right"},ft={class:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition"},gt=["onClick","disabled"],bt={key:0,class:"fa-solid fa-spinner fa-spin text-sm"},yt={key:1,class:"fa-solid fa-trash text-sm"},Nt={__name:"Index",props:{reservations:{type:Array,required:!0,default:()=>[]},search:String,status:String,dateFrom:String,dateTo:String},setup(h){const x=h,p=i(x.search||""),m=i(x.status||""),c=i(x.dateFrom||""),f=i(x.dateTo||""),n=i(null);function T(a){return a?new Date(a).toLocaleDateString("id-ID",{weekday:"short",day:"numeric",month:"short",year:"numeric"}):"–"}function B(a){return a?new Date(a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"–"}function F(a){return a==null||a===""?"–":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Number(a))}function N(a){switch(a){case"confirmed":return"bg-emerald-100 text-emerald-800";case"cancelled":return"bg-rose-100 text-rose-800";default:return"bg-amber-100 text-amber-800"}}function I(a){switch(a){case"confirmed":return"Confirmed";case"cancelled":return"Cancelled";default:return"Pending"}}async function V(a){(await S.fire({title:"Hapus Reservasi?",text:"Data reservasi akan dihapus. Lanjutkan?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal",confirmButtonColor:"#e11d48"})).isConfirmed&&(n.value=a,C.delete(route("reservations.destroy",{reservation:a}),{onSuccess:()=>{n.value=null,S.fire({title:"Berhasil",text:"Reservasi dihapus.",icon:"success"})},onError:()=>{n.value=null,S.fire({title:"Error",text:"Gagal menghapus reservasi",icon:"error"})}}))}function k(){C.get(route("reservations.index"),{search:p.value,status:m.value,dateFrom:c.value,dateTo:f.value},{preserveState:!0,preserveScroll:!0})}function R(){p.value="",m.value="",c.value="",f.value="",k()}return(a,e)=>(o(),A(G,null,{default:d(()=>[t("div",K,[t("div",M,[t("div",P,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-3xl font-bold text-slate-800 tracking-tight flex items-center gap-3"},[t("span",{class:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-rose-500 to-pink-600 text-white shadow-lg shadow-pink-500/25"},[t("i",{class:"fa-solid fa-calendar-check text-xl"})]),u(" Reservasi ")]),t("p",{class:"mt-2 text-slate-500 text-sm"},"Kelola booking dan reservasi pelanggan")],-1)),g(b(y),{href:a.route("reservations.create"),class:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 shadow-lg shadow-pink-500/25 hover:shadow-pink-500/40 transition-all duration-200"},{default:d(()=>e[4]||(e[4]=[t("i",{class:"fa-solid fa-plus text-sm"},null,-1),u(" Buat Reservasi ")])),_:1},8,["href"])]),t("div",W,[e[14]||(e[14]=t("div",{class:"flex items-center gap-2 mb-4"},[t("i",{class:"fa-solid fa-filter text-rose-500"}),t("span",{class:"font-semibold text-slate-700"},"Filter")],-1)),t("div",q,[t("div",z,[e[7]||(e[7]=t("label",{class:"block text-xs font-medium text-slate-500 mb-1"},"Cari nama",-1)),t("div",J,[e[6]||(e[6]=t("i",{class:"fa-solid fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-sm"},null,-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"text",placeholder:"Cari nama reservasi...",class:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/20 outline-none transition text-sm",onKeyup:L(k,["enter"])},null,544),[[w,p.value]])])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-xs font-medium text-slate-500 mb-1"},"Tanggal dari",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/20 outline-none transition text-sm"},null,512),[[w,c.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-xs font-medium text-slate-500 mb-1"},"Tanggal sampai",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/20 outline-none transition text-sm"},null,512),[[w,f.value]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-xs font-medium text-slate-500 mb-1"},"Status",-1)),v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s),class:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-rose-400 focus:ring-2 focus:ring-rose-400/20 outline-none transition text-sm bg-white"},e[10]||(e[10]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"confirmed"},"Confirmed",-1),t("option",{value:"cancelled"},"Cancelled",-1)]),512),[[E,m.value]])])]),t("div",{class:"flex flex-wrap gap-2 mt-4"},[t("button",{onClick:k,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500 text-white text-sm font-medium hover:bg-rose-600 transition"},e[12]||(e[12]=[t("i",{class:"fa-solid fa-magnifying-glass"},null,-1),u(" Terapkan ")])),t("button",{onClick:R,class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-slate-200 text-slate-600 text-sm font-medium hover:bg-slate-50 transition"},e[13]||(e[13]=[t("i",{class:"fa-solid fa-rotate-left"},null,-1),u(" Reset ")]))])]),t("div",O,[t("div",Q,[t("table",Y,[e[20]||(e[20]=t("thead",null,[t("tr",{class:"bg-slate-50 border-b border-slate-200"},[t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"No"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Nama"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Outlet"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Tanggal & Waktu"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Tamu"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"DP"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Sales"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Area"),t("th",{class:"px-5 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Status"),t("th",{class:"px-5 py-4 text-right text-xs font-semibold text-slate-600 uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",Z,[h.reservations.length?D("",!0):(o(),r("tr",$,[t("td",X,[t("div",tt,[e[16]||(e[16]=t("span",{class:"flex items-center justify-center w-16 h-16 rounded-2xl bg-slate-100 text-slate-400"},[t("i",{class:"fa-solid fa-calendar-xmark text-2xl"})],-1)),e[17]||(e[17]=t("div",null,[t("p",{class:"font-medium text-slate-600"},"Belum ada reservasi"),t("p",{class:"text-sm text-slate-400 mt-1"},"Gunakan filter atau buat reservasi baru")],-1)),g(b(y),{href:a.route("reservations.create"),class:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-rose-500 text-white text-sm font-medium hover:bg-rose-600 transition"},{default:d(()=>e[15]||(e[15]=[t("i",{class:"fa-solid fa-plus"},null,-1),u(" Buat Reservasi ")])),_:1},8,["href"])])])])),(o(!0),r(H,null,U(h.reservations,(s,j)=>(o(),r("tr",{key:s.id,class:"hover:bg-rose-50/50 transition group"},[t("td",et,l(j+1),1),t("td",st,[t("span",at,l(s.name),1)]),t("td",lt,l(s.outlet),1),t("td",ot,[t("div",rt,l(T(s.reservation_date)),1),t("div",nt,l(B(s.reservation_time)),1)]),t("td",it,l(s.number_of_guests)+" orang",1),t("td",dt,l(s.dp!=null?F(s.dp):"–"),1),t("td",ut,[t("span",{class:_([s.from_sales?"bg-sky-100 text-sky-700":"bg-slate-100 text-slate-500","inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-medium"])},l(s.from_sales?"Dari Sales":"Bukan"),3),s.from_sales&&s.sales_user_name?(o(),r("p",{key:0,class:"text-xs text-slate-500 mt-1 truncate max-w-[120px]",title:s.sales_user_name},l(s.sales_user_name),9,xt)):D("",!0)]),t("td",pt,[t("span",{class:_([s.smoking_preference==="smoking"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700","inline-flex px-2.5 py-1 rounded-lg text-xs font-medium"])},l(s.smoking_preference==="smoking"?"Smoking":"Non-Smoking"),3)]),t("td",mt,[t("span",{class:_([N(s.status),"inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-semibold"])},l(I(s.status)),3)]),t("td",ct,[t("div",ft,[g(b(y),{href:a.route("reservations.show",{reservation:s.id}),class:"p-2 rounded-lg text-slate-500 hover:bg-slate-100 hover:text-slate-700 transition",title:"Detail"},{default:d(()=>e[18]||(e[18]=[t("i",{class:"fa-solid fa-eye text-sm"},null,-1)])),_:2},1032,["href"]),g(b(y),{href:a.route("reservations.edit",{reservation:s.id}),class:"p-2 rounded-lg text-amber-600 hover:bg-amber-50 transition",title:"Edit"},{default:d(()=>e[19]||(e[19]=[t("i",{class:"fa-solid fa-pen-to-square text-sm"},null,-1)])),_:2},1032,["href"]),t("button",{onClick:vt=>V(s.id),disabled:n.value===s.id,class:"p-2 rounded-lg text-rose-600 hover:bg-rose-50 transition disabled:opacity-50",title:"Hapus"},[n.value===s.id?(o(),r("i",bt)):(o(),r("i",yt))],8,gt)])])]))),128))])])])])])])]),_:1}))}};export{Nt as default};
