import{r as b,c as F,A as N,B as o,C as O,D as t,L as n,E as T,G as y,N as i,O as E,H as v,J as L,I as A,F as h,M as w,l as k,W as r}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-DUleG9B8.js";import{S as u}from"./app-P14ApjUf.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BD6EyRcy.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const P={class:"max-w-7xl mx-auto py-8 px-2"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Y={class:"bg-white rounded-lg shadow p-6"},z={class:"flex items-center"},G={class:"ml-4"},H={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-lg shadow p-6"},q={class:"flex items-center"},K={class:"ml-4"},Q={class:"text-2xl font-bold text-gray-900"},R={class:"bg-white rounded-lg shadow p-6"},X={class:"flex items-center"},Z={class:"ml-4"},tt={class:"text-2xl font-bold text-gray-900"},et=["value"],st={class:"bg-white rounded-xl shadow-lg overflow-hidden"},lt={class:"overflow-x-auto"},at={class:"min-w-full divide-y divide-gray-200"},it={class:"bg-white divide-y divide-gray-200"},ot={key:0},nt={class:"px-6 py-4"},dt={class:"font-medium text-gray-900"},rt={class:"text-sm text-gray-500"},ut={class:"px-6 py-4"},ct={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},xt={class:"px-6 py-4"},gt={class:"px-6 py-4 text-sm text-gray-900"},pt={class:"px-6 py-4 text-sm text-gray-900"},ft={class:"px-6 py-4 text-sm font-medium"},mt={class:"flex space-x-2"},bt=["onClick"],yt=["onClick"],vt=["onClick"],ht=["onClick"],wt={key:0,class:"flex justify-center mt-6"},kt={class:"inline-flex rounded-md shadow-sm"},Ct=["disabled"],_t=["onClick"],Bt=["disabled"],Nt={__name:"ChallengeIndex",props:{challenges:Object,filters:Object,challengeTypes:Array,stats:Object},setup(a){var C,_,B;const d=a,c=b(((C=d.filters)==null?void 0:C.search)||""),x=b(((_=d.filters)==null?void 0:_.status)||""),g=b(((B=d.filters)==null?void 0:B.type)||"");function S(){r.visit(route("challenges.index",{search:c.value||void 0,status:x.value||void 0,type:g.value||void 0}))}function p(l){r.visit(route("challenges.index",{...d.filters,page:l}))}const $=F(()=>{if(!d.challenges||!d.challenges.last_page)return[];const l=[];for(let e=1;e<=d.challenges.last_page;e++)l.push(e);return l});function V(){r.visit(route("challenges.create"))}function j(l){r.visit(route("challenges.show",l))}function I(l){r.visit(route("challenges.edit",l))}function M(l){const e=l.is_active?"nonaktifkan":"aktifkan";u.fire({title:`Apakah Anda yakin ingin ${e} challenge ini?`,text:`Challenge "${l.name}" akan ${e}.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Ya, ${e}!`,cancelButtonText:"Batal"}).then(s=>{s.isConfirmed&&r.patch(route("challenges.toggle-status",l.id),{},{onSuccess:()=>{u.fire("Berhasil!",`Challenge berhasil ${e}.`,"success")}})})}function D(l){u.fire({title:"Apakah Anda yakin ingin menghapus challenge ini?",text:`Challenge "${l.name}" akan dihapus secara permanen.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&r.delete(route("challenges.destroy",l.id),{onSuccess:()=>{u.fire("Berhasil!","Challenge berhasil dihapus.","success")}})})}return(l,e)=>(o(),N(U,null,{default:O(()=>[t("div",P,[t("div",{class:"flex justify-between items-center mb-6"},[e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-trophy text-yellow-500"}),y(" Challenge Management ")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:V,class:"bg-gradient-to-r from-yellow-500 to-yellow-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[5]||(e[5]=[t("i",{class:"fa-solid fa-plus mr-2"},null,-1),y("Tambah Challenge ")]))])]),t("div",W,[t("div",Y,[t("div",z,[e[8]||(e[8]=t("div",{class:"p-2 bg-blue-100 rounded-lg"},[t("i",{class:"fa-solid fa-list text-blue-600"})],-1)),t("div",G,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Challenges",-1)),t("p",H,i(a.stats.total),1)])])]),t("div",J,[t("div",q,[e[10]||(e[10]=t("div",{class:"p-2 bg-green-100 rounded-lg"},[t("i",{class:"fa-solid fa-check-circle text-green-600"})],-1)),t("div",K,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Active Challenges",-1)),t("p",Q,i(a.stats.active),1)])])]),t("div",R,[t("div",X,[e[12]||(e[12]=t("div",{class:"p-2 bg-gray-100 rounded-lg"},[t("i",{class:"fa-solid fa-pause-circle text-gray-600"})],-1)),t("div",Z,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-600"},"Inactive Challenges",-1)),t("p",tt,i(a.stats.inactive),1)])])])]),t("form",{onSubmit:E(S,["prevent"]),class:"flex flex-wrap gap-4 mb-6 items-end"},[t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"text",class:"form-input rounded border px-3 py-2",placeholder:"Cari challenge..."},null,512),[[L,c.value]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>x.value=s),class:"form-select rounded border px-3 py-2"},e[14]||(e[14]=[t("option",{value:""},"All Status",-1),t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)]),512),[[A,x.value]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),v(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),class:"form-select rounded border px-3 py-2"},[e[16]||(e[16]=t("option",{value:""},"All Types",-1)),(o(!0),n(h,null,w(a.challengeTypes,s=>(o(),n("option",{key:s.id,value:s.name},i(s.name),9,et))),128))],512),[[A,g.value]])]),e[18]||(e[18]=t("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold"},[t("i",{class:"fa-solid fa-search mr-2"}),y("Filter ")],-1))],32),t("div",st,[t("div",lt,[t("table",at,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Challenge"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Type"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Validity"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Creator"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",it,[a.challenges.data.length?T("",!0):(o(),n("tr",ot,e[19]||(e[19]=[t("td",{colspan:"6",class:"text-center py-10 text-gray-500"},"Tidak ada challenge.",-1)]))),(o(!0),n(h,null,w(a.challenges.data,s=>{var f;return o(),n("tr",{key:s.id},[t("td",nt,[t("div",null,[t("div",dt,i(s.name),1),t("div",rt,i(s.description),1)])]),t("td",ut,[t("span",ct,i(s.challenge_type.name),1)]),t("td",xt,[t("span",{class:k(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},i(s.is_active?"Active":"Inactive"),3)]),t("td",gt,i(s.validity_period_days)+" days ",1),t("td",pt,i(((f=s.creator)==null?void 0:f.nama_lengkap)||"-"),1),t("td",ft,[t("div",mt,[t("button",{onClick:m=>j(s.id),class:"text-blue-600 hover:text-blue-900"},e[20]||(e[20]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,bt),t("button",{onClick:m=>I(s.id),class:"text-yellow-600 hover:text-yellow-900"},e[21]||(e[21]=[t("i",{class:"fa-solid fa-edit"},null,-1)]),8,yt),t("button",{onClick:m=>M(s),class:"text-green-600 hover:text-green-900"},[t("i",{class:k(s.is_active?"fa-solid fa-pause":"fa-solid fa-play")},null,2)],8,vt),t("button",{onClick:m=>D(s),class:"text-red-600 hover:text-red-900"},e[22]||(e[22]=[t("i",{class:"fa-solid fa-trash"},null,-1)]),8,ht)])])])}),128))])])])]),a.challenges.last_page>1?(o(),n("div",wt,[t("nav",kt,[t("button",{disabled:a.challenges.current_page===1,onClick:e[3]||(e[3]=s=>p(a.challenges.current_page-1)),class:"px-3 py-1 border bg-white text-blue-700 hover:bg-blue-100 rounded-l disabled:opacity-50"},"<",8,Ct),(o(!0),n(h,null,w($.value,s=>(o(),n("button",{key:s,onClick:f=>p(s),class:k(["px-3 py-1 border",s===a.challenges.current_page?"bg-blue-600 text-white":"bg-white text-blue-700 hover:bg-blue-100"])},i(s),11,_t))),128)),t("button",{disabled:a.challenges.current_page===a.challenges.last_page,onClick:e[4]||(e[4]=s=>p(a.challenges.current_page+1)),class:"px-3 py-1 border bg-white text-blue-700 hover:bg-blue-100 rounded-r disabled:opacity-50"},">",8,Bt)])])):T("",!0)])]),_:1}))}};export{Nt as default};
