import{r as S,A as h,B as a,C as o,D as e,L as l,E as y,x as i,Q as u,S as x,G as n,Z as C,F as w,M as b,N as d,l as _,W as v}from"./vendor-vue-g7iCcTkf.js";import{A as P}from"./AppLayout-PZ6hJL3l.js";import{P as N}from"./PrimaryButton-BbBAD9SX.js";import{_ as V}from"./TextInput-B7P_xVe4.js";import{S as f}from"./app-HnvVj7H8.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BAmbAIMe.js";import"./InputLabel-Bg0AMQZ3.js";import"./vendor-charts-CuqD4wLC.js";const T={class:"max-w-7xl mx-auto py-8 px-4"},E={class:"flex justify-between items-center mb-6"},L={class:"mb-4"},$={class:"flex gap-2"},A={class:"bg-white rounded-lg shadow overflow-hidden"},D={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-white divide-y divide-gray-200"},W={class:"px-6 py-4 whitespace-nowrap"},j={class:"text-sm font-medium text-gray-900"},M={class:"px-6 py-4 whitespace-nowrap"},F={class:"text-sm text-gray-500"},G={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},O={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Y=["onClick"],z={key:0},I={key:0,class:"mt-4 flex justify-center"},Q={class:"flex gap-2"},re={__name:"Index",props:{pages:{type:Object,default:()=>({data:[]})}},setup(k){const r=k,p=S("");function g(){v.get("/web-profile/pages",{search:p.value},{preserveState:!0,replace:!0})}async function B(c){const t=r.pages.data.find(m=>m.id===c);(await f.fire({title:"Hapus Page?",text:`Yakin ingin menghapus page "${(t==null?void 0:t.title)||""}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed&&v.delete(`/web-profile/${c}`,{preserveScroll:!0,onSuccess:()=>{f.fire("Berhasil!","Page berhasil dihapus.","success")},onError:()=>{f.fire("Error!","Gagal menghapus page.","error")}})}return(c,t)=>(a(),h(P,{title:"Web Profile - Pages"},{default:o(()=>[e("div",T,[e("div",E,[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold text-gray-800"}," Web Profile Pages ",-1)),i(u(x),{href:"/web-profile/create",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:o(()=>t[1]||(t[1]=[e("i",{class:"fa-solid fa-plus mr-2"},null,-1),n(" Create New Page ")])),_:1})]),e("div",L,[e("div",$,[i(V,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Search pages...",class:"flex-1",onKeyup:C(g,["enter"])},null,8,["modelValue"]),i(N,{onClick:g},{default:o(()=>t[3]||(t[3]=[n("Search")])),_:1})])]),e("div",A,[e("table",D,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Slug"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Order"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",H,[(a(!0),l(w,null,b(r.pages.data,s=>(a(),l("tr",{key:s.id},[e("td",W,[e("div",j,d(s.title),1)]),e("td",M,[e("div",F,d(s.slug),1)]),e("td",G,[e("span",{class:_([s.is_published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 text-xs font-semibold rounded-full"])},d(s.is_published?"Published":"Draft"),3)]),e("td",K,d(s.order),1),e("td",O,[i(u(x),{href:`/web-profile/${s.id}/edit`,class:"text-blue-600 hover:text-blue-900 mr-3"},{default:o(()=>t[4]||(t[4]=[e("i",{class:"fa-solid fa-edit"},null,-1),n(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:m=>B(s.id),class:"text-red-600 hover:text-red-900"},t[5]||(t[5]=[e("i",{class:"fa-solid fa-trash"},null,-1),n(" Delete ")]),8,Y)])]))),128)),r.pages.data.length===0?(a(),l("tr",z,t[6]||(t[6]=[e("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," No pages found ",-1)]))):y("",!0)])])]),r.pages.links&&r.pages.links.length>3?(a(),l("div",I,[e("div",Q,[(a(!0),l(w,null,b(r.pages.links,s=>(a(),h(u(x),{key:s.label,href:s.url||"#",class:_(["px-4 py-2 rounded-lg",s.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",s.url?"":"opacity-50 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):y("",!0)])]),_:1}))}};export{re as default};
