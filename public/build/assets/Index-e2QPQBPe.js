import{r as m,W as l,w as M,A as N,B as a,C as O,D as t,L as r,E as h,G as g,H as y,F as v,M as w,N as i,I as S,J as z,Y,l as B}from"./vendor-vue-g7iCcTkf.js";import{l as F}from"./lodash-DB3HVzpp.js";import{S as p}from"./app-DlrnVByK.js";import{A as J}from"./AppLayout-BKllqouQ.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-10Z7fBeb.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const q={class:"max-w-7xl w-full mx-auto py-8 px-2"},K={class:"mb-4 flex gap-4"},P=["value"],Q={class:"bg-white rounded-2xl shadow-lg overflow-x-auto"},R={class:"min-w-full divide-y divide-blue-200"},X={class:"px-4 py-2 whitespace-nowrap"},Z=["onClick"],tt=["src","alt"],et={class:"px-4 py-2"},st={class:"font-semibold text-gray-900"},ot={class:"text-sm text-gray-500"},lt={class:"px-4 py-2 whitespace-nowrap"},at={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},rt={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},it={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-4 py-2 whitespace-nowrap"},ut=["onClick"],dt={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},ct={class:"px-4 py-2 whitespace-nowrap text-center flex gap-2 justify-center"},pt=["onClick"],xt=["onClick"],ft=["onClick"],gt={key:0},bt={key:0,class:"mt-6 flex justify-center"},mt={class:"flex items-center space-x-2"},ht=["onClick","disabled","innerHTML"],yt={__name:"Index",props:{videos:Object,groups:Array,filters:Object},setup(n){var k,_,C;const b=n,x=m(((k=b.filters)==null?void 0:k.search)||""),d=m(((_=b.filters)==null?void 0:_.group_id)||""),c=m(((C=b.filters)==null?void 0:C.status)||""),$=F.debounce(()=>{l.get("/video-tutorials",{search:x.value,group_id:d.value,status:c.value},{preserveState:!0,replace:!0})},400);function T(){$()}function V(o){o&&l.visit(o,{preserveState:!0,replace:!0})}function j(){l.visit("/video-tutorials/create")}function A(o){l.visit(`/video-tutorials/${o.id}/edit`)}function D(o){l.visit(`/video-tutorials/${o.id}`)}function E(){l.visit("/video-tutorial-groups")}function I(){l.visit("/video-tutorials/gallery")}async function G(o){var u;const e=o.video_url||`/storage/${o.video_path}`;if(!e){p.fire("Error","Video tidak tersedia","error");return}const s=`
    <div class="text-center">
      <h3 class="text-lg font-semibold mb-4 text-gray-800">${o.title}</h3>
      <div class="aspect-video bg-black rounded-lg overflow-hidden">
        <video 
          src="${e}" 
          controls 
          controlsList="nodownload"
          class="w-full h-full"
          preload="metadata"
          autoplay
        >
          Browser Anda tidak mendukung pemutaran video.
        </video>
      </div>
      <div class="mt-4 text-sm text-gray-600">
        <p><strong>Group:</strong> ${((u=o.group)==null?void 0:u.name)||"-"}</p>
        <p><strong>Durasi:</strong> ${o.duration_formatted}</p>
        <p><strong>Ukuran:</strong> ${o.video_size_formatted}</p>
        <p><strong>Dibuat Oleh:</strong> ${o.creator_name}</p>
      </div>
    </div>
  `;await p.fire({title:"",html:s,width:"800px",showCloseButton:!0,showConfirmButton:!1,allowOutsideClick:!0,customClass:{popup:"swal2-video-popup",closeButton:"swal2-video-close"}})}async function H(o){(await p.fire({title:"Hapus Video Tutorial?",text:`Yakin ingin menghapus video tutorial "${o.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&l.delete(route("video-tutorials.destroy",o.id),{onSuccess:()=>p.fire("Berhasil","Video tutorial berhasil dihapus!","success")})}async function U(o){const e=o.status==="A"?"dinonaktifkan":"diaktifkan";l.patch(route("video-tutorials.toggle-status",o.id),{},{onSuccess:()=>p.fire("Berhasil",`Video tutorial berhasil ${e}!`,"success")})}function L(o){o.target.style.display="none",o.target.nextElementSibling.style.display="flex"}return M([d,c],()=>{l.get("/video-tutorials",{search:x.value,group_id:d.value,status:c.value},{preserveState:!0,replace:!0})}),(o,e)=>(a(),N(J,{title:"Data Video Tutorial"},{default:O(()=>[t("div",q,[t("div",{class:"flex justify-between items-center mb-6"},[e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-video text-blue-500"}),g(" Data Video Tutorial ")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:E,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[3]||(e[3]=[t("i",{class:"fa-solid fa-folder mr-2"},null,-1),g(" Kelola Group ")])),t("button",{onClick:I,class:"bg-gradient-to-r from-red-500 to-red-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[4]||(e[4]=[t("i",{class:"fa-solid fa-play-circle mr-2"},null,-1),g(" Video Gallery ")])),t("button",{onClick:j,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[5]||(e[5]=[t("i",{class:"fa-solid fa-plus mr-2"},null,-1),g(" Upload Video Tutorial ")]))])]),t("div",K,[y(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"form-input rounded-xl"},[e[7]||(e[7]=t("option",{value:""},"Semua Group",-1)),(a(!0),r(v,null,w(n.groups,s=>(a(),r("option",{key:s.id,value:s.id},i(s.name),9,P))),128))],512),[[S,d.value]]),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),class:"form-input rounded-xl"},e[8]||(e[8]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"A"},"Active",-1),t("option",{value:"N"},"Inactive",-1)]),512),[[S,c.value]]),y(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>x.value=s),onInput:T,type:"text",placeholder:"Cari judul, deskripsi, nama file...",class:"flex-1 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,544),[[z,x.value]])]),t("div",Q,[t("table",R,[e[15]||(e[15]=t("thead",{class:"bg-blue-600 text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Thumbnail"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Judul"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Group"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Durasi"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Ukuran"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Dibuat Oleh"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",null,[(a(!0),r(v,null,w(n.videos.data,s=>{var u;return a(),r("tr",{key:s.id,class:"hover:bg-blue-50 transition"},[t("td",X,[t("div",{class:"w-16 h-12 bg-gray-200 rounded-lg overflow-hidden flex items-center justify-center relative cursor-pointer group",onClick:f=>G(s)},[s.thumbnail_url?(a(),r("img",{key:0,src:s.thumbnail_url,alt:s.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200",onError:L},null,40,tt)):h("",!0),t("div",{class:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-blue-600 group-hover:scale-110 transition-transform duration-200",style:Y({display:s.thumbnail_url?"none":"flex"})},e[9]||(e[9]=[t("i",{class:"fa-solid fa-video text-white text-lg"},null,-1)]),4),e[10]||(e[10]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center"},[t("i",{class:"fa-solid fa-play text-white text-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200"})],-1))],8,Z)]),t("td",et,[t("div",st,i(s.title),1),t("div",ot,i(s.description||"-"),1)]),t("td",lt,[t("span",at,i(((u=s.group)==null?void 0:u.name)||"-"),1)]),t("td",rt,i(s.duration_formatted),1),t("td",it,i(s.video_size_formatted),1),t("td",nt,[t("button",{onClick:f=>U(s),class:B(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition",s.status==="A"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"])},i(s.status_text),11,ut)]),t("td",dt,i(s.creator_name),1),t("td",ct,[t("button",{onClick:f=>D(s),class:"px-2 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"Detail"},e[11]||(e[11]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,pt),t("button",{onClick:f=>A(s),class:"px-2 py-1 rounded bg-yellow-200 text-yellow-900 hover:bg-yellow-300 transition",title:"Edit"},e[12]||(e[12]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,xt),t("button",{onClick:f=>H(s),class:"px-2 py-1 rounded bg-red-500 text-white hover:bg-red-600 transition",title:"Hapus"},e[13]||(e[13]=[t("i",{class:"fa-solid fa-trash"},null,-1)]),8,ft)])])}),128)),n.videos.data.length===0?(a(),r("tr",gt,e[14]||(e[14]=[t("td",{colspan:"8",class:"text-center py-8 text-gray-400"},"Tidak ada data video tutorial",-1)]))):h("",!0)])])]),n.videos.links&&n.videos.links.length>3?(a(),r("div",bt,[t("nav",mt,[(a(!0),r(v,null,w(n.videos.links,s=>(a(),r("button",{key:s.label,onClick:u=>V(s.url),disabled:!s.url||s.active,class:B(["px-3 py-2 rounded-lg text-sm font-medium transition",s.active?"bg-blue-600 text-white cursor-not-allowed":s.url?"bg-white text-gray-700 hover:bg-gray-50 border border-gray-300":"bg-gray-100 text-gray-400 cursor-not-allowed"]),innerHTML:s.label},null,10,ht))),128))])])):h("",!0)])]),_:1}))}},At=W(yt,[["__scopeId","data-v-dcefb9bf"]]);export{At as default};
