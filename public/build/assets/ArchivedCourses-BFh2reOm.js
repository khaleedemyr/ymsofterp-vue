import{r as C,c as f,w as V,A as F,B as l,C as A,D as e,L as a,E as u,G as p,x as N,N as i,Q as U,S as I,H as m,J as $,F as v,M as h,I as y,l as w,O as B,W as j}from"./vendor-vue-g7iCcTkf.js";import{A as z}from"./AppLayout-DP-q1yH_.js";import{S as x}from"./app-BoyRvw0M.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./ProfileUpdateModal-Cs9EnNrk.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const G={class:"relative min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900"},J={class:"relative z-10 py-8 px-6"},K={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl mb-8"},W={class:"p-8 bg-gradient-to-r from-orange-600/80 via-red-600/80 to-pink-600/80 rounded-3xl"},q={class:"flex items-center justify-between"},H={class:"flex items-center space-x-4"},Q={class:"text-center"},Y={class:"text-6xl font-bold text-white drop-shadow-lg animate-pulse"},R={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl mb-8 p-6"},X={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Z={class:"relative"},ee=["value"],te=["value"],re={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},se={class:"relative h-48 rounded-t-2xl overflow-hidden"},oe=["src","alt"],le={key:1,class:"w-full h-full bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center"},ae={class:"absolute bottom-4 left-4"},ie={class:"absolute bottom-4 right-4"},de={key:2,class:"absolute top-4 right-4 flex space-x-2"},ne=["onClick"],ue=["onClick"],be={class:"p-6"},ce={class:"mb-3"},fe={class:"px-3 py-1 text-xs rounded-full bg-orange-500/20 text-orange-200 border border-orange-500/30 backdrop-blur-sm"},pe={class:"text-lg font-semibold text-white mb-2 line-clamp-2 group-hover:text-orange-300 transition-colors drop-shadow-lg"},me={class:"text-white/80 text-sm mb-4 line-clamp-2 drop-shadow-md"},xe={class:"space-y-2 mb-4"},ge={class:"flex items-center text-sm text-white/70"},ve={class:"flex items-center text-sm text-white/70"},he={class:"flex items-center text-sm text-white/70"},ye={class:"flex flex-wrap gap-1"},we={key:0,class:"px-2 py-1 text-xs rounded-full bg-purple-500/20 text-purple-200 border border-purple-500/30 backdrop-blur-sm"},_e={key:1,class:"px-2 py-1 text-xs rounded-full bg-purple-500/20 text-purple-200 border border-purple-500/30 backdrop-blur-sm"},ke={key:2,class:"px-2 py-1 text-xs rounded-full bg-purple-500/20 text-purple-200 border border-purple-500/30 backdrop-blur-sm"},Ce={key:0,class:"flex items-center text-sm text-white/70"},Ae={class:"px-2 py-1 text-xs rounded-full bg-indigo-500/20 text-indigo-200 border border-indigo-500/30 backdrop-blur-sm"},Be={key:1,class:"flex items-center text-sm text-white/70"},je={class:"px-2 py-1 text-xs rounded-full bg-teal-500/20 text-teal-200 border border-teal-500/30 backdrop-blur-sm"},Se={class:"flex items-center justify-between"},Pe={class:"text-xs text-white/60"},De={key:1,class:"text-center py-12"},Le={key:2,class:"mt-8 flex justify-center"},Ee={class:"flex items-center space-x-2 backdrop-blur-xl bg-white/10 border border-white/20 rounded-xl p-2"},Me=["disabled"],Te={class:"px-4 py-2 text-sm text-white font-semibold"},Ve=["disabled"],_=12,Fe={__name:"ArchivedCourses",props:{courses:Array,categories:Array,divisions:Array,jabatans:Array,levels:Array,internalTrainers:Array,user:Object},setup(b){const n=b,s=C({search:"",category:"",difficulty:"",division:""}),d=C(1),S=f(()=>n.user?n.user.id_role==="5af56935b011a"&&n.user.status==="A"||n.user.id_jabatan===170&&n.user.status==="A":!1),g=f(()=>{let o=n.courses;return s.value.search&&(o=o.filter(t=>t.title.toLowerCase().includes(s.value.search.toLowerCase())||t.description.toLowerCase().includes(s.value.search.toLowerCase()))),s.value.category&&(o=o.filter(t=>t.category_id==s.value.category)),s.value.difficulty&&(o=o.filter(t=>t.difficulty_level===s.value.difficulty)),s.value.division&&(o=o.filter(t=>t.target_type==="all"?!0:t.target_type==="single"?t.target_division_id==s.value.division:t.target_type==="multiple"?t.target_divisions&&t.target_divisions.includes(parseInt(s.value.division)):!1)),o}),c=f(()=>Math.ceil(g.value.length/_)),P=f(()=>{const o=(d.value-1)*_,t=o+_;return g.value.slice(o,t)}),D=o=>{j.get(route("lms.courses.edit",o))},L=async o=>{if((await x.fire({title:"Konfirmasi Publish",text:"Apakah Anda yakin ingin mempublish kembali course ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#10B981",cancelButtonColor:"#6B7280",confirmButtonText:"Ya, Publish!",cancelButtonText:"Batal"})).isConfirmed)try{await j.put(route("lms.courses.publish",o),{},{onSuccess:()=>{x.fire({icon:"success",title:"Berhasil!",text:"Course berhasil dipublish kembali!",confirmButtonColor:"#10B981"})},onError:r=>{x.fire({icon:"error",title:"Error!",text:"Gagal mempublish course. Silakan coba lagi.",confirmButtonColor:"#EF4444"})}})}catch(r){console.error("Error publishing course:",r),x.fire({icon:"error",title:"Error!",text:"Terjadi kesalahan. Silakan coba lagi.",confirmButtonColor:"#EF4444"})}},E=()=>{s.value={search:"",category:"",difficulty:"",division:""},d.value=1},M=o=>new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"});return V(s,()=>{d.value=1},{deep:!0}),(o,t)=>(l(),F(z,{title:"Archived Courses"},{default:A(()=>[e("div",G,[t[25]||(t[25]=e("div",{class:"absolute inset-0 overflow-hidden"},[e("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-orange-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),e("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-red-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),e("div",{class:"absolute top-40 left-40 w-80 h-80 bg-pink-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),e("div",J,[e("div",K,[e("div",W,[e("div",q,[t[8]||(t[8]=e("div",{class:"space-y-4"},[e("h1",{class:"text-4xl font-bold text-white drop-shadow-lg"},[e("i",{class:"fas fa-archive mr-3"}),p(" Archived Courses ")]),e("p",{class:"text-xl text-white/90 drop-shadow-md"}," Course yang telah diarchive dan dapat dipublish kembali ")],-1)),e("div",H,[e("div",Q,[e("div",Y,i(b.courses.length),1),t[6]||(t[6]=e("div",{class:"text-lg text-white/90 drop-shadow-md"},"Course Archived",-1))]),N(U(I),{href:o.route("lms.courses.index"),class:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg"},{default:A(()=>t[7]||(t[7]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),p(" Back to Active ")])),_:1},8,["href"])])])])]),e("div",R,[e("div",X,[e("div",Z,[m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.value.search=r),type:"text",placeholder:"Cari course archived...",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},null,512),[[$,s.value.search]]),t[9]||(t[9]=e("i",{class:"fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-white/50"},null,-1))]),m(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.category=r),class:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},[t[10]||(t[10]=e("option",{value:""},"Semua Kategori",-1)),(l(!0),a(v,null,h(b.categories,r=>(l(),a("option",{key:r.id,value:r.id},i(r.name),9,ee))),128))],512),[[y,s.value.category]]),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.difficulty=r),class:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},t[11]||(t[11]=[e("option",{value:""},"Semua Level",-1),e("option",{value:"beginner"},"Pemula",-1),e("option",{value:"intermediate"},"Menengah",-1),e("option",{value:"advanced"},"Lanjutan",-1)]),512),[[y,s.value.difficulty]]),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=r=>s.value.division=r),class:"px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent"},[t[12]||(t[12]=e("option",{value:""},"Semua Divisi",-1)),(l(!0),a(v,null,h(b.divisions,r=>(l(),a("option",{key:r.id,value:r.id},i(r.nama_divisi),9,te))),128))],512),[[y,s.value.division]])])]),g.value.length>0?(l(),a("div",re,[(l(!0),a(v,null,h(P.value,r=>{var k;return l(),a("div",{key:r.id,class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl transform hover:scale-105 hover:rotate-1 transition-all duration-500 cursor-pointer group"},[e("div",se,[r.thumbnail_url?(l(),a("img",{key:0,src:r.thumbnail_url,alt:r.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,oe)):(l(),a("div",le,t[13]||(t[13]=[e("i",{class:"fas fa-archive text-6xl text-white/50 group-hover:scale-110 transition-transform duration-300"},null,-1)]))),e("div",ae,[e("span",{class:w({"px-3 py-1 text-xs rounded-full font-semibold backdrop-blur-sm":!0,"bg-blue-500/20 text-blue-200 border border-blue-500/30":r.difficulty_level==="beginner","bg-yellow-500/20 text-yellow-200 border border-yellow-500/30":r.difficulty_level==="intermediate","bg-red-500/20 text-red-200 border border-red-500/30":r.difficulty_level==="advanced"})},i(r.difficulty_text),3)]),e("div",ie,[e("span",{class:w({"px-3 py-1 text-xs rounded-full font-semibold backdrop-blur-sm":!0,"bg-green-500/20 text-green-200 border border-green-500/30":r.status==="published","bg-yellow-500/20 text-yellow-200 border border-yellow-500/30":r.status==="draft","bg-red-500/20 text-red-200 border border-red-500/30":r.status==="archived"})},[e("i",{class:w({"fas fa-check-circle mr-1":r.status==="published","fas fa-edit mr-1":r.status==="draft","fas fa-archive mr-1":r.status==="archived"})},null,2),p(" "+i(r.status==="published"?"Published":r.status==="draft"?"Draft":"Archived"),1)],2)]),S.value?(l(),a("div",de,[e("button",{onClick:B(T=>D(r.id),["stop"]),class:"w-8 h-8 bg-blue-500/80 backdrop-blur-sm border border-blue-400/30 rounded-full text-white hover:bg-blue-600/80 transition-all duration-300 transform hover:scale-105 flex items-center justify-center",title:"Edit Course"},t[14]||(t[14]=[e("i",{class:"fas fa-edit text-xs"},null,-1)]),8,ne),e("button",{onClick:B(T=>L(r.id),["stop"]),class:"w-8 h-8 bg-green-500/80 backdrop-blur-sm border border-green-400/30 rounded-full text-white hover:bg-green-600/80 transition-all duration-300 transform hover:scale-105 flex items-center justify-center",title:"Publish Course"},t[15]||(t[15]=[e("i",{class:"fas fa-upload text-xs"},null,-1)]),8,ue)])):u("",!0)]),e("div",be,[e("div",ce,[e("span",fe,i(((k=r.category)==null?void 0:k.name)||"Uncategorized"),1)]),e("h3",pe,i(r.title),1),e("p",me,i(r.description),1),e("div",xe,[e("div",ge,[t[16]||(t[16]=e("i",{class:"fas fa-clock mr-2 text-orange-400"},null,-1)),e("span",null,i(r.duration_formatted),1)]),e("div",ve,[t[17]||(t[17]=e("i",{class:"fas fa-user mr-2 text-green-400"},null,-1)),e("span",null,i(r.instructor_name),1)]),e("div",he,[t[18]||(t[18]=e("i",{class:"fas fa-users mr-2 text-purple-400"},null,-1)),e("div",ye,[r.target_type==="all"?(l(),a("span",we," Semua Divisi ")):r.target_type==="single"&&r.target_division?(l(),a("span",_e,i(r.target_division.nama_divisi),1)):r.target_type==="multiple"?(l(),a("span",ke,i(r.target_division_name),1)):u("",!0)])]),r.target_jabatan_names&&r.target_jabatan_names!=="Jabatan tidak ditentukan"?(l(),a("div",Ce,[t[19]||(t[19]=e("i",{class:"fas fa-id-badge mr-2 text-indigo-400"},null,-1)),e("span",Ae,i(r.target_jabatan_names),1)])):u("",!0),r.target_outlet_names&&r.target_outlet_names!=="Outlet tidak ditentukan"?(l(),a("div",Be,[t[20]||(t[20]=e("i",{class:"fas fa-store mr-2 text-teal-400"},null,-1)),e("span",je,i(r.target_outlet_names),1)])):u("",!0)]),e("div",Se,[t[21]||(t[21]=e("span",{class:"px-3 py-1 text-xs rounded-full bg-red-500/20 text-red-200 border border-red-500/30 backdrop-blur-sm font-semibold"},[e("i",{class:"fas fa-archive mr-1"}),p(" Archived ")],-1)),e("span",Pe,i(M(r.updated_at)),1)])])])}),128))])):(l(),a("div",De,[e("div",{class:"max-w-md mx-auto"},[t[22]||(t[22]=e("div",{class:"w-24 h-24 mx-auto mb-6 bg-orange-500/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-orange-500/30"},[e("i",{class:"fas fa-archive text-3xl text-orange-400"})],-1)),t[23]||(t[23]=e("h3",{class:"text-lg font-semibold text-white mb-2 drop-shadow-lg"}," Tidak Ada Course Archived ",-1)),t[24]||(t[24]=e("p",{class:"text-white/80 mb-6 drop-shadow-md"}," Tidak ada course archived yang sesuai dengan filter saat ini. ",-1)),e("button",{onClick:E,class:"px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg"}," Clear Filters ")])])),c.value>1?(l(),a("div",Le,[e("nav",Ee,[e("button",{onClick:t[4]||(t[4]=r=>d.value=Math.max(1,d.value-1)),disabled:d.value===1,class:"px-4 py-2 text-sm font-medium text-white bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300"}," Previous ",8,Me),e("span",Te," Page "+i(d.value)+" of "+i(c.value),1),e("button",{onClick:t[5]||(t[5]=r=>d.value=Math.min(c.value,d.value+1)),disabled:d.value===c.value,class:"px-4 py-2 text-sm font-medium text-white bg-white/10 border border-white/20 rounded-lg hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300"}," Next ",8,Ve)])])):u("",!0)])])]),_:1}))}},qe=O(Fe,[["__scopeId","data-v-c4a08644"]]);export{qe as default};
