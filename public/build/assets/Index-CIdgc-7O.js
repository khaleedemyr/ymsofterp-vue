import{r as p,A as C,B as i,C as m,D as t,x as c,L as l,E as u,Q as x,S as v,G as r,Z as N,F as M,M as S,N as f,l as j,W as T}from"./vendor-vue-g7iCcTkf.js";import{A as P}from"./AppLayout-C3aoO-bU.js";import{P as Z}from"./PrimaryButton-BbBAD9SX.js";import{_ as E}from"./TextInput-B7P_xVe4.js";import{N as H}from"./vue-easy-lightbox.esm.min-H9agbAmC.js";import{S as _}from"./app-a4QKyjuP.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CoSAPJ9h.js";import"./InputLabel-Bg0AMQZ3.js";import"./vendor-charts-CuqD4wLC.js";const $={class:"max-w-7xl mx-auto py-8 px-4"},L={class:"flex justify-between items-center mb-6"},A={class:"mb-4"},V={class:"flex gap-2"},D={class:"bg-white rounded-lg shadow overflow-hidden"},Y={class:"min-w-full divide-y divide-gray-200"},J={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4"},R={class:"flex gap-2 items-center"},z={key:0,class:"relative group"},F=["src","alt","onClick"],O={key:1,class:"relative group"},U=["src","alt","onClick"],K={key:2,class:"w-24 h-16 bg-gray-100 rounded flex flex-col items-center justify-center border-2 border-dashed border-gray-300"},X={class:"px-6 py-4 whitespace-nowrap"},q={class:"text-sm font-medium text-gray-900"},tt={class:"px-6 py-4 whitespace-nowrap"},et={class:"text-sm text-gray-500"},st={class:"px-6 py-4 whitespace-nowrap"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},rt=["onClick"],it={key:0},lt={key:0,class:"mt-4 flex justify-center"},nt={class:"flex gap-2"},vt={__name:"Index",props:{banners:{type:Object,default:()=>({data:[]})}},setup(W){const n=W,b=p(""),y=p(!1),w=p([]),h=p(0);function k(){T.get("/web-profile/banners",{search:b.value},{preserveState:!0,replace:!0})}async function G(o){const e=n.banners.data.find(a=>a.id===o);(await _.fire({title:"Hapus Banner?",text:`Yakin ingin menghapus banner "${(e==null?void 0:e.title)||""}"? Tindakan ini juga akan menghapus semua gambar yang terkait.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6c757d",confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed&&T.delete(`/web-profile/banners/${o}`,{preserveScroll:!0,onSuccess:()=>{_.fire("Berhasil!","Banner berhasil dihapus.","success")},onError:()=>{_.fire("Error!","Gagal menghapus banner.","error")}})}function B(o,e="background"){const s=[],a=d(o,"background");a&&s.push(a);const g=d(o,"content");g&&s.push(g),s.length>0&&(e==="content"&&g?h.value=s.indexOf(g):h.value=0,w.value=s,y.value=!0)}function d(o,e="background"){return e==="background"?o.background_image_url&&o.background_image_url!==""?o.background_image_url:o.background_image&&o.background_image!==""&&o.background_image.includes(".")?`/storage/${o.background_image}`:null:o.content_image_url&&o.content_image_url!==""?o.content_image_url:o.content_image&&o.content_image!==""&&o.content_image.includes(".")?`/storage/${o.content_image}`:null}function I(o){console.error("Image load error:",o.target.src),o.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2U1ZTdlYiIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5ObyBJbWFnZTwvdGV4dD48L3N2Zz4=",o.target.onerror=null}return(o,e)=>(i(),C(P,{title:"Web Profile - Banners"},{default:m(()=>[t("div",$,[t("div",L,[e[5]||(e[5]=t("h1",{class:"text-2xl font-bold text-gray-800"}," Banner Management ",-1)),c(x(v),{href:"/web-profile/banners/create",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},{default:m(()=>e[4]||(e[4]=[t("i",{class:"fa-solid fa-plus mr-2"},null,-1),r(" Create New Banner ")])),_:1})]),e[16]||(e[16]=t("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},[t("h3",{class:"font-semibold text-blue-800 mb-2"},[t("i",{class:"fa-solid fa-info-circle mr-2"}),r(" Banner Requirements ")]),t("ul",{class:"text-sm text-blue-700 space-y-1"},[t("li",null,[r("• "),t("strong",null,"Background Image:"),r(" Min 1920x1080px (16:9), Max 5MB, Format: JPG/PNG/WEBP")]),t("li",null,[r("• "),t("strong",null,"Content Image:"),r(" Min 800x600px, Max 5MB, Format: JPG/PNG/WEBP")]),t("li",null,[r("• "),t("strong",null,"Maximum:"),r(" 5 active banners will be displayed on homepage")])])],-1)),t("div",A,[t("div",V,[c(E,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),type:"text",placeholder:"Search banners...",class:"flex-1",onKeyup:N(k,["enter"])},null,8,["modelValue"]),c(Z,{onClick:k},{default:m(()=>e[6]||(e[6]=[r("Search")])),_:1})])]),t("div",D,[t("table",Y,[e[15]||(e[15]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Preview"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subtitle"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Order"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",J,[(i(!0),l(M,null,S(n.banners.data,s=>(i(),l("tr",{key:s.id},[t("td",Q,[t("div",R,[s.background_image_url&&s.background_image_url!==""||s.background_image&&s.background_image!==""?(i(),l("div",z,[t("img",{src:d(s,"background"),alt:`${s.title} - Background`,class:"w-24 h-16 object-cover rounded cursor-pointer hover:opacity-90 transition-opacity border-2 border-gray-300 shadow-sm",onClick:a=>B(s,"background"),onError:e[1]||(e[1]=a=>I(a))},null,40,F),e[7]||(e[7]=t("span",{class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs px-1 py-0.5 text-center rounded-b font-semibold"},"BG",-1)),e[8]||(e[8]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all rounded flex items-center justify-center"},[t("i",{class:"fa-solid fa-expand text-white opacity-0 group-hover:opacity-100 transition-opacity text-sm"})],-1))])):u("",!0),s.content_image_url&&s.content_image_url!==""||s.content_image&&s.content_image!==""?(i(),l("div",O,[t("img",{src:d(s,"content"),alt:`${s.title} - Content`,class:"w-24 h-16 object-cover rounded cursor-pointer hover:opacity-90 transition-opacity border-2 border-gray-300 shadow-sm",onClick:a=>B(s,"content"),onError:e[2]||(e[2]=a=>I(a))},null,40,U),e[9]||(e[9]=t("span",{class:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 text-white text-xs px-1 py-0.5 text-center rounded-b font-semibold"},"CT",-1)),e[10]||(e[10]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all rounded flex items-center justify-center"},[t("i",{class:"fa-solid fa-expand text-white opacity-0 group-hover:opacity-100 transition-opacity text-sm"})],-1))])):u("",!0),!d(s,"background")&&!d(s,"content")?(i(),l("div",K,e[11]||(e[11]=[t("i",{class:"fa-solid fa-image text-gray-400 text-xl mb-1"},null,-1),t("span",{class:"text-xs text-gray-500"},"No Image",-1)]))):u("",!0)])]),t("td",X,[t("div",q,f(s.title),1)]),t("td",tt,[t("div",et,f(s.subtitle||"-"),1)]),t("td",st,[t("span",{class:j([s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 text-xs font-semibold rounded-full"])},f(s.is_active?"Active":"Inactive"),3)]),t("td",ot,f(s.order),1),t("td",at,[c(x(v),{href:`/web-profile/banners/${s.id}/edit`,class:"text-blue-600 hover:text-blue-900 mr-3"},{default:m(()=>e[12]||(e[12]=[t("i",{class:"fa-solid fa-edit"},null,-1),r(" Edit ")])),_:2},1032,["href"]),t("button",{onClick:a=>G(s.id),class:"text-red-600 hover:text-red-900"},e[13]||(e[13]=[t("i",{class:"fa-solid fa-trash"},null,-1),r(" Delete ")]),8,rt)])]))),128)),n.banners.data.length===0?(i(),l("tr",it,e[14]||(e[14]=[t("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"}," No banners found ",-1)]))):u("",!0)])])]),n.banners.links&&n.banners.links.length>3?(i(),l("div",lt,[t("div",nt,[(i(!0),l(M,null,S(n.banners.links,s=>(i(),C(x(v),{key:s.label,href:s.url||"#",class:j(["px-4 py-2 rounded-lg",s.active?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50",s.url?"":"opacity-50 cursor-not-allowed"]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])):u("",!0)]),c(x(H),{visible:y.value,imgs:w.value,index:h.value,onHide:e[3]||(e[3]=s=>y.value=!1)},null,8,["visible","imgs","index"])]),_:1}))}};export{vt as default};
