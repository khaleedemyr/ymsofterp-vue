import{A as S}from"./AppLayout-DkG6xw-a.js";import{A as T,B as o,C as p,D as t,N as i,l as C,G as r,L as d,E as c,Y as u}from"./vendor-vue-g7iCcTkf.js";import"./app-5ZP5W-3z.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-COEZdPkp.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const N={class:"py-6"},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white dark:bg-gray-800 shadow rounded-lg mb-6"},I={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},z={class:"text-lg font-medium text-gray-900 dark:text-white"},B={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},F={class:"px-6 py-4"},$={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},j={class:"text-sm text-gray-900 dark:text-white"},_={class:"text-sm text-gray-900 dark:text-white"},R={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},L={class:"p-6"},E={class:"max-w-4xl mx-auto"},G={class:"relative bg-white border-2 border-gray-300 shadow-lg overflow-hidden",style:{aspectRatio:"4/3"}},V=["src"],q={class:"relative z-10 h-full flex flex-col justify-center items-center p-8"},K={class:"relative w-full h-full"},M={class:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-blue-700 dark:text-blue-300"},at={__name:"Preview",props:{certificate:{type:Object,required:!0},sampleData:{type:Object,required:!0}},setup(a){const b=a,k=s=>s?new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-",n=s=>{var e,l;return((l=(e=b.certificate.template)==null?void 0:e.text_positions)==null?void 0:l[s])||null},m=s=>{const e=n(s);if(!e)return{};const l=parseInt(e.x)/896*100,g=parseInt(e.y)/672*100,f={Arial:"Arial, sans-serif",Georgia:"Georgia, serif","Times New Roman":"Times New Roman, serif","Courier New":"Courier New, monospace",Impact:"Impact, Arial Black, sans-serif",helvetica:"Arial, sans-serif",times:"Times New Roman, serif"}[e.font_family]||"Arial, sans-serif",y=parseInt(e.font_size)+"px",h=e.font_weight==="bold"?"bold":"normal";return console.log(`Field: ${s}, Template Pos: (${e.x}, ${e.y}), Font Size: ${e.font_size}, Calculated CSS: (left: ${l}%, top: ${g}%, font-size: ${y})`),{position:"absolute",left:l+"%",top:g+"%",fontFamily:f,fontSize:y,fontWeight:h,color:"#000000",textAlign:"center",whiteSpace:"nowrap"}},v=s=>s?`/storage/${s}`:"",w=()=>{const s=route("lms.certificates.download",b.certificate.id);window.open(s,"_blank")},D=()=>{window.history.back()};return(s,e)=>(o(),T(S,{title:"Preview Sertifikat"},{header:p(()=>[t("div",{class:"flex items-center justify-between"},[e[2]||(e[2]=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},[t("i",{class:"fas fa-certificate mr-2"}),r(" Preview Sertifikat ")],-1)),t("div",{class:"flex items-center space-x-2"},[t("button",{onClick:w,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"},e[0]||(e[0]=[t("i",{class:"fas fa-download mr-2"},null,-1),r(" Download PDF ")])),t("button",{onClick:D,class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"},e[1]||(e[1]=[t("i",{class:"fas fa-arrow-left mr-2"},null,-1),r(" Kembali ")]))])])]),default:p(()=>{var l,g,x,f;return[t("div",N,[t("div",P,[t("div",A,[t("div",I,[t("h3",z,i(((l=a.certificate.course)==null?void 0:l.title)||"Training Course"),1),t("p",B," Nomor Sertifikat: "+i(a.certificate.certificate_number),1)]),t("div",F,[t("div",$,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Peserta",-1)),t("p",j,i(((g=a.certificate.user)==null?void 0:g.nama_lengkap)||"Nama Peserta"),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tanggal Terbit",-1)),t("p",_,i(k(a.certificate.issued_at)),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Status",-1)),t("span",{class:C(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.certificate.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},i(a.certificate.status==="active"?"Aktif":"Tidak Aktif"),3)])])])]),t("div",R,[e[15]||(e[15]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},[t("i",{class:"fas fa-certificate mr-2"}),r(" Preview Sertifikat ")]),t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Preview sertifikat dengan data asli ")],-1)),t("div",L,[t("div",E,[t("div",G,[(x=a.certificate.template)!=null&&x.background_image?(o(),d("img",{key:0,src:v(a.certificate.template.background_image),alt:"Certificate Background",class:"absolute inset-0 w-full h-full object-cover object-center"},null,8,V)):c("",!0),t("div",q,[e[6]||(e[6]=t("div",{class:"text-center mb-8"},[t("h1",{class:"text-4xl font-bold text-gray-800 mb-2"}," SERTIFIKAT "),t("div",{class:"w-24 h-1 bg-blue-600 mx-auto"})],-1)),t("div",K,[n("participant_name")?(o(),d("div",{key:0,style:u(m("participant_name")),class:"absolute"},i(a.sampleData.participant_name),5)):c("",!0),n("course_title")?(o(),d("div",{key:1,style:u(m("course_title")),class:"absolute"},i(a.sampleData.course_title),5)):c("",!0),n("completion_date")?(o(),d("div",{key:2,style:u(m("completion_date")),class:"absolute"},i(a.sampleData.completion_date),5)):c("",!0),n("certificate_number")?(o(),d("div",{key:3,style:u(m("certificate_number")),class:"absolute"},i(a.sampleData.certificate_number),5)):c("",!0),n("training_location")?(o(),d("div",{key:4,style:u(m("training_location")),class:"absolute"},i(a.sampleData.training_location),5)):c("",!0),n("instructor_name")?(o(),d("div",{key:5,style:u(m("instructor_name")),class:"absolute"},i(a.sampleData.instructor_name),5)):c("",!0)])])])]),t("div",M,[e[14]||(e[14]=t("h4",{class:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2"},[t("i",{class:"fas fa-info-circle mr-1"}),r(" Data Sertifikat: ")],-1)),t("div",O,[t("div",null,[e[7]||(e[7]=t("strong",null,"Nama Peserta:",-1)),r(" "+i(a.sampleData.participant_name),1)]),t("div",null,[e[8]||(e[8]=t("strong",null,"Judul Pelatihan:",-1)),r(" "+i(a.sampleData.course_title),1)]),t("div",null,[e[9]||(e[9]=t("strong",null,"Tanggal Selesai:",-1)),r(" "+i(a.sampleData.completion_date),1)]),t("div",null,[e[10]||(e[10]=t("strong",null,"Nomor Sertifikat:",-1)),r(" "+i(a.sampleData.certificate_number),1)]),t("div",null,[e[11]||(e[11]=t("strong",null,"Lokasi Training:",-1)),r(" "+i(a.sampleData.training_location),1)]),t("div",null,[e[12]||(e[12]=t("strong",null,"Instruktur:",-1)),r(" "+i(a.sampleData.instructor_name),1)]),t("div",null,[e[13]||(e[13]=t("strong",null,"Template:",-1)),r(" "+i(((f=a.certificate.template)==null?void 0:f.name)||"Default Template"),1)])])])])])])])]}),_:1}))}};export{at as default};
