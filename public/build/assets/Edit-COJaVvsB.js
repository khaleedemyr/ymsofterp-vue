import{r as v,a as w,A as j,B as o,C as M,D as e,G as g,O as V,H as n,L as i,E as p,l as x,J as m,N as u,I as y,F as P,M as N,W as c}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-IyEgvQ-G.js";import"./vendor-utils-CpgP2uT4.js";import"./app-5sHs3Z-e.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C59QAxMM.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const L={class:"max-w-4xl w-full mx-auto py-8 px-2"},h={class:"bg-white rounded-2xl shadow-lg p-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I={key:0,class:"text-red-500 text-sm mt-1"},S={key:0,class:"text-red-500 text-sm mt-1"},B={key:0,class:"text-red-500 text-sm mt-1"},C={key:0,class:"text-red-500 text-sm mt-1"},D=["value"],K={key:0,class:"text-red-500 text-sm mt-1"},T={class:"border-t pt-6"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={class:"flex justify-end gap-4 pt-6 border-t"},J=["disabled"],O={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},Z={__name:"Edit",props:{member:Object,occupations:{type:Array,default:()=>[]}},setup(f){const t=f,a=v({member_id:"",nama_lengkap:"",email:"",mobile_phone:"",tanggal_lahir:"",jenis_kelamin:"",pekerjaan_id:"",password:"",pin:""}),s=v({}),d=v(!1);w(()=>{if(t.member&&(a.value.member_id=t.member.member_id||t.member.costumers_id||"",a.value.nama_lengkap=t.member.nama_lengkap||t.member.name||"",a.value.email=t.member.email||"",a.value.mobile_phone=t.member.mobile_phone||t.member.telepon||"",a.value.pekerjaan_id=t.member.pekerjaan_id||"",a.value.pin=t.member.pin||"",t.member.jenis_kelamin&&(t.member.jenis_kelamin==="1"||t.member.jenis_kelamin==="L"?a.value.jenis_kelamin="L":t.member.jenis_kelamin==="2"||t.member.jenis_kelamin==="P"?a.value.jenis_kelamin="P":a.value.jenis_kelamin=t.member.jenis_kelamin),t.member.tanggal_lahir)){const b=new Date(t.member.tanggal_lahir);isNaN(b.getTime())||(a.value.tanggal_lahir=b.toISOString().split("T")[0])}});function _(){d.value=!0,c.put(`/members/${t.member.id}`,a.value,{onSuccess:()=>{},onError:b=>{s.value=b,d.value=!1},onFinish:()=>{d.value=!1}})}function k(){c.visit("/members")}return(b,l)=>(o(),j(U,{title:`Edit Member - ${f.member.name}`},{default:M(()=>[e("div",L,[e("div",{class:"flex justify-between items-center mb-6"},[l[10]||(l[10]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-edit text-purple-500"}),g(" Edit Member ")],-1)),e("button",{onClick:k,class:"bg-gray-500 text-white px-4 py-2 rounded-xl hover:bg-gray-600 transition"},l[9]||(l[9]=[e("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),g(" Kembali ")]))]),e("div",h,[e("form",{onSubmit:V(_,["prevent"]),class:"space-y-6"},[e("div",E,[e("div",null,[l[11]||(l[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" ID Member "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>a.value.member_id=r),type:"text",class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":s.value.member_id}]),placeholder:"Masukkan ID Member"},null,2),[[m,a.value.member_id]]),s.value.member_id?(o(),i("p",I,u(s.value.member_id),1)):p("",!0)]),e("div",null,[l[12]||(l[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Nama Lengkap "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{"onUpdate:modelValue":l[1]||(l[1]=r=>a.value.nama_lengkap=r),type:"text",class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":s.value.nama_lengkap}]),placeholder:"Masukkan nama lengkap"},null,2),[[m,a.value.nama_lengkap]]),s.value.nama_lengkap?(o(),i("p",S,u(s.value.nama_lengkap),1)):p("",!0)]),e("div",null,[l[13]||(l[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),n(e("input",{"onUpdate:modelValue":l[2]||(l[2]=r=>a.value.email=r),type:"email",class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":s.value.email}]),placeholder:"Masukkan email"},null,2),[[m,a.value.email]]),s.value.email?(o(),i("p",B,u(s.value.email),1)):p("",!0)]),e("div",null,[l[14]||(l[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nomor Telepon ",-1)),n(e("input",{"onUpdate:modelValue":l[3]||(l[3]=r=>a.value.mobile_phone=r),type:"text",class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":s.value.mobile_phone}]),placeholder:"Masukkan nomor telepon"},null,2),[[m,a.value.mobile_phone]]),s.value.mobile_phone?(o(),i("p",C,u(s.value.mobile_phone),1)):p("",!0)]),e("div",null,[l[15]||(l[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tanggal Lahir ",-1)),n(e("input",{"onUpdate:modelValue":l[4]||(l[4]=r=>a.value.tanggal_lahir=r),type:"date",class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400"},null,512),[[m,a.value.tanggal_lahir]])]),e("div",null,[l[17]||(l[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Jenis Kelamin ",-1)),n(e("select",{"onUpdate:modelValue":l[5]||(l[5]=r=>a.value.jenis_kelamin=r),class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400"},l[16]||(l[16]=[e("option",{value:""},"Pilih Jenis Kelamin",-1),e("option",{value:"L"},"Laki-laki",-1),e("option",{value:"P"},"Perempuan",-1)]),512),[[y,a.value.jenis_kelamin]])]),e("div",null,[l[19]||(l[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Pekerjaan ",-1)),n(e("select",{"onUpdate:modelValue":l[6]||(l[6]=r=>a.value.pekerjaan_id=r),class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",{"border-red-500":s.value.pekerjaan_id}])},[l[18]||(l[18]=e("option",{value:""},"Pilih Pekerjaan (opsional)",-1)),(o(!0),i(P,null,N(f.occupations,r=>(o(),i("option",{key:r.id,value:r.id},u(r.name),9,D))),128))],2),[[y,a.value.pekerjaan_id]]),s.value.pekerjaan_id?(o(),i("p",K,u(s.value.pekerjaan_id),1)):p("",!0)])]),e("div",T,[l[23]||(l[23]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Informasi Keamanan",-1)),e("div",A,[e("div",null,[l[20]||(l[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Password ",-1)),n(e("input",{"onUpdate:modelValue":l[7]||(l[7]=r=>a.value.password=r),type:"password",class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",placeholder:"Kosongkan jika tidak ingin mengubah password"},null,512),[[m,a.value.password]]),l[21]||(l[21]=e("p",{class:"text-xs text-gray-500 mt-1"},"Kosongkan jika tidak ingin mengubah password",-1))]),e("div",null,[l[22]||(l[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," PIN ",-1)),n(e("input",{"onUpdate:modelValue":l[8]||(l[8]=r=>a.value.pin=r),type:"text",maxlength:"10",class:"w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-purple-400 focus:border-purple-400",placeholder:"Masukkan PIN"},null,512),[[m,a.value.pin]])])])]),e("div",F,[e("button",{type:"button",onClick:k,class:"px-6 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition"}," Batal "),e("button",{type:"submit",disabled:d.value,class:"px-6 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition disabled:opacity-50"},[d.value?(o(),i("i",O)):p("",!0),g(" "+u(d.value?"Menyimpan...":"Update Member"),1)],8,J)])],32)])])]),_:1},8,["title"]))}};export{Z as default};
