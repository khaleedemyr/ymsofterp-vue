import{r as B,A as C,B as i,C as D,D as s,N as T,O as j,H as a,J as r,L as u,F as L,M as O,I as d,x as E,Q as P,S as _,G as M,W as N}from"./vendor-vue-g7iCcTkf.js";import{A as F}from"./AppLayout-DS2U8tWW.js";import{s as G}from"./VueTimepicker-BGHuji_y.js";import{S as m}from"./app-Vi2dpKR6.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Do674Z4r.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const H={class:"max-w-2xl mx-auto py-8 px-2"},W={class:"text-2xl font-bold text-pink-700 mb-6"},J={class:"space-y-4"},I={class:"space-y-4"},K=["value"],Q={class:"flex gap-4"},z={class:"flex-1"},X={class:"flex-1"},Y={class:"mb-4"},Z={class:"mb-4"},$={class:"mb-4"},h={class:"mb-4"},ee={class:"mb-4"},se={class:"mb-4"},le={class:"flex justify-end gap-2 mt-8"},te=["disabled"],oe={key:0},ae={key:1},ke={__name:"Form",props:{reservation:Object,outlets:Array,isEdit:Boolean},setup(p){var v,f,b,g,k,x,y,w,V,S,U,q,c;const o=p,n=B(!1),t=B({name:((v=o.reservation)==null?void 0:v.name)||"",phone:((f=o.reservation)==null?void 0:f.phone)||"",email:((b=o.reservation)==null?void 0:b.email)||"",outlet_id:((g=o.reservation)==null?void 0:g.outlet_id)||"",reservation_date:((k=o.reservation)==null?void 0:k.reservation_date)||"",reservation_time:((x=o.reservation)==null?void 0:x.reservation_time)||"",number_of_guests:((y=o.reservation)==null?void 0:y.number_of_guests)||1,smoking_preference:((w=o.reservation)==null?void 0:w.smoking_preference)||"",special_requests:((V=o.reservation)==null?void 0:V.special_requests)||"",dp:((S=o.reservation)==null?void 0:S.dp)??null,from_sales:!!((U=o.reservation)!=null&&U.from_sales),menu:((q=o.reservation)==null?void 0:q.menu)||"",status:((c=o.reservation)==null?void 0:c.status)||"pending"});function R(){n.value=!0,o.isEdit?N.put(route("reservations.update",o.reservation.id),t.value,{onSuccess:()=>{n.value=!1,m.fire("Sukses","Reservasi berhasil diupdate!","success")},onError:()=>{n.value=!1,m.fire("Gagal","Terjadi kesalahan saat menyimpan reservasi.","error")}}):N.post(route("reservations.store"),t.value,{onSuccess:()=>{n.value=!1,m.fire("Sukses","Reservasi berhasil disimpan!","success")},onError:()=>{n.value=!1,m.fire("Gagal","Terjadi kesalahan saat menyimpan reservasi.","error")}})}return(A,e)=>(i(),C(F,null,{default:D(()=>[s("div",H,[s("h1",W,T(p.isEdit?"Edit Reservasi":"Tambah Reservasi"),1),s("form",{onSubmit:j(R,["prevent"]),class:"space-y-5 bg-white rounded-2xl shadow-xl p-8"},[s("div",J,[e[16]||(e[16]=s("h2",{class:"text-lg font-semibold text-gray-800"},"Data Pemesan",-1)),s("div",null,[e[13]||(e[13]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nama Lengkap",-1)),a(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:"",maxlength:"100"},null,512),[[r,t.value.name]])]),s("div",null,[e[14]||(e[14]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nomor Telepon",-1)),a(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.phone=l),type:"tel",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:"",maxlength:"20"},null,512),[[r,t.value.phone]])]),s("div",null,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),a(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.email=l),type:"email",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:"",maxlength:"100"},null,512),[[r,t.value.email]])])]),s("div",I,[e[31]||(e[31]=s("h2",{class:"text-lg font-semibold text-gray-800"},"Detail Reservasi",-1)),s("div",null,[e[18]||(e[18]=s("label",{class:"block text-sm font-medium text-gray-700"},"Outlet",-1)),a(s("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.outlet_id=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:""},[e[17]||(e[17]=s("option",{value:""},"Pilih Outlet",-1)),(i(!0),u(L,null,O(p.outlets,l=>(i(),u("option",{key:l.id,value:l.id},T(l.name),9,K))),128))],512),[[d,t.value.outlet_id]])]),s("div",Q,[s("div",z,[e[19]||(e[19]=s("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Reservasi",-1)),a(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.reservation_date=l),type:"date",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:""},null,512),[[r,t.value.reservation_date]])]),s("div",X,[e[20]||(e[20]=s("label",{class:"block text-sm font-medium text-gray-700"},"Waktu Reservasi",-1)),E(P(G),{modelValue:t.value.reservation_time,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.reservation_time=l),format:"HH:mm",is24:!0,"minute-interval":"15",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,8,["modelValue"])])]),s("div",Y,[e[21]||(e[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Tamu",-1)),a(s("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=l=>t.value.number_of_guests=l),class:"w-full rounded-lg border-gray-300",min:"1",required:""},null,512),[[r,t.value.number_of_guests]])]),s("div",Z,[e[23]||(e[23]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Preferensi Merokok",-1)),a(s("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.smoking_preference=l),class:"w-full rounded-lg border-gray-300",required:""},e[22]||(e[22]=[s("option",{value:""},"Pilih Preferensi",-1),s("option",{value:"smoking"},"Smoking Area",-1),s("option",{value:"non_smoking"},"Non-Smoking Area",-1)]),512),[[d,t.value.smoking_preference]])]),s("div",$,[e[24]||(e[24]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan Khusus",-1)),a(s("textarea",{"onUpdate:modelValue":e[8]||(e[8]=l=>t.value.special_requests=l),class:"w-full rounded-lg border-gray-300",rows:"3"},null,512),[[r,t.value.special_requests]])]),s("div",h,[e[25]||(e[25]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"DP (Down Payment)",-1)),a(s("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>t.value.dp=l),type:"number",step:"0.01",min:"0",class:"w-full rounded-lg border-gray-300",placeholder:"0"},null,512),[[r,t.value.dp,void 0,{number:!0}]])]),s("div",ee,[e[27]||(e[27]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Dari Sales?",-1)),a(s("select",{"onUpdate:modelValue":e[10]||(e[10]=l=>t.value.from_sales=l),class:"w-full rounded-lg border-gray-300"},e[26]||(e[26]=[s("option",{value:!1},"Bukan",-1),s("option",{value:!0},"Dari Sales",-1)]),512),[[d,t.value.from_sales]])]),s("div",se,[e[28]||(e[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Menu",-1)),a(s("textarea",{"onUpdate:modelValue":e[11]||(e[11]=l=>t.value.menu=l),class:"w-full rounded-lg border-gray-300",rows:"6",placeholder:"Tulis menu (tanpa batas karakter)"},null,512),[[r,t.value.menu]])]),s("div",null,[e[30]||(e[30]=s("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),a(s("select",{"onUpdate:modelValue":e[12]||(e[12]=l=>t.value.status=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:""},e[29]||(e[29]=[s("option",{value:"pending"},"Pending",-1),s("option",{value:"confirmed"},"Confirmed",-1),s("option",{value:"cancelled"},"Cancelled",-1)]),512),[[d,t.value.status]])])]),s("div",le,[E(P(_),{href:A.route("reservations.index"),class:"px-4 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200"},{default:D(()=>e[32]||(e[32]=[M("Batal")])),_:1},8,["href"]),s("button",{disabled:n.value,class:"px-6 py-2 rounded bg-pink-600 text-white font-bold hover:bg-pink-700"},[n.value?(i(),u("span",oe,e[33]||(e[33]=[s("i",{class:"fa fa-spinner fa-spin"},null,-1),M(" Menyimpan...")]))):(i(),u("span",ae,"Simpan"))],8,te)])],32)])]),_:1}))}};export{ke as default};
