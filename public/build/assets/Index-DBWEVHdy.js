import{r as p,c as x,A as F,B as r,C,D as e,x as N,G as s,H as i,J as u,L as d,E as M,F as g,M as v,N as b,l as $,_ as I,O as S,I as j,W as V}from"./vendor-vue-g7iCcTkf.js";import{A as T}from"./AppLayout-CCl6N_RX.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-DvUgkxHf.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-oDgFzWKX.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const R={class:"w-full min-h-screen bg-gray-50 py-8 px-2"},W={class:"max-w-7xl w-full mx-auto"},G={class:"flex justify-between items-center mb-6"},H={class:"flex justify-between items-center mb-4"},J={class:"bg-white rounded-xl shadow-lg overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},Q={key:0},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"px-6 py-4 whitespace-nowrap"},le={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex justify-end gap-2"},se=["onClick"],oe=["onClick"],ae={class:"flex justify-end mt-4 gap-2"},ne=["onClick"],re={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},ie={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8 relative animate-fadeInUp"},de={class:"mb-4"},ue={class:"mb-4"},be={class:"mb-4"},pe=["value"],fe={class:"mb-4"},me={class:"mb-6"},ce={class:"flex justify-end gap-2"},xe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},ge={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8 relative animate-fadeInUp"},ve={class:"mb-4"},ye={class:"mb-4"},we={class:"mb-4"},ke=["value"],Ce={class:"mb-4"},Me={class:"mb-6"},Ve={class:"flex justify-end gap-2"},U=15,Ue={__name:"Index",props:{menus:Array},setup(E){const y=E,f=p(""),w=p(1),m=p(!1),c=p(!1),n=p({name:"",code:"",parent_id:null,route:"",icon:""}),o=p({id:null,name:"",code:"",parent_id:null,route:"",icon:""}),h=x(()=>y.menus.filter(a=>!a.parent_id)),k=x(()=>f.value?y.menus.filter(a=>a.name&&a.name.toLowerCase().includes(f.value.toLowerCase())||a.code&&a.code.toLowerCase().includes(f.value.toLowerCase())):y.menus),L=x(()=>Math.ceil(k.value.length/U)),q=x(()=>{const a=(w.value-1)*U;return k.value.slice(a,a+U)});function A(a){confirm("Delete this menu?")&&V.delete(`/menus/${a}`)}function P(){V.post("/menus",n.value,{onSuccess:()=>{m.value=!1,n.value={name:"",code:"",parent_id:null,route:"",icon:""}}})}function B(a){o.value={...a},c.value=!0}function D(){V.put(`/menus/${o.value.id}`,o.value,{onSuccess:()=>{c.value=!1,o.value={id:null,name:"",code:"",parent_id:null,route:"",icon:""}}})}return(a,t)=>(r(),F(T,null,{default:C(()=>[e("div",R,[e("div",W,[e("div",G,[t[17]||(t[17]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-bars-progress text-blue-500"}),s(" Menu Management ")],-1)),e("button",{onClick:t[0]||(t[0]=l=>m.value=!0),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 shadow-md"},t[16]||(t[16]=[e("i",{class:"fa-solid fa-plus"},null,-1),s(" Add Menu ")]))]),e("div",H,[i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>f.value=l),type:"text",placeholder:"Search menu name or code...",class:"w-72 px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,f.value]])]),e("div",J,[e("table",O,[t[21]||(t[21]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Code"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Parent"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Route"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Icon"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),e("tbody",K,[k.value.length===0?(r(),d("tr",Q,t[18]||(t[18]=[e("td",{colspan:"6",class:"text-center py-10 text-gray-400"},"Tidak ada data menu.",-1)]))):M("",!0),(r(!0),d(g,null,v(q.value,l=>(r(),d("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",X,b(l.name),1),e("td",Y,b(l.code),1),e("td",Z,b(l.parent?l.parent.name:"-"),1),e("td",ee,b(l.route),1),e("td",te,[e("i",{class:$(l.icon)},null,2),s(" "+b(l.icon),1)]),e("td",le,[e("button",{onClick:_=>B(l),class:"text-blue-600 hover:text-blue-900",title:"Edit"},t[19]||(t[19]=[e("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,se),e("button",{onClick:_=>A(l.id),class:"text-red-600 hover:text-red-900",title:"Delete"},t[20]||(t[20]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,oe)])]))),128))])])]),e("div",ae,[(r(!0),d(g,null,v(L.value,l=>(r(),d("button",{key:l,onClick:_=>w.value=l,class:$(["px-3 py-1 rounded-lg border text-sm font-semibold",w.value===l?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50"])},b(l),11,ne))),128))])]),N(I,{name:"fade"},{default:C(()=>[m.value?(r(),d("div",re,[e("div",ie,[e("button",{onClick:t[2]||(t[2]=l=>m.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition-all"},t[22]||(t[22]=[e("i",{class:"fa-solid fa-xmark"},null,-1)])),t[31]||(t[31]=e("h2",{class:"text-xl font-bold mb-6 flex items-center gap-2"},[e("i",{class:"fa-solid fa-plus text-blue-500"}),s(" Create Menu ")],-1)),e("form",{onSubmit:S(P,["prevent"])},[e("div",de,[t[23]||(t[23]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-bars text-gray-400"}),s(" Name ")],-1)),i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>n.value.name=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[u,n.value.name]])]),e("div",ue,[t[24]||(t[24]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-code text-gray-400"}),s(" Code ")],-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>n.value.code=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[u,n.value.code]])]),e("div",be,[t[26]||(t[26]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-sitemap text-gray-400"}),s(" Parent Menu ")],-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>n.value.parent_id=l),class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},[t[25]||(t[25]=e("option",{value:null},"- None -",-1)),(r(!0),d(g,null,v(h.value,l=>(r(),d("option",{key:l.id,value:l.id},b(l.name),9,pe))),128))],512),[[j,n.value.parent_id]])]),e("div",fe,[t[27]||(t[27]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-link text-gray-400"}),s(" Route ")],-1)),i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>n.value.route=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,n.value.route]])]),e("div",me,[t[28]||(t[28]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-icons text-gray-400"}),s(" Icon ")],-1)),i(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>n.value.icon=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,n.value.icon]])]),e("div",ce,[e("button",{type:"button",onClick:t[8]||(t[8]=l=>m.value=!1),class:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 flex items-center gap-2 transition-all"},t[29]||(t[29]=[e("i",{class:"fa-solid fa-xmark"},null,-1),s(" Cancel ")])),t[30]||(t[30]=e("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 flex items-center gap-2 transition-all"},[e("i",{class:"fa-solid fa-save"}),s(" Save ")],-1))])],32)])])):M("",!0)]),_:1}),N(I,{name:"fade"},{default:C(()=>[c.value?(r(),d("div",xe,[e("div",ge,[e("button",{onClick:t[9]||(t[9]=l=>c.value=!1),class:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl transition-all"},t[32]||(t[32]=[e("i",{class:"fa-solid fa-xmark"},null,-1)])),t[41]||(t[41]=e("h2",{class:"text-xl font-bold mb-6 flex items-center gap-2"},[e("i",{class:"fa-solid fa-pen-to-square text-blue-500"}),s(" Edit Menu ")],-1)),e("form",{onSubmit:S(D,["prevent"])},[e("div",ve,[t[33]||(t[33]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-bars text-gray-400"}),s(" Name ")],-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>o.value.name=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[u,o.value.name]])]),e("div",ye,[t[34]||(t[34]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-code text-gray-400"}),s(" Code ")],-1)),i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>o.value.code=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[u,o.value.code]])]),e("div",we,[t[36]||(t[36]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-sitemap text-gray-400"}),s(" Parent Menu ")],-1)),i(e("select",{"onUpdate:modelValue":t[12]||(t[12]=l=>o.value.parent_id=l),class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},[t[35]||(t[35]=e("option",{value:null},"- None -",-1)),(r(!0),d(g,null,v(h.value,l=>(r(),d("option",{key:l.id,value:l.id},b(l.name),9,ke))),128))],512),[[j,o.value.parent_id]])]),e("div",Ce,[t[37]||(t[37]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-link text-gray-400"}),s(" Route ")],-1)),i(e("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>o.value.route=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.route]])]),e("div",Me,[t[38]||(t[38]=e("label",{class:"block font-semibold mb-1 flex items-center gap-2"},[e("i",{class:"fa-solid fa-icons text-gray-400"}),s(" Icon ")],-1)),i(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>o.value.icon=l),type:"text",class:"block w-full py-2 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500"},null,512),[[u,o.value.icon]])]),e("div",Ve,[e("button",{type:"button",onClick:t[15]||(t[15]=l=>c.value=!1),class:"px-4 py-2 rounded-lg bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 flex items-center gap-2 transition-all"},t[39]||(t[39]=[e("i",{class:"fa-solid fa-xmark"},null,-1),s(" Cancel ")])),t[40]||(t[40]=e("button",{type:"submit",class:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 flex items-center gap-2 transition-all"},[e("i",{class:"fa-solid fa-save"}),s(" Save ")],-1))])],32)])])):M("",!0)]),_:1})])]),_:1}))}},Ae=z(Ue,[["__scopeId","data-v-062c93e6"]]);export{Ae as default};
