import{r as b,W as u,w as Q,A as E,B as r,C as V,D as t,G as H,l as c,N as o,H as v,I as C,J as K,L as d,E as A,F as m,M as S}from"./vendor-vue-g7iCcTkf.js";import{l as P}from"./lodash-DB3HVzpp.js";import{S as h}from"./app-DlrnVByK.js";import{A as D}from"./AppLayout-BKllqouQ.js";import{a as I}from"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-10Z7fBeb.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const O={class:"w-full py-8 px-4"},U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},F={class:"flex items-center justify-between"},G={class:"text-2xl font-bold text-gray-900"},W={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-gray-900"},z={class:"text-xs text-gray-500"},J={class:"flex items-center justify-between"},R={class:"text-2xl font-bold text-gray-900"},X={class:"text-xs text-gray-500"},Z={class:"mb-4 flex gap-4 flex-wrap"},_={class:"bg-white rounded-2xl shadow-lg overflow-x-auto"},tt={class:"min-w-full divide-y divide-blue-200"},et={class:"px-4 py-2 whitespace-nowrap font-mono"},st={class:"px-4 py-2 whitespace-nowrap font-semibold"},at={class:"px-4 py-2 whitespace-nowrap text-center"},it={class:"px-4 py-2 whitespace-nowrap text-center flex gap-2 justify-center"},ot=["onClick"],lt=["onClick"],rt=["onClick","title"],nt={key:0},dt={class:"mt-4 flex justify-between items-center"},ut={class:"text-sm text-gray-600"},ct={key:0,class:"inline-flex -space-x-px"},xt=["onClick","innerHTML"],gt=["innerHTML"],Bt={__name:"Index",props:{categories:Object,filters:Object,statistics:{type:Object,default:()=>({total:0,active:0,inactive:0})}},setup(a){var k,w,y;const p=a,g=b(((k=p.filters)==null?void 0:k.search)||""),l=b(((w=p.filters)==null?void 0:w.status)||"A"),x=b(((y=p.filters)==null?void 0:y.per_page)||15),B=P.debounce(()=>{u.get("/qa-categories",{search:g.value,status:l.value,per_page:x.value},{preserveState:!0,replace:!0})},400);function N(){B()}Q([l,x],()=>{u.get("/qa-categories",{search:g.value,status:l.value,per_page:x.value},{preserveState:!0,replace:!0})});function $(i){if(i){const e=new URL(i,window.location.origin);e.searchParams.set("search",g.value),e.searchParams.set("status",l.value),e.searchParams.set("per_page",x.value),u.visit(e.toString(),{preserveState:!0,replace:!0})}}function T(){u.visit("/qa-categories/create")}function j(i){u.visit(`/qa-categories/${i.id}/edit`)}function M(i){u.visit(`/qa-categories/${i.id}`)}async function L(i){const e=i.status==="A"?"menonaktifkan":"mengaktifkan";if((await h.fire({title:`${i.status==="A"?"Nonaktifkan":"Aktifkan"} QA Category?`,text:`Yakin ingin ${e} QA Category "${i.categories}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Ya, ${i.status==="A"?"Nonaktifkan":"Aktifkan"}!`,cancelButtonText:"Batal"})).isConfirmed)try{const n=await I.patch(route("qa-categories.toggle-status",i.id));n.data.success&&(h.fire("Berhasil",n.data.message,"success"),q())}catch{h.fire("Error","Gagal mengubah status QA Category","error")}}function q(){u.reload({preserveState:!0,replace:!0})}function f(i){l.value=i}return(i,e)=>(r(),E(D,{title:"QA Categories"},{default:V(()=>[t("div",O,[t("div",{class:"flex justify-between items-center mb-6"},[e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-clipboard-list text-blue-500"}),H(" QA Categories ")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:T,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Tambah QA Category Baru ")])]),t("div",U,[t("div",{class:c(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",l.value==="all"?"bg-blue-50 border-blue-500 shadow-xl":"bg-white border-blue-500 hover:shadow-xl"]),onClick:e[0]||(e[0]=s=>f("all")),title:"Klik untuk melihat semua categories"},[t("div",F,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Categories",-1)),t("p",G,o(a.statistics.total),1),e[8]||(e[8]=t("p",{class:"text-xs text-gray-500"},"100% dari total",-1))]),e[9]||(e[9]=t("div",{class:"bg-blue-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-clipboard-list text-blue-600 text-xl"})],-1))]),e[10]||(e[10]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:c(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",l.value==="A"?"bg-green-50 border-green-500 shadow-xl":"bg-white border-green-500 hover:shadow-xl"]),onClick:e[1]||(e[1]=s=>f("A")),title:"Klik untuk melihat categories aktif"},[t("div",W,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-600"},"Categories Aktif",-1)),t("p",Y,o(a.statistics.active),1),t("p",z,o(a.statistics.total>0?Math.round(a.statistics.active/a.statistics.total*100):0)+"% dari total",1)]),e[12]||(e[12]=t("div",{class:"bg-green-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-check-circle text-green-600 text-xl"})],-1))]),e[13]||(e[13]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:c(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",l.value==="N"?"bg-red-50 border-red-500 shadow-xl":"bg-white border-red-500 hover:shadow-xl"]),onClick:e[2]||(e[2]=s=>f("N")),title:"Klik untuk melihat categories non-aktif"},[t("div",J,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-600"},"Categories Non-Aktif",-1)),t("p",R,o(a.statistics.inactive),1),t("p",X,o(a.statistics.total>0?Math.round(a.statistics.inactive/a.statistics.total*100):0)+"% dari total",1)]),e[15]||(e[15]=t("div",{class:"bg-red-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-times-circle text-red-600 text-xl"})],-1))]),e[16]||(e[16]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2)]),t("div",Z,[v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value=s),class:"form-input rounded-xl"},e[17]||(e[17]=[t("option",{value:"A"},"Aktif",-1),t("option",{value:"N"},"Non-Aktif",-1),t("option",{value:"all"},"Semua Status",-1)]),512),[[C,l.value]]),v(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>x.value=s),class:"form-input rounded-xl"},e[18]||(e[18]=[t("option",{value:"10"},"10 per halaman",-1),t("option",{value:"15"},"15 per halaman",-1),t("option",{value:"25"},"25 per halaman",-1),t("option",{value:"50"},"50 per halaman",-1),t("option",{value:"100"},"100 per halaman",-1)]),512),[[C,x.value]]),v(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>g.value=s),onInput:N,type:"text",placeholder:"Cari Kode Categories atau Categories...",class:"flex-1 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition min-w-64"},null,544),[[K,g.value]])]),t("div",_,[t("table",tt,[e[22]||(e[22]=t("thead",{class:"bg-blue-600 text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Kode Categories"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Categories"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",null,[(r(!0),d(m,null,S(a.categories.data,s=>(r(),d("tr",{key:s.id,class:"hover:bg-blue-50 transition"},[t("td",et,o(s.kode_categories),1),t("td",st,o(s.categories),1),t("td",at,[t("span",{class:c(["px-2 py-1 rounded-full text-xs font-semibold",s.status==="A"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(s.status==="A"?"Aktif":"Non-Aktif"),3)]),t("td",it,[t("button",{onClick:n=>M(s),class:"px-2 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"Detail"},e[19]||(e[19]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,ot),t("button",{onClick:n=>j(s),class:"px-2 py-1 rounded bg-yellow-200 text-yellow-900 hover:bg-yellow-300 transition",title:"Edit"},e[20]||(e[20]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,lt),t("button",{onClick:n=>L(s),class:c(["px-2 py-1 rounded transition",s.status==="A"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"]),title:s.status==="A"?"Nonaktifkan":"Aktifkan"},[t("i",{class:c(s.status==="A"?"fa-solid fa-times-circle":"fa-solid fa-check-circle")},null,2)],10,rt)])]))),128)),a.categories.data.length===0?(r(),d("tr",nt,e[21]||(e[21]=[t("td",{colspan:"4",class:"text-center py-8 text-gray-400"},"Tidak ada data QA Categories",-1)]))):A("",!0)])])]),t("div",dt,[t("div",ut," Menampilkan "+o(a.categories.from||0)+" - "+o(a.categories.to||0)+" dari "+o(a.categories.total||0)+" data ",1),a.categories.links&&a.categories.links.length>3?(r(),d("nav",ct,[(r(!0),d(m,null,S(a.categories.links,(s,n)=>(r(),d(m,{key:n},[s.url?(r(),d("button",{key:0,onClick:pt=>$(s.url),class:c(["px-3 py-1 border border-gray-300",s.active?"bg-blue-600 text-white":"bg-white text-blue-700 hover:bg-blue-50"]),innerHTML:s.label},null,10,xt)):(r(),d("span",{key:1,class:"px-3 py-1 border border-gray-200 text-gray-400",innerHTML:s.label},null,8,gt))],64))),128))])):A("",!0)])])]),_:1}))}};export{Bt as default};
