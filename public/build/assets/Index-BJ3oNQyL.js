import{k as D,A as O,B as r,C as b,D as t,x as S,G as d,Q as B,S as _,H as h,J as P,L as o,F as v,M as k,N as n,I as T,E as c,l as y,W as w}from"./vendor-vue-g7iCcTkf.js";import{A as F}from"./AppLayout-C3aoO-bU.js";import{S as p}from"./app-a4QKyjuP.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CoSAPJ9h.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const W={class:"w-full min-h-screen py-8 px-2 md:px-6"},L={class:"max-w-7xl mx-auto"},U={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4"},z={class:"bg-white rounded-lg shadow-sm border p-6 mb-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y=["value"],G=["value"],H={class:"mt-4 flex justify-between items-center"},J={class:"flex items-center gap-2"},q={class:"bg-white rounded-lg shadow-sm border overflow-hidden"},K={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},R={class:"bg-white divide-y divide-gray-200"},X={key:0},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4"},et={class:"text-sm font-medium text-gray-900"},st={class:"text-sm text-gray-500 truncate max-w-xs"},at={class:"px-6 py-4 whitespace-nowrap"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap"},nt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},it={class:"flex items-center gap-2"},ut=["onClick","title"],dt=["onClick"],xt={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},ct={class:"flex-1 flex justify-between sm:hidden"},pt={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},mt={class:"text-sm text-gray-700"},gt={class:"font-medium"},ft={class:"font-medium"},yt={class:"font-medium"},bt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ht=["onClick"],At={__name:"Index",props:{soals:Object,tipeSoalOptions:Array,statusOptions:Array,filters:Object},setup(l){const x=l,i=D({search:x.filters.search||"",tipe_soal:x.filters.tipe_soal||"all",status:x.filters.status||"all",per_page:x.filters.per_page||10}),m=()=>{w.get(route("master-soal.index"),i,{preserveState:!0,replace:!0})},$=()=>{Object.assign(i,{search:"",tipe_soal:"all",status:"all",per_page:10}),m()},g=a=>{w.get(route("master-soal.index"),{...i,page:a},{preserveState:!0,replace:!0})},j=()=>{const a=x.soals.current_page,e=x.soals.last_page,s=2,f=[],u=[];for(let C=Math.max(2,a-s);C<=Math.min(e-1,a+s);C++)f.push(C);return a-s>2?u.push(1,"..."):u.push(1),u.push(...f),a+s<e-1?u.push("...",e):e>1&&u.push(e),u},A=a=>({essay:"Essay",pilihan_ganda:"Pilihan Ganda",yes_no:"Ya/Tidak"})[a]||a,N=a=>({essay:"bg-purple-100 text-purple-800",pilihan_ganda:"bg-blue-100 text-blue-800",yes_no:"bg-green-100 text-green-800"})[a]||"bg-gray-100 text-gray-800",E=a=>{if(a<60)return`${a} detik`;const e=Math.floor(a/60),s=a%60;return s===0?`${e} menit`:`${e}m ${s}s`},M=async a=>{const e=a.status==="active"?"nonaktifkan":"aktifkan";(await p.fire({title:`Apakah Anda yakin ingin ${e} soal ini?`,text:`Soal "${a.judul}" akan ${e}.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:`Ya, ${e}!`,cancelButtonText:"Batal"})).isConfirmed&&w.patch(route("master-soal.toggle-status",a.id),{},{onSuccess:()=>{p.fire("Berhasil!",`Soal berhasil ${e}.`,"success")},onError:()=>{p.fire("Error!","Terjadi kesalahan saat mengubah status.","error")}})},V=async a=>{(await p.fire({title:"Apakah Anda yakin ingin menghapus soal ini?",text:`Soal "${a.judul}" akan dihapus secara permanen.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"})).isConfirmed&&w.delete(route("master-soal.destroy",a.id),{onSuccess:()=>{p.fire("Berhasil!","Soal berhasil dihapus.","success")},onError:()=>{p.fire("Error!","Terjadi kesalahan saat menghapus soal.","error")}})};return(a,e)=>(r(),O(F,null,{default:b(()=>[t("div",W,[t("div",L,[t("div",U,[e[9]||(e[9]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900 flex items-center gap-3"},[t("i",{class:"fa-solid fa-clipboard-question text-blue-600"}),d(" Master Data Soal ")]),t("p",{class:"text-gray-600 mt-1"},"Kelola soal untuk sistem testing")],-1)),S(B(_),{href:a.route("master-soal.create"),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},{default:b(()=>e[8]||(e[8]=[t("i",{class:"fa-solid fa-plus"},null,-1),d(" Tambah Soal ")])),_:1},8,["href"])]),t("div",z,[t("div",I,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari",-1)),h(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),type:"text",placeholder:"Cari judul atau pertanyaan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:m},null,544),[[P,i.search]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe Soal",-1)),h(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.tipe_soal=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:m},[(r(!0),o(v,null,k(l.tipeSoalOptions,s=>(r(),o("option",{key:s.value,value:s.value},n(s.label),9,Y))),128))],544),[[T,i.tipe_soal]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),h(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:m},[(r(!0),o(v,null,k(l.statusOptions,s=>(r(),o("option",{key:s.value,value:s.value},n(s.label),9,G))),128))],544),[[T,i.status]])])]),t("div",H,[t("div",J,[e[14]||(e[14]=t("label",{class:"text-sm font-medium text-gray-700"},"Per halaman:",-1)),h(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>i.per_page=s),class:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:m},e[13]||(e[13]=[t("option",{value:"5"},"5",-1),t("option",{value:"10"},"10",-1),t("option",{value:"15"},"15",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1)]),544),[[T,i.per_page]])]),t("button",{onClick:$,class:"text-sm text-gray-600 hover:text-gray-800 flex items-center gap-1"},e[15]||(e[15]=[t("i",{class:"fa-solid fa-rotate-left"},null,-1),d(" Reset Filter ")]))])]),t("div",q,[t("div",K,[t("table",Q,[e[20]||(e[20]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," No "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Judul "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Tipe "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Waktu "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Skor "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Aksi ")])],-1)),t("tbody",R,[l.soals.data.length===0?(r(),o("tr",X,e[16]||(e[16]=[t("td",{colspan:"7",class:"px-6 py-12 text-center text-gray-500"},[t("i",{class:"fa-solid fa-inbox text-4xl mb-4 block"}),d(" Tidak ada data soal ")],-1)]))):c("",!0),(r(!0),o(v,null,k(l.soals.data,(s,f)=>(r(),o("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Z,n((l.soals.current_page-1)*l.soals.per_page+f+1),1),t("td",tt,[t("div",et,n(s.judul),1),t("div",st,n(s.pertanyaan),1)]),t("td",at,[t("span",{class:y(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",N(s.tipe_soal)])},n(A(s.tipe_soal)),3)]),t("td",lt,n(E(s.waktu_detik)),1),t("td",rt,n(s.skor),1),t("td",ot,[t("span",{class:y(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},n(s.status==="active"?"Aktif":"Tidak Aktif"),3)]),t("td",nt,[t("div",it,[S(B(_),{href:a.route("master-soal.show",s.id),class:"text-blue-600 hover:text-blue-900",title:"Lihat Detail"},{default:b(()=>e[17]||(e[17]=[t("i",{class:"fa-solid fa-eye"},null,-1)])),_:2},1032,["href"]),S(B(_),{href:a.route("master-soal.edit",s.id),class:"text-yellow-600 hover:text-yellow-900",title:"Edit"},{default:b(()=>e[18]||(e[18]=[t("i",{class:"fa-solid fa-edit"},null,-1)])),_:2},1032,["href"]),t("button",{onClick:u=>M(s),class:y(s.status==="active"?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),title:s.status==="active"?"Nonaktifkan":"Aktifkan"},[t("i",{class:y(s.status==="active"?"fa-solid fa-ban":"fa-solid fa-check")},null,2)],10,ut),t("button",{onClick:u=>V(s),class:"text-red-600 hover:text-red-900",title:"Hapus"},e[19]||(e[19]=[t("i",{class:"fa-solid fa-trash"},null,-1)]),8,dt)])])]))),128))])])]),l.soals.data.length>0?(r(),o("div",xt,[t("div",ct,[l.soals.prev_page_url?(r(),o("button",{key:0,onClick:e[4]||(e[4]=s=>g(l.soals.current_page-1)),class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Previous ")):c("",!0),l.soals.next_page_url?(r(),o("button",{key:1,onClick:e[5]||(e[5]=s=>g(l.soals.current_page+1)),class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"}," Next ")):c("",!0)]),t("div",pt,[t("div",null,[t("p",mt,[e[21]||(e[21]=d(" Menampilkan ")),t("span",gt,n(l.soals.from),1),e[22]||(e[22]=d(" sampai ")),t("span",ft,n(l.soals.to),1),e[23]||(e[23]=d(" dari ")),t("span",yt,n(l.soals.total),1),e[24]||(e[24]=d(" hasil "))])]),t("div",null,[t("nav",bt,[l.soals.prev_page_url?(r(),o("button",{key:0,onClick:e[6]||(e[6]=s=>g(l.soals.current_page-1)),class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},e[25]||(e[25]=[t("i",{class:"fa-solid fa-chevron-left"},null,-1)]))):c("",!0),(r(!0),o(v,null,k(j(),s=>(r(),o("button",{key:s,onClick:f=>g(s),class:y(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s===l.soals.current_page?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},n(s),11,ht))),128)),l.soals.next_page_url?(r(),o("button",{key:1,onClick:e[7]||(e[7]=s=>g(l.soals.current_page+1)),class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},e[26]||(e[26]=[t("i",{class:"fa-solid fa-chevron-right"},null,-1)]))):c("",!0)])])])])):c("",!0)])])])]),_:1}))}};export{At as default};
