import{r as d,W as h,w as Mt,A as $t,B as n,C as Nt,D as t,x as S,L as r,E as C,G as u,l as x,N as o,H as M,I as E,F as B,M as $,J as Ut,Q as jt,O as Tt}from"./vendor-vue-g7iCcTkf.js";import{l as Ft}from"./lodash-DB3HVzpp.js";import{S as c}from"./app-DIuSMidk.js";import{A as Et}from"./AppLayout-BfEUsI4L.js";import Kt from"./UserFormModal-IoUvEw5h.js";import{a as Dt}from"./vendor-utils-CpgP2uT4.js";import Pt from"./PinManagementModal-BShuiy91.js";import It from"./ActivationModal-BRVZ0pN3.js";import Ot from"./SaldoModal-BtQd3CiK.js";import{N as Vt}from"./vue-easy-lightbox.esm.min-H9agbAmC.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CG_QM0dl.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vue-multiselect.esm-V-bx43V9.js";/* empty css                            */const Lt={class:"w-full py-8 px-4"},qt={class:"flex justify-between items-center mb-6"},Ht={class:"flex gap-2"},zt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Gt={class:"flex items-center justify-between"},Jt={class:"text-2xl font-bold text-gray-900"},Rt={class:"flex items-center justify-between"},Yt={class:"text-2xl font-bold text-gray-900"},Qt={class:"text-xs text-gray-500"},Wt={class:"flex items-center justify-between"},Xt={class:"text-2xl font-bold text-gray-900"},Zt={class:"text-xs text-gray-500"},te={class:"flex items-center justify-between"},ee={class:"text-2xl font-bold text-gray-900"},se={class:"text-xs text-gray-500"},le={class:"mb-4 flex gap-4 flex-wrap"},ae=["value"],oe=["value"],ie={key:0,class:"bg-white rounded-2xl shadow-lg overflow-x-auto"},ne={class:"min-w-full divide-y divide-blue-200"},re={class:"px-4 py-2 whitespace-nowrap text-center"},de=["onClick"],ue=["src","alt"],ce={key:1,class:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-bold border-2 border-blue-200 shadow-md"},fe={class:"px-4 py-2 whitespace-nowrap"},pe={class:"px-4 py-2 whitespace-nowrap"},xe={class:"px-4 py-2 whitespace-nowrap font-semibold"},ge={class:"px-4 py-2 whitespace-nowrap"},me={class:"px-4 py-2 whitespace-nowrap"},ve={class:"px-4 py-2 whitespace-nowrap"},be={class:"px-4 py-2 whitespace-nowrap"},he={class:"px-4 py-2 whitespace-nowrap text-center"},we={class:"px-4 py-2 whitespace-nowrap text-center flex gap-2 justify-center"},ye=["onClick"],ke=["onClick"],Ce=["onClick","title"],Be=["onClick"],Ae=["onClick"],_e={key:0},Se={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Me={class:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-center"},$e=["onClick"],Ne=["src","alt"],Ue={key:1,class:"w-20 h-20 rounded-full bg-white bg-opacity-20 flex items-center justify-center text-white text-2xl font-bold border-4 border-white shadow-lg mx-auto"},je={class:"text-white font-bold text-lg mt-3"},Te={class:"text-blue-100 text-sm"},Fe={class:"p-6"},Ee={class:"space-y-3"},Ke={class:"flex items-center"},De={class:"ml-3 text-sm text-gray-600"},Pe={class:"flex items-center"},Ie={class:"ml-3 text-sm text-gray-600"},Oe={class:"flex items-center"},Ve={class:"ml-3 text-sm text-gray-600 truncate"},Le={class:"flex items-center"},qe={class:"ml-3 text-sm text-gray-600"},He={class:"mt-4 text-center"},ze={class:"mt-6 flex justify-center gap-2"},Ge=["onClick"],Je=["onClick"],Re=["onClick","title"],Ye=["onClick"],Qe=["onClick"],We={key:0,class:"col-span-full text-center py-12"},Xe={class:"mt-4 flex justify-between items-center"},Ze={class:"text-sm text-gray-600"},ts={key:0,class:"inline-flex -space-x-px"},es=["onClick","innerHTML"],ss=["innerHTML"],ls={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},as={class:"bg-white rounded-2xl shadow-2xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto relative"},os={key:0,class:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center rounded-2xl z-10"},is={class:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-green-400 transition-colors"},ns={class:"space-y-4"},rs={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-4"},ds={class:"flex items-center justify-between"},us={class:"flex items-center space-x-3"},cs={class:"font-medium text-green-800"},fs={class:"text-sm text-green-600"},ps={class:"flex justify-end space-x-4"},xs=["disabled"],gs={key:0,class:"fa fa-spinner fa-spin mr-2"},ms={key:1,class:"fa fa-upload mr-2"},Es={__name:"Index",props:{users:Object,filters:Object,outlets:Array,divisions:Array,jabatans:Array,statistics:{type:Object,default:()=>({total:0,active:0,inactive:0,new:0})}},setup(i){var st,lt,at,ot,it;const A=i,w=d(((st=A.filters)==null?void 0:st.search)||""),L=d(!1),nt=d("create"),rt=d(null),dt=d({outlets:[],jabatans:[]}),ut=d(!1),K=d(!1),q=d(null),H=d(""),N=d(!1),U=d(null),D=d(!1),P=d(null),v=d(((lt=A.filters)==null?void 0:lt.outlet_id)||""),b=d(((at=A.filters)==null?void 0:at.division_id)||""),f=d(((ot=A.filters)==null?void 0:ot.status)||"A"),y=d(((it=A.filters)==null?void 0:it.per_page)||15),k=d(localStorage.getItem("userViewMode")||"list"),I=d(!1),g=d(null),m=d(!1),O=d(!1),z=d([]),G=d(0),ct=Ft.debounce(()=>{h.get("/users",{search:w.value,outlet_id:v.value,division_id:b.value,status:f.value,per_page:y.value},{preserveState:!0,replace:!0})},400);function ft(){ct()}Mt([v,b,f,y],()=>{h.get("/users",{search:w.value,outlet_id:v.value,division_id:b.value,status:f.value,per_page:y.value},{preserveState:!0,replace:!0})});function pt(l){if(l){const e=new URL(l,window.location.origin);e.searchParams.set("search",w.value),e.searchParams.set("outlet_id",v.value),e.searchParams.set("division_id",b.value),e.searchParams.set("status",f.value),e.searchParams.set("per_page",y.value),h.visit(e.toString(),{preserveState:!0,replace:!0})}}function xt(){h.visit("/users/create")}function J(l){h.visit(`/users/${l.id}/edit`)}function R(l){h.visit(`/users/${l.id}`)}function Y(l){q.value=l.id,H.value=l.nama_lengkap,K.value=!0}function gt(){K.value=!1}async function Q(l){if(l.status==="B"){U.value=l,N.value=!0;return}if((l.status==="A"||l.status==="N")&&(!l.id_outlet||!l.id_jabatan||!l.division_id)){U.value=l,N.value=!0;return}const e=l.status==="A"?"menonaktifkan":"mengaktifkan";if((await c.fire({title:`${l.status==="A"?"Nonaktifkan":"Aktifkan"} Karyawan?`,text:`Yakin ingin ${e} karyawan "${l.nama_lengkap}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Ya, ${l.status==="A"?"Nonaktifkan":"Aktifkan"}!`,cancelButtonText:"Batal"})).isConfirmed)try{const a=await Dt.patch(route("users.toggle-status",l.id));a.data.success&&(c.fire("Berhasil",a.data.message,"success"),_())}catch{c.fire("Error","Gagal mengubah status karyawan","error")}}function _(){h.reload({preserveState:!0,replace:!0})}function mt(){L.value=!1}function vt(){N.value=!1,U.value=null}function W(l){P.value=l,D.value=!0}function bt(){D.value=!1,P.value=null}function ht(l){c.fire("Berhasil",l,"success"),_()}function wt(l){c.fire("Berhasil",l,"success"),_()}function j(l){f.value=l}function yt(){k.value=k.value==="list"?"card":"list",localStorage.setItem("userViewMode",k.value)}function X(l){return l?l.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().substring(0,2):"?"}function T(l){if(!l)return null;try{return`/storage/${l}`}catch(e){return console.error("Error processing image:",e),null}}function Z(l){l&&(z.value=[l],G.value=0,O.value=!0)}function kt(){I.value=!0}function tt(){I.value=!1}function Ct(l){const e=l.target.files[0];if(e){if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(e.type)){c.fire({icon:"error",title:"Format File Salah",text:"File harus berformat Excel (.xlsx atau .xls)",confirmButtonColor:"#ef4444"}),F();return}if(e.size>10*1024*1024){c.fire({icon:"error",title:"Ukuran File Terlalu Besar",text:"Ukuran file maksimal 10MB",confirmButtonColor:"#ef4444"}),F();return}g.value=e,c.fire({icon:"success",title:"File Berhasil Dipilih",html:`
        <div class="text-left">
          <p><strong>Nama File:</strong> ${e.name}</p>
          <p><strong>Ukuran:</strong> ${et(e.size)}</p>
          <p><strong>Format:</strong> Excel</p>
        </div>
      `,confirmButtonColor:"#10b981",timer:2e3,showConfirmButton:!1})}}function F(){g.value=null,document.querySelector('input[type="file"]')&&(document.querySelector('input[type="file"]').value="")}function et(l){if(l===0)return"0 Bytes";const e=1024,s=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,a)).toFixed(2))+" "+s[a]}function Bt(){if(!g.value){c.fire({icon:"warning",title:"Peringatan",text:"Pilih file terlebih dahulu!",confirmButtonColor:"#3085d6"});return}c.fire({title:"Konfirmasi Upload",html:`
      <div class="text-left">
        <p>Anda akan mengupload file:</p>
        <p class="font-semibold text-blue-600">${g.value.name}</p>
        <p class="text-sm text-gray-500 mt-2">Pastikan data di Excel sudah benar sebelum melanjutkan.</p>
      </div>
    `,icon:"question",showCancelButton:!0,confirmButtonColor:"#10b981",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Upload!",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&At()})}function At(){var e;m.value=!0,console.log("Starting upload process...");const l=new FormData;l.append("file",g.value),console.log("FormData created, file:",(e=g.value)==null?void 0:e.name),h.post("/employee-upload",l,{forceFormData:!0,onStart:()=>{console.log("Upload request started")},onProgress:s=>{console.log("Upload progress:",s)},onSuccess:s=>{if(console.log("Upload success response:",s),m.value=!1,F(),tt(),console.log("Flash messages:",s.props.flash),s.props.flash.success){const a=s.props.flash.success.details;if(a&&a.errors&&a.errors.length>0){let p='<div class="text-left">';p+=`<p><strong>Total data diproses:</strong> ${a.total_processed}</p>`,p+=`<p><strong>Berhasil diupdate:</strong> ${a.successful_updates}</p>`,p+=`<p><strong>Error:</strong> ${a.errors.length}</p>`,p+="<br><p><strong>Detail Error:</strong></p>",p+='<ul class="list-disc list-inside text-sm">',a.errors.forEach(V=>{p+=`<li class="text-red-600">${V}</li>`}),p+="</ul></div>",c.fire({icon:"warning",title:"Upload Selesai dengan Error",html:p,confirmButtonColor:"#f59e0b",confirmButtonText:"OK"})}else c.fire({icon:"success",title:"Berhasil!",html:`
              <div class="text-left">
                <p><strong>Total data diproses:</strong> ${(a==null?void 0:a.total_processed)||0}</p>
                <p><strong>Berhasil diupdate:</strong> ${(a==null?void 0:a.successful_updates)||0}</p>
                <p><strong>Error:</strong> 0</p>
              </div>
            `,confirmButtonColor:"#10b981",confirmButtonText:"OK"});_()}else console.log("No flash message found, but request was successful"),c.fire({icon:"success",title:"Upload Berhasil",text:"File berhasil diupload, namun tidak ada detail yang tersedia.",confirmButtonText:"OK"}),_()},onError:s=>{if(m.value=!1,console.error("Upload error:",s),console.error("Error details:",JSON.stringify(s,null,2)),s&&s.flash&&s.flash.error){console.log("Flash error found:",s.flash.error),c.fire({icon:"error",title:"Upload Gagal",text:s.flash.error,confirmButtonText:"OK"});return}let a='<div class="text-left">';a+="<p>Terjadi kesalahan saat mengupload file:</p>",a+='<ul class="list-disc list-inside text-sm mt-2">',typeof s=="object"?Object.keys(s).forEach(p=>{Array.isArray(s[p])?s[p].forEach(V=>{a+=`<li class="text-red-600">${V}</li>`}):a+=`<li class="text-red-600">${s[p]}</li>`}):a+=`<li class="text-red-600">${s}</li>`,a+="</ul></div>",c.fire({icon:"error",title:"Upload Gagal",html:a,confirmButtonColor:"#ef4444",confirmButtonText:"OK"})},onFinish:()=>{console.log("Upload request finished - checking for any unhandled responses"),setTimeout(()=>{m.value&&(console.log("Upload seems to be stuck, forcing stop"),m.value=!1,c.fire({icon:"warning",title:"Upload Timeout",text:"Upload sepertinya mengalami timeout. Silakan coba lagi.",confirmButtonText:"OK"}))},3e4)}})}function _t(){window.open("/employee-upload/template","_blank")}function St(){const l=new URLSearchParams;w.value&&l.append("search",w.value),v.value&&l.append("outlet_id",v.value),b.value&&l.append("division_id",b.value),f.value&&f.value!=="A"&&l.append("status",f.value);const e=`/users/export?${l.toString()}`;window.open(e,"_blank")}return(l,e)=>(n(),$t(Et,{title:"Data Karyawan"},{default:Nt(()=>[t("div",Lt,[t("div",qt,[e[13]||(e[13]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-users text-blue-500"}),u(" Data Karyawan ")],-1)),t("div",Ht,[t("button",{onClick:yt,class:"bg-gradient-to-r from-purple-500 to-purple-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},[t("i",{class:x(k.value==="list"?"fa-solid fa-th-large mr-2":"fa-solid fa-list mr-2")},null,2),u(" "+o(k.value==="list"?"Card View":"List View"),1)]),t("button",{onClick:St,class:"bg-gradient-to-r from-orange-500 to-orange-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[11]||(e[11]=[t("i",{class:"fa-solid fa-file-excel mr-2"},null,-1),u("Export Excel ")])),t("button",{onClick:kt,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[12]||(e[12]=[t("i",{class:"fa-solid fa-upload mr-2"},null,-1),u("Upload Excel ")])),t("button",{onClick:xt,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Tambah Karyawan Baru ")])]),t("div",zt,[t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",f.value==="all"?"bg-blue-50 border-blue-500 shadow-xl":"bg-white border-blue-500 hover:shadow-xl"]),onClick:e[0]||(e[0]=s=>j("all")),title:"Klik untuk melihat semua karyawan"},[t("div",Gt,[t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Karyawan",-1)),t("p",Jt,o(i.statistics.total),1),e[15]||(e[15]=t("p",{class:"text-xs text-gray-500"},"100% dari total",-1))]),e[16]||(e[16]=t("div",{class:"bg-blue-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-users text-blue-600 text-xl"})],-1))]),e[17]||(e[17]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",f.value==="A"?"bg-green-50 border-green-500 shadow-xl":"bg-white border-green-500 hover:shadow-xl"]),onClick:e[1]||(e[1]=s=>j("A")),title:"Klik untuk melihat karyawan aktif"},[t("div",Rt,[t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm font-medium text-gray-600"},"Karyawan Aktif",-1)),t("p",Yt,o(i.statistics.active),1),t("p",Qt,o(i.statistics.total>0?Math.round(i.statistics.active/i.statistics.total*100):0)+"% dari total",1)]),e[19]||(e[19]=t("div",{class:"bg-green-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-user-check text-green-600 text-xl"})],-1))]),e[20]||(e[20]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",f.value==="N"?"bg-red-50 border-red-500 shadow-xl":"bg-white border-red-500 hover:shadow-xl"]),onClick:e[2]||(e[2]=s=>j("N")),title:"Klik untuk melihat karyawan non-aktif"},[t("div",Wt,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-600"},"Karyawan Non-Aktif",-1)),t("p",Xt,o(i.statistics.inactive),1),t("p",Zt,o(i.statistics.total>0?Math.round(i.statistics.inactive/i.statistics.total*100):0)+"% dari total",1)]),e[22]||(e[22]=t("div",{class:"bg-red-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-user-slash text-red-600 text-xl"})],-1))]),e[23]||(e[23]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",f.value==="B"?"bg-yellow-50 border-yellow-500 shadow-xl":"bg-white border-yellow-500 hover:shadow-xl"]),onClick:e[3]||(e[3]=s=>j("B")),title:"Klik untuk melihat karyawan baru"},[t("div",te,[t("div",null,[e[24]||(e[24]=t("p",{class:"text-sm font-medium text-gray-600"},"Karyawan Baru",-1)),t("p",ee,o(i.statistics.new),1),t("p",se,o(i.statistics.total>0?Math.round(i.statistics.new/i.statistics.total*100):0)+"% dari total",1)]),e[25]||(e[25]=t("div",{class:"bg-yellow-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-user-plus text-yellow-600 text-xl"})],-1))]),e[26]||(e[26]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2)]),t("div",le,[M(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>f.value=s),class:"form-input rounded-xl"},e[27]||(e[27]=[t("option",{value:"A"},"Aktif",-1),t("option",{value:"N"},"Non-Aktif",-1),t("option",{value:"B"},"Baru",-1),t("option",{value:"all"},"Semua Status",-1)]),512),[[E,f.value]]),M(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>v.value=s),class:"form-input rounded-xl"},[e[28]||(e[28]=t("option",{value:""},"Semua Outlet",-1)),(n(!0),r(B,null,$(i.outlets,s=>(n(),r("option",{key:s.id_outlet,value:s.id_outlet},o(s.nama_outlet),9,ae))),128))],512),[[E,v.value]]),M(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>b.value=s),class:"form-input rounded-xl"},[e[29]||(e[29]=t("option",{value:""},"Semua Divisi",-1)),(n(!0),r(B,null,$(i.divisions,s=>(n(),r("option",{key:s.id,value:s.id},o(s.nama_divisi),9,oe))),128))],512),[[E,b.value]]),M(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>y.value=s),class:"form-input rounded-xl"},e[30]||(e[30]=[t("option",{value:"10"},"10 per halaman",-1),t("option",{value:"15"},"15 per halaman",-1),t("option",{value:"25"},"25 per halaman",-1),t("option",{value:"50"},"50 per halaman",-1),t("option",{value:"100"},"100 per halaman",-1)]),512),[[E,y.value]]),M(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>w.value=s),onInput:ft,type:"text",placeholder:"Cari NIK, No KTP, Nama, Email, No HP...",class:"flex-1 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition min-w-64"},null,544),[[Ut,w.value]])]),k.value==="list"?(n(),r("div",ie,[t("table",ne,[e[36]||(e[36]=t("thead",{class:"bg-blue-600 text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Avatar"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"NIK"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"No KTP"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Nama"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Jabatan"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Outlet"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Email"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"No HP"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",null,[(n(!0),r(B,null,$(i.users.data,s=>(n(),r("tr",{key:s.id,class:"hover:bg-blue-50 transition"},[t("td",re,[s.avatar?(n(),r("div",{key:0,class:"w-12 h-12 rounded-full overflow-hidden border-2 border-blue-200 shadow-md cursor-pointer hover:shadow-lg transition-all",onClick:a=>Z(T(s.avatar))},[t("img",{src:T(s.avatar),alt:s.nama_lengkap,class:"w-full h-full object-cover hover:scale-105 transition-transform"},null,8,ue)],8,de)):(n(),r("div",ce,o(X(s.nama_lengkap)),1))]),t("td",fe,o(s.nik),1),t("td",pe,o(s.no_ktp),1),t("td",xe,o(s.nama_lengkap),1),t("td",ge,o(s.nama_jabatan||"-"),1),t("td",me,o(s.nama_outlet||"-"),1),t("td",ve,o(s.email),1),t("td",be,o(s.no_hp),1),t("td",he,[t("span",{class:x(["px-2 py-1 rounded-full text-xs font-semibold",s.status==="A"?"bg-green-100 text-green-800":s.status==="N"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},o(s.status==="A"?"Aktif":s.status==="N"?"Non-Aktif":"Baru"),3)]),t("td",we,[t("button",{onClick:a=>R(s),class:"px-2 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"Detail"},e[31]||(e[31]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,ye),t("button",{onClick:a=>J(s),class:"px-2 py-1 rounded bg-yellow-200 text-yellow-900 hover:bg-yellow-300 transition",title:"Edit"},e[32]||(e[32]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,ke),t("button",{onClick:a=>Q(s),class:x(["px-2 py-1 rounded transition",s.status==="A"?"bg-red-500 text-white hover:bg-red-600":s.status==="B"?"bg-blue-500 text-white hover:bg-blue-600":"bg-green-500 text-white hover:bg-green-600"]),title:s.status==="A"?"Nonaktifkan":(s.status==="B","Aktifkan")},[t("i",{class:x(s.status==="A"?"fa-solid fa-user-slash":"fa-solid fa-user-check")},null,2)],10,Ce),t("button",{onClick:a=>Y(s),class:"px-2 py-1 rounded bg-green-100 text-green-700 hover:bg-green-200 transition",title:"Kelola PIN"},e[33]||(e[33]=[t("i",{class:"fa-solid fa-key"},null,-1)]),8,Be),t("button",{onClick:a=>W(s),class:"px-2 py-1 rounded bg-purple-100 text-purple-700 hover:bg-purple-200 transition",title:"Input Saldo"},e[34]||(e[34]=[t("i",{class:"fa-solid fa-coins"},null,-1)]),8,Ae)])]))),128)),i.users.data.length===0?(n(),r("tr",_e,e[35]||(e[35]=[t("td",{colspan:"10",class:"text-center py-8 text-gray-400"},"Tidak ada data karyawan",-1)]))):C("",!0)])])])):(n(),r("div",Se,[(n(!0),r(B,null,$(i.users.data,s=>(n(),r("div",{key:s.id,class:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100"},[t("div",Me,[s.avatar?(n(),r("div",{key:0,class:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-lg cursor-pointer hover:shadow-xl transition-all mx-auto",onClick:a=>Z(T(s.avatar))},[t("img",{src:T(s.avatar),alt:s.nama_lengkap,class:"w-full h-full object-cover hover:scale-105 transition-transform"},null,8,Ne)],8,$e)):(n(),r("div",Ue,o(X(s.nama_lengkap)),1)),t("h3",je,o(s.nama_lengkap),1),t("p",Te,o(s.nama_jabatan||"Jabatan tidak tersedia"),1)]),t("div",Fe,[t("div",Ee,[t("div",Ke,[e[37]||(e[37]=t("i",{class:"fa-solid fa-id-card text-gray-400 w-5"},null,-1)),t("span",De,o(s.nik),1)]),t("div",Pe,[e[38]||(e[38]=t("i",{class:"fa-solid fa-building text-gray-400 w-5"},null,-1)),t("span",Ie,o(s.nama_outlet||"Outlet tidak tersedia"),1)]),t("div",Oe,[e[39]||(e[39]=t("i",{class:"fa-solid fa-envelope text-gray-400 w-5"},null,-1)),t("span",Ve,o(s.email),1)]),t("div",Le,[e[40]||(e[40]=t("i",{class:"fa-solid fa-phone text-gray-400 w-5"},null,-1)),t("span",qe,o(s.no_hp||"No HP tidak tersedia"),1)])]),t("div",He,[t("span",{class:x(["px-3 py-1 rounded-full text-xs font-semibold",s.status==="A"?"bg-green-100 text-green-800":s.status==="N"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},o(s.status==="A"?"Aktif":s.status==="N"?"Non-Aktif":"Baru"),3)]),t("div",ze,[t("button",{onClick:a=>R(s),class:"px-3 py-2 rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition text-sm",title:"Detail"},e[41]||(e[41]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,Ge),t("button",{onClick:a=>J(s),class:"px-3 py-2 rounded-lg bg-yellow-100 text-yellow-700 hover:bg-yellow-200 transition text-sm",title:"Edit"},e[42]||(e[42]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,Je),t("button",{onClick:a=>Q(s),class:x(["px-3 py-2 rounded-lg transition text-sm",s.status==="A"?"bg-red-100 text-red-700 hover:bg-red-200":s.status==="B"?"bg-blue-100 text-blue-700 hover:bg-blue-200":"bg-green-100 text-green-700 hover:bg-green-200"]),title:s.status==="A"?"Nonaktifkan":(s.status==="B","Aktifkan")},[t("i",{class:x(s.status==="A"?"fa-solid fa-user-slash":"fa-solid fa-user-check")},null,2)],10,Re),t("button",{onClick:a=>Y(s),class:"px-3 py-2 rounded-lg bg-green-100 text-green-700 hover:bg-green-200 transition text-sm",title:"Kelola PIN"},e[43]||(e[43]=[t("i",{class:"fa-solid fa-key"},null,-1)]),8,Ye),t("button",{onClick:a=>W(s),class:"px-3 py-2 rounded-lg bg-purple-100 text-purple-700 hover:bg-purple-200 transition text-sm",title:"Input Saldo"},e[44]||(e[44]=[t("i",{class:"fa-solid fa-coins"},null,-1)]),8,Qe)])])]))),128)),i.users.data.length===0?(n(),r("div",We,e[45]||(e[45]=[t("div",{class:"text-gray-400 text-lg"},[t("i",{class:"fa-solid fa-users text-4xl mb-4"}),t("p",null,"Tidak ada data karyawan")],-1)]))):C("",!0)])),t("div",Xe,[t("div",Ze," Menampilkan "+o(i.users.from||0)+" - "+o(i.users.to||0)+" dari "+o(i.users.total||0)+" data ",1),i.users.links&&i.users.links.length>3?(n(),r("nav",ts,[(n(!0),r(B,null,$(i.users.links,(s,a)=>(n(),r(B,{key:a},[s.url?(n(),r("button",{key:0,onClick:p=>pt(s.url),class:x(["px-3 py-1 border border-gray-300",s.active?"bg-blue-600 text-white":"bg-white text-blue-700 hover:bg-blue-50"]),innerHTML:s.label},null,10,es)):(n(),r("span",{key:1,class:"px-3 py-1 border border-gray-200 text-gray-400",innerHTML:s.label},null,8,ss))],64))),128))])):C("",!0)])]),S(Kt,{show:L.value,mode:nt.value,user:rt.value,dropdownData:dt.value,isLoadingDropdown:ut.value,onClose:mt},null,8,["show","mode","user","dropdownData","isLoadingDropdown"]),S(Pt,{show:K.value,"user-id":q.value,"user-name":H.value,onClose:gt},null,8,["show","user-id","user-name"]),S(It,{show:N.value,user:U.value,jabatans:i.jabatans,divisions:i.divisions,outlets:i.outlets,onClose:vt,onSuccess:ht},null,8,["show","user","jabatans","divisions","outlets"]),S(Ot,{show:D.value,user:P.value,onClose:bt,onSuccess:wt},null,8,["show","user"]),S(jt(Vt),{visible:O.value,imgs:z.value,index:G.value,onHide:e[9]||(e[9]=s=>O.value=!1)},null,8,["visible","imgs","index"]),I.value?(n(),r("div",ls,[t("div",as,[m.value?(n(),r("div",os,e[46]||(e[46]=[t("div",{class:"text-center"},[t("i",{class:"fa fa-spinner fa-spin text-4xl text-green-500 mb-4"}),t("p",{class:"text-lg font-semibold text-gray-700"},"Memproses File Excel..."),t("p",{class:"text-sm text-gray-500 mt-2"},"Mohon tunggu, sedang mengupdate data karyawan")],-1)]))):C("",!0),t("div",{class:"flex justify-between items-center mb-6"},[e[48]||(e[48]=t("h2",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-upload text-green-500"}),u(" Upload Data Karyawan ")],-1)),t("button",{onClick:tt,class:"text-gray-400 hover:text-gray-600 transition-colors"},e[47]||(e[47]=[t("i",{class:"fa-solid fa-times text-xl"},null,-1)]))]),t("form",{onSubmit:Tt(Bt,["prevent"]),enctype:"multipart/form-data",class:"space-y-6"},[t("div",is,[t("div",ns,[e[50]||(e[50]=t("i",{class:"fa-solid fa-file-excel text-6xl text-green-500"},null,-1)),e[51]||(e[51]=t("div",null,[t("p",{class:"text-lg font-medium text-gray-700"},"Pilih File Excel"),t("p",{class:"text-sm text-gray-500"},"Format yang didukung: .xlsx, .xls (Max 10MB)")],-1)),t("input",{ref:"fileInput",type:"file",onChange:Ct,accept:".xlsx,.xls",class:"hidden",required:""},null,544),t("button",{type:"button",onClick:e[10]||(e[10]=s=>l.$refs.fileInput.click()),class:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-medium transition-colors"},e[49]||(e[49]=[t("i",{class:"fa fa-folder-open mr-2"},null,-1),u("Pilih File ")]))])]),g.value?(n(),r("div",rs,[t("div",ds,[t("div",us,[e[52]||(e[52]=t("i",{class:"fa-solid fa-file-excel text-green-500 text-xl"},null,-1)),t("div",null,[t("p",cs,o(g.value.name),1),t("p",fs,o(et(g.value.size)),1)])]),t("button",{type:"button",onClick:F,class:"text-red-500 hover:text-red-700 transition-colors"},e[53]||(e[53]=[t("i",{class:"fa fa-times"},null,-1)]))])])):C("",!0),t("div",ps,[t("button",{type:"button",onClick:_t,class:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-colors"},e[54]||(e[54]=[t("i",{class:"fa fa-download mr-2"},null,-1),u("Download Template ")])),t("button",{type:"submit",disabled:!g.value||m.value,class:"bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center"},[m.value?(n(),r("i",gs)):(n(),r("i",ms)),u(" "+o(m.value?"Memproses...":"Upload File"),1)],8,xs)])],32),e[55]||(e[55]=t("div",{class:"bg-blue-50 border border-blue-200 rounded-2xl p-6 mt-6"},[t("h3",{class:"text-lg font-semibold text-blue-800 mb-4"},[t("i",{class:"fa fa-info-circle mr-2"}),u("Petunjuk Upload ")]),t("div",{class:"space-y-3 text-blue-700"},[t("div",{class:"flex items-start space-x-3"},[t("i",{class:"fa fa-check-circle text-blue-500 mt-1"}),t("p",null,"Download template Excel terlebih dahulu untuk memastikan format yang benar")]),t("div",{class:"flex items-start space-x-3"},[t("i",{class:"fa fa-check-circle text-blue-500 mt-1"}),t("p",null,[u("Kolom "),t("strong",null,"ID"),u(", "),t("strong",null,"NIK"),u(", dan "),t("strong",null,"Nama Lengkap"),u(" wajib diisi")])]),t("div",{class:"flex items-start space-x-3"},[t("i",{class:"fa fa-check-circle text-blue-500 mt-1"}),t("p",null,[u("Pastikan "),t("strong",null,"QR Code Outlet"),u(", "),t("strong",null,"Jabatan"),u(", dan "),t("strong",null,"Divisi"),u(" sesuai dengan data yang ada di sistem")])]),t("div",{class:"flex items-start space-x-3"},[t("i",{class:"fa fa-check-circle text-blue-500 mt-1"}),t("p",null,[u("Status hanya bisa diisi dengan "),t("strong",null,"A"),u(" (Aktif) atau "),t("strong",null,"N"),u(" (Non-Aktif)")])])])],-1))])])):C("",!0)]),_:1}))}};export{Es as default};
