import{r as b,W as i,A as $,B as n,C as j,D as t,x as G,G as u,N as d,L as s,E as h,H as N,J as P,F as m,M as y,l as I}from"./vendor-vue-g7iCcTkf.js";import{l as K}from"./lodash-DB3HVzpp.js";import{S as l}from"./app-_bo91XrJ.js";import{A as R}from"./AppLayout-zPRaA07p.js";import V from"./ImportModal-BKDvO1GV.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CKY7MlXM.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const U={class:"max-w-7xl w-full mx-auto py-8 px-2"},Y={class:"flex justify-between items-center mb-6"},F={class:"text-sm text-gray-600 mt-1"},W={class:"flex gap-2"},q={class:"mb-4"},z={class:"bg-white rounded-2xl shadow-lg overflow-x-auto"},J={class:"min-w-full divide-y divide-purple-200"},Q={class:"px-4 py-2 whitespace-nowrap"},X={class:"px-4 py-2 whitespace-nowrap font-semibold"},Z={class:"px-4 py-2 whitespace-nowrap"},tt={class:"px-4 py-2 whitespace-nowrap"},et={class:"px-4 py-2 whitespace-nowrap text-center flex gap-2 justify-center"},ot=["onClick"],at=["onClick"],nt=["onClick"],lt={key:0},st={class:"mt-4 flex justify-end"},rt={key:0,class:"inline-flex -space-x-px"},it=["onClick","innerHTML"],ut=["innerHTML"],vt={__name:"Index",props:{roulettes:Object,filters:Object},setup(r){var w;const g=r,p=b(((w=g.filters)==null?void 0:w.search)||""),c=b(!1),k=K.debounce(()=>{i.get("/roulette",{search:p.value},{preserveState:!0,replace:!0})},400);function v(){k()}function C(a){a&&i.visit(a,{preserveState:!0,replace:!0})}function B(){i.visit("/roulette/create")}function S(a){i.visit(`/roulette/${a.id}/edit`)}function T(a){i.visit(`/roulette/${a.id}`)}async function M(a){(await l.fire({title:"Hapus Data Roulette?",text:`Yakin ingin menghapus data "${a.nama}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&(l.fire({title:"Menghapus Data...",text:"Mohon tunggu sebentar, sedang menghapus data...",icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{l.showLoading()}}),i.delete(route("roulette.destroy",a.id),{onSuccess:()=>{l.fire({title:"Berhasil!",text:"Data roulette berhasil dihapus!",icon:"success",confirmButtonText:"OK"})},onError:o=>{l.fire({title:"Error!",text:"Gagal menghapus data: "+(o.message||"Terjadi kesalahan"),icon:"error",confirmButtonText:"OK"})}}))}function H(){c.value=!0}function _(){c.value=!1}function E(){window.open(route("roulette.game"),"_blank")}function L(){window.open(route("roulette.grid"),"_blank")}function D(){window.open(route("roulette.slot"),"_blank")}function O(){window.open(route("roulette.lottery"),"_blank")}async function A(){(await l.fire({title:"Hapus Semua Peserta?",text:`Yakin ingin menghapus seluruh ${g.roulettes.data.length} data peserta roulette? Tindakan ini tidak dapat dibatalkan!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus Semua!",cancelButtonText:"Batal",input:"text",inputLabel:'Ketik "HAPUS" untuk konfirmasi',inputPlaceholder:"HAPUS",inputValidator:e=>{if(e!=="HAPUS")return'Anda harus mengetik "HAPUS" untuk melanjutkan'}})).isConfirmed&&(l.fire({title:"Menghapus Data...",text:"Mohon tunggu sebentar, sedang menghapus seluruh data peserta...",icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{l.showLoading()}}),i.delete(route("roulette.destroy-all"),{onSuccess:()=>{l.fire({title:"Berhasil!",text:"Semua data peserta roulette berhasil dihapus!",icon:"success",confirmButtonText:"OK"})},onError:e=>{l.fire({title:"Error!",text:"Gagal menghapus data: "+(e.message||"Terjadi kesalahan"),icon:"error",confirmButtonText:"OK"})}}))}return(a,e)=>(n(),$(R,{title:"Data Roulette"},{default:j(()=>[t("div",U,[t("div",Y,[t("div",null,[e[1]||(e[1]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-dice text-purple-500"}),u(" Data Roulette ")],-1)),t("p",F,"Total: "+d(r.roulettes.data.length)+" peserta",1)]),t("div",W,[t("button",{onClick:E,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},e[2]||(e[2]=[t("i",{class:"fa-solid fa-play"},null,-1),u(" Main Roulette ")])),t("button",{onClick:L,class:"bg-gradient-to-r from-purple-500 to-purple-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},e[3]||(e[3]=[t("i",{class:"fa-solid fa-th"},null,-1),u(" Grid Game ")])),t("button",{onClick:D,class:"bg-gradient-to-r from-yellow-500 to-orange-600 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},e[4]||(e[4]=[t("i",{class:"fa-solid fa-slot-machine"},null,-1),u(" Slot Machine ")])),t("button",{onClick:O,class:"bg-gradient-to-r from-red-500 to-pink-600 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},e[5]||(e[5]=[t("i",{class:"fa-solid fa-dice"},null,-1),u(" Lottery Machine ")])),t("button",{onClick:H,class:"bg-green-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},e[6]||(e[6]=[t("i",{class:"fas fa-file-excel"},null,-1),u(" Import Excel ")])),t("button",{onClick:B,class:"bg-gradient-to-r from-purple-500 to-purple-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Tambah Data Roulette "),r.roulettes.data.length>0?(n(),s("button",{key:0,onClick:A,class:"bg-gradient-to-r from-red-500 to-red-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},e[7]||(e[7]=[t("i",{class:"fa-solid fa-trash-can"},null,-1),u(" Hapus Semua ")]))):h("",!0)])]),t("div",q,[N(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),onInput:v,type:"text",placeholder:"Cari nama, email, no hp...",class:"w-full px-4 py-2 rounded-xl border border-purple-200 shadow focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition"},null,544),[[P,p.value]])]),t("div",z,[t("table",J,[e[12]||(e[12]=t("thead",{class:"bg-purple-600 text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"No"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Nama"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Email"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"No HP"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",null,[(n(!0),s(m,null,y(r.roulettes.data,(o,f)=>(n(),s("tr",{key:o.id,class:"hover:bg-purple-50 transition"},[t("td",Q,d(f+1),1),t("td",X,d(o.nama),1),t("td",Z,d(o.email),1),t("td",tt,d(o.no_hp),1),t("td",et,[t("button",{onClick:x=>T(o),class:"px-2 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"Detail"},e[8]||(e[8]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,ot),t("button",{onClick:x=>S(o),class:"px-2 py-1 rounded bg-yellow-200 text-yellow-900 hover:bg-yellow-300 transition",title:"Edit"},e[9]||(e[9]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,at),t("button",{onClick:x=>M(o),class:"px-2 py-1 rounded bg-red-500 text-white hover:bg-red-600 transition",title:"Hapus"},e[10]||(e[10]=[t("i",{class:"fa-solid fa-trash"},null,-1)]),8,nt)])]))),128)),r.roulettes.data.length===0?(n(),s("tr",lt,e[11]||(e[11]=[t("td",{colspan:"5",class:"text-center py-8 text-gray-400"},"Tidak ada data roulette",-1)]))):h("",!0)])])]),t("div",st,[r.roulettes.links&&r.roulettes.links.length>3?(n(),s("nav",rt,[(n(!0),s(m,null,y(r.roulettes.links,(o,f)=>(n(),s(m,{key:f},[o.url?(n(),s("button",{key:0,onClick:x=>C(o.url),class:I(["px-3 py-1 border border-gray-300",o.active?"bg-purple-600 text-white":"bg-white text-purple-700 hover:bg-purple-50"]),innerHTML:o.label},null,10,it)):(n(),s("span",{key:1,class:"px-3 py-1 border border-gray-200 text-gray-400",innerHTML:o.label},null,8,ut))],64))),128))])):h("",!0)])]),G(V,{show:c.value,onClose:_},null,8,["show"])]),_:1}))}};export{vt as default};
