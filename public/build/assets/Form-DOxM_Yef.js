import{r as V,A,B as n,C as q,D as s,N as U,O as M,H as a,J as i,L as u,F as P,M as C,I as p,x as E,Q as T,S as D,G as _,W as B}from"./vendor-vue-g7iCcTkf.js";import{A as j}from"./AppLayout-_5DIDCQX.js";import{s as L}from"./VueTimepicker-BGHuji_y.js";import{S as d}from"./app-fC6wJyCz.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-OI-F7Vdc.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const O={class:"max-w-2xl mx-auto py-8 px-2"},F={class:"text-2xl font-bold text-pink-700 mb-6"},G={class:"space-y-4"},H={class:"space-y-4"},W=["value"],J={class:"flex gap-4"},I={class:"flex-1"},K={class:"flex-1"},Q={class:"mb-4"},z={class:"mb-4"},X={class:"mb-4"},Y={class:"flex justify-end gap-2 mt-8"},Z=["disabled"],$={key:0},h={key:1},me={__name:"Form",props:{reservation:Object,outlets:Array,isEdit:Boolean},setup(m){var v,f,g,b,k,x,y,w,c,S;const o=m,r=V(!1),l=V({name:((v=o.reservation)==null?void 0:v.name)||"",phone:((f=o.reservation)==null?void 0:f.phone)||"",email:((g=o.reservation)==null?void 0:g.email)||"",outlet_id:((b=o.reservation)==null?void 0:b.outlet_id)||"",reservation_date:((k=o.reservation)==null?void 0:k.reservation_date)||"",reservation_time:((x=o.reservation)==null?void 0:x.reservation_time)||"",number_of_guests:((y=o.reservation)==null?void 0:y.number_of_guests)||1,smoking_preference:((w=o.reservation)==null?void 0:w.smoking_preference)||"",special_requests:((c=o.reservation)==null?void 0:c.special_requests)||"",status:((S=o.reservation)==null?void 0:S.status)||"pending"});function N(){r.value=!0,o.isEdit?B.put(route("reservations.update",o.reservation.id),l.value,{onSuccess:()=>{r.value=!1,d.fire("Sukses","Reservasi berhasil diupdate!","success")},onError:()=>{r.value=!1,d.fire("Gagal","Terjadi kesalahan saat menyimpan reservasi.","error")}}):B.post(route("reservations.store"),l.value,{onSuccess:()=>{r.value=!1,d.fire("Sukses","Reservasi berhasil disimpan!","success")},onError:()=>{r.value=!1,d.fire("Gagal","Terjadi kesalahan saat menyimpan reservasi.","error")}})}return(R,e)=>(n(),A(j,null,{default:q(()=>[s("div",O,[s("h1",F,U(m.isEdit?"Edit Reservasi":"Tambah Reservasi"),1),s("form",{onSubmit:M(N,["prevent"]),class:"space-y-5 bg-white rounded-2xl shadow-xl p-8"},[s("div",G,[e[13]||(e[13]=s("h2",{class:"text-lg font-semibold text-gray-800"},"Data Pemesan",-1)),s("div",null,[e[10]||(e[10]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nama Lengkap",-1)),a(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:"",maxlength:"100"},null,512),[[i,l.value.name]])]),s("div",null,[e[11]||(e[11]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nomor Telepon",-1)),a(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.phone=t),type:"tel",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:"",maxlength:"20"},null,512),[[i,l.value.phone]])]),s("div",null,[e[12]||(e[12]=s("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),a(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.email=t),type:"email",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:"",maxlength:"100"},null,512),[[i,l.value.email]])])]),s("div",H,[e[24]||(e[24]=s("h2",{class:"text-lg font-semibold text-gray-800"},"Detail Reservasi",-1)),s("div",null,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium text-gray-700"},"Outlet",-1)),a(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.outlet_id=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:""},[e[14]||(e[14]=s("option",{value:""},"Pilih Outlet",-1)),(n(!0),u(P,null,C(m.outlets,t=>(n(),u("option",{key:t.id,value:t.id},U(t.name),9,W))),128))],512),[[p,l.value.outlet_id]])]),s("div",J,[s("div",I,[e[16]||(e[16]=s("label",{class:"block text-sm font-medium text-gray-700"},"Tanggal Reservasi",-1)),a(s("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.reservation_date=t),type:"date",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:""},null,512),[[i,l.value.reservation_date]])]),s("div",K,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium text-gray-700"},"Waktu Reservasi",-1)),E(T(L),{modelValue:l.value.reservation_time,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.reservation_time=t),format:"HH:mm",is24:!0,"minute-interval":"15",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm"},null,8,["modelValue"])])]),s("div",Q,[e[18]||(e[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Tamu",-1)),a(s("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=t=>l.value.number_of_guests=t),class:"w-full rounded-lg border-gray-300",min:"1",required:""},null,512),[[i,l.value.number_of_guests]])]),s("div",z,[e[20]||(e[20]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Preferensi Merokok",-1)),a(s("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.value.smoking_preference=t),class:"w-full rounded-lg border-gray-300",required:""},e[19]||(e[19]=[s("option",{value:""},"Pilih Preferensi",-1),s("option",{value:"smoking"},"Smoking Area",-1),s("option",{value:"non_smoking"},"Non-Smoking Area",-1)]),512),[[p,l.value.smoking_preference]])]),s("div",X,[e[21]||(e[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan Khusus",-1)),a(s("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.special_requests=t),class:"w-full rounded-lg border-gray-300",rows:"3"},null,512),[[i,l.value.special_requests]])]),s("div",null,[e[23]||(e[23]=s("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),a(s("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.status=t),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-pink-500 focus:border-pink-500",required:""},e[22]||(e[22]=[s("option",{value:"pending"},"Pending",-1),s("option",{value:"confirmed"},"Confirmed",-1),s("option",{value:"cancelled"},"Cancelled",-1)]),512),[[p,l.value.status]])])]),s("div",Y,[E(T(D),{href:R.route("reservations.index"),class:"px-4 py-2 rounded bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200"},{default:q(()=>e[25]||(e[25]=[_("Batal")])),_:1},8,["href"]),s("button",{disabled:r.value,class:"px-6 py-2 rounded bg-pink-600 text-white font-bold hover:bg-pink-700"},[r.value?(n(),u("span",$,e[26]||(e[26]=[s("i",{class:"fa fa-spinner fa-spin"},null,-1),_(" Menyimpan...")]))):(n(),u("span",h,"Simpan"))],8,Z)])],32)])]),_:1}))}};export{me as default};
