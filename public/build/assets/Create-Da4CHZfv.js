import{r as g,A as h,B as f,C as y,D as e,G as p,O as j,x as s,l as u,H as w,J as G,L as _,E as k,V as N,N as D,W as B}from"./vendor-vue-g7iCcTkf.js";import{A as F}from"./AppLayout-DS2U8tWW.js";import{P as I}from"./PrimaryButton-BbBAD9SX.js";import{_ as v}from"./TextInput-B7P_xVe4.js";import{_ as o,a as d}from"./InputLabel-Bg0AMQZ3.js";import{S as C}from"./app-Vi2dpKR6.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Do674Z4r.js";import"./vendor-charts-CuqD4wLC.js";const R={class:"max-w-4xl mx-auto py-8 px-4"},S={class:"bg-white rounded-lg shadow p-6"},U={key:0,class:"mt-4"},q=["src"],A={key:0,class:"mt-4"},O=["src"],W={class:"flex items-center"},E={class:"flex justify-end gap-4"},ee={__name:"Create",setup(J){const t=g({title:"",subtitle:"",description:"",background_image:null,content_image:null,order:0,is_active:!0}),i=g({}),m=g(!1),c=g(null),b=g(null);function M(r){const l=r.target.files[0];if(l){t.value.background_image=l;const a=new FileReader;a.onload=n=>{c.value=n.target.result},a.readAsDataURL(l)}}function P(r){const l=r.target.files[0];if(l){t.value.content_image=l;const a=new FileReader;a.onload=n=>{b.value=n.target.result},a.readAsDataURL(l)}}function V(){m.value=!0;const r=new FormData;r.append("title",t.value.title),r.append("subtitle",t.value.subtitle||""),r.append("description",t.value.description||""),r.append("order",t.value.order),r.append("is_active",t.value.is_active?1:0),t.value.background_image&&r.append("background_image",t.value.background_image),t.value.content_image&&r.append("content_image",t.value.content_image),B.post("/web-profile/banners",r,{forceFormData:!0,onSuccess:()=>{C.fire("Berhasil!","Banner berhasil dibuat.","success")},onError:l=>{i.value=l||{},m.value=!1;let a="Gagal membuat banner. Silakan periksa form yang diisi.";if(l&&Object.keys(l).length>0){const n=Object.values(l).flat();n.length>0&&(a=n.join("<br>"))}C.fire({icon:"error",title:"Error!",html:a})},onFinish:()=>{m.value=!1}})}function x(){B.visit("/web-profile/banners")}return(r,l)=>(f(),h(F,{title:"Create Banner"},{default:y(()=>[e("div",R,[e("div",{class:"flex justify-between items-center mb-6"},[l[6]||(l[6]=e("h1",{class:"text-2xl font-bold text-gray-800"},"Create New Banner",-1)),e("button",{onClick:x,class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"},l[5]||(l[5]=[e("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),p(" Cancel ")]))]),l[12]||(l[12]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6"},[e("h3",{class:"font-semibold text-yellow-800 mb-2"},[e("i",{class:"fa-solid fa-exclamation-triangle mr-2"}),p(" Image Requirements ")]),e("div",{class:"text-sm text-yellow-700 space-y-2"},[e("div",null,[e("strong",null,"Background Image (Required):"),e("ul",{class:"ml-4 mt-1 list-disc"},[e("li",null,"Minimum dimensions: 1920 x 1080 pixels (16:9 ratio)"),e("li",null,"Maximum file size: 5MB"),e("li",null,"Formats: JPG, PNG, WEBP"),e("li",null,"Recommended: 1920x1080px for best quality")])]),e("div",null,[e("strong",null,"Content Image (Optional):"),e("ul",{class:"ml-4 mt-1 list-disc"},[e("li",null,"Minimum dimensions: 800 x 600 pixels"),e("li",null,"Maximum file size: 5MB"),e("li",null,"Formats: JPG, PNG, WEBP"),e("li",null,"Recommended: 1200x800px for best quality")])])])],-1)),e("div",S,[e("form",{onSubmit:j(V,["prevent"]),class:"space-y-6"},[e("div",null,[s(o,{for:"title",value:"Title *"}),s(v,{id:"title",modelValue:t.value.title,"onUpdate:modelValue":l[0]||(l[0]=a=>t.value.title=a),type:"text",class:u(["mt-1 block w-full",{"border-red-500":i.value.title}]),required:""},null,8,["modelValue","class"]),s(d,{message:i.value.title,class:"mt-2"},null,8,["message"])]),e("div",null,[s(o,{for:"subtitle",value:"Subtitle"}),s(v,{id:"subtitle",modelValue:t.value.subtitle,"onUpdate:modelValue":l[1]||(l[1]=a=>t.value.subtitle=a),type:"text",class:u(["mt-1 block w-full",{"border-red-500":i.value.subtitle}])},null,8,["modelValue","class"]),s(d,{message:i.value.subtitle,class:"mt-2"},null,8,["message"])]),e("div",null,[s(o,{for:"description",value:"Description"}),w(e("textarea",{id:"description","onUpdate:modelValue":l[2]||(l[2]=a=>t.value.description=a),rows:"3",class:u(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":i.value.description}])},null,2),[[G,t.value.description]]),s(d,{message:i.value.description,class:"mt-2"},null,8,["message"])]),e("div",null,[s(o,{for:"background_image",value:"Background Image *"}),e("input",{id:"background_image",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:M,class:u(["mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",{"border-red-500":i.value.background_image}]),required:""},null,34),s(d,{message:i.value.background_image,class:"mt-2"},null,8,["message"]),l[8]||(l[8]=e("p",{class:"mt-1 text-xs text-gray-500"},"Min: 1920x1080px, Max: 5MB, Formats: JPG/PNG/WEBP",-1)),c.value?(f(),_("div",U,[l[7]||(l[7]=e("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Preview:",-1)),e("img",{src:c.value,alt:"Background preview",class:"max-w-full h-48 object-cover rounded-lg border border-gray-300"},null,8,q)])):k("",!0)]),e("div",null,[s(o,{for:"content_image",value:"Content Image (Optional)"}),e("input",{id:"content_image",type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:P,class:u(["mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",{"border-red-500":i.value.content_image}])},null,34),s(d,{message:i.value.content_image,class:"mt-2"},null,8,["message"]),l[10]||(l[10]=e("p",{class:"mt-1 text-xs text-gray-500"},"Min: 800x600px, Max: 5MB, Formats: JPG/PNG/WEBP",-1)),b.value?(f(),_("div",A,[l[9]||(l[9]=e("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Preview:",-1)),e("img",{src:b.value,alt:"Content preview",class:"max-w-full h-48 object-cover rounded-lg border border-gray-300"},null,8,O)])):k("",!0)]),e("div",null,[s(o,{for:"order",value:"Order"}),s(v,{id:"order",modelValue:t.value.order,"onUpdate:modelValue":l[3]||(l[3]=a=>t.value.order=a),modelModifiers:{number:!0},type:"number",class:u(["mt-1 block w-full",{"border-red-500":i.value.order}]),min:"0"},null,8,["modelValue","class"]),s(d,{message:i.value.order,class:"mt-2"},null,8,["message"]),l[11]||(l[11]=e("p",{class:"mt-1 text-sm text-gray-500"},"Lower numbers appear first (max 5 banners will be shown)",-1))]),e("div",W,[w(e("input",{id:"is_active","onUpdate:modelValue":l[4]||(l[4]=a=>t.value.is_active=a),type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:ring-blue-500"},null,512),[[N,t.value.is_active]]),s(o,{for:"is_active",value:"Activate this banner",class:"ml-2"})]),e("div",E,[e("button",{type:"button",onClick:x,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"}," Cancel "),s(I,{disabled:m.value},{default:y(()=>[p(D(m.value?"Creating...":"Create Banner"),1)]),_:1},8,["disabled"])])],32)])])]),_:1}))}};export{ee as default};
