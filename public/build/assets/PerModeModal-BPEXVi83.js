import{c,L as n,B as a,D as e,N as l,F as m,M as b,O as x}from"./vendor-vue-g7iCcTkf.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";const f={class:"bg-white rounded-2xl shadow-2xl w-full max-w-xl p-8 relative animate-fadeIn overflow-y-auto",style:{"max-height":"90vh"}},h={class:"text-center mb-4"},v={class:"text-xs text-gray-400 mt-1"},_={class:"mb-6"},M={class:"min-w-full text-sm rounded shadow"},w={class:"px-3 py-2"},k={class:"px-3 py-2 text-right"},D={class:"min-w-full text-sm rounded shadow"},N={class:"px-3 py-2"},P={class:"px-3 py-2 text-right"},I={__name:"PerModeModal",props:{tanggal:String,orders:Array},setup(d){const i=d,y=c(()=>{const s={};return(i.orders||[]).forEach(t=>{const r=t.mode||"-";s[r]=(s[r]||0)+(Number(t.grand_total)||0)}),s}),p=c(()=>{const s={};return(i.orders||[]).forEach(t=>{if(t.payments&&Array.isArray(t.payments))t.payments.forEach(r=>{const o=r.payment_code||"-";s[o]=(s[o]||0)+(Number(r.amount)||0)});else if(t.payment_code){const r=t.payment_code||"-";s[r]=(s[r]||0)+(Number(t.amount)||0)}}),s});function u(s){if(typeof s=="number")return s.toLocaleString("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0});if(!s)return"-";const t=Number(s);return isNaN(t)?s:t.toLocaleString("id-ID",{style:"currency",currency:"IDR",maximumFractionDigits:0})}return(s,t)=>(a(),n("div",{class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",onClick:t[1]||(t[1]=x(r=>s.$emit("close"),["self"]))},[e("div",f,[e("button",{onClick:t[0]||(t[0]=r=>s.$emit("close")),class:"absolute top-4 right-4 text-gray-400 hover:text-red-500 text-2xl font-bold"},"Ã—"),e("div",h,[t[2]||(t[2]=e("div",{class:"text-xl font-bold text-gray-800"},"Rekap Per Mode",-1)),e("div",v,l(d.tanggal),1)]),t[7]||(t[7]=e("div",{class:"border-b border-gray-200 mb-4"},null,-1)),e("div",_,[t[4]||(t[4]=e("div",{class:"font-bold text-blue-700 mb-2"},"Per Mode Transaksi",-1)),e("table",M,[t[3]||(t[3]=e("thead",null,[e("tr",{class:"bg-blue-100 text-blue-900"},[e("th",{class:"px-3 py-2"},"Mode"),e("th",{class:"px-3 py-2 text-right"},"Total")])],-1)),e("tbody",null,[(a(!0),n(m,null,b(y.value,(r,o)=>(a(),n("tr",{key:o,class:"bg-white border-b last:border-b-0"},[e("td",w,l(o||"-"),1),e("td",k,l(u(r)),1)]))),128))])])]),e("div",null,[t[6]||(t[6]=e("div",{class:"font-bold text-green-700 mb-2"},"Per Mode Pembayaran",-1)),e("table",D,[t[5]||(t[5]=e("thead",null,[e("tr",{class:"bg-green-100 text-green-900"},[e("th",{class:"px-3 py-2"},"Metode Pembayaran"),e("th",{class:"px-3 py-2 text-right"},"Total")])],-1)),e("tbody",null,[(a(!0),n(m,null,b(p.value,(r,o)=>(a(),n("tr",{key:o,class:"bg-white border-b last:border-b-0"},[e("td",N,l(o||"-"),1),e("td",P,l(u(r)),1)]))),128))])])])])]))}},L=g(I,[["__scopeId","data-v-0d9c730e"]]);export{L as default};
