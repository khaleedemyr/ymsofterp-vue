import{r as N,k as R,A as V,B as r,C as h,D as t,G as u,O as L,H as g,L as l,F as f,M as b,N as a,I as P,J as T,E as x,l as c,x as O,Q as j,S as B,W as F}from"./vendor-vue-g7iCcTkf.js";import{A as H}from"./AppLayout-C6QNM8cp.js";import"./vendor-utils-CpgP2uT4.js";import"./app-D-uxhaxN.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-cFrDwyHJ.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const E={class:"py-8 px-4"},I={class:"max-w-7xl mx-auto"},M={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},U=["value"],$={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},G={class:"bg-white rounded-xl shadow-lg p-6"},W={class:"flex items-center justify-between"},z={class:"text-2xl font-bold text-gray-800"},J={class:"bg-white rounded-xl shadow-lg p-6"},Q={class:"flex items-center justify-between"},q={class:"text-2xl font-bold text-red-600"},K={class:"bg-white rounded-xl shadow-lg p-6"},X={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-green-600"},Z={class:"bg-white rounded-xl shadow-lg p-6"},tt={class:"flex items-center justify-between"},et={class:"text-2xl font-bold text-orange-600"},st={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},at={class:"flex border-b border-gray-200 mb-4"},rt={key:0,class:"overflow-x-auto"},lt={class:"min-w-full divide-y divide-gray-200"},it={class:"bg-white divide-y divide-gray-200"},ot={class:"px-6 py-4 whitespace-nowrap"},nt={class:"text-sm font-medium text-gray-900"},dt={key:0,class:"text-xs text-gray-500"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pt={class:"px-6 py-4 whitespace-nowrap"},mt={key:0,class:"text-xs text-gray-500 mt-1"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600"},gt={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-600"},ft={class:"px-6 py-4 whitespace-nowrap"},bt={key:0,class:"text-xs text-gray-500 mt-1"},ht={class:"px-6 py-4 whitespace-nowrap text-center"},wt={key:0},vt={key:1},_t={class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},kt={class:"flex items-center justify-between"},St={class:"text-lg font-semibold text-gray-900"},Dt={class:"text-sm text-gray-600"},Pt={class:"text-right"},Tt={class:"text-xl font-bold text-red-600"},Ot={class:"overflow-x-auto"},jt={class:"min-w-full divide-y divide-gray-200"},Bt={class:"bg-white divide-y divide-gray-200"},Ct={class:"px-6 py-4 whitespace-nowrap"},At={class:"text-sm font-medium text-gray-900"},Nt={key:0,class:"text-xs text-gray-500"},Rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600"},Ft={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-600"},Ht={class:"px-6 py-4 whitespace-nowrap"},Et={class:"px-6 py-4 whitespace-nowrap text-center"},It={key:0,class:"text-center py-8 text-gray-500"},Xt={__name:"DebtReport",props:{debtData:Array,bySupplier:Array,summary:Object,suppliers:Array,filters:Object},setup(n){var _,k,S,D;const y=n,p=N("byPO"),i=R({supplier_id:((_=y.filters)==null?void 0:_.supplier_id)||"",date_from:((k=y.filters)==null?void 0:k.date_from)||"",date_to:((S=y.filters)==null?void 0:S.date_to)||"",status:((D=y.filters)==null?void 0:D.status)||"all"});function d(m){return m==null?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(m)}function w(m){return m?new Date(m).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function v(){F.get("/debt-report",i,{preserveState:!0,preserveScroll:!0})}function C(){i.supplier_id="",i.date_from="",i.date_to="",i.status="all",v()}function A(){alert("Export feature coming soon")}return(m,e)=>(r(),V(H,{title:"Report Hutang"},{default:h(()=>[t("div",E,[t("div",I,[e[31]||(e[31]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa fa-file-invoice-dollar text-red-500"}),u(" Report Hutang Purchase Order ")]),t("p",{class:"text-gray-600 mt-2"},"Laporan hutang untuk PO yang belum dibayar atau masih ada sisa pembayaran termin")],-1)),t("div",M,[t("form",{onSubmit:L(v,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier",-1)),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.supplier_id=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[6]||(e[6]=t("option",{value:""},"Semua Supplier",-1)),(r(!0),l(f,null,b(n.suppliers,s=>(r(),l("option",{key:s.id,value:s.id},a(s.name),9,U))),128))],512),[[P,i.supplier_id]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Dari Tanggal",-1)),g(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>i.date_from=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[T,i.date_from]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sampai Tanggal",-1)),g(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>i.date_to=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[T,i.date_to]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),g(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>i.status=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},e[10]||(e[10]=[t("option",{value:"all"},"Semua",-1),t("option",{value:"unpaid"},"Belum Dibayar",-1),t("option",{value:"partial"},"Pembayaran Termin (Belum Lunas)",-1)]),512),[[P,i.status]])]),t("div",{class:"md:col-span-4 flex gap-2"},[e[14]||(e[14]=t("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition"},[t("i",{class:"fa fa-filter mr-2"}),u("Filter ")],-1)),t("button",{type:"button",onClick:C,class:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600 transition"},e[12]||(e[12]=[t("i",{class:"fa fa-redo mr-2"},null,-1),u("Reset ")])),t("button",{type:"button",onClick:A,class:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition"},e[13]||(e[13]=[t("i",{class:"fa fa-file-excel mr-2"},null,-1),u("Export Excel ")]))])],32)]),t("div",$,[t("div",G,[t("div",W,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm text-gray-600"},"Total PO",-1)),t("p",z,a(n.summary.total_po),1)]),e[16]||(e[16]=t("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-file-invoice text-blue-600 text-xl"})],-1))])]),t("div",J,[t("div",Q,[t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-600"},"Total Hutang",-1)),t("p",q,a(d(n.summary.total_debt)),1)]),e[18]||(e[18]=t("div",{class:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-money-bill-wave text-red-600 text-xl"})],-1))])]),t("div",K,[t("div",X,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-600"},"Sudah Dibayar",-1)),t("p",Y,a(d(n.summary.total_paid)),1)]),e[20]||(e[20]=t("div",{class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-check-circle text-green-600 text-xl"})],-1))])]),t("div",Z,[t("div",tt,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm text-gray-600"},"Sisa Hutang",-1)),t("p",et,a(d(n.summary.total_remaining)),1)]),e[22]||(e[22]=t("div",{class:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-exclamation-triangle text-orange-600 text-xl"})],-1))])])]),t("div",st,[t("div",at,[t("button",{onClick:e[4]||(e[4]=s=>p.value="byPO"),class:c([p.value==="byPO"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800","px-4 py-2 font-medium transition"])},e[23]||(e[23]=[t("i",{class:"fa fa-file-invoice mr-2"},null,-1),u("Per Purchase Order ")]),2),t("button",{onClick:e[5]||(e[5]=s=>p.value="bySupplier"),class:c([p.value==="bySupplier"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-800","px-4 py-2 font-medium transition"])},e[24]||(e[24]=[t("i",{class:"fa fa-building mr-2"},null,-1),u("Per Supplier ")]),2)]),p.value==="byPO"?(r(),l("div",rt,[t("table",lt,[e[27]||(e[27]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"PO Number"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Metode Pembayaran"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Grand Total"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sudah Dibayar"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sisa"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),t("tbody",it,[(r(!0),l(f,null,b(n.debtData,s=>(r(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",ot,[t("div",nt,a(s.po_number),1),s.source_pr_number?(r(),l("div",dt,"PR: "+a(s.source_pr_number),1)):x("",!0)]),t("td",ut,a(w(s.po_date)),1),t("td",xt,a(s.supplier_name),1),t("td",pt,[t("span",{class:c(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",s.payment_type==="lunas"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"])},[t("i",{class:c(s.payment_type==="lunas"?"fa fa-check-circle mr-1":"fa fa-calendar-alt mr-1")},null,2),u(" "+a(s.payment_type==="lunas"?"Lunas":"Termin"),1)],2),s.payment_type==="termin"&&s.payment_terms?(r(),l("div",mt,a(s.payment_terms),1)):x("",!0)]),t("td",ct,a(d(s.grand_total)),1),t("td",yt,a(d(s.total_paid)),1),t("td",gt,a(d(s.remaining)),1),t("td",ft,[t("span",{class:c(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",s.status==="unpaid"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},a(s.status==="unpaid"?"Belum Dibayar":"Pembayaran Termin"),3),s.payment_count>0?(r(),l("div",bt,a(s.payment_count)+" pembayaran ",1)):x("",!0)]),t("td",ht,[O(j(B),{href:`/po-ops/${s.id}`,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:h(()=>e[25]||(e[25]=[t("i",{class:"fa fa-eye mr-1"},null,-1),u("Detail ")])),_:2},1032,["href"])])]))),128)),n.debtData.length===0?(r(),l("tr",wt,e[26]||(e[26]=[t("td",{colspan:"9",class:"px-6 py-4 text-center text-gray-500"},"Tidak ada data hutang",-1)]))):x("",!0)])])])):x("",!0),p.value==="bySupplier"?(r(),l("div",vt,[(r(!0),l(f,null,b(n.bySupplier,s=>(r(),l("div",{key:s.supplier_id,class:"mb-6 border border-gray-200 rounded-lg overflow-hidden"},[t("div",_t,[t("div",kt,[t("div",null,[t("h3",St,a(s.supplier_name),1),t("p",Dt,a(s.po_count)+" Purchase Order",1)]),t("div",Pt,[e[28]||(e[28]=t("p",{class:"text-sm text-gray-600"},"Total Hutang",-1)),t("p",Tt,a(d(s.total_remaining)),1)])])]),t("div",Ot,[t("table",jt,[e[30]||(e[30]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"PO Number"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Grand Total"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sudah Dibayar"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sisa"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Action")])],-1)),t("tbody",Bt,[(r(!0),l(f,null,b(s.pos,o=>(r(),l("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",Ct,[t("div",At,a(o.po_number),1),o.source_pr_number?(r(),l("div",Nt,"PR: "+a(o.source_pr_number),1)):x("",!0)]),t("td",Rt,a(w(o.po_date)),1),t("td",Vt,a(d(o.grand_total)),1),t("td",Lt,a(d(o.total_paid)),1),t("td",Ft,a(d(o.remaining)),1),t("td",Ht,[t("span",{class:c(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",o.status==="unpaid"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},a(o.status==="unpaid"?"Belum Dibayar":"Pembayaran Termin"),3)]),t("td",Et,[O(j(B),{href:`/po-ops/${o.id}`,class:"text-blue-600 hover:text-blue-800 text-sm font-medium"},{default:h(()=>e[29]||(e[29]=[t("i",{class:"fa fa-eye mr-1"},null,-1),u("Detail ")])),_:2},1032,["href"])])]))),128))])])])]))),128)),n.bySupplier.length===0?(r(),l("div",It," Tidak ada data hutang ")):x("",!0)])):x("",!0)])])])]),_:1}))}};export{Xt as default};
