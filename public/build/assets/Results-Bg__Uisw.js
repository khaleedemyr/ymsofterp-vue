import{c as j,A as D,B as d,C as A,D as t,L as c,E as g,N as a,l as m,G as f,F as h,M as v,W as _}from"./vendor-vue-g7iCcTkf.js";import{A as L}from"./AppLayout-nEB-Gr2i.js";import"./vendor-utils-CpgP2uT4.js";import"./app-YbzOJwkz.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DIps1Q-A.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const N={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8"},R={class:"max-w-4xl mx-auto px-4"},O={class:"bg-white rounded-2xl shadow-xl p-6 mb-6"},Q={class:"text-center"},J={class:"mb-4"},M={class:"text-slate-600"},U={class:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl p-6 text-white mb-6"},V={class:"text-4xl font-bold mb-2"},W={class:"mt-4 text-sm opacity-75"},$={class:"mb-6"},E={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-slate-600"},F={class:"flex items-center justify-center"},H={class:"flex items-center justify-center"},K={class:"flex items-center justify-center"},P={key:0,class:"bg-white rounded-2xl shadow-xl p-6"},T={class:"border border-slate-200 rounded-lg p-4"},G={class:"flex items-start justify-between mb-4"},X={class:"flex-1"},Y={class:"text-lg font-semibold text-slate-800 mb-2"},Z={class:"text-slate-700"},I={class:"ml-4"},tt={class:"space-y-2"},et={class:"flex items-center"},st={class:"text-slate-700"},it={class:"ml-auto flex items-center space-x-2"},nt={key:0,class:"text-green-600 text-sm font-semibold"},rt={key:1,class:"text-blue-600 text-sm font-semibold"},ot={class:"text-center mt-8"},pt={__name:"Results",props:{attempt:Object,quiz:Object,showResults:Boolean},setup(r){const l=r,y=j(()=>l.quiz.max_attempts?l.attempt.attempt_number<l.quiz.max_attempts:!0),k=n=>new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=n=>{if(!n)return"N/A";const e=Math.floor(n/60),s=n%60;return e>0?`${e} jam ${s} menit`:`${s} menit`},b=n=>{var o;const e=l.attempt.answers.find(i=>i.question_id===n);if(!e)return!1;const s=(o=l.quiz.questions.find(i=>i.id===n))==null?void 0:o.options.find(i=>i.is_correct);return e.selected_option_id===(s==null?void 0:s.id)},p=(n,e)=>{const s=l.attempt.answers.find(o=>o.question_id===n);return(s==null?void 0:s.selected_option_id)===e},z=(n,e)=>{var i,x;const s=(x=(i=l.quiz.questions.find(u=>u.id===n))==null?void 0:i.options.find(u=>u.id===e))==null?void 0:x.is_correct,o=p(n,e);return s&&o?"bg-green-50 border-green-300":s?"bg-green-50 border-green-200":o?"bg-red-50 border-red-300":"bg-gray-50 border-gray-200"},q=(n,e)=>{var i,x;const s=(x=(i=l.quiz.questions.find(u=>u.id===n))==null?void 0:i.options.find(u=>u.id===e))==null?void 0:x.is_correct,o=p(n,e);return s&&o?"bg-green-500 text-white":s?"bg-green-200 text-green-800":o?"bg-red-500 text-white":"bg-gray-200 text-gray-600"},C=n=>{const e=l.quiz.questions.find(o=>o.options.some(i=>i.id===n));if(!e)return"?";const s=e.options.findIndex(o=>o.id===n);return String.fromCharCode(65+s)},B=()=>{_.visit(route("home"))},S=()=>{_.visit(route("home"))};return(n,e)=>(d(),D(L,{title:"Quiz Results"},{default:A(()=>[t("div",N,[t("div",R,[t("div",O,[t("div",Q,[t("div",J,[e[0]||(e[0]=t("i",{class:"fas fa-check-circle text-6xl text-green-500 mb-4"},null,-1)),e[1]||(e[1]=t("h1",{class:"text-3xl font-bold text-slate-800 mb-2"},"Quiz Selesai!",-1)),t("p",M,a(r.quiz.title),1)]),t("div",U,[t("div",V,a(r.attempt.score)+"%",1),e[2]||(e[2]=t("div",{class:"text-lg opacity-90"},"Skor Anda",-1)),t("div",W,a(r.attempt.correct_answers)+" dari "+a(r.quiz.questions.length)+" pertanyaan benar ",1)]),t("div",$,[t("div",{class:m(["inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold",r.attempt.score>=r.quiz.passing_score?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("i",{class:m(["fas mr-2",r.attempt.score>=r.quiz.passing_score?"fa-check":"fa-times"])},null,2),f(" "+a(r.attempt.score>=r.quiz.passing_score?"Lulus":"Tidak Lulus")+" (Minimum: "+a(r.quiz.passing_score)+"%) ",1)],2)]),t("div",E,[t("div",F,[e[3]||(e[3]=t("i",{class:"fas fa-clock text-slate-500 mr-2"},null,-1)),t("span",null,"Waktu: "+a(w(r.attempt.duration_minutes)),1)]),t("div",H,[e[4]||(e[4]=t("i",{class:"fas fa-calendar text-slate-500 mr-2"},null,-1)),t("span",null,"Selesai: "+a(k(r.attempt.completed_at)),1)]),t("div",K,[e[5]||(e[5]=t("i",{class:"fas fa-redo text-slate-500 mr-2"},null,-1)),t("span",null,"Percobaan #"+a(r.attempt.attempt_number),1)])])])]),r.showResults?(d(),c("div",P,[e[8]||(e[8]=t("h2",{class:"text-2xl font-bold text-slate-800 mb-6"},"Detail Jawaban",-1)),(d(!0),c(h,null,v(r.quiz.questions,(s,o)=>(d(),c("div",{key:s.id,class:"mb-8"},[t("div",T,[t("div",G,[t("div",X,[t("h3",Y," Pertanyaan "+a(o+1),1),t("p",Z,a(s.question_text),1)]),t("div",I,[t("div",{class:m(["inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold",b(s.id)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("i",{class:m(["fas mr-1",b(s.id)?"fa-check":"fa-times"])},null,2),f(" "+a(b(s.id)?"Benar":"Salah"),1)],2)])]),t("div",tt,[(d(!0),c(h,null,v(s.options,i=>(d(),c("div",{key:i.id,class:m(["p-3 rounded-lg border-2 transition-colors",z(s.id,i.id)])},[t("div",et,[t("div",{class:m(["w-4 h-4 rounded-full mr-3 flex items-center justify-center text-xs font-bold",q(s.id,i.id)])},a(C(i.id)),3),t("span",st,a(i.option_text),1),t("div",it,[i.is_correct?(d(),c("span",nt,e[6]||(e[6]=[t("i",{class:"fas fa-check mr-1"},null,-1),f("Jawaban Benar ")]))):g("",!0),p(s.id,i.id)?(d(),c("span",rt,e[7]||(e[7]=[t("i",{class:"fas fa-user mr-1"},null,-1),f("Jawaban Anda ")]))):g("",!0)])])],2))),128))])])]))),128))])):g("",!0),t("div",ot,[t("button",{onClick:B,class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mr-4"},e[9]||(e[9]=[t("i",{class:"fas fa-home mr-2"},null,-1),f(" Kembali ke Home ")])),y.value?(d(),c("button",{key:0,onClick:S,class:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"},e[10]||(e[10]=[t("i",{class:"fas fa-redo mr-2"},null,-1),f(" Kembali ke Home ")]))):g("",!0)])])])]),_:1}))}};export{pt as default};
