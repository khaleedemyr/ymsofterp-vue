import{r as m,a as u,w as p,L as f,B as b,D as r,N as i}from"./vendor-vue-g7iCcTkf.js";import"./vendor-utils-CpgP2uT4.js";const h={class:"mt-4 grid grid-cols-2 gap-4 text-center"},g={class:"bg-purple-50 rounded-lg p-3"},x={class:"text-lg font-bold text-purple-800"},y={class:"bg-blue-50 rounded-lg p-3"},M={class:"text-lg font-bold text-blue-800"},w={__name:"CrmGrowthChart",props:{data:Array},setup(o){const a=o,s=m(null);let n=null;u(()=>{if(typeof ApexCharts<"u")l();else{const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/apexcharts",t.onload=l,document.head.appendChild(t)}}),p(()=>a.data,()=>{n&&a.data&&n.updateSeries([{name:"Member Baru",data:a.data.map(t=>t.newMembers)},{name:"Total Member",data:a.data.map(t=>t.totalMembers)}])},{deep:!0});function l(){if(!a.data||!s.value)return;const t={series:[{name:"Member Baru",data:a.data.map(e=>e.newMembers)},{name:"Total Member",data:a.data.map(e=>e.totalMembers)}],chart:{type:"line",height:350,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},colors:["#8b5cf6","#3b82f6"],stroke:{curve:"smooth",width:[2,3]},grid:{borderColor:"#e2e8f0",strokeDashArray:4},xaxis:{categories:a.data.map(e=>e.month),labels:{style:{colors:"#6b7280",fontSize:"12px"}}},yaxis:[{title:{text:"Member Baru",style:{color:"#8b5cf6",fontSize:"14px",fontWeight:600}},labels:{style:{colors:"#6b7280",fontSize:"12px"},formatter:function(e){return e.toLocaleString("id-ID")}}},{opposite:!0,title:{text:"Total Member",style:{color:"#3b82f6",fontSize:"14px",fontWeight:600}},labels:{style:{colors:"#6b7280",fontSize:"12px"},formatter:function(e){return e.toLocaleString("id-ID")}}}],tooltip:{shared:!0,intersect:!1,y:{formatter:function(e){return e.toLocaleString("id-ID")}}},legend:{position:"top",horizontalAlign:"right",fontSize:"14px",markers:{radius:12}},dataLabels:{enabled:!1},markers:{size:5,hover:{size:7}}};n=new ApexCharts(s.value,t),n.render()}return(t,e)=>(b(),f("div",null,[r("div",{ref_key:"chartContainer",ref:s,class:"w-full h-80"},null,512),r("div",h,[r("div",g,[e[0]||(e[0]=r("p",{class:"text-sm text-purple-600 font-medium"},"Rata-rata Member Baru/Bulan",-1)),r("p",x,i(o.data.length>0?Math.round(o.data.reduce((d,c)=>d+c.newMembers,0)/o.data.length):0),1)]),r("div",y,[e[1]||(e[1]=r("p",{class:"text-sm text-blue-600 font-medium"},"Total Member Saat Ini",-1)),r("p",M,i(o.data.length>0?o.data[o.data.length-1].totalMembers.toLocaleString("id-ID"):0),1)])])]))}};export{w as default};
