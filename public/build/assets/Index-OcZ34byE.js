import{r as y,W as p,w as I,A as O,B as l,C as H,D as t,G as F,l as x,N as o,H as h,L as n,F as m,M as k,I as A,J as K,E as S}from"./vendor-vue-g7iCcTkf.js";import{l as J}from"./lodash-DB3HVzpp.js";import{S as B}from"./app-vFC8Iw15.js";import{A as W}from"./AppLayout-cjLApVXh.js";import{a as Y}from"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-pwkt9lfN.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const z={class:"w-full py-8 px-4"},R={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},X={class:"flex items-center justify-between"},Z={class:"text-2xl font-bold text-gray-900"},_={class:"flex items-center justify-between"},tt={class:"text-2xl font-bold text-gray-900"},et={class:"text-xs text-gray-500"},st={class:"flex items-center justify-between"},at={class:"text-2xl font-bold text-gray-900"},lt={class:"text-xs text-gray-500"},it={class:"mb-4 flex gap-4 flex-wrap"},ot=["value"],nt=["value"],rt={class:"bg-white rounded-2xl shadow-lg overflow-x-auto"},dt={class:"min-w-full divide-y divide-blue-200"},ut={class:"px-4 py-2 whitespace-nowrap font-semibold"},ct={class:"px-4 py-2 whitespace-nowrap"},pt={class:"px-4 py-2 whitespace-nowrap"},xt={class:"flex flex-wrap gap-1"},gt={key:0,class:"text-gray-400 text-xs"},ft={class:"px-4 py-2 whitespace-nowrap text-center"},bt={class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold"},mt={class:"px-4 py-2 whitespace-nowrap text-center"},vt={class:"px-4 py-2 whitespace-nowrap text-center flex gap-2 justify-center"},yt=["onClick"],ht=["onClick"],kt=["onClick","title"],wt={key:0},At={class:"mt-4 flex justify-between items-center"},Ct={class:"text-sm text-gray-600"},St={key:0,class:"inline-flex -space-x-px"},Bt=["onClick","innerHTML"],Gt=["innerHTML"],Qt={__name:"Index",props:{guidances:Object,filters:Object,statistics:Object,categories:Array,departemenOptions:Array},setup(a){var G,N,T,$,j;const r=a;console.log("=== INDEX PAGE DEBUG ==="),console.log("Guidances data:",r.guidances),r.guidances&&r.guidances.data&&r.guidances.data.length>0&&(console.log("First guidance:",r.guidances.data[0]),console.log("First guidance guidance_categories:",r.guidances.data[0].guidance_categories));const v=y(((G=r.filters)==null?void 0:G.search)||""),g=y(((N=r.filters)==null?void 0:N.departemen)||""),f=y(((T=r.filters)==null?void 0:T.category_id)||""),d=y((($=r.filters)==null?void 0:$.status)||"A"),b=y(((j=r.filters)==null?void 0:j.per_page)||15),P=J.debounce(()=>{p.get("/qa-guidances",{search:v.value,departemen:g.value,category_id:f.value,status:d.value,per_page:b.value},{preserveState:!0,replace:!0})},400);function D(){P()}I([g,f,d,b],()=>{p.get("/qa-guidances",{search:v.value,departemen:g.value,category_id:f.value,status:d.value,per_page:b.value},{preserveState:!0,replace:!0})});function E(i){if(i){const e=new URL(i,window.location.origin);e.searchParams.set("search",v.value),e.searchParams.set("departemen",g.value),e.searchParams.set("category_id",f.value),e.searchParams.set("status",d.value),e.searchParams.set("per_page",b.value),p.visit(e.toString(),{preserveState:!0,replace:!0})}}function L(){p.visit("/qa-guidances/create")}function V(i){p.visit(`/qa-guidances/${i.id}/edit`)}function q(i){p.visit(`/qa-guidances/${i.id}`)}async function Q(i){const e=i.status==="A"?"menonaktifkan":"mengaktifkan";if((await B.fire({title:`${i.status==="A"?"Nonaktifkan":"Aktifkan"} QA Guidance?`,text:`Yakin ingin ${e} QA Guidance untuk departemen "${i.departemen}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Ya, ${i.status==="A"?"Nonaktifkan":"Aktifkan"}!`,cancelButtonText:"Batal"})).isConfirmed)try{const u=await Y.patch(route("qa-guidances.toggle-status",i.id));u.data.success&&(B.fire("Berhasil",u.data.message,"success"),U())}catch{B.fire("Error","Gagal mengubah status QA Guidance","error")}}function U(){p.reload({preserveState:!0,replace:!0})}function C(i){d.value=i}return(i,e)=>(l(),O(W,{title:"QA Guidance"},{default:H(()=>[t("div",z,[t("div",{class:"flex justify-between items-center mb-6"},[e[8]||(e[8]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-clipboard-check text-blue-500"}),F(" QA Guidance ")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:L,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Tambah QA Guidance Baru ")])]),t("div",R,[t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",d.value==="all"?"bg-blue-50 border-blue-500 shadow-xl":"bg-white border-blue-500 hover:shadow-xl"]),onClick:e[0]||(e[0]=s=>C("all")),title:"Klik untuk melihat semua guidance"},[t("div",X,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Guidance",-1)),t("p",Z,o(a.statistics.total),1),e[10]||(e[10]=t("p",{class:"text-xs text-gray-500"},"100% dari total",-1))]),e[11]||(e[11]=t("div",{class:"bg-blue-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-clipboard-check text-blue-600 text-xl"})],-1))]),e[12]||(e[12]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",d.value==="A"?"bg-green-50 border-green-500 shadow-xl":"bg-white border-green-500 hover:shadow-xl"]),onClick:e[1]||(e[1]=s=>C("A")),title:"Klik untuk melihat guidance aktif"},[t("div",_,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-gray-600"},"Guidance Aktif",-1)),t("p",tt,o(a.statistics.active),1),t("p",et,o(a.statistics.total>0?Math.round(a.statistics.active/a.statistics.total*100):0)+"% dari total",1)]),e[14]||(e[14]=t("div",{class:"bg-green-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-check-circle text-green-600 text-xl"})],-1))]),e[15]||(e[15]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2),t("div",{class:x(["rounded-xl shadow-lg p-6 border-l-4 cursor-pointer transition-all relative",d.value==="N"?"bg-red-50 border-red-500 shadow-xl":"bg-white border-red-500 hover:shadow-xl"]),onClick:e[2]||(e[2]=s=>C("N")),title:"Klik untuk melihat guidance non-aktif"},[t("div",st,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-600"},"Guidance Non-Aktif",-1)),t("p",at,o(a.statistics.inactive),1),t("p",lt,o(a.statistics.total>0?Math.round(a.statistics.inactive/a.statistics.total*100):0)+"% dari total",1)]),e[17]||(e[17]=t("div",{class:"bg-red-100 p-3 rounded-full"},[t("i",{class:"fa-solid fa-times-circle text-red-600 text-xl"})],-1))]),e[18]||(e[18]=t("div",{class:"absolute top-2 right-2 text-xs text-gray-400"},[t("i",{class:"fa-solid fa-mouse-pointer"})],-1))],2)]),t("div",it,[h(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>g.value=s),class:"form-input rounded-xl"},[e[19]||(e[19]=t("option",{value:""},"Semua Departemen",-1)),(l(!0),n(m,null,k(a.departemenOptions,s=>(l(),n("option",{key:s,value:s},o(s),9,ot))),128))],512),[[A,g.value]]),h(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>f.value=s),class:"form-input rounded-xl"},[e[20]||(e[20]=t("option",{value:""},"Semua Categories",-1)),(l(!0),n(m,null,k(a.categories,s=>(l(),n("option",{key:s.id,value:s.id},o(s.categories),9,nt))),128))],512),[[A,f.value]]),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>d.value=s),class:"form-input rounded-xl"},e[21]||(e[21]=[t("option",{value:"A"},"Aktif",-1),t("option",{value:"N"},"Non-Aktif",-1),t("option",{value:"all"},"Semua Status",-1)]),512),[[A,d.value]]),h(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>b.value=s),class:"form-input rounded-xl"},e[22]||(e[22]=[t("option",{value:"10"},"10 per halaman",-1),t("option",{value:"15"},"15 per halaman",-1),t("option",{value:"25"},"25 per halaman",-1),t("option",{value:"50"},"50 per halaman",-1),t("option",{value:"100"},"100 per halaman",-1)]),512),[[A,b.value]]),h(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>v.value=s),onInput:D,type:"text",placeholder:"Cari Title, Departemen atau Categories...",class:"flex-1 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition min-w-64"},null,544),[[K,v.value]])]),t("div",rt,[t("table",dt,[e[26]||(e[26]=t("thead",{class:"bg-blue-600 text-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Title"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Departemen"),t("th",{class:"px-4 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Categories"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Jumlah Parameter"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Status"),t("th",{class:"px-4 py-3 text-center text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",null,[(l(!0),n(m,null,k(a.guidances.data,s=>{var u;return l(),n("tr",{key:s.id,class:"hover:bg-blue-50 transition"},[t("td",ut,o(s.title),1),t("td",ct,o(s.departemen),1),t("td",pt,[t("div",xt,[(l(!0),n(m,null,k(s.guidance_categories,c=>{var w;return l(),n("span",{key:c.id,class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold"},o((w=c.category)==null?void 0:w.categories),1)}),128)),!s.guidance_categories||s.guidance_categories.length===0?(l(),n("span",gt,"-")):S("",!0)])]),t("td",ft,[t("span",bt,o(((u=s.guidance_categories)==null?void 0:u.reduce((c,w)=>{var M;return c+(((M=w.parameters)==null?void 0:M.length)||0)},0))||0)+" Parameter ",1)]),t("td",mt,[t("span",{class:x(["px-2 py-1 rounded-full text-xs font-semibold",s.status==="A"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(s.status==="A"?"Aktif":"Non-Aktif"),3)]),t("td",vt,[t("button",{onClick:c=>q(s),class:"px-2 py-1 rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition",title:"Detail"},e[23]||(e[23]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,yt),t("button",{onClick:c=>V(s),class:"px-2 py-1 rounded bg-yellow-200 text-yellow-900 hover:bg-yellow-300 transition",title:"Edit"},e[24]||(e[24]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,ht),t("button",{onClick:c=>Q(s),class:x(["px-2 py-1 rounded transition",s.status==="A"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"]),title:s.status==="A"?"Nonaktifkan":"Aktifkan"},[t("i",{class:x(s.status==="A"?"fa-solid fa-times-circle":"fa-solid fa-check-circle")},null,2)],10,kt)])])}),128)),a.guidances.data.length===0?(l(),n("tr",wt,e[25]||(e[25]=[t("td",{colspan:"6",class:"text-center py-8 text-gray-400"},"Tidak ada data QA Guidance",-1)]))):S("",!0)])])]),t("div",At,[t("div",Ct," Menampilkan "+o(a.guidances.from||0)+" - "+o(a.guidances.to||0)+" dari "+o(a.guidances.total||0)+" data ",1),a.guidances.links&&a.guidances.links.length>3?(l(),n("nav",St,[(l(!0),n(m,null,k(a.guidances.links,(s,u)=>(l(),n(m,{key:u},[s.url?(l(),n("button",{key:0,onClick:c=>E(s.url),class:x(["px-3 py-1 border border-gray-300",s.active?"bg-blue-600 text-white":"bg-white text-blue-700 hover:bg-blue-50"]),innerHTML:s.label},null,10,Bt)):(l(),n("span",{key:1,class:"px-3 py-1 border border-gray-200 text-gray-400",innerHTML:s.label},null,8,Gt))],64))),128))])):S("",!0)])])]),_:1}))}};export{Qt as default};
