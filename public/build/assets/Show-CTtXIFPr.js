import{r as R,A as I,B as n,C as d,D as t,L as o,E as g,G as r,N as l,x as u,Q as m,S as x,l as b,F as y,M as h,O as _,W as $}from"./vendor-vue-g7iCcTkf.js";import{S}from"./app-B-3LCfNP.js";import{A as B}from"./AppLayout-CytV2Jsj.js";import{a as N}from"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BWyEbEQC.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const P={class:"max-w-7xl w-full mx-auto py-8 px-2"},Q={class:"mb-6 flex justify-between items-center"},q={class:"text-gray-600 mt-1"},L={class:"flex gap-2"},T={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},E={class:"lg:col-span-2 space-y-6"},F={class:"bg-white rounded-xl shadow-lg p-6"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"text-sm font-semibold text-gray-900 mt-1"},z={class:"text-sm font-semibold text-gray-900 mt-1"},G={class:"text-sm font-semibold text-gray-900 mt-1"},O={key:0,class:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs"},U={key:1,class:"text-gray-400"},K={class:"mt-1"},X={class:"text-sm text-gray-900 mt-1"},H={class:"text-sm text-gray-900 mt-1"},J={class:"text-sm text-gray-900 mt-1"},Y={class:"text-sm text-gray-900 mt-1"},Z={key:0,class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs"},tt={key:1,class:"text-gray-400"},et={class:"bg-white rounded-xl shadow-lg p-6"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lt={class:"text-sm text-gray-900 mt-1"},at={class:"text-sm font-semibold text-gray-900 mt-1"},nt={class:"text-sm text-gray-900 mt-1"},ot={class:"text-sm text-gray-900 mt-1"},it={class:"text-sm text-gray-900 mt-1"},dt={key:0,class:"bg-white rounded-xl shadow-lg p-6"},rt={class:"grid grid-cols-4 gap-4"},ut=["src","onClick"],mt={key:1,class:"bg-white rounded-xl shadow-lg p-6"},xt={class:"text-sm text-gray-700 whitespace-pre-line"},gt={key:2,class:"bg-white rounded-xl shadow-lg p-6"},ct={class:"space-y-3"},ft={class:"flex justify-between items-center"},bt={class:"text-sm font-medium text-gray-900"},yt={class:"text-xs text-gray-500 mt-1"},ht={key:3,class:"bg-white rounded-xl shadow-lg p-6"},pt={class:"space-y-3"},vt={class:"flex justify-between items-center"},wt={class:"text-sm font-medium text-gray-900"},kt={class:"text-xs text-gray-500 mt-1"},Ct={class:"space-y-6"},Dt={class:"bg-white rounded-xl shadow-lg p-6"},Rt={key:0,class:"flex justify-center"},St=["src"],Mt={key:1,class:"text-center text-gray-500 py-8"},jt={class:"bg-white rounded-xl shadow-lg p-6"},At={class:"space-y-2"},It={key:0,class:"bg-white rounded-xl shadow-lg p-6"},_t={class:"space-y-3"},$t={class:"flex justify-between items-center"},Bt={class:"text-sm font-medium text-gray-900"},Nt={class:"text-xs text-gray-500 mt-1"},Pt={class:"relative max-w-4xl max-h-[90vh] w-full h-full flex items-center justify-center"},Qt=["src"],Ut={__name:"Show",props:{asset:Object},setup(s){const M=s,p=R(!1),v=R("");function C(i){return i==null||i===void 0?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i)}function c(i){return i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function w(i){return{Active:"bg-green-100 text-green-800",Maintenance:"bg-yellow-100 text-yellow-800",Disposed:"bg-red-100 text-red-800",Lost:"bg-gray-100 text-gray-800",Transfer:"bg-blue-100 text-blue-800",Pending:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Completed:"bg-blue-100 text-blue-800",Rejected:"bg-red-100 text-red-800",Scheduled:"bg-gray-100 text-gray-800","In Progress":"bg-yellow-100 text-yellow-800",Cancelled:"bg-red-100 text-red-800"}[i]||"bg-gray-100 text-gray-800"}function j(i){v.value=i,p.value=!0}function D(){p.value=!1,v.value=""}async function A(){var i;try{(i=(await N.post(`/asset-management/assets/${M.asset.id}/generate-qr-code`,{},{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).data)!=null&&i.success&&(S.fire("Berhasil","QR Code berhasil di-generate","success"),$.reload())}catch{S.fire("Error","Gagal generate QR Code","error")}}return(i,e)=>(n(),I(B,null,{default:d(()=>[t("div",P,[t("div",Q,[t("div",null,[e[1]||(e[1]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-box text-blue-500"}),r(" Asset Detail ")],-1)),t("p",q,l(s.asset.asset_code),1)]),t("div",L,[u(m(x),{href:`/asset-management/assets/${s.asset.id}/edit`,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2"},{default:d(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-edit"},null,-1),r(" Edit ")])),_:1},8,["href"]),u(m(x),{href:"/asset-management/assets",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:d(()=>e[3]||(e[3]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),r(" Kembali ")])),_:1})])]),t("div",T,[t("div",E,[t("div",F,[e[12]||(e[12]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Basic Information",-1)),t("div",V,[t("div",null,[e[4]||(e[4]=t("label",{class:"text-sm font-medium text-gray-500"},"Asset Code",-1)),t("p",W,l(s.asset.asset_code),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"text-sm font-medium text-gray-500"},"Nama",-1)),t("p",z,l(s.asset.name),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-500"},"Kategori",-1)),t("p",G,[s.asset.category?(n(),o("span",O,l(s.asset.category.name),1)):(n(),o("span",U,"-"))])]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("p",K,[t("span",{class:b([w(s.asset.status),"px-2 py-1 rounded-full text-xs font-medium"])},l(s.asset.status),3)])]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-500"},"Brand",-1)),t("p",X,l(s.asset.brand||"-"),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm font-medium text-gray-500"},"Model",-1)),t("p",H,l(s.asset.model||"-"),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"text-sm font-medium text-gray-500"},"Serial Number",-1)),t("p",J,l(s.asset.serial_number||"-"),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-sm font-medium text-gray-500"},"Outlet",-1)),t("p",Y,[s.asset.current_outlet?(n(),o("span",Z,l(s.asset.current_outlet.name),1)):(n(),o("span",tt,"Tidak Terikat"))])])])]),t("div",et,[e[18]||(e[18]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Purchase Information",-1)),t("div",st,[t("div",null,[e[13]||(e[13]=t("label",{class:"text-sm font-medium text-gray-500"},"Purchase Date",-1)),t("p",lt,l(c(s.asset.purchase_date)),1)]),t("div",null,[e[14]||(e[14]=t("label",{class:"text-sm font-medium text-gray-500"},"Purchase Price",-1)),t("p",at,l(C(s.asset.purchase_price)),1)]),t("div",null,[e[15]||(e[15]=t("label",{class:"text-sm font-medium text-gray-500"},"Supplier",-1)),t("p",nt,l(s.asset.supplier||"-"),1)]),t("div",null,[e[16]||(e[16]=t("label",{class:"text-sm font-medium text-gray-500"},"Useful Life",-1)),t("p",ot,l(s.asset.useful_life?s.asset.useful_life+" tahun":"-"),1)]),t("div",null,[e[17]||(e[17]=t("label",{class:"text-sm font-medium text-gray-500"},"Warranty Expiry Date",-1)),t("p",it,l(c(s.asset.warranty_expiry_date)),1)])])]),s.asset.photos&&s.asset.photos.length>0?(n(),o("div",dt,[e[19]||(e[19]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Photos",-1)),t("div",rt,[(n(!0),o(y,null,h(s.asset.photos,(a,f)=>(n(),o("div",{key:f,class:"relative"},[t("img",{src:`/storage/${a}`,alt:"Photo",class:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:k=>j(`/storage/${a}`)},null,8,ut)]))),128))])])):g("",!0),s.asset.description?(n(),o("div",mt,[e[20]||(e[20]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Description",-1)),t("p",xt,l(s.asset.description),1)])):g("",!0),s.asset.transfers&&s.asset.transfers.length>0?(n(),o("div",gt,[e[21]||(e[21]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Recent Transfers",-1)),t("div",ct,[(n(!0),o(y,null,h(s.asset.transfers,a=>{var f,k;return n(),o("div",{key:a.id,class:"border-b border-gray-200 pb-3 last:border-b-0"},[t("div",ft,[t("div",null,[t("p",bt,l((f=a.from_outlet)==null?void 0:f.name)+" â†’ "+l((k=a.to_outlet)==null?void 0:k.name),1),t("p",yt,l(c(a.transfer_date)),1)]),t("span",{class:b([w(a.status),"px-2 py-1 rounded-full text-xs font-medium"])},l(a.status),3)])])}),128))])])):g("",!0),s.asset.maintenances&&s.asset.maintenances.length>0?(n(),o("div",ht,[e[22]||(e[22]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Recent Maintenances",-1)),t("div",pt,[(n(!0),o(y,null,h(s.asset.maintenances,a=>(n(),o("div",{key:a.id,class:"border-b border-gray-200 pb-3 last:border-b-0"},[t("div",vt,[t("div",null,[t("p",wt,l(a.maintenance_type),1),t("p",kt,l(c(a.maintenance_date))+" - "+l(C(a.cost)),1)]),t("span",{class:b([w(a.status),"px-2 py-1 rounded-full text-xs font-medium"])},l(a.status),3)])]))),128))])])):g("",!0)]),t("div",Ct,[t("div",Dt,[e[25]||(e[25]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"QR Code",-1)),s.asset.qr_code_image?(n(),o("div",Rt,[t("img",{src:`/storage/${s.asset.qr_code_image}`,alt:"QR Code",class:"w-48 h-48"},null,8,St)])):(n(),o("div",Mt,[e[23]||(e[23]=t("i",{class:"fa-solid fa-qrcode text-4xl mb-2"},null,-1)),e[24]||(e[24]=t("p",{class:"text-sm"},"QR Code belum di-generate",-1)),t("button",{onClick:A,class:"mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm"}," Generate QR Code ")]))]),t("div",jt,[e[31]||(e[31]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Quick Actions",-1)),t("div",At,[u(m(x),{href:`/asset-management/transfers/create?asset_id=${s.asset.id}`,class:"block w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-center text-sm"},{default:d(()=>e[26]||(e[26]=[t("i",{class:"fa-solid fa-exchange-alt"},null,-1),r(" Transfer Asset ")])),_:1},8,["href"]),u(m(x),{href:`/asset-management/maintenance-schedules/create?asset_id=${s.asset.id}`,class:"block w-full px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg text-center text-sm"},{default:d(()=>e[27]||(e[27]=[t("i",{class:"fa-solid fa-tools"},null,-1),r(" Schedule Maintenance ")])),_:1},8,["href"]),u(m(x),{href:`/asset-management/maintenances/create?asset_id=${s.asset.id}`,class:"block w-full px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-center text-sm"},{default:d(()=>e[28]||(e[28]=[t("i",{class:"fa-solid fa-wrench"},null,-1),r(" Record Maintenance ")])),_:1},8,["href"]),u(m(x),{href:`/asset-management/disposals/create?asset_id=${s.asset.id}`,class:"block w-full px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-center text-sm"},{default:d(()=>e[29]||(e[29]=[t("i",{class:"fa-solid fa-trash"},null,-1),r(" Request Disposal ")])),_:1},8,["href"]),u(m(x),{href:`/asset-management/documents/create?asset_id=${s.asset.id}`,class:"block w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-center text-sm"},{default:d(()=>e[30]||(e[30]=[t("i",{class:"fa-solid fa-file-upload"},null,-1),r(" Upload Document ")])),_:1},8,["href"])])]),s.asset.maintenance_schedules&&s.asset.maintenance_schedules.length>0?(n(),o("div",It,[e[32]||(e[32]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Maintenance Schedules",-1)),t("div",_t,[(n(!0),o(y,null,h(s.asset.maintenance_schedules,a=>(n(),o("div",{key:a.id,class:"border-b border-gray-200 pb-3 last:border-b-0"},[t("div",$t,[t("div",null,[t("p",Bt,l(a.maintenance_type),1),t("p",Nt,l(a.frequency)+" - Next: "+l(c(a.next_maintenance_date)),1)]),t("span",{class:b([a.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 rounded-full text-xs font-medium"])},l(a.is_active?"Active":"Inactive"),3)])]))),128))])])):g("",!0)])]),p.value?(n(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:D},[t("div",Pt,[t("button",{onClick:D,class:"absolute top-4 right-4 text-white hover:text-gray-300 text-3xl z-10"},e[33]||(e[33]=[t("i",{class:"fas fa-times"},null,-1)])),t("img",{src:v.value,alt:"Photo",class:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",onClick:e[0]||(e[0]=_(()=>{},["stop"]))},null,8,Qt)])])):g("",!0)])]),_:1}))}};export{Ut as default};
