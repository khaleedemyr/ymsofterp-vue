import{r as b,a as Z,j as ee,L as u,B as d,D as t,G as k,c as D,w as J,A as Q,C as ke,E as x,N as f,l as I,Y as he,F as T,M as $,O as we,H as w,a6 as j,J as X,I as L,W as z}from"./vendor-vue-g7iCcTkf.js";import{S as _}from"./app-vFC8Iw15.js";import{A as Ce}from"./AppLayout-cjLApVXh.js";import{a as S}from"./vendor-utils-CpgP2uT4.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-pwkt9lfN.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const Re={class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60"},Ae={class:"bg-white w-full h-full sm:h-auto sm:max-h-[90vh] sm:max-w-xl sm:rounded-2xl shadow-2xl relative flex flex-col"},De={class:"flex-shrink-0 p-4 border-b border-gray-200 bg-gray-50 sm:bg-white sm:rounded-t-2xl"},Se={class:"flex items-center justify-between"},Te={class:"flex-1 flex flex-col min-h-0 p-4"},$e={class:"relative bg-black rounded-lg overflow-hidden mb-4 flex-1 min-h-0"},Be={class:"flex-shrink-0 space-y-3"},Ee={class:"flex gap-3"},Ie={__name:"DailyReportCameraModal",emits:["close","capture"],setup(C,{emit:r}){const R=r,m=b(null);let n=null;const i=b("environment");async function g(v=null){try{n&&n.getTracks().forEach(p=>p.stop());const c={video:{facingMode:v||i.value,width:{ideal:1280},height:{ideal:720}}};try{n=await navigator.mediaDevices.getUserMedia(c)}catch{console.log("Trying fallback camera..."),i.value=i.value==="user"?"environment":"user",n=await navigator.mediaDevices.getUserMedia({video:{facingMode:i.value,width:{ideal:1280},height:{ideal:720}}})}m.value&&(m.value.srcObject=n,m.value.onloadedmetadata=()=>{console.log("Video ready:",m.value.videoWidth,"x",m.value.videoHeight)})}catch(c){console.error("Error accessing camera:",c),alert("Tidak dapat mengakses kamera. Pastikan Anda memberikan izin akses kamera.")}}async function B(){i.value=i.value==="user"?"environment":"user",await g()}Z(async()=>{await g()}),ee(()=>{n&&n.getTracks().forEach(v=>v.stop())});function h(){if(!m.value||!n){alert("Kamera belum siap. Silakan tunggu sebentar.");return}try{const v=document.createElement("canvas");v.width=m.value.videoWidth,v.height=m.value.videoHeight,v.getContext("2d").drawImage(m.value,0,0);const p=v.toDataURL("image/jpeg",.9);R("capture",p)}catch(v){console.error("Error capturing photo:",v),alert("Gagal mengambil foto. Silakan coba lagi.")}}return(v,c)=>(d(),u("div",Re,[t("div",Ae,[t("div",De,[t("div",Se,[c[3]||(c[3]=t("h2",{class:"text-lg font-bold text-gray-900"}," Ambil Foto Dokumentasi ",-1)),t("button",{onClick:c[0]||(c[0]=p=>v.$emit("close")),class:"p-2 text-gray-400 hover:text-red-500 rounded-full hover:bg-gray-100 transition-colors"},c[2]||(c[2]=[t("i",{class:"fas fa-times text-xl"},null,-1)]))])]),t("div",Te,[t("div",$e,[t("video",{ref_key:"video",ref:m,autoplay:"",playsinline:"",class:"w-full h-full object-cover aspect-[4/3]"},null,512),t("button",{onClick:B,class:"absolute top-3 right-3 p-3 bg-black/60 hover:bg-black/80 text-white rounded-full transition-all shadow-lg",title:"Switch Kamera"},c[4]||(c[4]=[t("i",{class:"fas fa-camera-rotate text-lg"},null,-1)]))]),t("div",Be,[t("div",Ee,[t("button",{onClick:c[1]||(c[1]=p=>v.$emit("close")),class:"flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium"}," Batal "),t("button",{onClick:h,class:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-lg"},c[5]||(c[5]=[t("i",{class:"fas fa-camera mr-2"},null,-1),k(" Capture ")]))]),c[6]||(c[6]=t("div",{class:"text-center text-xs text-gray-500 px-2"},[t("p",null,"Posisikan kamera dan tekan Capture")],-1))])])])]))}},Me=te(Ie,[["__scopeId","data-v-c829edf4"]]),Ge={class:"inspection-container"},Pe={key:0,class:"mobile-header"},Ue={class:"progress-indicator"},Ne={class:"sidebar-header"},Fe={class:"progress-bar"},Ve={class:"progress-text"},je={class:"area-list"},Le=["onClick"],ze={class:"area-info"},We={class:"area-name"},Oe={key:0,class:"area-dept-concern"},He={class:"area-status"},Ke={class:"main-content"},Ye={key:0,class:"no-area-selected"},qe={key:1,class:"inspection-form"},Je={class:"area-header"},Qe={class:"area-title"},Xe={class:"area-meta"},Ze={class:"area-department"},et={class:"form-section"},tt={class:"radio-group"},at={class:"radio-item"},st={class:"radio-item"},it={class:"radio-item"},ot={class:"form-section"},rt={class:"form-section"},nt=["value"],lt={key:0,class:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ut=["value"],ct=["value"],pt={key:0,class:"mb-4"},vt={key:1,class:"mb-4"},ft={class:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg"},mt=["onClick"],gt={class:"flex items-center justify-between"},yt={class:"font-medium text-sm"},_t={class:"text-xs text-gray-500 ml-2"},bt={class:"text-xs text-gray-500 mt-1"},xt={class:"form-section"},kt={class:"documentation-actions"},ht={key:0,class:"photo-grid"},wt=["src","alt"],Ct=["onClick"],Rt={class:"form-actions"},At=["disabled"],Dt=["disabled"],St=["disabled"],Tt={key:0,class:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"},$t={key:1,class:"fa-solid fa-save"},Bt=["disabled"],Et={key:0,class:"complete-section"},It={__name:"Inspect",props:{dailyReport:Object,areas:Array,divisions:Array,categories:Array,priorities:Array},setup(C){const r=C,R=b(window.innerWidth<=768),m=b(!1),n=b(null),i=b({status:"",finding_problem:"",dept_concern_id:"",documentation:[]}),g=b(!1),B=b(null),h=b(!1),v=b(!1),c=b([]),p=b({title:"",description:"",category_id:"",priority_id:"",divisi_id:"",due_date:""}),M=D(()=>r.areas.find(s=>s.id===n.value)),W=D(()=>M.value?c.value.filter(s=>{var o,l;const e=M.value.nama_area.toLowerCase();return s.title.toLowerCase().includes(e)&&((o=s.status)==null?void 0:o.slug)!=="closed"&&((l=s.status)==null?void 0:l.slug)!=="cancelled"}):[]),ae=D(()=>i.value.status&&i.value.status.trim()!=="");D(()=>r.dailyReport.progress.find(s=>s.area_id===n.value));const P=D(()=>!r.dailyReport||!r.dailyReport.report_areas?0:r.dailyReport.report_areas.length),G=D(()=>!r.dailyReport||!r.dailyReport.progress?0:r.dailyReport.progress.length),O=D(()=>G.value>0?Math.round(P.value/G.value*100):0);function H(){m.value=!m.value}function U(s){N(s)}function N(s){var a;n.value&&h.value&&Y(),n.value=s;const e=(a=r.dailyReport.report_areas)==null?void 0:a.find(o=>o.area_id===s);if(e)i.value={status:e.status||"",finding_problem:e.finding_problem||"",dept_concern_id:e.dept_concern_id||"",documentation:e.documentation||[]};else{const o=r.dailyReport.progress.find(l=>l.area_id===s);o&&o.form_data?i.value={status:o.form_data.status||"",finding_problem:o.form_data.finding_problem||"",dept_concern_id:o.form_data.dept_concern_id||"",documentation:o.form_data.documentation||[]}:i.value={status:"",finding_problem:"",dept_concern_id:"",documentation:[]}}h.value=!1,R.value&&(m.value=!1)}function se(s){var a;const e=(a=r.dailyReport.report_areas)==null?void 0:a.find(o=>o.area_id===s);return s===n.value?e?"active-completed":"active":e?"completed":"pending"}function ie(){const s=r.dailyReport.progress.findIndex(e=>e.area_id===n.value);if(s<r.dailyReport.progress.length-1){const e=r.dailyReport.progress[s+1];U(e.area_id)}else _.fire("Selesai!","Semua area telah diinspeksi. Silakan selesaikan laporan.","info")}function oe(){const s=r.dailyReport.progress.findIndex(e=>e.area_id===n.value);if(s>0){const e=r.dailyReport.progress[s-1];U(e.area_id)}}function re(s){const e=r.dailyReport.progress.find(a=>a.area_id===s);if(!e)return"fa-clock text-gray-400";switch(e.progress_status){case"completed":return"fa-check-circle text-green-500";case"in_progress":return"fa-spinner text-blue-500";case"skipped":return"fa-forward text-yellow-500";default:return"fa-clock text-gray-400"}}function F(s){var a;const e=(a=r.dailyReport.report_areas)==null?void 0:a.find(o=>o.area_id===s);if(!e||!e.status)return null;switch(e.status){case"G":return{text:"Good",class:"bg-green-100 text-green-800 border-green-300"};case"NG":return{text:"NG",class:"bg-red-100 text-red-800 border-red-300"};case"NA":return{text:"NA",class:"bg-gray-100 text-gray-800 border-gray-300"};default:return null}}function K(s){var o;const e=(o=r.dailyReport.report_areas)==null?void 0:o.find(l=>l.area_id===s);if(!e||!e.dept_concern_id||!r.divisions||!Array.isArray(r.divisions))return null;const a=r.divisions.find(l=>l.id==e.dept_concern_id);return a?a.nama_divisi:null}async function Y(){if(!(!n.value||!h.value))try{await S.post(`/daily-report/${r.dailyReport.id}/auto-save`,{area_id:n.value,...i.value})}catch(s){console.error("Auto save failed:",s)}}async function ne(){var s,e,a,o;if(n.value){g.value=!0;try{const l={area_id:n.value,...i.value};i.value.dept_concern_id&&p.value.category_id&&p.value.priority_id&&(l.create_ticket=!0,l.ticket_data={...p.value,title:`${(s=M.value)==null?void 0:s.nama_area} - ${i.value.finding_problem.substring(0,50)}...`,description:i.value.finding_problem,divisi_id:i.value.dept_concern_id});const y=await S.post(`/daily-report/${r.dailyReport.id}/save-area`,l);if(y.data.success){h.value=!1;const A=(e=r.dailyReport.report_areas)==null?void 0:e.findIndex(xe=>xe.area_id===n.value);A!==void 0&&A>=0?r.dailyReport.report_areas[A]={...r.dailyReport.report_areas[A],status:i.value.status,finding_problem:i.value.finding_problem,dept_concern_id:i.value.dept_concern_id,documentation:i.value.documentation}:(r.dailyReport.report_areas||(r.dailyReport.report_areas=[]),r.dailyReport.report_areas.push({area_id:n.value,status:i.value.status,finding_problem:i.value.finding_problem,dept_concern_id:i.value.dept_concern_id,documentation:i.value.documentation}));let E=y.data.message||"Area berhasil disimpan";i.value.dept_concern_id&&y.data.ticket_created&&(E+=`

Ticket berhasil dibuat dan notifikasi dikirim ke divisi terkait.`),_.fire("Berhasil!",E,"success"),i.value.dept_concern_id&&y.data.ticket_created&&(p.value={title:"",description:"",category_id:"",priority_id:"",divisi_id:"",due_date:""},await V())}else _.fire("Error!",y.data.message||"Gagal menyimpan area","error")}catch(l){_.fire("Error",((o=(a=l.response)==null?void 0:a.data)==null?void 0:o.message)||"Gagal menyimpan area","error")}finally{g.value=!1}}}async function le(){var e,a;if(!(!n.value||!(await _.fire({title:"Skip Area?",text:"Apakah Anda yakin ingin melewatkan area ini?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Skip",cancelButtonText:"Batal"})).isConfirmed)){g.value=!0;try{if((await S.post(`/daily-report/${r.dailyReport.id}/skip-area`,{area_id:n.value})).data.success){if(r.dailyReport.report_areas){const l=r.dailyReport.report_areas.findIndex(y=>y.area_id===n.value);l>=0&&r.dailyReport.report_areas.splice(l,1)}i.value={status:"",finding_problem:"",dept_concern_id:"",documentation:[]},h.value=!1,_.fire("Berhasil!","Area berhasil dilewati","success")}}catch(o){_.fire("Error",((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||"Gagal skip area","error")}finally{g.value=!1}}}function de(){v.value=!0}async function ue(s){var o,l;const e=s.target.files[0];if(!e)return;if(i.value.documentation.length>=5){_.fire("Error","Maksimal 5 file per area","error");return}const a=new FormData;a.append("file",e);try{const y=await S.post("/daily-report/upload-documentation",a,{headers:{"Content-Type":"multipart/form-data"}});y.data.success&&i.value.documentation.push(y.data.data.url)}catch(y){_.fire("Error",((l=(o=y.response)==null?void 0:o.data)==null?void 0:l.message)||"Gagal upload file","error")}}function ce(s){i.value.documentation.splice(s,1)}function q(){v.value=!1}async function pe(s){var e,a;if(i.value.documentation.length>=5){_.fire("Error","Maksimal 5 file per area","error");return}try{const l=await(await fetch(s)).blob(),y=new File([l],`photo_${Date.now()}.jpg`,{type:"image/jpeg"}),A=new FormData;A.append("file",y);const E=await S.post("/daily-report/upload-documentation",A,{headers:{"Content-Type":"multipart/form-data"}});E.data.success&&(i.value.documentation.push(E.data.data.url),_.fire("Berhasil","Foto berhasil diambil dan diunggah","success"))}catch(o){_.fire("Error",((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||"Gagal upload foto","error")}q()}async function ve(){var e,a;if((await _.fire({title:"Selesaikan Report?",text:"Apakah Anda yakin ingin menyelesaikan daily report ini?",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Selesaikan",cancelButtonText:"Batal"})).isConfirmed){g.value=!0;try{const o=await S.post(`/daily-report/${r.dailyReport.id}/complete`);o.data.success&&(_.fire("Berhasil",o.data.message,"success"),o.data.redirect_to?z.visit(o.data.redirect_to):z.visit("/daily-report"))}catch(o){_.fire("Error",((a=(e=o.response)==null?void 0:e.data)==null?void 0:a.message)||"Gagal menyelesaikan report","error")}finally{g.value=!1}}}function fe(){z.visit("/daily-report")}async function me(){console.log("Division concern changed:",i.value.dept_concern_id),i.value.dept_concern_id&&i.value.finding_problem&&(console.log("Loading existing tickets..."),await V())}async function V(){try{const s=await S.get(`/tickets/by-area/${n.value}`,{params:{outlet_id:r.dailyReport.outlet_id}});c.value=s.data.tickets||[]}catch(s){console.error("Error loading existing tickets:",s),c.value=[]}}function ge(){}function ye(){if(p.value.priority_id){const s=r.priorities.find(e=>e.id==p.value.priority_id);if(s&&s.max_days){const e=new Date;e.setDate(e.getDate()+s.max_days),p.value.due_date=e.toISOString().slice(0,10)}}}function _e(s){window.open(`/tickets/${s}`,"_blank")}function be(s){return{open:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",pending:"bg-orange-100 text-orange-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}return J(i,()=>{h.value=!0},{deep:!0}),J(()=>i.value.finding_problem,async s=>{s&&i.value.dept_concern_id&&await V()}),Z(()=>{var s,e,a;if(console.log("Daily Report Data:",r.dailyReport),console.log("Progress Data:",(s=r.dailyReport)==null?void 0:s.progress),console.log("Areas Data:",r.areas),console.log("Categories Data:",r.categories),console.log("Priorities Data:",r.priorities),!n.value&&((a=(e=r.dailyReport)==null?void 0:e.progress)==null?void 0:a.length)>0){const o=r.dailyReport.progress.find(l=>l.progress_status==="pending");N(o?o.area_id:r.dailyReport.progress[0].area_id)}B.value=setInterval(Y,3e4),window.addEventListener("resize",()=>{R.value=window.innerWidth<=768})}),ee(()=>{B.value&&clearInterval(B.value),window.removeEventListener("resize",()=>{R.value=window.innerWidth<=768})}),(s,e)=>(d(),Q(Ce,{title:"Daily Report Inspection"},{default:ke(()=>[t("div",Ge,[R.value?(d(),u("div",Pe,[t("button",{onClick:H,class:"menu-btn"},e[8]||(e[8]=[t("i",{class:"fa-solid fa-bars"},null,-1)])),e[9]||(e[9]=t("h1",null,"Daily Inspection",-1)),t("div",Ue,f(P.value)+"/"+f(G.value),1)])):x("",!0),t("div",{class:I(["sidebar",{open:m.value}])},[t("div",Ne,[e[11]||(e[11]=t("h3",null,"Area List",-1)),R.value?(d(),u("button",{key:0,onClick:H,class:"close-btn"},e[10]||(e[10]=[t("i",{class:"fa-solid fa-times"},null,-1)]))):x("",!0)]),t("div",Fe,[t("div",{class:"progress-fill",style:he({width:O.value+"%"})},null,4)]),t("div",Ve,f(O.value)+"% Complete",1),t("div",je,[(d(!0),u(T,null,$(C.dailyReport.progress,a=>(d(),u("div",{key:a.area_id,onClick:o=>U(a.area_id),class:I(["area-item",[se(a.area_id),{active:n.value===a.area_id}]])},[e[13]||(e[13]=t("div",{class:"area-icon"},[t("i",{class:"fa-solid fa-map-marker-alt"})],-1)),t("div",ze,[t("div",We,f(a.area.nama_area),1),K(a.area_id)?(d(),u("div",Oe,[e[12]||(e[12]=t("i",{class:"fa-solid fa-exclamation-triangle text-orange-500"},null,-1)),k(" "+f(K(a.area_id)),1)])):x("",!0)]),t("div",He,[F(a.area_id)?(d(),u("div",{key:0,class:I(["status-badge",F(a.area_id).class])},f(F(a.area_id).text),3)):x("",!0),t("i",{class:I(re(a.area_id))},null,2)])],10,Le))),128))])],2),t("div",Ke,[t("div",{class:"back-button-container"},[t("button",{onClick:fe,class:"back-button"},e[14]||(e[14]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),t("span",null,"Back to Daily Reports",-1)]))]),n.value?(d(),u("div",qe,[t("div",Je,[t("h2",Qe,f(M.value.nama_area),1),t("div",Xe,[t("span",Ze,f(C.dailyReport.department.nama_departemen),1)])]),t("form",{onSubmit:we(ne,["prevent"])},[t("div",et,[e[22]||(e[22]=t("h3",null,"Status",-1)),t("div",tt,[t("label",at,[w(t("input",{type:"radio","onUpdate:modelValue":e[0]||(e[0]=a=>i.value.status=a),value:"G"},null,512),[[j,i.value.status]]),e[16]||(e[16]=t("span",{class:"radio-custom"},null,-1)),e[17]||(e[17]=t("span",{class:"radio-label"},"Good",-1))]),t("label",st,[w(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=a=>i.value.status=a),value:"NG"},null,512),[[j,i.value.status]]),e[18]||(e[18]=t("span",{class:"radio-custom"},null,-1)),e[19]||(e[19]=t("span",{class:"radio-label"},"Not Good",-1))]),t("label",it,[w(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=a=>i.value.status=a),value:"NA"},null,512),[[j,i.value.status]]),e[20]||(e[20]=t("span",{class:"radio-custom"},null,-1)),e[21]||(e[21]=t("span",{class:"radio-label"},"Not Available",-1))])])]),t("div",ot,[e[23]||(e[23]=t("h3",null,"Finding Problem",-1)),w(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=a=>i.value.finding_problem=a),placeholder:"Describe any issues found...",class:"form-textarea",rows:"4"},null,512),[[X,i.value.finding_problem]])]),t("div",rt,[e[33]||(e[33]=t("h3",null,"Dept. Concern (To be Follow Up)",-1)),w(t("select",{"onUpdate:modelValue":e[4]||(e[4]=a=>i.value.dept_concern_id=a),class:"form-select",onChange:me},[e[24]||(e[24]=t("option",{value:""},"Select Department",-1)),(d(!0),u(T,null,$(C.divisions,a=>(d(),u("option",{key:a.id,value:a.id},f(a.nama_divisi),9,nt))),128))],544),[[L,i.value.dept_concern_id]]),i.value.dept_concern_id&&i.value.finding_problem?(d(),u("div",lt,[e[32]||(e[32]=t("h4",{class:"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-ticket-alt"}),k(" Create Ticket from This Issue ")],-1)),t("div",dt,[t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),w(t("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>p.value.category_id=a),class:"form-select",onChange:ge},[e[25]||(e[25]=t("option",{value:""},"Select Category",-1)),(d(!0),u(T,null,$(C.categories,a=>(d(),u("option",{key:a.id,value:a.id},f(a.name),9,ut))),128))],544),[[L,p.value.category_id]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Priority",-1)),w(t("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>p.value.priority_id=a),class:"form-select",onChange:ye},[e[27]||(e[27]=t("option",{value:""},"Select Priority",-1)),(d(!0),u(T,null,$(C.priorities,a=>(d(),u("option",{key:a.id,value:a.id},f(a.name),9,ct))),128))],544),[[L,p.value.priority_id]])])]),p.value.priority_id?(d(),u("div",pt,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Due Date",-1)),w(t("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>p.value.due_date=a),type:"date",class:"form-input",readonly:""},null,512),[[X,p.value.due_date]]),e[30]||(e[30]=t("p",{class:"text-xs text-gray-500 mt-1"},"Auto-calculated based on priority",-1))])):x("",!0),c.value.length>0?(d(),u("div",vt,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Existing Tickets in This Area",-1)),t("div",ft,[(d(!0),u(T,null,$(W.value,a=>{var o,l;return d(),u("div",{key:a.id,class:"p-2 border-b border-gray-100 hover:bg-gray-50 cursor-pointer",onClick:y=>_e(a.id)},[t("div",gt,[t("div",null,[t("span",yt,f(a.ticket_number),1),t("span",_t,f(a.title),1)]),t("span",{class:I(["text-xs px-2 py-1 rounded-full",be((o=a.status)==null?void 0:o.slug)])},f((l=a.status)==null?void 0:l.name),3)])],8,mt)}),128))]),t("p",bt,f(W.value.length)+" tickets found",1)])):x("",!0)])):x("",!0)]),t("div",xt,[e[37]||(e[37]=t("h3",null,"Documentation (Max 5 files)",-1)),t("div",kt,[t("button",{type:"button",onClick:de,class:"btn btn-camera"},e[34]||(e[34]=[t("i",{class:"fa-solid fa-camera"},null,-1),k(" Camera ")])),e[35]||(e[35]=t("label",{for:"file-input",class:"btn btn-upload"},[t("i",{class:"fa-solid fa-upload"}),k(" Upload ")],-1)),t("input",{id:"file-input",type:"file",accept:"image/*",onChange:ue,class:"hidden"},null,32)]),i.value.documentation.length>0?(d(),u("div",ht,[(d(!0),u(T,null,$(i.value.documentation,(a,o)=>(d(),u("div",{key:o,class:"photo-item"},[t("img",{src:a,alt:`Photo ${o+1}`},null,8,wt),t("button",{type:"button",onClick:l=>ce(o),class:"remove-btn"},e[36]||(e[36]=[t("i",{class:"fa-solid fa-times"},null,-1)]),8,Ct)]))),128))])):x("",!0)]),v.value?(d(),Q(Me,{key:0,onClose:q,onCapture:pe})):x("",!0),t("div",Rt,[t("button",{type:"button",onClick:oe,class:"btn btn-secondary",disabled:g.value},e[38]||(e[38]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),k(" Previous Area ")]),8,At),t("button",{type:"button",onClick:le,class:"btn btn-warning",disabled:g.value}," Skip ",8,Dt),t("button",{type:"submit",class:"btn btn-primary",disabled:g.value||!ae.value},[g.value?(d(),u("div",Tt)):(d(),u("i",$t)),k(" "+f(g.value?"Saving...":"Save"),1)],8,St),t("button",{type:"button",onClick:ie,class:"btn btn-secondary",disabled:g.value},e[39]||(e[39]=[t("i",{class:"fa-solid fa-arrow-right"},null,-1),k(" Next Area ")]),8,Bt)])],32),P.value===G.value?(d(),u("div",Et,[t("button",{onClick:ve,class:"btn btn-success btn-large"},e[40]||(e[40]=[t("i",{class:"fa-solid fa-check-circle"},null,-1),k(" Complete Report ")]))])):x("",!0)])):(d(),u("div",Ye,e[15]||(e[15]=[t("i",{class:"fa-solid fa-map-marker-alt text-6xl text-gray-300 mb-4"},null,-1),t("h2",{class:"text-xl font-semibold text-gray-600 mb-2"},"Pilih Area untuk Di-inspect",-1),t("p",{class:"text-gray-500"},"Klik area di sidebar untuk memulai inspection",-1)])))])])]),_:1}))}},Wt=te(It,[["__scopeId","data-v-97336153"]]);export{Wt as default};
