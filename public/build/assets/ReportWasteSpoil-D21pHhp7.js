import{r as u,w as k,W as m,c as S,A as D,B as l,C as W,D as t,H as c,L as n,F as f,M as g,N as r,I as L,J as y,E as N}from"./vendor-vue-g7iCcTkf.js";import{A as B}from"./AppLayout-BdiuRSin.js";import"./vendor-utils-CpgP2uT4.js";import"./app-xIQ7JztA.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-LiNpoaCg.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const A={class:"w-full min-h-screen py-8 px-2 md:px-6"},C={class:"flex flex-col md:flex-row md:items-center gap-4 mb-4"},V={class:"flex items-center gap-2"},F=["value"],I={class:"flex items-center gap-2"},T={class:"flex items-center gap-2"},U={class:"bg-white rounded-xl shadow-lg overflow-hidden"},M={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},E={class:"bg-white divide-y divide-gray-200"},q={class:"px-6 py-4 whitespace-nowrap text-sm"},H={class:"px-6 py-4 whitespace-nowrap text-sm"},J={class:"px-6 py-4 whitespace-nowrap text-sm"},K={class:"px-6 py-4 whitespace-nowrap text-sm"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-right"},Q={class:"px-6 py-4 whitespace-nowrap text-sm"},R={class:"px-6 py-4 whitespace-nowrap text-sm"},z={key:0},rt={__name:"ReportWasteSpoil",props:{data:Array,warehouses:Array,filters:Object},setup(b){const i=b,o=u(i.filters.warehouse_id||""),d=u(i.filters.from||""),p=u(i.filters.to||"");k([o,d,p],()=>{m.get(route("internal-use-waste.report-waste-spoil"),{warehouse_id:o.value,from:d.value,to:p.value},{preserveState:!0,preserveScroll:!0,replace:!0})});const x=S(()=>{let a=i.data;return o.value&&(a=a.filter(e=>String(e.warehouse_id)===String(o.value))),a});function h(a){return a?new Date(a).toLocaleDateString("id-ID"):"-"}function w(a){return a==null?"-":Number(a)%1===0?Number(a):Number(a).toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2})}function v(a){return a==="spoil"?"Spoil":a==="waste"?"Waste":a}function _(){m.visit(route("internal-use-waste.index"))}return(a,e)=>(l(),D(B,null,{default:W(()=>[t("div",A,[e[9]||(e[9]=t("h1",{class:"text-2xl font-bold mb-6"},"Laporan Spoil & Waste",-1)),t("div",{class:"mb-4 flex justify-end"},[t("button",{onClick:_,class:"btn btn-ghost px-6 py-2 rounded-lg"},"Kembali")]),t("div",C,[t("div",V,[e[4]||(e[4]=t("label",{class:"text-sm"},"Warehouse",-1)),c(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},[e[3]||(e[3]=t("option",{value:""},"Semua Warehouse",-1)),(l(!0),n(f,null,g(i.warehouses,s=>(l(),n("option",{key:s.id,value:s.id},r(s.name),9,F))),128))],512),[[L,o.value]])]),t("div",I,[e[5]||(e[5]=t("label",{class:"text-sm"},"Dari",-1)),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,d.value]])]),t("div",T,[e[6]||(e[6]=t("label",{class:"text-sm"},"Sampai",-1)),c(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,p.value]])])]),t("div",U,[t("div",M,[t("table",j,[e[8]||(e[8]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Warehouse"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Item"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Tipe"),t("th",{class:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider"},"Qty"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Unit"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},"Catatan")])],-1)),t("tbody",E,[(l(!0),n(f,null,g(x.value,s=>(l(),n("tr",{key:s.id,class:"hover:bg-gray-50 transition"},[t("td",q,r(h(s.date)),1),t("td",H,r(s.warehouse_name),1),t("td",J,r(s.item_name),1),t("td",K,r(v(s.type)),1),t("td",O,r(w(s.qty)),1),t("td",Q,r(s.unit_name),1),t("td",R,r(s.notes||"-"),1)]))),128)),x.value.length?N("",!0):(l(),n("tr",z,e[7]||(e[7]=[t("td",{colspan:"7",class:"text-center py-8 text-gray-400"},"Tidak ada data.",-1)])))])])])])])]),_:1}))}};export{rt as default};
