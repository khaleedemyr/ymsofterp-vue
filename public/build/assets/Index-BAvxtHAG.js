import{r as f,A as L,B as s,C as O,D as e,L as l,E as k,G as i,H as x,F as w,M as y,N as n,I as S,l as U,O as m,J as V,V as E,W as g}from"./vendor-vue-g7iCcTkf.js";import{A as P}from"./AppLayout-C6QNM8cp.js";import{S as C}from"./app-D-uxhaxN.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-cFrDwyHJ.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const T={class:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50"},I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 -mt-6"},z={class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-6 mb-6 border border-amber-100"},J={class:"flex items-center gap-4"},W={class:"relative flex-1"},Y=["value"],q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},G={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},H=["onClick"],K={class:"p-6"},Q={class:"flex items-start justify-between mb-4"},R={class:"flex-1"},X={class:"text-2xl font-serif text-amber-900 mb-2 group-hover:text-amber-700 transition-colors"},Z={key:0,class:"text-amber-600 text-sm mb-3 line-clamp-2"},ee={class:"flex items-center justify-between text-amber-600"},te={class:"flex items-center gap-2"},oe={class:"text-sm font-medium"},se={class:"px-6 pb-6 flex flex-wrap gap-2"},le=["onClick"],re=["onClick"],ae=["onClick"],ie={key:1,class:"text-center py-20"},ne={class:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4"},de={class:"p-6"},ue={class:"flex justify-between items-center mb-6 pb-4 border-b border-amber-200"},me={class:"text-3xl font-serif text-amber-900"},be={class:"border-2 border-amber-200 rounded-xl p-4 max-h-64 overflow-y-auto bg-white"},ce={key:0,class:"text-center text-amber-500 py-4"},fe={key:1,class:"space-y-2"},xe=["value"],pe={class:"ml-3 flex-1"},ve={class:"font-medium text-amber-900"},ge={key:0,class:"text-sm text-amber-600"},he={class:"mt-2 text-sm text-amber-600"},ke={class:"flex gap-4 pt-4 border-t border-amber-200"},we=["disabled"],ye={key:0},Ce={key:1},je={__name:"Index",props:{books:Array,outlets:Array,filters:Object},setup(u){var M;const A=u,p=f(!1),d=f(null),b=f(!1),h=f(((M=A.filters)==null?void 0:M.outlet)||""),r=f({name:"",description:"",status:"active",outlet_ids:[]}),_=()=>{d.value=null,r.value={name:"",description:"",status:"active",outlet_ids:[]},p.value=!0},D=a=>{var t;d.value=a,r.value={name:a.name,description:a.description||"",status:a.status,outlet_ids:((t=a.outlets)==null?void 0:t.map(o=>o.id_outlet))||[]},p.value=!0},v=()=>{p.value=!1,d.value=null},F=()=>{b.value=!0;const a=d.value?`/menu-book/${d.value.id}`:"/menu-book",t=d.value?"put":"post",o={...r.value,outlet_ids:JSON.stringify(r.value.outlet_ids)};g[t](a,o,{onSuccess:()=>{v(),C.fire({icon:"success",title:"Success!",text:d.value?"Menu book updated successfully!":"Menu book created successfully!",timer:2e3,showConfirmButton:!1})},onError:()=>{b.value=!1},onFinish:()=>{b.value=!1}})},N=()=>{g.get("/menu-book",{outlet:h.value},{preserveState:!0,preserveScroll:!0})},B=a=>{g.visit(`/menu-book/${a}`)},$=a=>{C.fire({title:"Are you sure?",text:`Delete "${a.name}"? This will also delete all pages in this book!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&g.delete(`/menu-book/${a.id}`,{onSuccess:()=>{C.fire("Deleted!","Menu book has been deleted.","success")}})})},j=()=>{window.open("/menu","_blank")};return(a,t)=>(s(),L(P,null,{default:O(()=>[e("div",T,[e("div",{class:"bg-gradient-to-r from-amber-900 via-amber-800 to-amber-900 text-white shadow-2xl"},[e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},[e("div",{class:"flex flex-col md:flex-row justify-between items-center gap-4"},[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-4xl md:text-5xl font-serif font-bold mb-2 tracking-wide"},[e("i",{class:"fa-solid fa-book-open mr-3 text-amber-200"}),i(" Menu Books ")]),e("p",{class:"text-amber-100 text-lg font-light"},"Manage Your Menu Collections")],-1)),e("button",{onClick:_,class:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white px-6 py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center gap-2 font-semibold"},t[5]||(t[5]=[e("i",{class:"fa-solid fa-plus"},null,-1),i(" Create Menu Book ")]))])])]),e("div",I,[e("div",z,[e("div",J,[e("div",W,[t[8]||(t[8]=e("i",{class:"fa-solid fa-store absolute left-4 top-1/2 transform -translate-y-1/2 text-amber-600"},null,-1)),x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>h.value=o),onChange:N,class:"w-full pl-12 pr-4 py-3 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-300 transition-all duration-300 bg-white/90 appearance-none cursor-pointer"},[t[7]||(t[7]=e("option",{value:""},"All Outlets",-1)),(s(!0),l(w,null,y(u.outlets,o=>(s(),l("option",{key:o.id_outlet,value:o.id_outlet},n(o.nama_outlet),9,Y))),128))],544),[[S,h.value]])])])])]),e("div",q,[u.books.length>0?(s(),l("div",G,[(s(!0),l(w,null,y(u.books,o=>(s(),l("div",{key:o.id,class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden border border-amber-100 hover:shadow-2xl transition-all duration-300 transform hover:scale-105 group cursor-pointer",onClick:c=>B(o.id)},[e("div",K,[e("div",Q,[e("div",R,[e("h3",X,n(o.name),1),o.description?(s(),l("p",Z,n(o.description),1)):k("",!0)]),e("span",{class:U([o.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700","px-3 py-1 rounded-full text-xs font-semibold"])},n(o.status),3)]),e("div",ee,[e("div",te,[t[9]||(t[9]=e("i",{class:"fa-solid fa-file-lines"},null,-1)),e("span",oe,n(o.pages_count)+" Pages",1)]),t[10]||(t[10]=e("i",{class:"fa-solid fa-arrow-right group-hover:translate-x-1 transition-transform"},null,-1))])]),e("div",se,[e("button",{onClick:m(c=>B(o.id),["stop"]),class:"flex-1 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300"},t[11]||(t[11]=[e("i",{class:"fa-solid fa-eye mr-2"},null,-1),i(" View ")]),8,le),e("button",{onClick:m(j,["stop"]),class:"px-4 py-2 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-black rounded-lg transition-all duration-300 font-semibold shadow-md hover:shadow-lg",title:"View Customer Landing Page"},t[12]||(t[12]=[e("i",{class:"fa-solid fa-globe mr-1"},null,-1),e("span",{class:"hidden sm:inline"},"Landing",-1)])),e("button",{onClick:m(c=>D(o),["stop"]),class:"px-4 py-2 bg-amber-100 hover:bg-amber-200 text-amber-700 rounded-lg transition-all duration-300",title:"Edit Menu Book"},t[13]||(t[13]=[e("i",{class:"fa-solid fa-edit"},null,-1)]),8,re),e("button",{onClick:m(c=>$(o),["stop"]),class:"px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-all duration-300",title:"Delete Menu Book"},t[14]||(t[14]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,ae)])],8,H))),128))])):(s(),l("div",ie,[e("div",{class:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-12 border border-amber-100"},[t[16]||(t[16]=e("i",{class:"fa-solid fa-book-open text-6xl text-amber-300 mb-4"},null,-1)),t[17]||(t[17]=e("h3",{class:"text-2xl font-serif text-amber-800 mb-2"},"No Menu Books Found",-1)),t[18]||(t[18]=e("p",{class:"text-amber-600 mb-6"},"Start by creating your first menu book",-1)),e("button",{onClick:_,class:"bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white px-6 py-3 rounded-lg shadow-lg transform hover:scale-105 transition-all duration-300"},t[15]||(t[15]=[e("i",{class:"fa-solid fa-plus mr-2"},null,-1),i(" Create First Menu Book ")]))])]))]),p.value?(s(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",onClick:m(v,["self"])},[e("div",ne,[e("div",de,[e("div",ue,[e("h2",me,[t[19]||(t[19]=e("i",{class:"fa-solid fa-book mr-3 text-amber-600"},null,-1)),i(" "+n(d.value?"Edit Menu Book":"Create Menu Book"),1)]),e("button",{onClick:v,class:"w-10 h-10 rounded-full bg-amber-100 hover:bg-amber-200 text-amber-700 flex items-center justify-center transition-all duration-300 hover:scale-110"},t[20]||(t[20]=[e("i",{class:"fa-solid fa-times"},null,-1)]))]),e("form",{onSubmit:m(F,["prevent"]),class:"space-y-6"},[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-semibold text-amber-800 mb-2"},[e("i",{class:"fa-solid fa-heading mr-2"}),i(" Book Name * ")],-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.name=o),type:"text",required:"",class:"w-full px-4 py-3 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-300 transition-all duration-300 bg-white",placeholder:"e.g., Menu Makanan, Menu Minuman"},null,512),[[V,r.value.name]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-semibold text-amber-800 mb-2"},[e("i",{class:"fa-solid fa-align-left mr-2"}),i(" Description ")],-1)),x(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.description=o),rows:"4",class:"w-full px-4 py-3 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-300 transition-all duration-300 bg-white",placeholder:"Optional description for this menu book"},null,512),[[V,r.value.description]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-semibold text-amber-800 mb-2"},[e("i",{class:"fa-solid fa-toggle-on mr-2"}),i(" Status ")],-1)),x(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.status=o),class:"w-full px-4 py-3 rounded-xl border-2 border-amber-200 focus:border-amber-500 focus:ring-2 focus:ring-amber-300 transition-all duration-300 bg-white"},t[23]||(t[23]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[S,r.value.status]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-semibold text-amber-800 mb-2"},[e("i",{class:"fa-solid fa-store mr-2"}),i(" Outlets (Select outlets where this menu book will be available) * ")],-1)),e("div",be,[!u.outlets||u.outlets.length===0?(s(),l("div",ce,t[25]||(t[25]=[e("i",{class:"fa-solid fa-inbox text-2xl mb-2"},null,-1),e("p",null,"No outlets available",-1)]))):(s(),l("div",fe,[(s(!0),l(w,null,y(u.outlets,o=>(s(),l("label",{key:o.id_outlet,class:"flex items-center p-3 rounded-lg hover:bg-amber-50 cursor-pointer transition-all duration-200 border border-transparent hover:border-amber-200"},[x(e("input",{type:"checkbox",value:o.id_outlet,"onUpdate:modelValue":t[4]||(t[4]=c=>r.value.outlet_ids=c),class:"w-5 h-5 text-amber-600 border-amber-300 rounded focus:ring-amber-500"},null,8,xe),[[E,r.value.outlet_ids]]),e("div",pe,[e("p",ve,n(o.nama_outlet),1),o.lokasi?(s(),l("p",ge,n(o.lokasi),1)):k("",!0)])]))),128))]))]),e("p",he," Selected: "+n(r.value.outlet_ids.length)+" outlet(s) ",1)]),e("div",ke,[e("button",{type:"button",onClick:v,class:"flex-1 py-3 rounded-xl border-2 border-amber-300 text-amber-700 hover:bg-amber-50 font-semibold transition-all duration-300"}," Cancel "),e("button",{type:"submit",disabled:b.value,class:"flex-1 py-3 rounded-xl bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-700 hover:to-amber-800 text-white font-semibold shadow-lg transform hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100"},[b.value?(s(),l("span",ye,t[27]||(t[27]=[e("i",{class:"fa-solid fa-spinner fa-spin mr-2"},null,-1),i(" Processing... ")]))):(s(),l("span",Ce,[t[28]||(t[28]=e("i",{class:"fa-solid fa-check mr-2"},null,-1)),i(" "+n(d.value?"Update Book":"Create Book"),1)]))],8,we)])],32)])])])):k("",!0)])]),_:1}))}};export{je as default};
