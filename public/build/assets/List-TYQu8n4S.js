import{r as D,A as f,B as r,C as d,D as t,x as m,G as n,Q as p,S as x,N as a,H as w,J as M,I as N,L as u,E as c,F as C,M as j,l as B,W as F}from"./vendor-vue-g7iCcTkf.js";import{A as L}from"./AppLayout-C22rYVZx.js";import"./vendor-utils-CpgP2uT4.js";import"./app-CQcWanFv.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DO0UW4jb.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const P={class:"w-full py-8 px-0"},V={class:"flex justify-between items-center mb-6"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},A={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-blue-500"},O={class:"text-2xl font-bold text-gray-800"},E={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-green-500"},J={class:"text-2xl font-bold text-green-600"},K={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-purple-500"},U={class:"text-2xl font-bold text-purple-600"},W={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-yellow-500"},z={class:"text-2xl font-bold text-yellow-600"},G={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},H={class:"flex gap-4 items-end"},Q={class:"flex-1"},R={class:"w-48"},$={class:"bg-white rounded-xl shadow-lg overflow-hidden"},q={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4 text-sm font-medium text-gray-900"},et={class:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate"},st={class:"px-6 py-4 whitespace-nowrap"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-semibold"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},it={class:"px-6 py-4 whitespace-nowrap text-sm"},dt={key:0,class:"text-center py-12"},nt={key:1,class:"px-6 py-4 border-t border-gray-200"},pt={class:"flex items-center justify-between"},xt={class:"text-sm text-gray-700"},ut={class:"flex gap-2"},kt={__name:"List",props:{notifications:Object,stats:Object,filters:Object},setup(l){var h,v;const y=l,o=D({search:((h=y.filters)==null?void 0:h.search)||"",target_type:((v=y.filters)==null?void 0:v.target_type)||""});let g=null;const _=()=>{g&&clearTimeout(g),g=setTimeout(()=>{b()},500)},b=()=>{F.get("/member-notification",o.value,{preserveState:!0,preserveScroll:!0})},k=()=>{o.value={search:"",target_type:""},b()},S=i=>({all:"Semua Member",specific:"Pilih Member",filter:"Filter Member"})[i]||i,T=i=>i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return(i,e)=>(r(),f(L,null,{default:d(()=>[t("div",P,[t("div",V,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-bell"}),n(" Daftar Notifikasi Member ")],-1)),m(p(x),{href:"/member-notification/create",class:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-800 transition-all flex items-center gap-2"},{default:d(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-plus"},null,-1),n(" Kirim Notifikasi Baru ")])),_:1})]),t("div",I,[t("div",A,[e[4]||(e[4]=t("div",{class:"text-sm text-gray-600 mb-1"},"Total Notifikasi",-1)),t("div",O,a(l.stats.total_notifications),1)]),t("div",E,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-600 mb-1"},"Sudah Dikirim",-1)),t("div",J,a(l.stats.total_sent),1)]),t("div",K,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-600 mb-1"},"Total Penerima",-1)),t("div",U,a(l.stats.total_recipients),1)]),t("div",W,[e[7]||(e[7]=t("div",{class:"text-sm text-gray-600 mb-1"},"Sudah Dibaca",-1)),t("div",z,a(l.stats.total_opened),1)])]),t("div",G,[t("div",H,[t("div",Q,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari",-1)),w(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.search=s),onInput:_,placeholder:"Cari judul atau pesan notifikasi...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[M,o.value.search]])]),t("div",R,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Target Type",-1)),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.value.target_type=s),onChange:b,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},e[9]||(e[9]=[t("option",{value:""},"Semua",-1),t("option",{value:"all"},"Semua Member",-1),t("option",{value:"specific"},"Pilih Member",-1),t("option",{value:"filter"},"Filter Member",-1)]),544),[[N,o.value.target_type]])]),t("div",null,[t("button",{onClick:k,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"}," Reset ")])])]),t("div",$,[t("div",q,[t("table",X,[e[12]||(e[12]=t("thead",{class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Judul"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Pesan"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Target"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Total Penerima"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Terkirim"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Dibaca"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",Y,[(r(!0),u(C,null,j(l.notifications.data,s=>(r(),u("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Z," #"+a(s.id),1),t("td",tt,a(s.title),1),t("td",et,a(s.message),1),t("td",st,[t("span",{class:B(["px-2 py-1 text-xs font-semibold rounded-full",{"bg-blue-100 text-blue-800":s.target_type==="all","bg-green-100 text-green-800":s.target_type==="specific","bg-purple-100 text-purple-800":s.target_type==="filter"}])},a(S(s.target_type)),3)]),t("td",lt,a(s.total_recipients||0),1),t("td",at,a(s.sent_count||0),1),t("td",rt,a(s.opened_count||0),1),t("td",ot,a(T(s.created_at)),1),t("td",it,[m(p(x),{href:`/member-notification/${s.id}`,class:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition"},{default:d(()=>e[11]||(e[11]=[t("i",{class:"fa-solid fa-eye mr-1"},null,-1),n(" Detail ")])),_:2},1032,["href"])])]))),128))])])]),l.notifications.data.length===0?(r(),u("div",dt,[e[14]||(e[14]=t("i",{class:"fa-solid fa-bell-slash text-6xl text-gray-300 mb-4"},null,-1)),e[15]||(e[15]=t("p",{class:"text-gray-500 text-lg"},"Belum ada notifikasi yang dikirim",-1)),m(p(x),{href:"/member-notification/create",class:"mt-4 inline-block px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition"},{default:d(()=>e[13]||(e[13]=[n(" Kirim Notifikasi Pertama ")])),_:1})])):c("",!0),l.notifications.data.length>0?(r(),u("div",nt,[t("div",pt,[t("div",xt," Menampilkan "+a(l.notifications.from)+" sampai "+a(l.notifications.to)+" dari "+a(l.notifications.total)+" notifikasi ",1),t("div",ut,[l.notifications.prev_page_url?(r(),f(p(x),{key:0,href:l.notifications.prev_page_url,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"},{default:d(()=>e[16]||(e[16]=[t("i",{class:"fa-solid fa-chevron-left mr-1"},null,-1),n(" Sebelumnya ")])),_:1},8,["href"])):c("",!0),l.notifications.next_page_url?(r(),f(p(x),{key:1,href:l.notifications.next_page_url,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"},{default:d(()=>e[17]||(e[17]=[n(" Selanjutnya "),t("i",{class:"fa-solid fa-chevron-right ml-1"},null,-1)])),_:1},8,["href"])):c("",!0)])])])):c("",!0)])])]),_:1}))}};export{kt as default};
