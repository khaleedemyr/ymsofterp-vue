import{r as n,w as ce,c as Te,A as z,B as a,L as i,E as c,D as e,x as p,G as m,F as w,M as k,C as g,Q as y,H as F,N as r,l as ve,I as Ve,J as ie,X as Ne,T as oe}from"./vendor-vue-g7iCcTkf.js";import{a as x}from"./vendor-utils-CpgP2uT4.js";import{S as v}from"./app-5ZP5W-3z.js";import Le from"./PurchaseOrderDetailModal-DqkHAnxN.js";import qe from"./GoodReceiveModal-gt2ox-KX.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Y as fe,h as H,G as pe,S as me}from"./vendor-ui-CrPgGUUb.js";import"./vendor-charts-CuqD4wLC.js";const He={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/40"},Ae={class:"bg-white rounded-xl shadow-lg w-full max-w-4xl p-6 relative flex flex-col",style:{"max-height":"90vh"}},We={class:"flex justify-end mb-4"},Ye={key:0,class:"flex-1 flex items-center justify-center"},Je={key:1,class:"flex-1 flex items-center justify-center text-gray-500"},Qe={key:2,class:"flex-1 overflow-y-auto"},Xe={class:"flex justify-between items-start"},Ke={class:"font-semibold text-lg"},Ze={class:"text-sm text-gray-500"},et={class:"flex gap-2"},tt=["onClick"],st=["onClick"],lt=["onClick"],at=["onClick"],it=["onClick"],ot=["onClick"],nt={class:"mt-2"},rt={class:"text-sm"},ut={class:"text-sm"},dt={class:"text-sm"},ct={key:0,class:"mt-3"},vt={class:"space-y-2"},ft={class:"flex justify-between"},pt={key:0,class:"text-gray-500 text-xs mt-1"},mt={key:1,class:"mt-2"},gt={key:0},yt=["onClick"],xt={key:1},bt={key:2,class:"mt-2"},ht=["title"],_t={class:"flex flex-wrap gap-2"},wt=["onClick"],kt=["src"],Pt=["src"],Ct={class:"fixed inset-0 overflow-y-auto"},Ot={class:"flex min-h-full items-center justify-center p-4 text-center"},It={class:"space-y-4"},Rt={key:0,class:"flex items-center justify-center py-8"},Et={key:1,class:"text-center py-8 text-gray-500"},St={key:2,class:"space-y-4"},$t={class:"flex justify-between items-start"},jt={class:"font-semibold"},Dt={class:"text-sm text-gray-500"},Ft=["onClick"],Ut={key:0,class:"space-y-4"},Mt={class:"grid grid-cols-2 gap-4 mb-3"},Bt={class:"font-medium"},Gt={key:0,class:"text-sm text-gray-600"},Tt={class:"text-right"},Vt={class:"text-sm text-gray-600"},Nt={class:"grid grid-cols-2 gap-4"},Lt=["onUpdate:modelValue"],qt=["value"],zt=["onUpdate:modelValue"],Ht={class:"flex justify-end gap-2 mt-6"},At=["disabled"],Wt=["disabled"],Yt={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},Jt={class:"fixed inset-0 overflow-y-auto"},Qt={class:"flex min-h-full items-center justify-center p-4 text-center"},Xt={class:"p-4",style:{height:"80vh"}},Kt=["src"],Zt={key:4,class:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/40"},es={class:"bg-white rounded-xl shadow-lg w-full max-w-md p-6 relative"},ts={class:"space-y-4"},ss={class:"flex justify-end gap-2 mt-6"},ls=["disabled"],as={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},is={key:0,class:"fixed inset-0 z-[10001] flex items-center justify-center bg-black/60"},os={class:"bg-white rounded-xl shadow-lg w-full max-w-2xl p-4 relative"},ns={key:0},rs=["src"],us={key:1},ds=["src"],cs={key:0,class:"fixed inset-0 z-[10001] flex items-center justify-center bg-black/60"},vs={class:"bg-white rounded-xl shadow-lg w-full max-w-2xl p-4 relative"},fs={key:0},ps=["src"],ms={key:1},gs=["src"],ys={__name:"PurchaseOrderListModal",props:{show:Boolean,taskId:[String,Number]},emits:["close"],setup(A,{emit:xs}){const P=A,C=n(!1),U=n(!1),_=n(!1),O=n([]),I=n([]),M=n(!1),b=n([]),ne=n([]),ge=n(""),W=n(!1),Y=n(""),J=n(null),B=n(!1),Q=n(null),X=n(!1),K=n(null),R=n(""),E=n(""),S=n(null),$=n(!1),j=n({}),Z=n(!1),G=n(""),T=n(""),ee=n(!1),te=n(null),h=n({}),se=n(!1),V=n(""),N=n("");ce(()=>P.show,async s=>{s&&await D()}),ce(M,async s=>{s&&await Promise.all([re(),ye()])});async function D(){C.value=!0;try{const s=await x.get(`/api/maintenance-tasks/${P.taskId}/purchase-orders`);O.value=s.data;for(const t of O.value)await Se(t.id),await Me(t.id)}catch(s){console.error("Error fetching POs:",s),v.fire("Error","Gagal mengambil data PO","error")}finally{C.value=!1}}async function re(){U.value=!0;try{const s=await x.get(`/api/maintenance-tasks/${P.taskId}/purchase-requisitions`);I.value=s.data.filter(t=>t.status==="APPROVED")}catch(s){console.error("Error fetching PRs:",s),v.fire("Error","Gagal mengambil data PR","error")}finally{U.value=!1}}async function ye(){try{const s=await x.get("/api/suppliers");ne.value=s.data}catch(s){console.error("Error fetching suppliers:",s),v.fire("Error","Gagal mengambil data supplier","error")}}function xe(s){const t=b.value.indexOf(s.id);t===-1?b.value.push(s.id):b.value.splice(t,1)}async function be(){var s,t;if(ue.value){_.value=!0;try{const l=I.value.filter(o=>b.value.includes(o.id));if(l.length===0){v.fire("Error","Silakan pilih minimal satu PR","error");return}const f={};l.forEach(o=>{o.items.forEach(u=>{!u.selected_supplier_id||!u.supplier_price||(f[u.selected_supplier_id]||(f[u.selected_supplier_id]=[]),f[u.selected_supplier_id].push({item_name:u.item_name,description:u.description,specifications:u.specifications,quantity:u.quantity,unit_id:u.unit_id,price:u.price,supplier_price:u.supplier_price,subtotal:u.quantity*u.supplier_price,pr_id:o.id,pr_item_id:u.id}))})});const d=Object.entries(f).map(([o,u])=>x.post(`/api/maintenance-tasks/${P.taskId}/purchase-orders`,{supplier_id:o,items:u}));await Promise.all(d),await D(),await re(),L(),v.fire("Sukses","PO berhasil dibuat","success")}catch(l){console.error("Error creating PO:",l),v.fire("Error",((t=(s=l.response)==null?void 0:s.data)==null?void 0:t.message)||"Gagal membuat PO","error")}finally{_.value=!1}}}const ue=Te(()=>{const s=I.value.filter(l=>b.value.includes(l.id));let t=!1;for(const l of s){for(const f of l.items)if(f.selected_supplier_id&&f.supplier_price){t=!0;break}if(t)break}return t});function L(){_.value||(M.value=!1,ge.value="",b.value=[])}function le(s){return new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"})}function q(s){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s)}async function he(s){Y.value=`/maintenance-po/${s}/preview`,W.value=!0}function de(){W.value=!1,Y.value=""}function _e(){J.value&&J.value.contentWindow.print()}async function we(s){v.fire("Edit PO","Fitur edit PO akan segera diimplementasikan.","info")}async function ke(s){if((await v.fire({title:"Hapus PO?",text:"PO yang dihapus tidak dapat dikembalikan",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed)try{await x.delete(`/api/maintenance-tasks/${P.taskId}/purchase-orders/${s}`),await D(),v.fire("Sukses","PO berhasil dihapus","success")}catch(l){console.error("Error deleting PO:",l),v.fire("Error","Gagal menghapus PO","error")}}function Pe(s){console.log("Opening detail modal for PO:",s),Q.value=s,B.value=!0}function Ce(){console.log("Closing detail modal"),B.value=!1,Q.value=null}async function Oe(){C.value=!0;try{const s=await x.get(`/api/maintenance-tasks/${P.taskId}/purchase-orders`);console.log("Loaded POs:",s.data),O.value=s.data}catch(s){console.error("Error loading purchase orders:",s),v.fire("Error","Failed to load purchase orders","error")}finally{C.value=!1}}function Ie(s){K.value=s,R.value="",E.value="",S.value=null,X.value=!0}function ae(){X.value=!1,K.value=null}function Re(s){S&&(S.value=s.target.files&&s.target.files[0]?s.target.files[0]:null)}async function Ee(){var s,t;if(!R.value||!E.value||!S.value){v.fire("Error","Semua field wajib diisi","error");return}$.value=!0;try{const l=new FormData;l.append("invoice_number",R.value),l.append("invoice_date",E.value),l.append("invoice_file",S.value),await x.post(`/api/purchase-orders/${K.value.id}/invoices`,l,{headers:{"Content-Type":"multipart/form-data"}}),v.fire("Sukses","Invoice berhasil diupload","success"),ae(),await D()}catch(l){v.fire("Error",((t=(s=l.response)==null?void 0:s.data)==null?void 0:t.message)||"Gagal upload invoice","error")}finally{$.value=!1}}async function Se(s){try{const t=await x.get(`/api/purchase-orders/${s}/invoices`);j.value[s]=t.data}catch{j.value[s]=[]}}function $e(s){G.value=s,T.value=s.endsWith(".pdf")?"pdf":"img",Z.value=!0}function je(){Z.value=!1,G.value="",T.value=""}function De(s){te.value=s,ee.value=!0}function Fe(){ee.value=!1,te.value=null}function Ue(){D()}async function Me(s){try{const t=await x.get(`/api/purchase-orders/${s}/receives`);h.value[s]=t.data}catch{h.value[s]=[]}}function Be(s,t){V.value=s,N.value=t.startsWith("image/")?"img":"video",se.value=!0}function Ge(){se.value=!1,V.value="",N.value=""}return(s,t)=>(a(),z(oe,{to:"body"},[A.show?(a(),i("div",He,[e("div",Ae,[e("button",{onClick:t[0]||(t[0]=l=>s.$emit("close")),class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[4]||(t[4]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[39]||(t[39]=e("h2",{class:"text-xl font-bold mb-4 text-center"},"Purchase Order (PO)",-1)),e("div",We,[e("button",{onClick:t[1]||(t[1]=l=>M.value=!0),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-2"},t[5]||(t[5]=[e("i",{class:"fas fa-plus"},null,-1),m(" Buat PO ")]))]),C.value?(a(),i("div",Ye,t[6]||(t[6]=[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e("span",null,"Loading...")],-1)]))):!C.value&&O.value.length===0?(a(),i("div",Je," Belum ada PO. ")):(a(),i("div",Qe,[(a(!0),i(w,null,k(O.value,l=>{var f,d;return a(),i("div",{key:l.id,class:"border rounded-lg p-4 mb-4"},[e("div",Xe,[e("div",null,[e("h3",Ke,r(l.po_number),1),e("p",Ze,r(le(l.created_at)),1)]),e("div",et,[e("button",{onClick:o=>Pe(l.id),class:"px-3 py-1 text-sm bg-blue-100 text-blue-600 rounded hover:bg-blue-200 flex items-center gap-1"},t[7]||(t[7]=[e("i",{class:"fas fa-eye"},null,-1),m(" Detail ")]),8,tt),e("button",{onClick:o=>Ie(l),class:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200 flex items-center gap-1",title:"Upload Invoice"},t[8]||(t[8]=[e("i",{class:"fas fa-file-upload"},null,-1),m(" Upload Invoice ")]),8,st),e("button",{onClick:o=>he(l.id),class:"px-3 py-1 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 flex items-center gap-1"},t[9]||(t[9]=[e("i",{class:"fas fa-file-alt"},null,-1),m(" Preview ")]),8,lt),e("button",{onClick:o=>we(l.id),class:"px-3 py-1 text-sm bg-yellow-100 text-yellow-700 rounded hover:bg-yellow-200 flex items-center gap-1",title:"Edit PO"},t[10]||(t[10]=[e("i",{class:"fas fa-edit"},null,-1),m(" Edit ")]),8,at),e("button",{onClick:o=>ke(l.id),class:"px-3 py-1 text-sm bg-red-100 text-red-600 rounded hover:bg-red-200 flex items-center gap-1",title:"Hapus PO"},t[11]||(t[11]=[e("i",{class:"fas fa-trash"},null,-1),m(" Hapus ")]),8,it),l.status==="APPROVED"?(a(),i("button",{key:0,onClick:o=>De(l),class:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 flex items-center gap-1",title:"Good Receive"},t[12]||(t[12]=[e("i",{class:"fas fa-box"},null,-1),m(" Good Receive ")]),8,ot)):c("",!0)])]),e("div",nt,[e("div",rt,[t[13]||(t[13]=e("span",{class:"font-medium"},"Supplier:",-1)),m(" "+r((f=l.supplier)==null?void 0:f.name),1)]),e("div",ut,[t[14]||(t[14]=e("span",{class:"font-medium"},"Status:",-1)),e("span",{class:ve({"text-yellow-600":l.status==="DRAFT","text-green-600":l.status==="APPROVED","text-red-600":l.status==="REJECTED"})},r(l.status),3)]),e("div",dt,[t[15]||(t[15]=e("span",{class:"font-medium"},"Total:",-1)),m(" "+r(q(l.total_amount)),1)])]),(d=l.items)!=null&&d.length?(a(),i("div",ct,[t[16]||(t[16]=e("div",{class:"text-sm font-medium mb-2"},"Items:",-1)),e("div",vt,[(a(!0),i(w,null,k(l.items,o=>(a(),i("div",{key:o.id,class:"text-sm bg-gray-50 p-2 rounded"},[e("div",ft,[e("span",null,r(o.item_name),1),e("span",null,r(o.quantity)+" x "+r(q(o.supplier_price)),1)]),o.specifications?(a(),i("div",pt,r(o.specifications),1)):c("",!0)]))),128))])])):c("",!0),j.value[l.id]&&j.value[l.id].length?(a(),i("div",mt,[t[17]||(t[17]=e("div",{class:"text-sm font-medium mb-1"},"Invoice:",-1)),(a(!0),i(w,null,k(j.value[l.id],o=>(a(),i("div",{key:o.id,class:"flex items-center gap-2 text-sm bg-gray-50 p-2 rounded mb-1"},[e("span",null,"No: "+r(o.invoice_number),1),e("span",null,"Tgl: "+r(le(o.invoice_date)),1),o.invoice_file_path?(a(),i("span",gt,[e("button",{onClick:u=>$e(o.invoice_file_path),class:"text-blue-600 underline"},"Preview",8,yt)])):(a(),i("span",xt,"-"))]))),128))])):c("",!0),h.value[l.id]&&h.value[l.id].length?(a(),i("div",bt,[t[18]||(t[18]=e("div",{class:"text-sm font-medium mb-1"},"Good Receive:",-1)),h.value[l.id][0].notes?(a(),i("div",{key:0,class:"text-xs text-gray-500 mb-1 w-full truncate",title:h.value[l.id][0].notes},r(h.value[l.id][0].notes),9,ht)):c("",!0),e("div",_t,[(a(!0),i(w,null,k(h.value[l.id],o=>(a(),i("div",{key:o.id,class:"w-16 h-16 rounded border bg-gray-100 flex flex-col items-center justify-center cursor-pointer overflow-hidden"},[e("div",{onClick:u=>Be(o.file_url,o.file_type),class:"w-full h-full flex items-center justify-center"},[o.file_type&&o.file_type.startsWith("image/")?(a(),i("img",{key:0,src:o.file_url,class:"object-cover w-full h-full"},null,8,kt)):(a(),i("video",{key:1,controls:"",src:o.file_url,class:"object-cover w-full h-full"},null,8,Pt))],8,wt)]))),128))])])):c("",!0)])}),128))])),p(y(me),{appear:"",show:M.value,as:"template"},{default:g(()=>[p(y(fe),{as:"div",onClose:L,class:"relative z-[99999]"},{default:g(()=>[p(y(H),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>t[19]||(t[19]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",Ct,[e("div",Ot,[p(y(H),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g(()=>[p(y(pe),{class:"w-full max-w-4xl transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:g(()=>[e("div",{class:"flex justify-between items-center mb-4"},[t[21]||(t[21]=e("h3",{class:"text-lg font-medium"},"Buat Purchase Order",-1)),e("button",{onClick:L,class:"text-gray-400 hover:text-gray-600"},t[20]||(t[20]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",It,[U.value?(a(),i("div",Rt,t[22]||(t[22]=[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e("span",null,"Loading PRs...")],-1)]))):!U.value&&I.value.length===0?(a(),i("div",Et," Tidak ada PR yang tersedia untuk dikonversi ke PO. ")):(a(),i("div",St,[(a(!0),i(w,null,k(I.value,l=>{var f;return a(),i("div",{key:l.id,class:"border rounded-lg p-4"},[e("div",$t,[e("div",null,[e("h4",jt,r(l.pr_number),1),e("p",Dt,r(le(l.created_at)),1)]),e("button",{onClick:d=>xe(l),class:"text-blue-600 hover:text-blue-800"},[e("i",{class:ve(["fas",b.value.includes(l.id)?"fa-chevron-up":"fa-chevron-down"])},null,2)],8,Ft)]),F(e("div",null,[(f=l.items)!=null&&f.length?(a(),i("div",Ut,[(a(!0),i(w,null,k(l.items,d=>(a(),i("div",{key:d.id,class:"bg-gray-50 p-4 rounded"},[e("div",Mt,[e("div",null,[e("div",Bt,r(d.item_name),1),d.specifications?(a(),i("div",Gt,r(d.specifications),1)):c("",!0)]),e("div",Tt,[e("div",null,r(d.quantity)+" x "+r(q(d.price)),1),e("div",Vt," Subtotal: "+r(q(d.quantity*d.price)),1)])]),e("div",Nt,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Supplier ",-1)),F(e("select",{"onUpdate:modelValue":o=>d.selected_supplier_id=o,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[t[23]||(t[23]=e("option",{value:""},"Pilih Supplier",-1)),(a(!0),i(w,null,k(ne.value,o=>(a(),i("option",{key:o.id,value:o.id},r(o.name),9,qt))),128))],8,Lt),[[Ve,d.selected_supplier_id]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Harga Supplier ",-1)),F(e("input",{type:"number","onUpdate:modelValue":o=>d.supplier_price=o,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Masukkan harga dari supplier"},null,8,zt),[[ie,d.supplier_price]])])])]))),128))])):c("",!0)],512),[[Ne,b.value.includes(l.id)]])])}),128))]))]),e("div",Ht,[e("button",{onClick:L,class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200",disabled:_.value}," Batal ",8,At),e("button",{onClick:be,class:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 flex items-center gap-2",disabled:!ue.value||_.value},[_.value?(a(),i("div",Yt)):c("",!0),e("span",null,r(_.value?"Menyimpan...":"Buat PO"),1)],8,Wt)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),p(y(me),{appear:"",show:W.value,as:"template"},{default:g(()=>[p(y(fe),{as:"div",onClose:de,class:"relative z-[99999]"},{default:g(()=>[p(y(H),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>t[26]||(t[26]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",Jt,[e("div",Qt,[p(y(H),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g(()=>[p(y(pe),{class:"w-full max-w-6xl transform overflow-hidden rounded-2xl bg-white text-left align-middle shadow-xl transition-all"},{default:g(()=>[e("div",{class:"flex justify-between items-center p-4 border-b"},[t[29]||(t[29]=e("h3",{class:"text-lg font-medium"},"Preview Purchase Order",-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:_e,class:"px-3 py-1 text-sm bg-blue-100 text-blue-600 rounded hover:bg-blue-200 flex items-center gap-1"},t[27]||(t[27]=[e("i",{class:"fas fa-print"},null,-1),m(" Print ")])),e("button",{onClick:de,class:"text-gray-400 hover:text-gray-600"},t[28]||(t[28]=[e("i",{class:"fas fa-times"},null,-1)]))])]),e("div",Xt,[e("iframe",{src:Y.value,class:"w-full h-full border-0",ref_key:"previewFrame",ref:J},null,8,Kt)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),B.value?(a(),z(Le,{key:3,show:B.value,"po-id":Q.value,"task-id":A.taskId,onClose:Ce,onPoUpdated:Oe},null,8,["show","po-id","task-id"])):c("",!0),X.value?(a(),i("div",Zt,[e("div",es,[e("button",{onClick:ae,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[30]||(t[30]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[34]||(t[34]=e("h3",{class:"text-lg font-medium mb-4"},"Upload Invoice",-1)),e("div",ts,[e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium mb-1"},"Nomor Invoice",-1)),F(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>R.value=l),type:"text",class:"w-full border rounded p-2",placeholder:"Nomor Invoice"},null,512),[[ie,R.value]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium mb-1"},"Tanggal Invoice",-1)),F(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>E.value=l),type:"date",class:"w-full border rounded p-2"},null,512),[[ie,E.value]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium mb-1"},"File Invoice",-1)),e("input",{type:"file",accept:"application/pdf,image/*",onChange:Re,class:"w-full"},null,32)])]),e("div",ss,[e("button",{onClick:ae,class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),e("button",{onClick:Ee,disabled:$.value,class:"px-4 py-2 text-white bg-green-500 rounded hover:bg-green-600 flex items-center gap-2"},[$.value?(a(),i("div",as)):c("",!0),e("span",null,r($.value?"Mengupload...":"Upload"),1)],8,ls)])])])):c("",!0),(a(),z(oe,{to:"body"},[Z.value?(a(),i("div",is,[e("div",os,[e("button",{onClick:je,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[35]||(t[35]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[36]||(t[36]=e("h3",{class:"text-lg font-medium mb-4"},"Preview Invoice",-1)),T.value==="pdf"?(a(),i("div",ns,[e("iframe",{src:G.value,class:"w-full h-[70vh] border"},null,8,rs)])):T.value==="img"?(a(),i("div",us,[e("img",{src:G.value,class:"max-w-full max-h-[70vh] mx-auto"},null,8,ds)])):c("",!0)])])):c("",!0)])),p(qe,{show:ee.value,po:te.value,onClose:Fe,onUploaded:Ue},null,8,["show","po"]),(a(),z(oe,{to:"body"},[se.value?(a(),i("div",cs,[e("div",vs,[e("button",{onClick:Ge,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[37]||(t[37]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[38]||(t[38]=e("h3",{class:"text-lg font-medium mb-4"},"Preview Good Receive",-1)),N.value==="img"?(a(),i("div",fs,[e("img",{src:V.value,class:"max-w-full max-h-[70vh] mx-auto"},null,8,ps)])):N.value==="video"?(a(),i("div",ms,[e("video",{src:V.value,controls:"",class:"max-w-full max-h-[70vh] mx-auto"},null,8,gs)])):c("",!0)])])):c("",!0)]))])])):c("",!0)]))}},Is=ze(ys,[["__scopeId","data-v-e27a08c1"]]);export{Is as default};
