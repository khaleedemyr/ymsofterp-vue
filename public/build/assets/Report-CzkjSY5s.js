import{r as j,w as V,A as F,B as r,C as w,D as t,x as M,G as x,Q as L,S as O,H as p,J as k,L as n,F as f,M as c,N as a,I as b,E as D,l as U,W as B}from"./vendor-vue-g7iCcTkf.js";import{A as I}from"./AppLayout-De2jf5tO.js";import"./vendor-utils-CpgP2uT4.js";import"./app-BSTQjgZq.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-vaJ7DgVJ.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const H={class:"w-full py-8 px-0"},W={class:"flex justify-between items-center mb-6"},E={class:"flex flex-wrap gap-3 mb-4 items-center"},P=["value"],Q=["value"],R={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all mb-4"},q={class:"w-full min-w-full divide-y divide-gray-200"},z={key:0},G={class:"px-4 py-2 font-mono text-sm font-semibold text-blue-700"},J={class:"px-4 py-2 text-sm"},K={class:"px-4 py-2 text-sm"},X={class:"px-4 py-2 text-sm"},Y={class:"px-4 py-2 text-sm"},Z={class:"px-4 py-2 text-sm"},$={class:"px-4 py-2 text-sm"},tt={key:0,class:"text-gray-400"},et={class:"px-4 py-2 text-sm text-right"},ot={class:"px-4 py-2 text-sm"},st={class:"px-4 py-2 text-sm text-right"},lt={class:"px-4 py-2 text-sm text-right font-medium"},at={class:"px-4 py-2"},rt={class:"flex justify-end items-center gap-4 bg-blue-50 rounded-xl px-4 py-3 shadow"},nt={class:"text-xl font-bold text-blue-700"},yt={__name:"Report",props:{rows:Array,filters:Object,outlets:Array,grandTotalNilai:Number},setup(u){var g,y,_,h,v;const i=u,l=j({from:((g=i.filters)==null?void 0:g.from)||"",to:((y=i.filters)==null?void 0:y.to)||"",outlet_from_id:((_=i.filters)==null?void 0:_.outlet_from_id)||"",outlet_to_id:((h=i.filters)==null?void 0:h.outlet_to_id)||"",status:((v=i.filters)==null?void 0:v.status)||""});V(()=>i.filters,s=>{l.value={from:(s==null?void 0:s.from)||"",to:(s==null?void 0:s.to)||"",outlet_from_id:(s==null?void 0:s.outlet_from_id)||"",outlet_to_id:(s==null?void 0:s.outlet_to_id)||"",status:(s==null?void 0:s.status)||""}},{immediate:!0});function d(){B.get(route("outlet-transfer.report"),{from:l.value.from||void 0,to:l.value.to||void 0,outlet_from_id:l.value.outlet_from_id||void 0,outlet_to_id:l.value.outlet_to_id||void 0,status:l.value.status||void 0},{preserveState:!0})}function S(s){return s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function N(s){return s==null?"-":Number(s).toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:4})}function m(s){return s==null?"-":"Rp "+Number(s).toLocaleString("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2})}function C(s){return{draft:"Draft",submitted:"Menunggu Approval",approved:"Disetujui",rejected:"Ditolak"}[s]||s}function A(s){return{draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[s]||"bg-gray-100 text-gray-800"}return(s,o)=>(r(),F(I,null,{default:w(()=>[t("div",H,[t("div",W,[o[6]||(o[6]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-file-lines"}),x(" Laporan Pindah Outlet ")],-1)),M(L(O),{href:s.route("outlet-transfer.index"),class:"bg-gray-100 text-gray-700 px-4 py-2 rounded-xl shadow hover:bg-gray-200 transition font-semibold"},{default:w(()=>o[5]||(o[5]=[t("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),x(" Kembali ke Pindah Outlet ")])),_:1},8,["href"])]),t("div",E,[p(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>l.value.from=e),onChange:d,type:"date",class:"px-3 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",placeholder:"Dari tanggal"},null,544),[[k,l.value.from]]),o[11]||(o[11]=t("span",{class:"text-gray-500"},"â€“",-1)),p(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>l.value.to=e),onChange:d,type:"date",class:"px-3 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",placeholder:"Sampai tanggal"},null,544),[[k,l.value.to]]),p(t("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>l.value.outlet_from_id=e),onChange:d,class:"px-3 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},[o[7]||(o[7]=t("option",{value:""},"Semua Outlet Asal",-1)),(r(!0),n(f,null,c(u.outlets,e=>(r(),n("option",{key:e.id_outlet,value:e.id_outlet},a(e.nama_outlet),9,P))),128))],544),[[b,l.value.outlet_from_id]]),p(t("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>l.value.outlet_to_id=e),onChange:d,class:"px-3 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},[o[8]||(o[8]=t("option",{value:""},"Semua Outlet Tujuan",-1)),(r(!0),n(f,null,c(u.outlets,e=>(r(),n("option",{key:e.id_outlet,value:e.id_outlet},a(e.nama_outlet),9,Q))),128))],544),[[b,l.value.outlet_to_id]]),p(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>l.value.status=e),onChange:d,class:"px-3 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},o[9]||(o[9]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"submitted"},"Menunggu Approval",-1),t("option",{value:"approved"},"Disetujui",-1),t("option",{value:"rejected"},"Ditolak",-1)]),544),[[b,l.value.status]]),t("button",{onClick:d,class:"px-4 py-2 rounded-xl bg-blue-500 text-white font-semibold hover:bg-blue-600 transition shadow"},o[10]||(o[10]=[t("i",{class:"fa-solid fa-filter mr-2"},null,-1),x(" Filter ")]))]),t("div",R,[t("table",q,[o[13]||(o[13]=t("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"No. Transfer"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Outlet Asal"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"WH Asal"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Outlet Tujuan"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"WH Tujuan"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Item"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-blue-700 uppercase tracking-wider"},"Qty"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Unit"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-blue-700 uppercase tracking-wider"},"Harga (MAC)"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Nilai"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status")])],-1)),t("tbody",null,[!u.rows||!u.rows.length?(r(),n("tr",z,o[12]||(o[12]=[t("td",{colspan:"12",class:"text-center py-10 text-gray-400"},"Tidak ada data untuk filter yang dipilih.",-1)]))):D("",!0),(r(!0),n(f,null,c(u.rows,(e,T)=>(r(),n("tr",{key:T,class:"hover:bg-blue-50 transition"},[t("td",G,a(e.transfer_number),1),t("td",J,a(S(e.transfer_date)),1),t("td",K,a(e.outlet_from_name),1),t("td",X,a(e.warehouse_from_name),1),t("td",Y,a(e.outlet_to_name),1),t("td",Z,a(e.warehouse_to_name),1),t("td",$,[x(a(e.item_name)+" ",1),e.item_sku?(r(),n("span",tt,"("+a(e.item_sku)+")",1)):D("",!0)]),t("td",et,a(N(e.quantity)),1),t("td",ot,a(e.unit_name),1),t("td",st,a(e.cost_per_small!=null?m(e.cost_per_small):"-"),1),t("td",lt,a(e.nilai!=null?m(e.nilai):"-"),1),t("td",at,[t("span",{class:U(["px-2 py-1 text-xs font-semibold rounded-full",A(e.status)])},a(C(e.status)),3)])]))),128))])])]),t("div",rt,[o[14]||(o[14]=t("span",{class:"font-bold text-gray-700"},"Total Nilai (MAC):",-1)),t("span",nt,a(m(u.grandTotalNilai)),1)])])]),_:1}))}};export{yt as default};
