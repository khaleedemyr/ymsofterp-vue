import{r as o,A as L,B as l,C as g,D as e,x as b,G as i,Q as k,S as v,H as m,J as h,I as R,L as d,E,F as I,M as U,N as n,l as S,W as C}from"./vendor-vue-g7iCcTkf.js";import{A as H}from"./AppLayout-BaHOzAR0.js";import{S as w}from"./app-e_83ELsm.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DOFHeIjT.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const M={class:"max-w-7xl mx-auto py-8 px-2"},W={class:"flex justify-between items-center mb-6"},j={class:"flex flex-col md:flex-row gap-4 mb-6"},G={class:"flex-1"},J={class:"flex flex-col md:flex-row gap-4"},P={class:"flex items-center gap-2"},q={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},z={class:"w-full min-w-full divide-y divide-gray-200"},O={key:0},Q={class:"px-6 py-3"},Y={class:"px-6 py-3"},$={class:"px-6 py-3"},K={class:"px-6 py-3"},X={class:"px-6 py-3"},Z={class:"px-6 py-3"},ee={class:"px-6 py-3"},te={class:"px-6 py-3"},se={class:"px-6 py-3"},ae={class:"px-6 py-3"},ne=["onClick","disabled"],le={key:0,class:"fa fa-spinner fa-spin mr-1"},re={key:1,class:"fa fa-trash mr-1"},be={__name:"Index",props:{reservations:{type:Array,required:!0,default:()=>[]},search:String,status:String,dateFrom:String,dateTo:String},setup(y){const u=y,p=o(u.search||""),c=o(u.status||""),x=o(u.dateFrom||""),f=o(u.dateTo||""),r=o(null);function D(a){return a?new Date(a).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"-"}function T(a){return a?new Date(a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}function B(a){switch(a){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}}function F(a){switch(a){case"confirmed":return"Confirmed";case"cancelled":return"Cancelled";default:return"Pending"}}async function N(a){(await w.fire({title:"Hapus Reservasi?",text:"Data reservasi akan dihapus. Lanjutkan?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed&&(r.value=a,C.delete(route("reservations.destroy",{reservation:a}),{onSuccess:()=>{r.value=null,w.fire("Sukses","Reservasi berhasil dihapus!","success")},onError:()=>{r.value=null,w.fire("Error","Gagal menghapus reservasi","error")}}))}function _(){C.get(route("reservations.index"),{search:p.value,status:c.value,dateFrom:x.value,dateTo:f.value},{preserveState:!0,preserveScroll:!0})}function V(){p.value="",c.value="",x.value="",f.value="",_()}return(a,t)=>(l(),L(H,null,{default:g(()=>[e("div",M,[e("div",W,[t[5]||(t[5]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-calendar-check text-pink-500"}),i(" Reservasi ")],-1)),b(k(v),{href:a.route("reservations.create"),class:"bg-gradient-to-r from-pink-500 to-pink-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:g(()=>t[4]||(t[4]=[i(" + Buat Reservasi ")])),_:1},8,["href"])]),e("div",j,[e("div",G,[m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),type:"text",placeholder:"Cari nama reservasi...",class:"w-full rounded-lg border-gray-300"},null,512),[[h,p.value]])]),e("div",J,[e("div",P,[m(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=s=>x.value=s),class:"rounded-lg border-gray-300"},null,512),[[h,x.value]]),t[6]||(t[6]=e("span",{class:"text-gray-500"},"sampai",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),class:"rounded-lg border-gray-300"},null,512),[[h,f.value]])]),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>c.value=s),class:"rounded-lg border-gray-300"},t[7]||(t[7]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"confirmed"},"Confirmed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[R,c.value]]),e("button",{onClick:_,class:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700"}," Filter "),e("button",{onClick:V,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Reset ")])]),e("div",q,[e("table",z,[t[12]||(t[12]=e("thead",{class:"bg-gradient-to-r from-pink-50 to-pink-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider rounded-tl-2xl"},"No"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Outlet"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Tanggal"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Waktu"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Jumlah Tamu"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Area"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Created By"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),e("tbody",null,[y.reservations.length?E("",!0):(l(),d("tr",O,t[8]||(t[8]=[e("td",{colspan:"10",class:"text-center py-10 text-pink-300"},"Tidak ada data Reservasi.",-1)]))),(l(!0),d(I,null,U(y.reservations,(s,A)=>(l(),d("tr",{key:s.id,class:"hover:bg-pink-50 transition shadow-sm"},[e("td",Q,n(A+1),1),e("td",Y,n(s.name),1),e("td",$,n(s.outlet),1),e("td",K,n(D(s.reservation_date)),1),e("td",X,n(T(s.reservation_time)),1),e("td",Z,n(s.number_of_guests)+" orang",1),e("td",ee,[e("span",{class:S(["px-2 py-1 rounded-full text-xs font-medium",s.smoking_preference==="smoking"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},n(s.smoking_preference==="smoking"?"Smoking":"Non-Smoking"),3)]),e("td",te,[e("span",{class:S([B(s.status),"px-2 py-1 rounded-full text-xs font-bold"])},n(F(s.status)),3)]),e("td",se,n(s.created_by),1),e("td",ae,[b(k(v),{href:a.route("reservations.show",{reservation:s.id}),class:"inline-flex items-center btn btn-xs bg-pink-100 text-pink-800 hover:bg-pink-200 rounded px-2 py-1 font-semibold transition"},{default:g(()=>t[9]||(t[9]=[e("i",{class:"fa fa-eye mr-1"},null,-1),i(" Detail ")])),_:2},1032,["href"]),b(k(v),{href:a.route("reservations.edit",{reservation:s.id}),class:"ml-2 inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},{default:g(()=>t[10]||(t[10]=[e("i",{class:"fa fa-edit mr-1"},null,-1),i(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:oe=>N(s.id),disabled:r.value===s.id,class:"ml-2 inline-flex items-center btn btn-xs bg-red-100 text-red-800 hover:bg-red-200 rounded px-2 py-1 font-semibold transition disabled:opacity-50"},[r.value===s.id?(l(),d("i",le)):(l(),d("i",re)),t[11]||(t[11]=i(" Delete "))],8,ne)])]))),128))])])])])]),_:1}))}};export{be as default};
