import{P as M,c as b,A as B,B as a,C as y,D as e,G as u,O as C,H as i,Q as l,L as d,F as c,M as v,E as _,N as p,I as k,J as f,x as N,S as O,W as q}from"./vendor-vue-g7iCcTkf.js";import{A as D}from"./AppLayout-_5DIDCQX.js";import"./vendor-utils-CpgP2uT4.js";import"./app-fC6wJyCz.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-OI-F7Vdc.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const U={class:"max-w-4xl w-full mx-auto py-8 px-2"},F=["value"],L={key:0},P=["value"],R=["value"],j={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},E=["disabled"],I={key:0,class:"fa-solid fa-spinner fa-spin"},$={__name:"Create",props:{assets:Array,outlets:Array},setup(w){const m=w,r=M({asset_id:"",from_outlet_id:"",to_outlet_id:"",transfer_date:new Date().toISOString().split("T")[0],reason:"",notes:""}),o=b(()=>r.asset_id?m.assets.find(n=>n.id==r.asset_id):null),A=b(()=>m.assets.filter(n=>n.status==="Active")),T=b(()=>!o.value||!o.value.current_outlet_id?m.outlets:m.outlets.filter(n=>n.id!=o.value.current_outlet_id));function S(){o.value&&(r.from_outlet_id=o.value.current_outlet_id||"")}function V(){r.post("/asset-management/transfers",{preserveScroll:!0,onSuccess:()=>{q.visit("/asset-management/transfers")}})}return(n,t)=>(a(),B(D,null,{default:y(()=>{var g,x;return[e("div",U,[t[14]||(t[14]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-exchange-alt text-blue-500"}),u(" Request Transfer Asset ")])],-1)),e("form",{onSubmit:C(V,["prevent"]),class:"bg-white rounded-xl shadow-lg p-6 space-y-6"},[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" Asset "),e("span",{class:"text-red-500"},"*")],-1)),i(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l(r).asset_id=s),required:"",onChange:S,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[t[5]||(t[5]=e("option",{value:""},"Pilih Asset",-1)),(a(!0),d(c,null,v(A.value,s=>(a(),d("option",{key:s.id,value:s.id},[u(p(s.asset_code)+" - "+p(s.name)+" ",1),s.current_outlet?(a(),d("span",L,"("+p(s.current_outlet.name)+")",1)):_("",!0)],8,F))),128))],544),[[k,l(r).asset_id]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Outlet",-1)),e("input",{type:"text",value:((x=(g=o.value)==null?void 0:g.current_outlet)==null?void 0:x.name)||"Tidak Terikat",disabled:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"},null,8,P)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" To Outlet "),e("span",{class:"text-red-500"},"*")],-1)),i(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(r).to_outlet_id=s),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[t[8]||(t[8]=e("option",{value:""},"Pilih Outlet Tujuan",-1)),(a(!0),d(c,null,v(T.value,s=>(a(),d("option",{key:s.id,value:s.id},p(s.name),9,R))),128))],512),[[k,l(r).to_outlet_id]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[u(" Transfer Date "),e("span",{class:"text-red-500"},"*")],-1)),i(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=s=>l(r).transfer_date=s),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[f,l(r).transfer_date]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reason",-1)),i(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=s=>l(r).reason=s),rows:"3",placeholder:"Masukkan alasan transfer...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[f,l(r).reason]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Notes",-1)),i(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>l(r).notes=s),rows:"3",placeholder:"Masukkan catatan tambahan...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[f,l(r).notes]])]),e("div",j,[N(l(O),{href:"/asset-management/transfers",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:y(()=>t[13]||(t[13]=[u(" Batal ")])),_:1}),e("button",{type:"submit",disabled:l(r).processing,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2 disabled:opacity-50"},[l(r).processing?(a(),d("i",I)):_("",!0),e("span",null,p(l(r).processing?"Mengirim...":"Request Transfer"),1)],8,E)])],32)])]}),_:1}))}};export{$ as default};
