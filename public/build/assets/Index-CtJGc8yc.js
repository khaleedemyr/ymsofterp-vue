import{r as _,c as g,w as ot,A as lt,B as o,C as rt,x as L,D as t,L as l,E as c,Q as B,U as nt,H as F,F as v,M as w,N as r,I as J,J as Q,G as j,l as b,O as dt,W as it}from"./vendor-vue-g7iCcTkf.js";import{A as ut}from"./AppLayout-BaHOzAR0.js";import{m as z}from"./vendor-charts-CuqD4wLC.js";import{a as ct}from"./vendor-utils-CpgP2uT4.js";import{S as pt}from"./app-e_83ELsm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DOFHeIjT.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const xt={class:"p-6 space-y-6"},ht={class:"bg-white rounded-lg shadow p-4"},yt={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},mt=["value"],ft={class:"flex items-end"},gt=["disabled"],vt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},bt={class:"bg-white rounded-lg shadow p-6"},_t={class:"flex items-center justify-between"},wt={class:"text-2xl font-bold text-green-600 mt-1"},kt={class:"bg-white rounded-lg shadow p-6"},Ct={class:"flex items-center justify-between"},Dt={class:"text-2xl font-bold text-red-600 mt-1"},Ot={class:"bg-white rounded-lg shadow p-6"},St={class:"flex items-center justify-between"},Tt={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-4"},At={class:"text-sm font-medium text-gray-600"},It={class:"mt-2"},Nt={class:"text-lg font-bold"},Lt={class:"text-sm text-gray-600"},Bt={class:"bg-white rounded-lg shadow p-6"},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jt={class:"bg-white rounded-lg shadow p-6"},Rt={class:"bg-white rounded-lg shadow p-6"},Vt={class:"mt-4 space-y-2"},$t=["onClick"],zt={class:"font-medium"},Mt={class:"ml-2"},Ut={class:"text-gray-500 ml-2"},Et={key:1,class:"bg-white rounded-lg shadow p-6"},Gt={class:"overflow-x-auto"},Pt={class:"min-w-full divide-y divide-gray-200"},Wt={class:"bg-white divide-y divide-gray-200"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-green-600"},Qt={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-red-600"},Yt={class:"px-6 py-4 whitespace-nowrap text-sm text-right text-blue-600"},qt={class:"px-6 py-4 whitespace-nowrap text-sm text-center"},Xt=["onClick"],Zt={key:0},Kt={colspan:"6",class:"px-6 py-4 bg-gray-50"},te={class:"grid grid-cols-2 gap-4"},ee={class:"text-sm text-gray-600 space-y-1"},se={class:"bg-white rounded-lg shadow-xl max-w-4xl w-full m-4 max-h-[90vh] overflow-hidden flex flex-col"},ae={class:"px-6 py-4 border-b flex justify-between items-center"},oe={class:"text-xl font-bold text-gray-900"},le={key:0,class:"text-sm font-normal text-gray-600"},re={class:"flex-1 overflow-y-auto p-6"},ne={key:0,class:"text-center py-8"},de={key:1,class:"text-center py-8"},ie={key:2,class:"space-y-6"},ue={class:"bg-gray-50 px-4 py-3 border-b"},ce={class:"font-semibold text-gray-900 capitalize"},pe={class:"overflow-x-auto"},xe={class:"min-w-full divide-y divide-gray-200"},he={class:"bg-white divide-y divide-gray-200"},ye={key:0},me={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},fe={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},ge={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},ve={class:"px-4 py-3 whitespace-nowrap"},be={key:1,class:"text-gray-400 text-xs"},_e={class:"px-4 py-3 whitespace-nowrap text-sm text-right font-medium text-red-600"},we={class:"bg-gray-50"},ke={class:"px-4 py-3 text-right text-sm font-bold text-red-600"},Ce={key:3,class:"overflow-x-auto"},De={class:"min-w-full divide-y divide-gray-200"},Oe={class:"bg-gray-50"},Se={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Te={key:1,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Ae={key:2,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Ie={key:3,class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},Ne={key:4,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Le={key:5,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Be={key:6,class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},Fe={class:"bg-white divide-y divide-gray-200"},je={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},Re={key:0,class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},Ve={key:1,class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},$e={key:2,class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},ze={key:3,class:"px-4 py-3 whitespace-nowrap text-sm text-right font-medium text-green-600"},Me={key:4,class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},Ue={key:5,class:"px-4 py-3 whitespace-nowrap"},Ee={key:1,class:"text-gray-400 text-xs"},Ge={key:6,class:"px-4 py-3 whitespace-nowrap text-sm text-right font-medium text-red-600"},Pe={class:"bg-gray-50"},We=["colspan"],ss={__name:"Index",props:{dashboardData:Object,comparisonData:Object,outlets:Array,filters:Object},setup(k){var M,U,E,G;const p=k,A=_(!1),I=_(!1),x=_(null),N=_(null),h=_([]),R=_(!1),y=_({date_from:((M=p.filters)==null?void 0:M.date_from)||new Date().toISOString().split("T")[0],date_to:((U=p.filters)==null?void 0:U.date_to)||new Date().toISOString().split("T")[0],outlet_id:((E=p.filters)==null?void 0:E.outlet_id)||"ALL",compare_mode:((G=p.filters)==null?void 0:G.compare_mode)||"none"}),D=_(new Set),d=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),Y=a=>a==null?"text-gray-600":a>=90?"text-red-700":a>=75?"text-red-600":a>=60?"text-orange-600":a>=50?"text-yellow-600":a>=40?"text-yellow-500":"text-green-600",O=()=>{A.value=!0;const a=typeof route=="function"?route("cashflow-outlet-dashboard.index"):"/cashflow-outlet-dashboard";it.get(a,y.value,{preserveState:!0,onFinish:()=>{A.value=!1}})},q=a=>{D.value.has(a)?D.value.delete(a):D.value.add(a)},V=async(a,e=null)=>{var n,s;x.value=a,N.value=e,I.value=!0,R.value=!0,h.value=[];try{const i={type:a,date_from:y.value.date_from,date_to:y.value.date_to,outlet_id:y.value.outlet_id};e&&(i.category=e);const u=typeof route=="function"?route("cashflow-outlet-dashboard.detail"):"/cashflow-outlet-dashboard/detail",f=await ct.get(u,{params:i});f.data.category==="all"&&typeof f.data.data=="object"?h.value=f.data.data:h.value=f.data.data||[]}catch(i){console.error("Error fetching detail:",i),pt.fire({icon:"error",title:"Error",text:((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.error)||"Failed to load detail data"})}finally{R.value=!1}},m=g(()=>{var a;return((a=p.dashboardData)==null?void 0:a.overview)||{}}),X=g(()=>{var e;if(!((e=p.dashboardData)!=null&&e.cashflowTrend))return[];const a=p.dashboardData.cashflowTrend;return[{name:"Cash In",type:"line",data:a.map(n=>n.cash_in||0)},{name:"Cash Out",type:"line",data:a.map(n=>n.cash_out||0)},{name:"Net Cashflow",type:"line",data:a.map(n=>n.net_cashflow||0)}]}),Z=g(()=>{var a,e;return{chart:{type:"line",height:400,toolbar:{show:!0},animations:{enabled:!0,easing:"easeinout",speed:800}},xaxis:{categories:((e=(a=p.dashboardData)==null?void 0:a.cashflowTrend)==null?void 0:e.map(n=>new Date(n.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})))||[],title:{text:"Tanggal"},labels:{rotate:-45,style:{fontSize:"12px"}}},yaxis:{title:{text:"Amount (Rp)"},labels:{formatter:n=>d(n)}},colors:["#10b981","#ef4444","#3b82f6"],stroke:{width:[3,3,3],curve:"smooth"},legend:{position:"top",fontSize:"14px"},grid:{borderColor:"#e5e7eb",strokeDashArray:4},tooltip:{shared:!0,intersect:!1,custom:function({series:n,seriesIndex:s,dataPointIndex:i,w:u}){var T;const f=u.globals.labels[i],C=((T=p.dashboardData)==null?void 0:T.cashflowTrend)[i];return C?`
                <div class="px-3 py-2 bg-white border border-gray-200 rounded-lg shadow-lg">
                    <div class="text-sm font-semibold text-gray-900 mb-2">${f}</div>
                    <div class="text-sm space-y-1">
                        <div><span class="font-medium">Cash In:</span> ${d(C.cash_in||0)}</div>
                        <div><span class="font-medium">Cash Out:</span> ${d(C.cash_out||0)}</div>
                        <div><span class="font-medium">Net Cashflow:</span> ${d(C.net_cashflow||0)}</div>
                    </div>
                </div>
            `:""}}}}),K=g(()=>{var e;if(!((e=p.dashboardData)!=null&&e.cashflowTrend))return[];const a=p.dashboardData.cashflowTrend;return[{name:"Cash In",data:a.map(n=>n.cash_in||0)},{name:"Cash Out",data:a.map(n=>n.cash_out||0)}]}),tt=g(()=>{var a,e;return{chart:{type:"bar",height:400,stacked:!1,toolbar:{show:!0}},xaxis:{categories:((e=(a=p.dashboardData)==null?void 0:a.cashflowTrend)==null?void 0:e.map(n=>new Date(n.date).toLocaleDateString("id-ID",{day:"2-digit",month:"short"})))||[],title:{text:"Tanggal"},labels:{rotate:-45,style:{fontSize:"12px"}}},yaxis:{title:{text:"Amount (Rp)"},labels:{formatter:n=>d(n)}},colors:["#10b981","#ef4444"],plotOptions:{bar:{borderRadius:4,columnWidth:"60%"}},legend:{position:"top"},tooltip:{shared:!0,intersect:!1}}}),et=g(()=>{var a;return(a=p.dashboardData)!=null&&a.cashOutBreakdown?p.dashboardData.cashOutBreakdown.map(e=>e.value):[]}),st=g(()=>{var a,e;return{chart:{type:"donut",height:350},labels:((e=(a=p.dashboardData)==null?void 0:a.cashOutBreakdown)==null?void 0:e.map(n=>n.name))||[],colors:["#3b82f6","#10b981","#f59e0b","#ef4444"],legend:{position:"bottom"},tooltip:{y:{formatter:n=>d(n)}},plotOptions:{pie:{donut:{size:"70%",labels:{show:!0,total:{show:!0,label:"Total",formatter:()=>{var n,s;return d(((s=(n=p.dashboardData)==null?void 0:n.cashOutBreakdown)==null?void 0:s.reduce((i,u)=>i+u.value,0))||0)}}}}}}}}),$=g(()=>{var a;return((a=p.dashboardData)==null?void 0:a.outletSummary)||[]}),at=g(()=>p.comparisonData!==null);return ot(()=>p.filters,a=>{a&&(y.value={...a})},{deep:!0}),(a,e)=>(o(),lt(ut,null,{default:rt(()=>{var n;return[L(B(nt),{title:"Cashflow Outlet Dashboard"}),t("div",xt,[e[29]||(e[29]=t("div",{class:"flex justify-between items-center"},[t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Cashflow Outlet Dashboard"),t("p",{class:"text-gray-600 mt-1"},"Monitor cashflow per outlet dengan analisis lengkap")])],-1)),t("div",ht,[t("div",yt,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),F(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>y.value.outlet_id=s),onChange:O,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[e[8]||(e[8]=t("option",{value:"ALL"},"All Outlets",-1)),(o(!0),l(v,null,w(k.outlets,s=>(o(),l("option",{key:s.id,value:s.id},r(s.name),9,mt))),128))],544),[[J,y.value.outlet_id]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),F(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>y.value.date_from=s),onChange:O,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[Q,y.value.date_from]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),F(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>y.value.date_to=s),onChange:O,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,544),[[Q,y.value.date_to]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Compare",-1)),F(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>y.value.compare_mode=s),onChange:O,class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},e[12]||(e[12]=[t("option",{value:"none"},"No Comparison",-1),t("option",{value:"previous_period"},"Previous Period",-1),t("option",{value:"previous_year"},"Previous Year",-1)]),544),[[J,y.value.compare_mode]])]),t("div",ft,[t("button",{onClick:O,disabled:A.value,class:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50"},[e[14]||(e[14]=t("i",{class:"fas fa-sync-alt mr-2"},null,-1)),j(" "+r(A.value?"Loading...":"Refresh"),1)],8,gt)])])]),t("div",vt,[t("div",bt,[t("div",_t,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Cash In",-1)),t("p",wt,r(d(m.value.total_cash_in||0)),1),t("button",{onClick:e[4]||(e[4]=s=>V("cash_in")),class:"text-xs text-blue-600 hover:text-blue-800 mt-2"},e[15]||(e[15]=[t("i",{class:"fas fa-eye mr-1"},null,-1),j(" View Detail ")]))]),e[17]||(e[17]=t("div",{class:"bg-green-100 rounded-full p-3"},[t("i",{class:"fas fa-arrow-down text-green-600 text-xl"})],-1))])]),t("div",kt,[t("div",Ct,[t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Cash Out",-1)),t("p",Dt,r(d(m.value.total_cash_out||0)),1),m.value.cash_out_percentage!==void 0?(o(),l("p",{key:0,class:b(["text-sm font-semibold mt-1",Y(m.value.cash_out_percentage)])},r(m.value.cash_out_percentage.toFixed(1))+"% dari Cash In ",3)):c("",!0),t("button",{onClick:e[5]||(e[5]=s=>V("cash_out")),class:"text-xs text-blue-600 hover:text-blue-800 mt-2"},e[18]||(e[18]=[t("i",{class:"fas fa-eye mr-1"},null,-1),j(" View Detail ")]))]),e[20]||(e[20]=t("div",{class:"bg-red-100 rounded-full p-3"},[t("i",{class:"fas fa-arrow-up text-red-600 text-xl"})],-1))])]),t("div",Ot,[t("div",St,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-600"},"Net Cashflow",-1)),t("p",{class:b(["text-2xl font-bold mt-1",(m.value.net_cashflow||0)>=0?"text-green-600":"text-red-600"])},r(d(m.value.net_cashflow||0)),3)]),t("div",{class:b(["rounded-full p-3",(m.value.net_cashflow||0)>=0?"bg-green-100":"bg-red-100"])},[t("i",{class:b(["fas fa-chart-line text-xl",(m.value.net_cashflow||0)>=0?"text-green-600":"text-red-600"])},null,2)],2)])])]),at.value?(o(),l("div",Tt,[(o(),l(v,null,w([{label:"Cash In",key:"total_cash_in",color:"green"},{label:"Cash Out",key:"total_cash_out",color:"red"},{label:"Net Cashflow",key:"net_cashflow",color:"blue"}],(s,i)=>{var u,f,S,C,T,P,W,H;return t("div",{key:i,class:"bg-white rounded-lg shadow p-4"},[t("p",At,r(s.label),1),t("div",It,[t("p",Nt," Current: "+r(d(m.value[s.key]||0)),1),t("p",Lt," Compare: "+r(d(((f=(u=k.comparisonData)==null?void 0:u.overview)==null?void 0:f[s.key])||0)),1),t("p",{class:b(["text-xs mt-1",(m.value[s.key]||0)>=(((C=(S=k.comparisonData)==null?void 0:S.overview)==null?void 0:C[s.key])||0)?"text-green-600":"text-red-600"])},r((m.value[s.key]||0)-(((P=(T=k.comparisonData)==null?void 0:T.overview)==null?void 0:P[s.key])||0)>=0?"+":"")+" "+r(d((m.value[s.key]||0)-(((H=(W=k.comparisonData)==null?void 0:W.overview)==null?void 0:H[s.key])||0))),3)])])}),64))])):c("",!0),t("div",Bt,[e[22]||(e[22]=t("h2",{class:"text-xl font-bold text-gray-900 mb-4"},"Cashflow Trend",-1)),L(B(z),{type:"line",height:"400",options:Z.value,series:X.value},null,8,["options","series"])]),t("div",Ft,[t("div",jt,[e[23]||(e[23]=t("h2",{class:"text-xl font-bold text-gray-900 mb-4"},"Cash In vs Cash Out",-1)),L(B(z),{type:"bar",height:"400",options:tt.value,series:K.value},null,8,["options","series"])]),t("div",Rt,[e[24]||(e[24]=t("h2",{class:"text-xl font-bold text-gray-900 mb-4"},"Cash Out Breakdown",-1)),L(B(z),{type:"donut",height:"350",options:st.value,series:et.value},null,8,["options","series"]),t("div",Vt,[(o(!0),l(v,null,w((n=k.dashboardData)==null?void 0:n.cashOutBreakdown,s=>(o(),l("button",{key:s.name,onClick:i=>V("cash_out",s.name==="GR"?"gr":s.name.toLowerCase().replace(/ /g,"_")),class:"block w-full text-left px-3 py-2 bg-gray-50 rounded hover:bg-gray-100 text-sm"},[t("span",zt,r(s.name)+":",1),t("span",Mt,r(d(s.value)),1),t("span",Ut,"("+r(s.percentage?s.percentage.toFixed(1):0)+"%)",1)],8,$t))),128))])])]),$.value.length>0?(o(),l("div",Et,[e[28]||(e[28]=t("h2",{class:"text-xl font-bold text-gray-900 mb-4"},"Outlet Summary",-1)),t("div",Gt,[t("table",Pt,[e[27]||(e[27]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Outlet"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cash In"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cash Out"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Net Cashflow"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Closing Balance"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",Wt,[(o(!0),l(v,null,w($.value,s=>(o(),l("tr",{key:s.outlet_id},[t("td",Ht,r(s.outlet_name),1),t("td",Jt,r(d(s.cash_in)),1),t("td",Qt,r(d(s.cash_out)),1),t("td",{class:b(["px-6 py-4 whitespace-nowrap text-sm text-right font-medium",s.net_cashflow>=0?"text-green-600":"text-red-600"])},r(d(s.net_cashflow)),3),t("td",Yt,r(d(s.closing_balance)),1),t("td",qt,[t("button",{onClick:i=>q(s.outlet_id),class:"text-blue-600 hover:text-blue-800"},[t("i",{class:b(D.value.has(s.outlet_id)?"fas fa-chevron-up":"fas fa-chevron-down")},null,2)],8,Xt)])]))),128)),(o(!0),l(v,null,w($.value,s=>(o(),l(v,{key:s.outlet_id},[D.value.has(s.outlet_id)?(o(),l("tr",Zt,[t("td",Kt,[t("div",te,[t("div",null,[e[25]||(e[25]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Cash In Details:",-1)),t("ul",ee,[t("li",null,"Total Sales: "+r(d(s.cash_in)),1)])]),e[26]||(e[26]=t("div",null,[t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Cash Out Details:"),t("ul",{class:"text-sm text-gray-600 space-y-1"},[t("li",null,"Retail Food"),t("li",null,"Retail Non Food"),t("li",null,"Payment")])],-1))])])])):c("",!0)],64))),128))])])])])):c("",!0)]),I.value?(o(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[7]||(e[7]=dt(s=>I.value=!1,["self"]))},[t("div",se,[t("div",ae,[t("h3",oe,[j(" Detail "+r(x.value==="cash_in"?"Cash In":"Cash Out")+" ",1),N.value?(o(),l("span",le," - "+r(N.value.replace("_"," ").toUpperCase()),1)):c("",!0)]),t("button",{onClick:e[6]||(e[6]=s=>I.value=!1),class:"text-gray-400 hover:text-gray-600"},e[30]||(e[30]=[t("i",{class:"fas fa-times text-xl"},null,-1)]))]),t("div",re,[R.value?(o(),l("div",ne,e[31]||(e[31]=[t("i",{class:"fas fa-spinner fa-spin text-3xl text-gray-400"},null,-1),t("p",{class:"mt-2 text-gray-600"},"Loading...",-1)]))):!h.value||Array.isArray(h.value)&&h.value.length===0||typeof h.value=="object"&&!Array.isArray(h.value)&&Object.keys(h.value).length===0?(o(),l("div",de,e[32]||(e[32]=[t("p",{class:"text-gray-600"},"No data available",-1)]))):N.value===null&&typeof h.value=="object"&&!Array.isArray(h.value)?(o(),l("div",ie,[(o(!0),l(v,null,w(h.value,(s,i)=>(o(),l("div",{key:i,class:"border rounded-lg"},[t("div",ue,[t("h4",ce,r(i.replace("_"," ")),1)]),t("div",pe,[t("table",xe,[e[35]||(e[35]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Number"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Outlet"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source"),t("th",{class:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase"},"Amount")])],-1)),t("tbody",he,[!s||s.length===0?(o(),l("tr",ye,e[33]||(e[33]=[t("td",{colspan:"5",class:"px-4 py-3 text-center text-sm text-gray-500"},"No data available",-1)]))):c("",!0),(o(!0),l(v,null,w(s,(u,f)=>(o(),l("tr",{key:f},[t("td",me,r(new Date(u.date||u.receive_date||u.sale_date).toLocaleDateString("id-ID")),1),t("td",fe,r(u.number||"-"),1),t("td",ge,r(u.outlet_name||"-"),1),t("td",ve,[u.source?(o(),l("span",{key:0,class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",u.source==="GR"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},r(u.source),3)):(o(),l("span",be,"-"))]),t("td",_e,r(d(u.total||0)),1)]))),128))]),t("tfoot",we,[t("tr",null,[e[34]||(e[34]=t("td",{colspan:"4",class:"px-4 py-3 text-right text-sm font-bold text-gray-900"},"Total:",-1)),t("td",ke,r(d((s||[]).reduce((u,f)=>{const S=parseFloat(f.total)||0;return u+S},0))),1)])])])])]))),128))])):(o(),l("div",Ce,[t("table",De,[t("thead",Oe,[t("tr",null,[e[36]||(e[36]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date",-1)),x.value==="cash_in"?(o(),l("th",Se,"Transactions")):c("",!0),x.value==="cash_out"?(o(),l("th",Te,"Number")):c("",!0),x.value==="cash_in"?(o(),l("th",Ae,"Outlet")):c("",!0),x.value==="cash_in"?(o(),l("th",Ie,"Revenue")):c("",!0),x.value==="cash_out"?(o(),l("th",Ne,"Outlet")):c("",!0),x.value==="cash_out"?(o(),l("th",Le,"Source")):c("",!0),x.value==="cash_out"?(o(),l("th",Be,"Amount")):c("",!0)])]),t("tbody",Fe,[(o(!0),l(v,null,w(h.value,(s,i)=>(o(),l("tr",{key:i},[t("td",je,r(new Date(s.created_at||s.date||s.receive_date||s.sale_date).toLocaleDateString("id-ID")),1),x.value==="cash_in"?(o(),l("td",Re,r(s.transaction_count||0)+" transaksi ",1)):c("",!0),x.value==="cash_out"?(o(),l("td",Ve,r(s.number||s.payment_number||"-"),1)):c("",!0),x.value==="cash_in"?(o(),l("td",$e,r(s.outlet_name||s.kode_outlet||"-"),1)):c("",!0),x.value==="cash_in"?(o(),l("td",ze,r(d(s.revenue||s.grand_total||0)),1)):c("",!0),x.value==="cash_out"?(o(),l("td",Me,r(s.outlet_name||"-"),1)):c("",!0),x.value==="cash_out"?(o(),l("td",Ue,[s.source?(o(),l("span",{key:0,class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.source==="GR"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},r(s.source),3)):(o(),l("span",Ee,"-"))])):c("",!0),x.value==="cash_out"?(o(),l("td",Ge,r(d(s.total||s.amount||0)),1)):c("",!0)]))),128))]),t("tfoot",Pe,[t("tr",null,[t("td",{colspan:x.value==="cash_in"?4:5,class:"px-4 py-3 text-right text-sm font-bold text-gray-900"}," Total: "+r(d(h.value.reduce((s,i)=>{if(x.value==="cash_in"){const u=parseFloat(i.revenue||i.grand_total)||0;return s+u}else{const u=parseFloat(i.total||i.amount)||0;return s+u}},0))),9,We)])])])]))])])])):c("",!0)]}),_:1}))}};export{ss as default};
