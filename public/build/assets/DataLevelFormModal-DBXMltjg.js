import{P as y,w as h,r as w,L as n,E as r,B as d,D as l,N as u,O as k,H as b,J as p,Q as s,G as L}from"./vendor-vue-g7iCcTkf.js";import{S as v}from"./app-BjOxw_aQ.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const B={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},M={class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-0 animate-fade-in"},S={class:"px-8 pt-8 pb-2"},D={class:"flex items-center gap-2 mb-6"},N={class:"text-2xl font-bold text-gray-900"},V={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},C={key:0,class:"text-xs text-red-500 mt-1"},P={key:0,class:"text-xs text-red-500 mt-1"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q={key:0,class:"text-xs text-red-500 mt-1"},E={key:0,class:"text-xs text-red-500 mt-1"},T={key:0,class:"text-xs text-red-500 mt-1"},F={class:"bg-gray-50 px-6 py-4 flex justify-end rounded-b-2xl"},H=["disabled"],z={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},A={__name:"DataLevelFormModal",props:{show:Boolean,mode:String,dataLevel:Object},emits:["close","success"],setup(m,{emit:g}){const o=m,c=g,e=y({nama_level:"",nilai_level:"",nilai_public_holiday:0,nilai_dasar_potongan_bpjs:0,nilai_point:0,status:"A"});h(()=>o.show,_=>{_&&o.mode==="edit"&&o.dataLevel?(e.nama_level=o.dataLevel.nama_level,e.nilai_level=o.dataLevel.nilai_level,e.nilai_public_holiday=o.dataLevel.nilai_public_holiday,e.nilai_dasar_potongan_bpjs=o.dataLevel.nilai_dasar_potongan_bpjs,e.nilai_point=o.dataLevel.nilai_point):_&&o.mode==="create"&&(e.nama_level="",e.nilai_level="",e.nilai_public_holiday=0,e.nilai_dasar_potongan_bpjs=0,e.nilai_point=0,e.status="A")});const i=w(!1);async function f(){i.value=!0,o.mode==="create"?e.post(route("data-levels.store"),{onSuccess:()=>{v.fire("Berhasil","Data Level berhasil ditambahkan!","success"),c("success"),c("close")},onError:()=>i.value=!1,onFinish:()=>i.value=!1}):o.mode==="edit"&&o.dataLevel&&(e._method="PUT",e.post(route("data-levels.update",o.dataLevel.id),{onSuccess:()=>{v.fire("Berhasil","Data Level berhasil diupdate!","success"),c("success"),c("close")},onError:()=>i.value=!1,onFinish:()=>i.value=!1}))}function x(){c("close")}return(_,t)=>m.show?(d(),n("div",B,[l("div",M,[l("div",S,[l("div",D,[t[5]||(t[5]=l("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{d:"M16 7a4 4 0 01-8 0","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{d:"M12 3v4m0 0a4 4 0 01-4 4H4m8-4a4 4 0 014 4h4","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),l("h3",N,u(m.mode==="edit"?"Edit":"Tambah")+" Data Level",1)]),l("form",{onSubmit:k(f,["prevent"]),class:"space-y-5"},[l("div",V,[l("div",null,[t[6]||(t[6]=l("label",{class:"block text-sm font-medium text-gray-700"},"Nama Level",-1)),b(l("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).nama_level=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[p,s(e).nama_level]]),s(e).errors.nama_level?(d(),n("div",C,u(s(e).errors.nama_level),1)):r("",!0)]),l("div",null,[t[7]||(t[7]=l("label",{class:"block text-sm font-medium text-gray-700"},"Nilai Level",-1)),b(l("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s(e).nilai_level=a),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[p,s(e).nilai_level]]),s(e).errors.nilai_level?(d(),n("div",P,u(s(e).errors.nilai_level),1)):r("",!0)])]),l("div",U,[l("div",null,[t[8]||(t[8]=l("label",{class:"block text-sm font-medium text-gray-700"},"Nilai Public Holiday",-1)),b(l("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(e).nilai_public_holiday=a),type:"number",min:"0",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,s(e).nilai_public_holiday]]),s(e).errors.nilai_public_holiday?(d(),n("div",q,u(s(e).errors.nilai_public_holiday),1)):r("",!0)]),l("div",null,[t[9]||(t[9]=l("label",{class:"block text-sm font-medium text-gray-700"},"Nilai Dasar Potongan BPJS",-1)),b(l("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(e).nilai_dasar_potongan_bpjs=a),type:"number",min:"0",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,s(e).nilai_dasar_potongan_bpjs]]),s(e).errors.nilai_dasar_potongan_bpjs?(d(),n("div",E,u(s(e).errors.nilai_dasar_potongan_bpjs),1)):r("",!0)])]),l("div",null,[t[10]||(t[10]=l("label",{class:"block text-sm font-medium text-gray-700"},"Nilai Point",-1)),b(l("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>s(e).nilai_point=a),type:"number",min:"0",class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[p,s(e).nilai_point]]),s(e).errors.nilai_point?(d(),n("div",T,u(s(e).errors.nilai_point),1)):r("",!0)])],32)]),l("div",F,[l("button",{type:"button",onClick:x,class:"inline-flex items-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition sm:w-auto sm:text-sm mr-2"}," Batal "),l("button",{type:"button",onClick:f,disabled:i.value,class:"inline-flex items-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed"},[i.value?(d(),n("svg",z,t[11]||(t[11]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):r("",!0),L(" "+u(i.value?m.mode==="edit"?"Menyimpan...":"Menambah...":m.mode==="edit"?"Simpan":"Tambah"),1)],8,H)])])])):r("",!0)}},K=j(A,[["__scopeId","data-v-94fc0509"]]);export{K as default};
