import{P as k,r as D,A as _,B as n,C as c,D as e,G as r,O as M,H as u,Q as a,L as p,F as S,M as B,N as d,I as f,J as b,E as g,x as F,S as C,W as V}from"./vendor-vue-g7iCcTkf.js";import{A as N}from"./AppLayout-hxs5t3XP.js";import"./vendor-utils-CpgP2uT4.js";import"./app-D6rf3j_5.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-D4k-zQf5.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const P={class:"max-w-4xl w-full mx-auto py-8 px-2"},U=["value"],A={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I={key:0,class:"mt-4"},L={class:"text-sm text-gray-700"},O={class:"font-medium"},q={class:"text-xs text-gray-500"},z={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},G=["disabled"],T={key:0,class:"fa-solid fa-spinner fa-spin"},Q={__name:"Create",props:{assets:Array},setup(x){const s=k({asset_id:"",document_type:"",document_name:"",file:null,description:""}),i=D(null);function y(l){const t=l.target.files[0];t&&(i.value=t,s.file=t)}function v(l){if(!l)return"-";const t=["B","KB","MB","GB"];let o=l,m=0;for(;o>=1024&&m<t.length-1;)o/=1024,m++;return`${o.toFixed(2)} ${t[m]}`}function w(){const l=new FormData;l.append("asset_id",s.asset_id),l.append("document_type",s.document_type),l.append("document_name",s.document_name),l.append("file",s.file),l.append("description",s.description||""),s.transform(()=>l).post("/asset-management/documents",{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{V.visit("/asset-management/documents")}})}return(l,t)=>(n(),_(N,null,{default:c(()=>[e("div",P,[t[14]||(t[14]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-file-upload text-blue-500"}),r(" Upload Document ")])],-1)),e("form",{onSubmit:M(w,["prevent"]),class:"bg-white rounded-xl shadow-lg p-6 space-y-6"},[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[r(" Asset "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>a(s).asset_id=o),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[t[4]||(t[4]=e("option",{value:""},"Pilih Asset",-1)),(n(!0),p(S,null,B(x.assets,o=>(n(),p("option",{key:o.id,value:o.id},d(o.asset_code)+" - "+d(o.name),9,U))),128))],512),[[f,a(s).asset_id]])]),e("div",A,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[r(" Document Type "),e("span",{class:"text-red-500"},"*")],-1)),u(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>a(s).document_type=o),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},t[6]||(t[6]=[e("option",{value:""},"Pilih Tipe",-1),e("option",{value:"Invoice"},"Invoice",-1),e("option",{value:"Warranty"},"Warranty",-1),e("option",{value:"Manual"},"Manual",-1),e("option",{value:"Maintenance Record"},"Maintenance Record",-1),e("option",{value:"Other"},"Other",-1)]),512),[[f,a(s).document_type]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[r(" Document Name "),e("span",{class:"text-red-500"},"*")],-1)),u(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>a(s).document_name=o),required:"",placeholder:"Masukkan nama document",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[b,a(s).document_name]])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[r(" File "),e("span",{class:"text-red-500"},"*")],-1)),e("input",{type:"file",onChange:y,required:"",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx,.xls,.xlsx",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,32),t[11]||(t[11]=e("p",{class:"text-xs text-gray-500 mt-1"},"Format: PDF, Images (JPG, PNG), Documents (DOC, DOCX, XLS, XLSX), Max 10MB",-1)),i.value?(n(),p("div",I,[e("p",L,[t[9]||(t[9]=r("Selected file: ")),e("span",O,d(i.value.name),1)]),e("p",q,"Size: "+d(v(i.value.size)),1)])):g("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>a(s).description=o),rows:"3",placeholder:"Masukkan deskripsi document...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[b,a(s).description]])]),e("div",z,[F(a(C),{href:"/asset-management/documents",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:c(()=>t[13]||(t[13]=[r(" Batal ")])),_:1}),e("button",{type:"submit",disabled:a(s).processing,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2 disabled:opacity-50"},[a(s).processing?(n(),p("i",T)):g("",!0),e("span",null,d(a(s).processing?"Uploading...":"Upload"),1)],8,G)])],32)])]),_:1}))}};export{Q as default};
