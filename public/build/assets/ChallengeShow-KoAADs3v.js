import{A as S,B as s,C as N,D as t,L as a,E as d,G as u,N as n,l as v,F as g,M as m,W as w}from"./vendor-vue-g7iCcTkf.js";import{A as R}from"./AppLayout-CSX-_rnh.js";import"./vendor-utils-CpgP2uT4.js";import"./app-DcTypqnW.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-B1e0pQ9F.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const I={class:"w-full py-8 px-4"},V={key:0,class:"bg-white rounded-2xl shadow-lg overflow-hidden"},L={key:0,class:"w-full h-64 bg-gray-200 overflow-hidden"},O=["src","alt"],T={class:"p-6"},B={class:"mb-6"},E={class:"text-2xl font-bold text-gray-900 mb-2"},$={class:"flex items-center gap-4 mb-4"},q={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800"},P={key:0,class:"text-gray-600 mb-4"},j={class:"mb-6 bg-gray-50 rounded-lg p-4"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},F={class:"text-gray-900 font-semibold"},M={class:"text-gray-900"},W={key:0},z={class:"text-gray-900"},G={key:1},Q={class:"text-gray-900"},Y={key:0,class:"mt-4"},H={key:0,class:"space-y-3"},J={key:0},K={class:"text-gray-900 font-semibold"},X={key:1},Z={class:"text-gray-900 font-semibold"},p={key:2},ee={key:0},te={key:0,class:"space-y-2"},le={class:"text-gray-900 font-semibold"},se={key:1,class:"flex items-center gap-2"},ae={class:"text-gray-900 font-semibold"},ne={key:2,class:"text-gray-900 font-semibold"},re={key:1},de={class:"text-gray-900 font-semibold"},ie={key:2},oe={key:0,class:"space-y-2"},ce={class:"text-gray-900 font-semibold"},ue={key:1,class:"text-gray-900 font-semibold"},ge={key:3,class:"text-gray-900 font-semibold"},me={key:3},ye={key:0,class:"px-2 py-1 rounded text-sm bg-blue-100 text-blue-800"},he={key:1,class:"space-y-1"},xe={class:"text-gray-900 font-semibold"},be={key:2,class:"px-2 py-1 rounded text-sm bg-gray-100 text-gray-800"},fe={key:4},ve={key:1,class:"space-y-3"},we={key:0},ke={class:"space-y-2"},Ae={class:"text-gray-900 font-semibold"},De={key:1},Ce={class:"text-gray-900 font-semibold"},_e={key:2},Se={key:0,class:"px-2 py-1 rounded text-sm bg-blue-100 text-blue-800"},Ne={key:1,class:"space-y-1"},Re={class:"text-gray-900 font-semibold"},Ie={key:2,class:"px-2 py-1 rounded text-sm bg-gray-100 text-gray-800"},Ve={key:3},Le={class:"text-gray-900 font-semibold"},Oe={key:4},Te={key:0},Be={key:0,class:"space-y-2"},Ee={class:"text-gray-900 font-semibold"},$e={key:1,class:"text-gray-900 font-semibold"},qe={key:1},Pe={class:"text-gray-900 font-semibold"},je={key:2},Ue={key:0,class:"space-y-2"},Fe={class:"text-gray-900 font-semibold"},Me={key:1,class:"text-gray-900 font-semibold"},We={key:3,class:"text-gray-900 font-semibold"},ze={key:5},Ge={key:0,class:"px-2 py-1 rounded text-sm bg-blue-100 text-blue-800"},Qe={key:1,class:"space-y-1"},Ye={class:"text-gray-900 font-semibold"},He={key:2,class:"px-2 py-1 rounded text-sm bg-gray-100 text-gray-800"},Je={class:"mt-6 pt-6 border-t border-gray-200"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-500"},Xe={key:0},Ze={key:1},ot={__name:"ChallengeShow",props:{challenge:Object},setup(e){const o=e,k=r=>r?`/storage/${r}`:null,A=r=>r?new Intl.NumberFormat("id-ID").format(r):"0",h=r=>r?new Date(r).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"",x=r=>r?new Date(r).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",D=r=>({spending:"Spending-based",product:"Product-based","multi-condition":"Multi-condition",recurring:"Recurring",custom:"Custom"})[r]||r||"Unknown",b=r=>({item:"Item",points:"Points",voucher:"Voucher"})[r]||r||"Unknown",y=r=>{if(!r||!o.challenge)return null;const l=String(r);return o.challenge.reward_items&&o.challenge.reward_items[l]?o.challenge.reward_items[l].name:o.challenge.product_items&&o.challenge.product_items[l]?o.challenge.product_items[l].name:null},f=r=>{if(!r||!o.challenge)return null;const l=String(r);return o.challenge.reward_vouchers&&o.challenge.reward_vouchers[l]?o.challenge.reward_vouchers[l].name:null},C=()=>{w.visit("/admin/member-apps-settings")},_=()=>{w.visit("/admin/member-apps-settings",{onSuccess:()=>{setTimeout(()=>{window.dispatchEvent(new CustomEvent("edit-challenge",{detail:{challenge:o.challenge}}))},100)}})};return(r,l)=>(s(),S(R,{title:"Challenge Detail"},{default:N(()=>[t("div",I,[t("div",{class:"flex justify-between items-center mb-6"},[t("div",{class:"flex items-center gap-4"},[t("button",{onClick:C,class:"text-gray-600 hover:text-gray-800"},l[0]||(l[0]=[t("i",{class:"fa-solid fa-arrow-left text-xl"},null,-1)])),l[1]||(l[1]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-trophy text-purple-500"}),u(" Challenge Detail ")],-1))]),t("div",{class:"flex gap-2"},[t("button",{onClick:_,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"},l[2]||(l[2]=[t("i",{class:"fa-solid fa-edit mr-2"},null,-1),u("Edit ")]))])]),e.challenge?(s(),a("div",V,[e.challenge.image?(s(),a("div",L,[t("img",{src:k(e.challenge.image),alt:e.challenge.title,class:"w-full h-full object-cover"},null,8,O)])):d("",!0),t("div",T,[t("div",B,[t("h2",E,n(e.challenge.title),1),t("div",$,[t("span",{class:v(["px-3 py-1 rounded-full text-sm font-medium",e.challenge.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(e.challenge.is_active?"Active":"Inactive"),3),t("span",q,[l[3]||(l[3]=t("i",{class:"fa-solid fa-coins mr-1"},null,-1)),u(" "+n(e.challenge.points_reward)+" points ",1)])]),e.challenge.description?(s(),a("p",P,n(e.challenge.description),1)):d("",!0)]),t("div",j,[l[26]||(l[26]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Challenge Information",-1)),t("div",U,[t("div",null,[l[4]||(l[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Challenge Type",-1)),t("p",F,n(D(e.challenge.challenge_type_id)||"Not specified"),1)]),t("div",null,[l[5]||(l[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Validity Period",-1)),t("p",M,n(e.challenge.validity_period_days||30)+" days",1)]),e.challenge.start_date?(s(),a("div",W,[l[6]||(l[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),t("p",z,n(h(e.challenge.start_date)),1)])):d("",!0),e.challenge.end_date?(s(),a("div",G,[l[7]||(l[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),t("p",Q,n(h(e.challenge.end_date)),1)])):d("",!0)]),e.challenge.rules&&Object.keys(e.challenge.rules).length>0?(s(),a("div",Y,[l[25]||(l[25]=t("h4",{class:"text-md font-semibold text-gray-900 mb-3"},"Challenge Rules",-1)),e.challenge.challenge_type_id==="spending"?(s(),a("div",H,[e.challenge.rules.min_amount?(s(),a("div",J,[l[8]||(l[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Minimum Spending",-1)),t("p",K,"Rp "+n(A(e.challenge.rules.min_amount)),1)])):d("",!0),e.challenge.rules.reward_type?(s(),a("div",X,[l[9]||(l[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reward Type",-1)),t("p",Z,n(b(e.challenge.rules.reward_type)),1)])):d("",!0),e.challenge.rules.reward_type?(s(),a("div",p,[l[13]||(l[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reward Value",-1)),e.challenge.rules.reward_type==="item"&&e.challenge.rules.reward_value?(s(),a("div",ee,[Array.isArray(e.challenge.rules.reward_value)&&e.challenge.rules.reward_value.length>0?(s(),a("div",te,[(s(!0),a(g,null,m(e.challenge.rules.reward_value,(i,c)=>(s(),a("div",{key:c,class:"flex items-center gap-2"},[l[10]||(l[10]=t("i",{class:"fa-solid fa-box text-blue-600"},null,-1)),t("p",le,n(y(i)||`Item ID: ${i}`),1)]))),128))])):e.challenge.reward_item?(s(),a("div",se,[l[11]||(l[11]=t("i",{class:"fa-solid fa-box text-blue-600"},null,-1)),t("p",ae,n(e.challenge.reward_item.name),1)])):(s(),a("p",ne,n(e.challenge.rules.reward_value||"-"),1))])):e.challenge.rules.reward_type==="points"?(s(),a("div",re,[t("p",de,n(e.challenge.rules.reward_value||e.challenge.points_reward||0)+" points",1)])):e.challenge.rules.reward_type==="voucher"&&e.challenge.rules.reward_value?(s(),a("div",ie,[Array.isArray(e.challenge.rules.reward_value)&&e.challenge.rules.reward_value.length>0?(s(),a("div",oe,[(s(!0),a(g,null,m(e.challenge.rules.reward_value,(i,c)=>(s(),a("div",{key:c,class:"flex items-center gap-2"},[l[12]||(l[12]=t("i",{class:"fa-solid fa-tag text-green-600"},null,-1)),t("p",ce,n(f(i)||`Voucher ID: ${i}`),1)]))),128))])):(s(),a("p",ue,n(e.challenge.rules.reward_value||"-"),1))])):(s(),a("p",ge,n(e.challenge.rules.reward_value||"-"),1))])):d("",!0),(e.challenge.rules.reward_type==="item"||e.challenge.rules.reward_type==="voucher")&&e.challenge.rules.reward_all_outlets!==void 0?(s(),a("div",me,[l[14]||(l[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reward Available At",-1)),e.challenge.rules.reward_all_outlets?(s(),a("span",ye," All Outlets ")):e.challenge.rules.reward_outlet_ids&&e.challenge.rules.reward_outlet_ids.length>0?(s(),a("div",he,[t("p",xe,n(e.challenge.rules.reward_outlet_ids.length)+" Selected Outlet(s)",1)])):(s(),a("span",be,"Not specified"))])):d("",!0),e.challenge.rules.immediate!==void 0?(s(),a("div",fe,[l[15]||(l[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Immediate Reward",-1)),t("span",{class:v(["px-2 py-1 rounded text-sm",e.challenge.rules.immediate?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},n(e.challenge.rules.immediate?"Yes":"No"),3)])):d("",!0)])):e.challenge.challenge_type_id==="product"?(s(),a("div",ve,[e.challenge.rules.products&&Array.isArray(e.challenge.rules.products)&&e.challenge.rules.products.length>0?(s(),a("div",we,[l[17]||(l[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Selected Products",-1)),t("div",ke,[(s(!0),a(g,null,m(e.challenge.rules.products,(i,c)=>(s(),a("div",{key:c,class:"flex items-center gap-2"},[l[16]||(l[16]=t("i",{class:"fa-solid fa-box text-blue-600"},null,-1)),t("p",Ae,n(y(i)||`Product ID: ${i}`),1)]))),128))])])):d("",!0),e.challenge.rules.quantity_required?(s(),a("div",De,[l[18]||(l[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quantity Required",-1)),t("p",Ce,n(e.challenge.rules.quantity_required),1)])):d("",!0),e.challenge.rules.all_outlets!==void 0?(s(),a("div",_e,[l[19]||(l[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Available At",-1)),e.challenge.rules.all_outlets?(s(),a("span",Se," All Outlets ")):e.challenge.rules.outlet_ids&&e.challenge.rules.outlet_ids.length>0?(s(),a("div",Ne,[t("p",Re,n(e.challenge.rules.outlet_ids.length)+" Selected Outlet(s)",1)])):(s(),a("span",Ie,"Not specified"))])):d("",!0),e.challenge.rules.reward_type?(s(),a("div",Ve,[l[20]||(l[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reward Type",-1)),t("p",Le,n(b(e.challenge.rules.reward_type)),1)])):d("",!0),e.challenge.rules.reward_type?(s(),a("div",Oe,[l[23]||(l[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reward Value",-1)),e.challenge.rules.reward_type==="item"&&e.challenge.rules.reward_value?(s(),a("div",Te,[Array.isArray(e.challenge.rules.reward_value)&&e.challenge.rules.reward_value.length>0?(s(),a("div",Be,[(s(!0),a(g,null,m(e.challenge.rules.reward_value,(i,c)=>(s(),a("div",{key:c,class:"flex items-center gap-2"},[l[21]||(l[21]=t("i",{class:"fa-solid fa-box text-blue-600"},null,-1)),t("p",Ee,n(y(i)||`Item ID: ${i}`),1)]))),128))])):(s(),a("p",$e,n(e.challenge.rules.reward_value||"-"),1))])):e.challenge.rules.reward_type==="points"?(s(),a("div",qe,[t("p",Pe,n(e.challenge.rules.reward_value||e.challenge.points_reward||0)+" points",1)])):e.challenge.rules.reward_type==="voucher"&&e.challenge.rules.reward_value?(s(),a("div",je,[Array.isArray(e.challenge.rules.reward_value)&&e.challenge.rules.reward_value.length>0?(s(),a("div",Ue,[(s(!0),a(g,null,m(e.challenge.rules.reward_value,(i,c)=>(s(),a("div",{key:c,class:"flex items-center gap-2"},[l[22]||(l[22]=t("i",{class:"fa-solid fa-tag text-green-600"},null,-1)),t("p",Fe,n(f(i)||`Voucher ID: ${i}`),1)]))),128))])):(s(),a("p",Me,n(e.challenge.rules.reward_value||"-"),1))])):(s(),a("p",We,n(e.challenge.rules.reward_value||"-"),1))])):d("",!0),(e.challenge.rules.reward_type==="item"||e.challenge.rules.reward_type==="voucher")&&e.challenge.rules.reward_all_outlets!==void 0?(s(),a("div",ze,[l[24]||(l[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reward Available At",-1)),e.challenge.rules.reward_all_outlets?(s(),a("span",Ge," All Outlets ")):e.challenge.rules.reward_outlet_ids&&e.challenge.rules.reward_outlet_ids.length>0?(s(),a("div",Qe,[t("p",Ye,n(e.challenge.rules.reward_outlet_ids.length)+" Selected Outlet(s)",1)])):(s(),a("span",He,"Not specified"))])):d("",!0)])):d("",!0)])):d("",!0)]),t("div",Je,[t("div",Ke,[e.challenge.created_at?(s(),a("div",Xe,[l[27]||(l[27]=t("span",{class:"font-medium"},"Created:",-1)),u(" "+n(x(e.challenge.created_at)),1)])):d("",!0),e.challenge.updated_at?(s(),a("div",Ze,[l[28]||(l[28]=t("span",{class:"font-medium"},"Last Updated:",-1)),u(" "+n(x(e.challenge.updated_at)),1)])):d("",!0)])])])])):d("",!0)])]),_:1}))}};export{ot as default};
