import{r as F,c as u,A as T,B as r,C as E,D as t,G as n,O as S,H as c,J as g,N as a,L as x,F as B,M as I,l as P,W as f}from"./vendor-vue-g7iCcTkf.js";import{A}from"./AppLayout-zPRaA07p.js";import"./vendor-utils-CpgP2uT4.js";import"./app-_bo91XrJ.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CKY7MlXM.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const L={class:"max-w-7xl mx-auto py-8 px-2"},N={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},C={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},U={class:"bg-white rounded-xl shadow-lg p-6"},W={class:"flex items-center"},j={class:"ml-4"},q={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-xl shadow-lg p-6"},M={class:"flex items-center"},O={class:"ml-4"},Q={class:"text-2xl font-bold text-gray-900"},V={class:"bg-white rounded-xl shadow-lg p-6"},z={class:"flex items-center"},$={class:"ml-4"},G={class:"text-lg font-bold text-gray-900"},H={class:"bg-white rounded-xl shadow-lg p-6"},K={class:"flex items-center"},R={class:"ml-4"},X={class:"text-2xl font-bold text-gray-900"},Y={class:"bg-white rounded-xl shadow-lg overflow-hidden"},Z={class:"overflow-x-auto"},tt={class:"w-full"},et={class:"bg-white divide-y divide-gray-200"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pt={key:1,class:"text-gray-400"},vt={__name:"Report",props:{productions:Array,start_date:String,end_date:String},setup(p){const i=p,o=F({start_date:i.start_date||"",end_date:i.end_date||""}),y=u(()=>i.productions.reduce((l,e)=>l+parseFloat(e.qty_jadi||0),0)),b=u(()=>o.value.start_date&&o.value.end_date?`${d(o.value.start_date)} - ${d(o.value.end_date)}`:"Semua Periode"),w=u(()=>new Set(i.productions.map(e=>e.outlet_name)).size);function _(){f.visit(route("outlet-wip.index"))}function h(){f.get(route("outlet-wip.report"),{start_date:o.value.start_date,end_date:o.value.end_date},{preserveState:!0,replace:!0})}function d(l){return new Date(l).toLocaleDateString("id-ID")}function m(l){return l==null?"0.00":new Intl.NumberFormat("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l)}function v(l){return"Unit"}function k(l){return new Date(l)<new Date}function D(){alert("Export Excel functionality would be implemented here")}return(l,e)=>(r(),T(A,null,{default:E(()=>[t("div",L,[t("div",{class:"flex justify-between items-center mb-6"},[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-chart-bar text-blue-500"}),n(" Laporan Produksi WIP ")],-1)),t("button",{onClick:_,class:"bg-gray-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[2]||(e[2]=[t("i",{class:"fa fa-arrow-left mr-2"},null,-1),n(" Kembali ")]))]),t("div",N,[e[7]||(e[7]=t("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"Filter Laporan",-1)),t("form",{onSubmit:S(h,["prevent"]),class:"grid grid-cols-1 md:grid-cols-3 gap-4"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Mulai",-1)),c(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.start_date=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[g,o.value.start_date]])]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Akhir",-1)),c(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.end_date=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},null,512),[[g,o.value.end_date]])]),e[6]||(e[6]=t("div",{class:"flex items-end"},[t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors"},[t("i",{class:"fa fa-search mr-2"}),n(" Filter ")])],-1))],32)]),t("div",C,[t("div",U,[t("div",W,[e[9]||(e[9]=t("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[t("i",{class:"fa-solid fa-industry text-xl"})],-1)),t("div",j,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Produksi",-1)),t("p",q,a(p.productions.length),1)])])]),t("div",J,[t("div",M,[e[11]||(e[11]=t("div",{class:"p-3 rounded-full bg-green-100 text-green-600"},[t("i",{class:"fa-solid fa-box text-xl"})],-1)),t("div",O,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Qty Jadi",-1)),t("p",Q,a(y.value),1)])])]),t("div",V,[t("div",z,[e[13]||(e[13]=t("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600"},[t("i",{class:"fa-solid fa-calendar text-xl"})],-1)),t("div",$,[e[12]||(e[12]=t("p",{class:"text-sm font-medium text-gray-600"},"Periode",-1)),t("p",G,a(b.value),1)])])]),t("div",H,[t("div",K,[e[15]||(e[15]=t("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600"},[t("i",{class:"fa-solid fa-store text-xl"})],-1)),t("div",R,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-gray-600"},"Outlet Aktif",-1)),t("p",X,a(w.value),1)])])])]),t("div",Y,[e[17]||(e[17]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-semibold text-gray-800"},"Data Produksi WIP")],-1)),t("div",Z,[t("table",tt,[e[16]||(e[16]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Warehouse"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Jadi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Unit"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Exp Date")])],-1)),t("tbody",et,[(r(!0),x(B,null,I(p.productions,s=>(r(),x("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",st,a(d(s.production_date)),1),t("td",at,a(s.batch_number||"-"),1),t("td",lt,a(s.outlet_name),1),t("td",ot,a(s.warehouse_outlet_name),1),t("td",rt,a(s.item_name),1),t("td",it,a(m(s.qty)),1),t("td",dt,a(m(s.qty_jadi)),1),t("td",nt,a(v(s.unit_id)),1),t("td",xt,[s.exp_date?(r(),x("span",{key:0,class:P([k(s.exp_date)?"text-red-600":"text-green-600","font-semibold"])},a(d(s.exp_date)),3)):(r(),x("span",pt,"-"))])]))),128))])])])]),t("div",{class:"mt-6 flex justify-end"},[t("button",{onClick:D,class:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors"},e[18]||(e[18]=[t("i",{class:"fa fa-file-excel mr-2"},null,-1),n(" Export Excel ")]))])])]),_:1}))}};export{vt as default};
