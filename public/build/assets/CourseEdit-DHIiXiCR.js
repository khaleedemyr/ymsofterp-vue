import{r as j,a as O,A as J,B as u,C as E,D as e,x as B,Q as U,S as T,G as n,O as N,H as p,J as f,L as d,F as _,M as x,N as h,I as v,E as w,V as S,W as A}from"./vendor-vue-g7iCcTkf.js";import{A as L}from"./AppLayout-Dr73aeKz.js";import{S as b}from"./app-CZyV0iGJ.js";import"./vue-multiselect.esm-V-bx43V9.js";/* empty css                            */import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./ProfileUpdateModal-DbuU0LgT.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const K={class:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden"},$={class:"relative z-10 py-8 px-6"},R={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl mb-8"},z={class:"p-8 bg-gradient-to-r from-blue-600/80 via-purple-600/80 to-pink-600/80 rounded-3xl"},H={class:"flex items-center justify-between"},W={class:"flex items-center space-x-4"},Q={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},Y={class:"mb-6"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z=["disabled"],ee=["disabled"],te=["value"],ie=["disabled"],re=["disabled"],se={class:"mb-6"},oe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},le=["disabled"],ae=["disabled"],ne=["disabled"],ue=["value"],de={key:1,class:"space-y-2"},ce={class:"max-h-32 overflow-y-auto bg-white/5 rounded-lg p-3 border border-white/10"},pe=["id","value"],me=["for"],be={key:2,class:"px-4 py-3 bg-blue-500/20 border border-blue-500/30 rounded-lg"},ge={class:"space-y-2"},fe={class:"max-h-32 overflow-y-auto bg-white/5 rounded-lg p-3 border border-white/10"},ve=["id","value"],_e=["for"],xe={key:0,class:"text-xs text-white/60"},he={class:"space-y-2"},ye={class:"max-h-32 overflow-y-auto bg-white/5 rounded-lg p-3 border border-white/10"},we=["id","value"],ke=["for"],Ce=["disabled"],je=["disabled"],Ee=["disabled"],Se=["disabled"],Be={class:"mb-6"},Ue={class:"space-y-3"},Te={class:"flex-1"},Ae=["onUpdate:modelValue","placeholder","disabled"],Pe=["onClick","disabled"],Ve=["disabled"],De={class:"mb-6"},Ie={class:"space-y-4"},qe={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3"},Fe=["onUpdate:modelValue","disabled"],Me=["onUpdate:modelValue","disabled"],Oe=["onUpdate:modelValue","disabled"],Je={class:"mb-3"},Ne=["onUpdate:modelValue","disabled"],Le={class:"flex justify-end"},Ge=["onClick","disabled"],Ke=["disabled"],$e={class:"mb-6"},Re={class:"grid grid-cols-1 gap-6"},ze=["disabled"],He=["value"],We={class:"mb-6"},Qe={class:"space-y-4"},Ye={key:0,class:"flex items-center space-x-4"},Xe=["src"],Ze={class:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center hover:border-white/40 transition-colors"},et=["disabled"],tt={key:1,class:"space-y-3"},it={class:"relative inline-block"},rt=["src"],st=["disabled"],ot={class:"text-sm text-white/70"},lt=["disabled"],at={class:"mb-6"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ut=["disabled"],dt={class:"flex space-x-3 mt-6"},ct=["disabled"],pt={key:0,class:"flex items-center justify-center"},mt={key:1,class:"flex items-center justify-center"},bt={key:2,class:"absolute inset-0 bg-blue-600/20 backdrop-blur-sm"},gt=`
.multiselect {
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 0.5rem !important;
  color: white !important;
}

.multiselect:hover {
  border-color: rgba(255, 255, 255, 0.4) !important;
}

.multiselect:focus-within {
  border-color: #3b82f6 !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5) !important;
}

.multiselect__placeholder {
  color: rgba(255, 255, 255, 0.5) !important;
}

.multiselect__single {
  color: white !important;
  background: transparent !important;
}

.multiselect__input {
  color: white !important;
  background: transparent !important;
}

.multiselect__input::placeholder {
  color: rgba(255, 255, 255, 0.5) !important;
}

.multiselect__tags {
  background: transparent !important;
  border: none !important;
  padding: 0.75rem 1rem !important;
}

.multiselect__content-wrapper {
  background: rgba(15, 23, 42, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: 0.5rem !important;
  backdrop-filter: blur(10px) !important;
}

.multiselect__option {
  color: white !important;
  background: transparent !important;
  padding: 0.75rem 1rem !important;
}

.multiselect__option--highlight {
  background: rgba(59, 130, 246, 0.3) !important;
  color: white !important;
}

.multiselect__option--selected {
  background: rgba(59, 130, 246, 0.5) !important;
  color: white !important;
}

.multiselect__clear {
  color: rgba(255, 255, 255, 0.7) !important;
}

.multiselect__clear:hover {
  color: white !important;
}
`,ft={__name:"CourseEdit",props:{course:Object,categories:Array,divisions:Array,jabatans:Array,outlets:Array,certificateTemplates:Array},setup(g){if(typeof document<"u"){const c=document.createElement("style");c.textContent=gt,document.head.appendChild(c)}const s=g,a=j(!1),y=j(null),k=j(!1),i=j({title:"",short_description:"",description:"",category_id:"",target_type:"",target_division_id:"",target_divisions:[],target_jabatan_ids:[],target_outlet_ids:[],difficulty_level:"",duration_minutes:"",type:"in_class",specification:"generic",status:"draft",requirements:["",""],curriculum:[{order_number:1,title:"",description:"",duration_minutes:""}],certificate_template_id:"",thumbnail:null});O(()=>{let c=[];if(s.course.target_divisions)if(console.log("Processing target_divisions:",s.course.target_divisions,typeof s.course.target_divisions),Array.isArray(s.course.target_divisions))c=s.course.target_divisions.map(o=>parseInt(o)),console.log("Array processing result:",c);else if(typeof s.course.target_divisions=="string")try{const o=JSON.parse(s.course.target_divisions);console.log("JSON parsed result:",o),c=Array.isArray(o)?o.map(l=>parseInt(l)):[]}catch{console.log("JSON parsing failed, treating as single value"),c=[parseInt(s.course.target_divisions)]}else typeof s.course.target_divisions=="object"&&(console.log("Object processing:",s.course.target_divisions),Array.isArray(s.course.target_divisions)&&(c=s.course.target_divisions.map(o=>parseInt(typeof o=="object"?o.id:o))));let t=[];if(s.course.target_jabatan_ids)if(console.log("Processing target_jabatan_ids:",s.course.target_jabatan_ids,typeof s.course.target_jabatan_ids),Array.isArray(s.course.target_jabatan_ids))t=s.course.target_jabatan_ids.map(o=>parseInt(o));else if(typeof s.course.target_jabatan_ids=="string")try{const o=JSON.parse(s.course.target_jabatan_ids);t=Array.isArray(o)?o.map(l=>parseInt(l)):[]}catch{t=[parseInt(s.course.target_jabatan_ids)]}else typeof s.course.target_jabatan_ids=="object"&&Array.isArray(s.course.target_jabatan_ids)&&(t=s.course.target_jabatan_ids.map(o=>parseInt(typeof o=="object"?o.id_jabatan:o)));let r=[];if(s.course.target_outlet_ids)if(console.log("Processing target_outlet_ids:",s.course.target_outlet_ids,typeof s.course.target_outlet_ids),Array.isArray(s.course.target_outlet_ids))r=s.course.target_outlet_ids.map(o=>parseInt(o));else if(typeof s.course.target_outlet_ids=="string")try{const o=JSON.parse(s.course.target_outlet_ids);r=Array.isArray(o)?o.map(l=>parseInt(l)):[]}catch{r=[parseInt(s.course.target_outlet_ids)]}else typeof s.course.target_outlet_ids=="object"&&Array.isArray(s.course.target_outlet_ids)&&(r=s.course.target_outlet_ids.map(o=>parseInt(typeof o=="object"?o.id_outlet:o)));i.value={title:s.course.title||"",short_description:s.course.short_description||"",description:s.course.description||"",category_id:s.course.category_id||"",target_type:s.course.target_type||"",target_division_id:s.course.target_division_id?parseInt(s.course.target_division_id):"",target_divisions:c,target_jabatan_ids:t,target_outlet_ids:r,difficulty_level:s.course.difficulty_level||"",duration_minutes:s.course.duration_minutes||"",type:s.course.type||"offline",status:s.course.status||"draft",requirements:s.course.requirements&&s.course.requirements.length>0?[...s.course.requirements]:["",""],curriculum:s.course.lessons&&s.course.lessons.length>0?s.course.lessons.map(o=>({order_number:o.order_number,title:o.title,description:o.description||"",duration_minutes:o.duration_minutes})):[{order_number:1,title:"",description:"",duration_minutes:""}],certificate_template_id:s.course.certificate_template_id?parseInt(s.course.certificate_template_id):"",course_type:s.course.course_type||"",thumbnail:null},console.log("Course data:",s.course),console.log("Original target_divisions:",s.course.target_divisions),console.log("Processed target_divisions:",c),console.log("Form target_divisions:",i.value.target_divisions),console.log("Form target_jabatan_ids:",i.value.target_jabatan_ids),console.log("Form target_outlet_ids:",i.value.target_outlet_ids),console.log("Divisions data:",s.divisions),console.log("Jabatans data:",s.jabatans),console.log("Outlets data:",s.outlets)});const P=()=>{i.value.requirements.push("")},V=c=>{i.value.requirements.splice(c,1)},D=()=>{i.value.curriculum.push({order_number:i.value.curriculum.length+1,title:"",description:"",duration_minutes:""})},I=c=>{i.value.curriculum.splice(c,1),i.value.curriculum.forEach((t,r)=>{t.order_number=r+1})},q=c=>{const t=c.target.files[0];if(!t)return;if(!["image/jpeg","image/jpg","image/png"].includes(t.type)){b.fire({icon:"error",title:"Error!",text:"Hanya file PNG, JPG, atau JPEG yang diperbolehkan!",confirmButtonColor:"#EF4444"});return}const o=2*1024*1024;if(t.size>o){b.fire({icon:"error",title:"Error!",text:"Ukuran file maksimal 2MB!",confirmButtonColor:"#EF4444"});return}const l=new FileReader;l.onload=m=>{i.value.thumbnail={file:t,name:t.name,preview:m.target.result}},l.readAsDataURL(t)},F=()=>{i.value.thumbnail=null,y.value&&(y.value.value="")},M=async()=>{if(k.value||a.value)return;if(!i.value.title.trim()||!i.value.category_id||!i.value.difficulty_level||!i.value.duration_minutes){b.fire({icon:"error",title:"Error!",text:"Mohon lengkapi semua field yang wajib diisi!",confirmButtonColor:"#EF4444"});return}const c=i.value.target_division_id||i.value.target_divisions&&i.value.target_divisions.length>0||i.value.target_type==="all",t=i.value.target_jabatan_ids&&i.value.target_jabatan_ids.length>0,r=i.value.target_outlet_ids&&i.value.target_outlet_ids.length>0;if(!c&&!t&&!r){b.fire({icon:"error",title:"Error!",text:"Minimal harus memilih satu target: divisi, jabatan, atau outlet.",confirmButtonColor:"#EF4444"});return}if(i.value.target_type==="single"&&!i.value.target_division_id){b.fire({icon:"error",title:"Error!",text:"Mohon pilih divisi target!",confirmButtonColor:"#EF4444"});return}if(i.value.target_type==="multiple"&&(!i.value.target_divisions||i.value.target_divisions.length===0)){b.fire({icon:"error",title:"Error!",text:"Mohon pilih minimal satu divisi target!",confirmButtonColor:"#EF4444"});return}if(i.value.requirements.length===0||i.value.requirements.every(l=>!l.trim())){b.fire({icon:"error",title:"Error!",text:"Mohon tambahkan minimal satu persyaratan peserta!",confirmButtonColor:"#EF4444"});return}if(i.value.curriculum.length===0||i.value.curriculum.every(l=>!l.title.trim()||!l.order_number||!l.duration_minutes)){b.fire({icon:"error",title:"Error!",text:"Mohon tambahkan minimal satu sesi training dengan judul, urutan, dan durasi!",confirmButtonColor:"#EF4444"});return}if(!i.value.course_type){b.fire({icon:"error",title:"Error!",text:"Mohon pilih tipe course (mandatory/optional)!",confirmButtonColor:"#EF4444"});return}if((await b.fire({title:"Konfirmasi",text:"Apakah Anda yakin ingin memperbarui course ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3B82F6",cancelButtonColor:"#6B7280",confirmButtonText:"Ya, Update!",cancelButtonText:"Batal",reverseButtons:!0})).isConfirmed){console.log("Setting loading state to true"),a.value=!0,k.value=!0,console.log("Loading state:",a.value,"isSubmitting:",k.value),b.fire({title:"Memperbarui Course...",text:"Mohon tunggu sebentar...",icon:"info",showConfirmButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,didOpen:()=>{b.showLoading()}});try{const l=new FormData;l.append("title",i.value.title),l.append("short_description",i.value.short_description||""),l.append("description",i.value.description),l.append("category_id",i.value.category_id),l.append("difficulty_level",i.value.difficulty_level),l.append("duration_minutes",i.value.duration_minutes),l.append("status",i.value.status),l.append("course_type",i.value.course_type),l.append("target_type",i.value.target_type),i.value.target_type==="single"?l.append("target_division_id",i.value.target_division_id.toString()):i.value.target_type==="multiple"&&i.value.target_divisions.forEach(m=>{l.append("target_divisions[]",m.toString())}),i.value.target_jabatan_ids.forEach(m=>{l.append("target_jabatan_ids[]",m.toString())}),i.value.target_outlet_ids.forEach(m=>{l.append("target_outlet_ids[]",m.toString())}),i.value.requirements.forEach(m=>{l.append("requirements[]",m)}),i.value.curriculum.forEach((m,C)=>{l.append(`curriculum[${C}][order_number]`,m.order_number),l.append(`curriculum[${C}][title]`,m.title),l.append(`curriculum[${C}][description]`,m.description),l.append(`curriculum[${C}][duration_minutes]`,m.duration_minutes)}),i.value.thumbnail&&i.value.thumbnail.file&&l.append("thumbnail",i.value.thumbnail.file),A.post(route("lms.courses.update",s.course.id),l,{headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{b.fire({icon:"success",title:"Berhasil!",text:"Course berhasil diperbarui!",timer:3e3,timerProgressBar:!0,showConfirmButton:!1,toast:!0,position:"top-end",background:"#10B981",color:"#ffffff"}),A.reload()},onError:m=>{const C=Object.values(m).flat().join(", ");b.fire({icon:"error",title:"Error!",text:C||"Gagal memperbarui course. Silakan periksa kembali data yang diinput.",confirmButtonColor:"#EF4444",background:"#FEF2F2",color:"#DC2626"})}})}catch(l){console.error("Error updating course:",l),b.fire({icon:"error",title:"Error!",text:"Terjadi kesalahan saat memperbarui course",confirmButtonColor:"#EF4444",background:"#FEF2F2",color:"#DC2626"})}finally{console.log("Resetting loading state to false"),a.value=!1,k.value=!1,console.log("Loading state:",a.value,"isSubmitting:",k.value)}}};return(c,t)=>(u(),J(L,null,{default:E(()=>[e("div",K,[t[70]||(t[70]=e("div",{class:"absolute inset-0 overflow-hidden"},[e("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),e("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),e("div",{class:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),e("div",$,[e("div",R,[e("div",z,[e("div",H,[t[19]||(t[19]=e("div",{class:"space-y-4"},[e("h1",{class:"text-4xl font-bold text-white drop-shadow-lg"}," Edit Course "),e("p",{class:"text-xl text-white/90 drop-shadow-md"}," Perbarui informasi program pelatihan ")],-1)),e("div",W,[B(U(T),{href:c.route("lms.courses.show",g.course.id),class:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg"},{default:E(()=>t[18]||(t[18]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),n(" Kembali ke Course ")])),_:1},8,["href"])])])])]),e("div",Q,[e("form",{onSubmit:N(M,["prevent"]),class:"space-y-8"},[e("div",Y,[t[25]||(t[25]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-info-circle mr-2 text-blue-400"}),n(" Informasi Dasar ")],-1)),e("div",X,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Judul Course "),e("span",{class:"text-red-400"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>i.value.title=r),type:"text",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan judul course",disabled:a.value},null,8,Z),[[f,i.value.title]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Kategori "),e("span",{class:"text-red-400"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>i.value.category_id=r),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},[t[21]||(t[21]=e("option",{value:""},"Pilih Kategori",-1)),(u(!0),d(_,null,x(g.categories,r=>(u(),d("option",{key:r.id,value:r.id},h(r.name),9,te))),128))],8,ee),[[v,i.value.category_id]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Deskripsi Singkat",-1)),p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=r=>i.value.short_description=r),rows:"3",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deskripsi singkat course (opsional)",disabled:a.value},null,8,ie),[[f,i.value.short_description]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Deskripsi Lengkap "),e("span",{class:"text-red-400"},"*")],-1)),p(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=r=>i.value.description=r),rows:"3",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deskripsi lengkap course",disabled:a.value},null,8,re),[[f,i.value.description]])])])]),e("div",se,[t[44]||(t[44]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-cog mr-2 text-green-400"}),n(" Pengaturan Course ")],-1)),e("div",oe,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Tipe Course "),e("span",{class:"text-red-400"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=r=>i.value.course_type=r),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},t[26]||(t[26]=[e("option",{value:""},"Pilih Tipe Course",-1),e("option",{value:"mandatory"},"Mandatory (Wajib)",-1),e("option",{value:"optional"},"Optional (Opsional)",-1)]),8,le),[[v,i.value.course_type]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Target Divisi "),e("span",{class:"text-gray-400 text-xs"},"(Opsional)")],-1)),p(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>i.value.target_type=r),class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-3",disabled:a.value},t[28]||(t[28]=[e("option",{value:""},"Pilih Tipe Target",-1),e("option",{value:"single"},"1 Divisi",-1),e("option",{value:"multiple"},"Multi Divisi",-1),e("option",{value:"all"},"Semua Divisi",-1)]),8,ae),[[v,i.value.target_type]]),i.value.target_type==="single"?p((u(),d("select",{key:0,"onUpdate:modelValue":t[6]||(t[6]=r=>i.value.target_division_id=r),class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},[t[29]||(t[29]=e("option",{value:""},"Pilih Divisi",-1)),(u(!0),d(_,null,x(g.divisions,r=>(u(),d("option",{key:r.id,value:r.id},h(r.nama_divisi),9,ue))),128))],8,ne)),[[v,i.value.target_division_id]]):w("",!0),i.value.target_type==="multiple"?(u(),d("div",de,[e("div",ce,[(u(!0),d(_,null,x(g.divisions,r=>(u(),d("div",{key:r.id,class:"flex items-center mb-2"},[p(e("input",{type:"checkbox",id:"division-"+r.id,value:parseInt(r.id),"onUpdate:modelValue":t[7]||(t[7]=o=>i.value.target_divisions=o),class:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 rounded focus:ring-blue-500 focus:ring-2"},null,8,pe),[[S,i.value.target_divisions]]),e("label",{for:"division-"+r.id,class:"ml-2 text-sm text-white/80 cursor-pointer"},h(r.nama_divisi),9,me)]))),128))]),t[30]||(t[30]=e("p",{class:"text-xs text-white/60"},"Pilih satu atau lebih divisi yang ditarget",-1))])):w("",!0),i.value.target_type==="all"?(u(),d("div",be,t[31]||(t[31]=[e("p",{class:"text-sm text-blue-200"},[e("i",{class:"fas fa-info-circle mr-2"}),n(" Course ini akan tersedia untuk semua divisi ")],-1)]))):w("",!0)]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Target Jabatan "),e("span",{class:"text-gray-400 text-xs"},"(Opsional)")],-1)),e("div",ge,[e("div",fe,[(u(!0),d(_,null,x(g.jabatans,r=>(u(),d("div",{key:r.id_jabatan,class:"flex items-center mb-2"},[p(e("input",{type:"checkbox",id:"jabatan-"+r.id_jabatan,value:parseInt(r.id_jabatan),"onUpdate:modelValue":t[8]||(t[8]=o=>i.value.target_jabatan_ids=o),class:"w-4 h-4 text-green-600 bg-white/10 border-white/20 rounded focus:ring-green-500 focus:ring-2"},null,8,ve),[[S,i.value.target_jabatan_ids]]),e("label",{for:"jabatan-"+r.id_jabatan,class:"ml-2 text-sm text-white/80 cursor-pointer"},[n(h(r.nama_jabatan)+" ",1),r.divisi?(u(),d("span",xe,"("+h(r.divisi.nama_divisi)+")",1)):w("",!0)],8,_e)]))),128))]),t[33]||(t[33]=e("p",{class:"text-xs text-white/60"},"Pilih jabatan yang ditarget (opsional)",-1))])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Target Outlet "),e("span",{class:"text-gray-400 text-xs"},"(Opsional)")],-1)),e("div",he,[e("div",ye,[(u(!0),d(_,null,x(g.outlets,r=>(u(),d("div",{key:r.id_outlet,class:"flex items-center mb-2"},[p(e("input",{type:"checkbox",id:"outlet-"+r.id_outlet,value:parseInt(r.id_outlet),"onUpdate:modelValue":t[9]||(t[9]=o=>i.value.target_outlet_ids=o),class:"w-4 h-4 text-purple-600 bg-white/10 border-white/20 rounded focus:ring-purple-500 focus:ring-2"},null,8,we),[[S,i.value.target_outlet_ids]]),e("label",{for:"outlet-"+r.id_outlet,class:"ml-2 text-sm text-white/80 cursor-pointer"},h(r.nama_outlet),9,ke)]))),128))]),t[35]||(t[35]=e("p",{class:"text-xs text-white/60"},"Pilih outlet yang ditarget (opsional)",-1))])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Level Kesulitan "),e("span",{class:"text-red-400"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[10]||(t[10]=r=>i.value.difficulty_level=r),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},t[37]||(t[37]=[e("option",{value:""},"Pilih Level",-1),e("option",{value:"beginner"},"Pemula",-1),e("option",{value:"intermediate"},"Menengah",-1),e("option",{value:"advanced"},"Lanjutan",-1)]),8,Ce),[[v,i.value.difficulty_level]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Durasi (menit) "),e("span",{class:"text-red-400"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>i.value.duration_minutes=r),type:"number",required:"",min:"1",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Durasi dalam menit",disabled:a.value},null,8,je),[[f,i.value.duration_minutes]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Tipe Training "),e("span",{class:"text-red-400"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[12]||(t[12]=r=>i.value.type=r),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},t[40]||(t[40]=[e("option",{value:"online"},"Online",-1),e("option",{value:"in_class"},"In Class",-1),e("option",{value:"practice"},"Practice",-1)]),8,Ee),[[v,i.value.type]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Spesifikasi "),e("span",{class:"text-red-400"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[13]||(t[13]=r=>i.value.specification=r),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},t[42]||(t[42]=[e("option",{value:"generic"},"Generic",-1),e("option",{value:"departemental"},"Departemental",-1)]),8,Se),[[v,i.value.specification]])])])]),e("div",Be,[t[47]||(t[47]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-clipboard-list mr-2 text-green-400"}),n(" Persyaratan Peserta ")],-1)),e("div",Ue,[(u(!0),d(_,null,x(i.value.requirements,(r,o)=>(u(),d("div",{key:o,class:"flex items-center space-x-3"},[e("div",Te,[p(e("input",{"onUpdate:modelValue":l=>i.value.requirements[o]=l,type:"text",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Persyaratan ${o+1}`,disabled:a.value},null,8,Ae),[[f,i.value.requirements[o]]])]),e("button",{type:"button",onClick:l=>V(o),class:"px-3 py-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300 hover:bg-red-500/30 transition-colors",disabled:a.value},t[45]||(t[45]=[e("i",{class:"fas fa-trash"},null,-1)]),8,Pe)]))),128)),e("button",{type:"button",onClick:P,class:"w-full px-4 py-3 bg-green-500/20 border border-green-500/30 rounded-lg text-green-300 hover:bg-green-500/30 transition-colors",disabled:a.value},t[46]||(t[46]=[e("i",{class:"fas fa-plus mr-2"},null,-1),n(" Tambah Persyaratan ")]),8,Ve)])]),e("div",De,[t[54]||(t[54]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-list mr-2 text-blue-400"}),n(" Kurikulum Training ")],-1)),e("div",Ie,[(u(!0),d(_,null,x(i.value.curriculum,(r,o)=>(u(),d("div",{key:o,class:"border border-white/20 rounded-lg p-4"},[e("div",qe,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Urutan "),e("span",{class:"text-red-400"},"*")],-1)),p(e("input",{"onUpdate:modelValue":l=>r.order_number=l,type:"number",min:"1",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Urutan sesi",disabled:a.value},null,8,Fe),[[f,r.order_number]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Judul Sesi "),e("span",{class:"text-red-400"},"*")],-1)),p(e("input",{"onUpdate:modelValue":l=>r.title=l,type:"text",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Judul sesi training",disabled:a.value},null,8,Me),[[f,r.title]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Durasi (menit) "),e("span",{class:"text-red-400"},"*")],-1)),p(e("input",{"onUpdate:modelValue":l=>r.duration_minutes=l,type:"number",min:"1",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Durasi dalam menit",disabled:a.value},null,8,Oe),[[f,r.duration_minutes]])])]),e("div",Je,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Deskripsi Sesi",-1)),p(e("textarea",{"onUpdate:modelValue":l=>r.description=l,rows:"2",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deskripsi detail sesi training",disabled:a.value},null,8,Ne),[[f,r.description]])]),e("div",Le,[i.value.curriculum.length>1?(u(),d("button",{key:0,onClick:l=>I(o),type:"button",class:"px-3 py-2 bg-red-500/20 border border-red-500/30 text-red-300 hover:bg-red-500/30 rounded-lg transition-colors text-sm",disabled:a.value},t[52]||(t[52]=[e("i",{class:"fas fa-trash mr-1"},null,-1),n(" Hapus Sesi ")]),8,Ge)):w("",!0)])]))),128)),e("button",{onClick:D,type:"button",class:"w-full py-3 border-2 border-dashed border-white/20 rounded-lg text-white hover:border-white/40 transition-colors",disabled:a.value},t[53]||(t[53]=[e("i",{class:"fas fa-plus mr-2"},null,-1),n(" Tambah Sesi Training ")]),8,Ke)])]),e("div",$e,[t[58]||(t[58]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-certificate mr-2 text-yellow-400"}),n(" Template Sertifikat ")],-1)),e("div",Re,[e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n(" Template Sertifikat Default "),e("span",{class:"text-gray-400 text-xs ml-2"},"(Opsional)")],-1)),p(e("select",{"onUpdate:modelValue":t[14]||(t[14]=r=>i.value.certificate_template_id=r),class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},[t[55]||(t[55]=e("option",{value:""},"Pilih template (akan diminta saat penerbitan sertifikat)",-1)),(u(!0),d(_,null,x(g.certificateTemplates,r=>(u(),d("option",{key:r.id,value:r.id},h(r.name),9,He))),128))],8,ze),[[v,i.value.certificate_template_id]]),t[57]||(t[57]=e("p",{class:"text-xs text-gray-400 mt-1"},[e("i",{class:"fas fa-info-circle mr-1"}),n(" Jika dipilih, template ini akan otomatis digunakan saat menerbitkan sertifikat. Jika tidak dipilih, sistem akan meminta pilihan template saat penerbitan. ")],-1))])])]),e("div",We,[t[63]||(t[63]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-image mr-2 text-purple-400"}),n(" Thumbnail Course ")],-1)),e("div",Qe,[g.course.thumbnail_url?(u(),d("div",Ye,[e("img",{src:g.course.thumbnail_url,alt:"Current thumbnail",class:"w-32 h-24 object-cover rounded-lg border border-white/20"},null,8,Xe),t[59]||(t[59]=e("div",null,[e("p",{class:"text-sm text-white/70"},"Thumbnail saat ini"),e("p",{class:"text-xs text-white/50"},"Upload file baru untuk mengganti")],-1))])):w("",!0),e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Upload Thumbnail Baru",-1)),e("div",Ze,[e("input",{ref_key:"fileInput",ref:y,type:"file",accept:"image/*",onChange:q,class:"hidden",disabled:a.value},null,40,et),i.value.thumbnail?(u(),d("div",tt,[e("div",it,[e("img",{src:i.value.thumbnail.preview,alt:"Thumbnail Preview",class:"max-w-full h-32 object-cover rounded-lg border border-white/20"},null,8,rt),e("button",{onClick:F,type:"button",class:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors",disabled:a.value},t[61]||(t[61]=[e("i",{class:"fas fa-times"},null,-1)]),8,st)]),e("p",ot,h(i.value.thumbnail.name),1),e("button",{onClick:t[16]||(t[16]=()=>{y.value&&y.value.click()}),type:"button",class:"text-sm text-blue-400 hover:text-blue-300 transition-colors",disabled:a.value}," Ganti Thumbnail ",8,lt)])):(u(),d("div",{key:0,onClick:t[15]||(t[15]=()=>{y.value&&y.value.click()}),class:"cursor-pointer"},t[60]||(t[60]=[e("i",{class:"fas fa-cloud-upload-alt text-4xl text-white/50 mb-4"},null,-1),e("p",{class:"text-white/70 mb-2"},"Klik untuk upload thumbnail",-1),e("p",{class:"text-xs text-white/50"},"PNG, JPG, JPEG (Max: 2MB)",-1)])))])])])]),e("div",at,[t[66]||(t[66]=e("h4",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[e("i",{class:"fas fa-sliders-h mr-2 text-purple-400"}),n(" Pengaturan Tambahan ")],-1)),e("div",nt,[e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[n("Status "),e("span",{class:"text-red-400"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[17]||(t[17]=r=>i.value.status=r),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:a.value},t[64]||(t[64]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"archived"},"Archived",-1)]),8,ut),[[v,i.value.status]])])])]),e("div",dt,[B(U(T),{href:c.route("lms.courses.show",g.course.id),class:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors duration-200 text-center",disabled:a.value},{default:E(()=>t[67]||(t[67]=[n(" Batal ")])),_:1},8,["href","disabled"]),e("button",{type:"submit",disabled:a.value||k.value,class:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden"},[a.value?(u(),d("span",pt,t[68]||(t[68]=[e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),n(" Menyimpan... ")]))):(u(),d("span",mt,t[69]||(t[69]=[e("i",{class:"fas fa-save mr-2"},null,-1),n(" Update Course ")]))),a.value?(u(),d("div",bt)):w("",!0)],8,ct)])],32)])])])]),_:1}))}},Ut=G(ft,[["__scopeId","data-v-67d2fcc9"]]);export{Ut as default};
