import{J as W}from"./JsBarcode-7kUKaxTf.js";import{E as M}from"./jspdf.es.min-CnhdzX7G.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as q,c as N,w as D,n as S,a as G,L as d,B as c,D as t,F as H,M as T,Y as z,G as P,R as J,N as m}from"./vendor-vue-g7iCcTkf.js";import"./app-ErXbte2J.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const O={class:"barcode-body"},$={class:"barcode-image"},j={class:"barcode-info"},U={class:"barcode-text"},X={class:"barcode-name"},K={class:"mt-4 mb-2 text-sm text-yellow-700 bg-yellow-100 border border-yellow-300 rounded p-2 no-print"},Q={class:"flex justify-end mt-4 no-print"},Z=29.7,I=21,ee={__name:"SmallPrintPreview",props:{sku:String,name:String,qty:{type:Number,default:1}},setup(A){const s=A,V=q(!0),o=q([]);function E(a,e){for(o.value||(o.value=[]);o.value.length<=a;)o.value.push(null);o.value[a]=e}const r=N(()=>{const a=Array.from({length:s.qty},()=>s.sku),e=[];for(let l=0;l<a.length;l+=3)e.push(a.slice(l,l+3));return e}),F=N(()=>r.value.length),h=()=>{o.value.forEach((a,e)=>{a&&W(a,s.sku,{width:1,height:35,displayValue:!1})})};D(()=>r.value.length,a=>{o.value=Array(a*3).fill(null),S(()=>h())}),D(()=>s.sku,()=>{S(()=>h())}),G(()=>{o.value=Array(r.value.length*3).fill(null),S(()=>h())});async function L(){const n=new M({orientation:"landscape",unit:"mm",format:[297,210]});let y=2;for(let k=0;k<r.value.length;k++){for(let b=0;b<3;b++){let i;b===0?i=5:b===1?i=35:i=70;const w=r.value[k][b];if(!w)continue;const _=24,g=9,v=2,f=document.createElement("canvas");f.width=_*v,f.height=g*v,W(f,w,{width:1*v,height:g*v,displayValue:!1});const R=i+(25-_)/2;n.addImage(f,"PNG",R,y+.2,_,g);let x=y+g+.5;n.setFontSize(4),n.setFont(void 0,"bold"),n.text(w,i+25/2,x,{align:"center"}),x+=1.5;const Y=s.name||"";n.setFontSize(3),n.setFont(void 0,"bold"),n.text(Y,i+25/2,x,{align:"center"})}y+=15}n.save(`${s.sku}_small_labels_3x1.5cm.pdf`)}return(a,e)=>(c(),d("div",{class:"print-container",style:z({height:F.value*1.5+"cm"})},[t("div",{class:"print-content",style:z({height:F.value*1.5+"cm"})},[(c(!0),d(H,null,T(r.value,(l,u)=>(c(),d("div",{key:"row-"+u,class:"barcode-row"},[(c(!0),d(H,null,T(l,(B,p)=>(c(),d("div",{key:"sku-"+u+"-"+p,class:"barcode-label"},[t("div",O,[t("div",$,[(c(),d("svg",{ref_for:!0,ref:n=>E(u*3+p,n),key:"svg-"+u+"-"+p}))]),t("div",j,[t("div",U,[t("strong",null,m(B),1)]),t("div",X,[t("strong",null,m(s.name),1)])])])]))),128))]))),128))],4),t("div",K,[e[1]||(e[1]=t("strong",null,"Tips Print:",-1)),P(" Untuk mencetak "+m(s.qty)+" label ukuran 2.5x1.2cm dengan presisi:",1),e[2]||(e[2]=t("br",null,null,-1)),e[3]||(e[3]=P(" • ")),e[4]||(e[4]=t("b",null,"Paper Size:",-1)),P(" A4 Landscape ("+m(Z)+"cm x "+m(I)+"cm)"),e[5]||(e[5]=J("<br data-v-760e5bd6> • <b data-v-760e5bd6>Margin:</b> Posisi tetap (5mm, 35mm, 65mm dari kiri, 2mm atas)<br data-v-760e5bd6> • <b data-v-760e5bd6>Scale:</b> 100% (Actual Size)<br data-v-760e5bd6> • <b data-v-760e5bd6>Orientation:</b> Landscape<br data-v-760e5bd6> • <b data-v-760e5bd6>Options:</b> Disable &quot;Fit to Page&quot; dan &quot;Shrink to Fit&quot;<br data-v-760e5bd6> Setiap label berukuran 2.5cm x 1.2cm dengan gap 0.3cm. ",18))]),t("div",Q,[t("button",{onClick:e[0]||(e[0]=l=>V.value=!1),class:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300"},"Tutup"),t("button",{onClick:L,class:"ml-2 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"},"Download PDF")])],4))}},de=C(ee,[["__scopeId","data-v-760e5bd6"]]);export{de as default};
