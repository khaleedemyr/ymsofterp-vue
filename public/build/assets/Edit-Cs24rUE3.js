import{r as v,P as T,A as E,B as l,C as g,D as e,O as M,G as a,H as y,L as n,E as u,l as x,Q as o,J as w,N as b,I as U,x as f,S as k}from"./vendor-vue-g7iCcTkf.js";import{A as N}from"./AppLayout-cuNKSDqJ.js";import{S as h}from"./app-Bb65-N1P.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-aFVowX1N.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const V={class:"flex items-center justify-between"},j={class:"flex items-center space-x-2"},A={class:"py-6"},C={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},I={class:"px-6 py-4 space-y-4"},F={key:0,class:"text-red-500 text-sm mt-1"},q={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},L={class:"bg-white dark:bg-gray-800 shadow rounded-lg"},O={class:"px-6 py-4"},K={key:0,class:"mb-4"},R={class:"relative inline-block"},z=["src"],H={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},Q={key:0,class:"text-red-500 text-sm mt-1"},$={key:1,class:"mt-4"},W=["src"],X={class:"flex items-center justify-end space-x-3"},Y=["disabled"],Z={key:0,class:"flex items-center"},_={key:1,class:"flex items-center"},me={__name:"Edit",props:{template:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(r){const m=r,c=v(!1),p=v(null),i=T({name:m.template.name||"",description:m.template.description||"",status:m.template.status||"active",background_image:null,text_positions:m.template.text_positions||{},style_settings:m.template.style_settings||{}}),S=s=>{const t=s.target.files[0];if(t){i.background_image=t;const d=new FileReader;d.onload=P=>{p.value=P.target.result},d.readAsDataURL(t)}},B=()=>{c.value=!0,i.put(route("lms.certificate-templates.update",m.template.id),{onSuccess:()=>{h.fire({icon:"success",title:"Berhasil!",text:"Template sertifikat berhasil diperbarui."})},onError:s=>{console.error("Update error:",s),h.fire({icon:"error",title:"Error!",text:"Terjadi kesalahan saat memperbarui template."})},onFinish:()=>{c.value=!1}})},G=s=>s?`/storage/${s}`:"";return(s,t)=>(l(),E(N,{title:"Edit Template Sertifikat"},{header:g(()=>[e("div",V,[t[5]||(t[5]=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},[e("i",{class:"fas fa-edit mr-2"}),a(" Edit Template Sertifikat ")],-1)),e("div",j,[f(o(k),{href:s.route("lms.certificate-templates.index"),class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"},{default:g(()=>t[3]||(t[3]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),a(" Kembali ")])),_:1},8,["href"]),f(o(k),{href:s.route("lms.certificate-templates.preview",r.template.id),class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition-colors"},{default:g(()=>t[4]||(t[4]=[e("i",{class:"fas fa-eye mr-2"},null,-1),a(" Preview ")])),_:1},8,["href"])])])]),default:g(()=>[e("div",A,[e("div",C,[e("form",{onSubmit:M(B,["prevent"]),class:"space-y-6"},[e("div",D,[t[10]||(t[10]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},[e("i",{class:"fas fa-info-circle mr-2"}),a(" Informasi Dasar ")])],-1)),e("div",I,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[a(" Nama Template "),e("span",{class:"text-red-500"},"*")],-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>o(i).name=d),type:"text",required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-red-500":r.errors.name}]),placeholder:"Masukkan nama template"},null,2),[[w,o(i).name]]),r.errors.name?(l(),n("p",F,b(r.errors.name),1)):u("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Deskripsi ",-1)),y(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=d=>o(i).description=d),rows:"3",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-red-500":r.errors.description}]),placeholder:"Masukkan deskripsi template"},null,2),[[w,o(i).description]]),r.errors.description?(l(),n("p",q,b(r.errors.description),1)):u("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[a(" Status "),e("span",{class:"text-red-500"},"*")],-1)),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=d=>o(i).status=d),required:"",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-red-500":r.errors.status}])},t[8]||(t[8]=[e("option",{value:"active"},"Aktif",-1),e("option",{value:"inactive"},"Tidak Aktif",-1)]),2),[[U,o(i).status]]),r.errors.status?(l(),n("p",J,b(r.errors.status),1)):u("",!0)])])]),e("div",L,[t[14]||(t[14]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},[e("i",{class:"fas fa-image mr-2"}),a(" Gambar Background ")])],-1)),e("div",O,[r.template.background_image?(l(),n("div",K,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Gambar Saat Ini ",-1)),e("div",R,[e("img",{src:G(r.template.background_image),alt:"Current background",class:"max-w-xs h-auto border border-gray-300 rounded-lg"},null,8,z)])])):u("",!0),e("div",null,[e("label",H,b(r.template.background_image?"Ganti Gambar":"Upload Gambar"),1),e("input",{onChange:S,type:"file",accept:"image/*",class:x(["w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",{"border-red-500":r.errors.background_image}])},null,34),r.errors.background_image?(l(),n("p",Q,b(r.errors.background_image),1)):u("",!0),t[12]||(t[12]=e("p",{class:"text-sm text-gray-500 mt-1"}," Format yang didukung: JPEG, PNG, JPG. Maksimal 5MB. ",-1))]),p.value?(l(),n("div",$,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Preview Gambar Baru ",-1)),e("img",{src:p.value,alt:"Preview",class:"max-w-xs h-auto border border-gray-300 rounded-lg"},null,8,W)])):u("",!0)])]),t[18]||(t[18]=e("div",{class:"bg-white dark:bg-gray-800 shadow rounded-lg"},[e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white"},[e("i",{class:"fas fa-cog mr-2"}),a(" Pengaturan Posisi & Style ")]),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mt-1"}," Konfigurasi posisi teks dan pengaturan style (akan dikembangkan lebih lanjut) ")]),e("div",{class:"px-6 py-4"},[e("div",{class:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"},[e("div",{class:"flex items-center"},[e("i",{class:"fas fa-info-circle text-yellow-600 mr-2"}),e("p",{class:"text-sm text-yellow-700 dark:text-yellow-300"}," Fitur pengaturan posisi teks dan style akan segera tersedia. ")])])])],-1)),e("div",X,[f(o(k),{href:s.route("lms.certificate-templates.index"),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},{default:g(()=>t[15]||(t[15]=[a(" Batal ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:c.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors"},[c.value?(l(),n("span",Z,t[16]||(t[16]=[e("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},null,-1),a(" Menyimpan... ")]))):(l(),n("span",_,t[17]||(t[17]=[e("i",{class:"fas fa-save mr-2"},null,-1),a(" Simpan Perubahan ")])))],8,Y)])],32)])])]),_:1}))}};export{me as default};
