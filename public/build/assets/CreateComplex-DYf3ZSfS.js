import{r as $,A as B,B as s,C as D,D as e,G as p,O as N,H as v,L as r,E as c,J as w,N as d,F as _,M as y,I as k,W as P}from"./vendor-vue-g7iCcTkf.js";import{A as S}from"./AppLayout-cjLApVXh.js";import"./vendor-utils-CpgP2uT4.js";import"./app-vFC8Iw15.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-pwkt9lfN.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const G={class:"w-full py-8 px-4"},O={class:"max-w-7xl mx-auto"},E={class:"bg-white rounded-2xl shadow-lg p-8"},F={class:"space-y-6"},L={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W=["value"],z={key:0,class:"mt-1 text-sm text-red-600"},H={key:0,class:"mt-1 text-sm text-red-600"},J={class:"space-y-8"},K={class:"flex items-center justify-between mb-6"},R={class:"text-lg font-semibold text-gray-800"},X=["onClick"],Y={class:"mb-6"},Z=["for"],I=["id","onUpdate:modelValue"],ee=["value"],te={key:0,class:"mt-1 text-sm text-red-600"},se={class:"space-y-4"},re={class:"flex items-center justify-between"},ae=["onClick"],ie={class:"flex items-center justify-between mb-4"},oe={class:"text-sm font-semibold text-gray-700"},le=["onClick"],ne={class:"mb-4"},ue=["for"],de=["id","onUpdate:modelValue"],me={key:0,class:"mt-1 text-sm text-red-600"},pe={class:"space-y-3"},be={class:"flex items-center justify-between"},ce=["onClick"],fe=["for"],ge=["id","onUpdate:modelValue"],ve=["value"],_e={key:0,class:"mt-1 text-sm text-red-600"},ye=["for"],xe={class:"flex gap-2"},ke=["id","onUpdate:modelValue"],he=["onClick"],$e={key:0,class:"mt-1 text-sm text-red-600"},we={class:"flex gap-4 pt-6"},Ce=["disabled"],Pe={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},Ve={key:1,class:"fa-solid fa-save mr-2"},Ge={__name:"CreateComplex",props:{guidance:Object,categories:Array,parameters:Array,departemenOptions:Array},setup(h){const i=$({title:"",departemen:"",status:"A",categories:[{category_id:"",parameters:[{parameter_pemeriksaan:"",details:[{parameter_id:"",point:0}]}]}]}),l=$({}),x=$(!1);function V(){i.value.categories.push({category_id:"",parameters:[{parameter_pemeriksaan:"",details:[{parameter_id:"",point:0}]}]})}function A(u){i.value.categories.length>1&&i.value.categories.splice(u,1)}function U(u){i.value.categories[u].parameters.push({parameter_pemeriksaan:"",details:[{parameter_id:"",point:0}]})}function q(u,t){i.value.categories[u].parameters.length>1&&i.value.categories[u].parameters.splice(t,1)}function M(u,t){i.value.categories[u].parameters[t].details.push({parameter_id:"",point:0})}function T(u,t,n){i.value.categories[u].parameters[t].details.length>1&&i.value.categories[u].parameters[t].details.splice(n,1)}function j(){x.value=!0,l.value={},P.post("/qa-guidances",i.value,{onSuccess:()=>{},onError:u=>{l.value=u},onFinish:()=>{x.value=!1}})}function C(){P.visit("/qa-guidances")}return(u,t)=>(s(),B(S,{title:"Tambah QA Guidance"},{default:D(()=>[e("div",G,[e("div",O,[e("div",{class:"flex items-center gap-4 mb-6"},[e("button",{onClick:C,class:"text-gray-500 hover:text-gray-700 transition"},t[3]||(t[3]=[e("i",{class:"fa-solid fa-arrow-left text-xl"},null,-1)])),t[4]||(t[4]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-plus text-blue-500"}),p(" Tambah QA Guidance Baru ")],-1))]),e("div",E,[e("form",{onSubmit:N(j,["prevent"]),class:"space-y-8"},[e("div",F,[e("div",null,[t[5]||(t[5]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Title "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=n=>i.value.title=n),type:"text",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan title QA Guidance",required:""},null,512),[[w,i.value.title]]),l.value.title?(s(),r("div",L,d(l.value.title),1)):c("",!0)]),e("div",Q,[e("div",null,[t[7]||(t[7]=e("label",{for:"departemen",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Departemen "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{id:"departemen","onUpdate:modelValue":t[1]||(t[1]=n=>i.value.departemen=n),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[6]||(t[6]=e("option",{value:""},"Pilih Departemen",-1)),(s(!0),r(_,null,y(h.departemenOptions,n=>(s(),r("option",{key:n,value:n},d(n),9,W))),128))],512),[[k,i.value.departemen]]),l.value.departemen?(s(),r("div",z,d(l.value.departemen),1)):c("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"},[p(" Status "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=n=>i.value.status=n),class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},t[8]||(t[8]=[e("option",{value:"A"},"Aktif",-1),e("option",{value:"N"},"Non-Aktif",-1)]),512),[[k,i.value.status]]),l.value.status?(s(),r("div",H,d(l.value.status),1)):c("",!0)])])]),e("div",J,[e("div",{class:"flex items-center justify-between"},[t[11]||(t[11]=e("h3",{class:"text-xl font-semibold text-gray-800"},"Categories & Parameters",-1)),e("button",{type:"button",onClick:V,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl font-medium transition flex items-center"},t[10]||(t[10]=[e("i",{class:"fa-solid fa-plus mr-2"},null,-1),p("Tambah Category ")]))]),(s(!0),r(_,null,y(i.value.categories,(n,a)=>(s(),r("div",{key:a,class:"border border-gray-200 rounded-xl p-6 bg-gray-50"},[e("div",K,[e("h4",R,"Category "+d(a+1),1),i.value.categories.length>1?(s(),r("button",{key:0,type:"button",onClick:m=>A(a),class:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm transition"},t[12]||(t[12]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,X)):c("",!0)]),e("div",Y,[e("label",{for:`category_${a}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[13]||(t[13]=[p(" Pilih Category "),e("span",{class:"text-red-500"},"*",-1)]),8,Z),v(e("select",{id:`category_${a}`,"onUpdate:modelValue":m=>n.category_id=m,class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[14]||(t[14]=e("option",{value:""},"Pilih Category",-1)),(s(!0),r(_,null,y(h.categories,m=>(s(),r("option",{key:m.id,value:m.id},d(m.categories),9,ee))),128))],8,I),[[k,n.category_id]]),l.value[`categories.${a}.category_id`]?(s(),r("div",te,d(l.value[`categories.${a}.category_id`]),1)):c("",!0)]),e("div",se,[e("div",re,[t[16]||(t[16]=e("h5",{class:"text-md font-semibold text-gray-700"},"Parameter Pemeriksaan",-1)),e("button",{type:"button",onClick:m=>U(a),class:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm transition flex items-center"},t[15]||(t[15]=[e("i",{class:"fa-solid fa-plus mr-1"},null,-1),p("Tambah Parameter Pemeriksaan ")]),8,ae)]),(s(!0),r(_,null,y(n.parameters,(m,o)=>(s(),r("div",{key:o,class:"border border-gray-300 rounded-lg p-4 bg-white"},[e("div",ie,[e("h6",oe,"Parameter Pemeriksaan "+d(o+1),1),n.parameters.length>1?(s(),r("button",{key:0,type:"button",onClick:f=>q(a,o),class:"px-2 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg text-xs transition"},t[17]||(t[17]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,le)):c("",!0)]),e("div",ne,[e("label",{for:`parameter_pemeriksaan_${a}_${o}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[18]||(t[18]=[p(" Nama Parameter Pemeriksaan "),e("span",{class:"text-red-500"},"*",-1)]),8,ue),v(e("textarea",{id:`parameter_pemeriksaan_${a}_${o}`,"onUpdate:modelValue":f=>m.parameter_pemeriksaan=f,rows:"3",class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition resize-y",placeholder:"Masukkan nama parameter pemeriksaan",required:""},null,8,de),[[w,m.parameter_pemeriksaan]]),l.value[`categories.${a}.parameters.${o}.parameter_pemeriksaan`]?(s(),r("div",me,d(l.value[`categories.${a}.parameters.${o}.parameter_pemeriksaan`]),1)):c("",!0)]),e("div",pe,[e("div",be,[t[20]||(t[20]=e("h6",{class:"text-sm font-medium text-gray-600"},"Parameter & Point",-1)),e("button",{type:"button",onClick:f=>M(a,o),class:"px-2 py-1 bg-green-500 hover:bg-green-600 text-white rounded-lg text-xs transition flex items-center"},t[19]||(t[19]=[e("i",{class:"fa-solid fa-plus mr-1"},null,-1),p("Tambah Parameter ")]),8,ce)]),(s(!0),r(_,null,y(m.details,(f,b)=>(s(),r("div",{key:b,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[e("div",null,[e("label",{for:`parameter_${a}_${o}_${b}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[21]||(t[21]=[p(" Parameter "),e("span",{class:"text-red-500"},"*",-1)]),8,fe),v(e("select",{id:`parameter_${a}_${o}_${b}`,"onUpdate:modelValue":g=>f.parameter_id=g,class:"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",required:""},[t[22]||(t[22]=e("option",{value:""},"Pilih Parameter",-1)),(s(!0),r(_,null,y(h.parameters,g=>(s(),r("option",{key:g.id,value:g.id},d(g.parameter),9,ve))),128))],8,ge),[[k,f.parameter_id]]),l.value[`categories.${a}.parameters.${o}.details.${b}.parameter_id`]?(s(),r("div",_e,d(l.value[`categories.${a}.parameters.${o}.details.${b}.parameter_id`]),1)):c("",!0)]),e("div",null,[e("label",{for:`point_${a}_${o}_${b}`,class:"block text-sm font-medium text-gray-700 mb-2"},t[23]||(t[23]=[p(" Point "),e("span",{class:"text-red-500"},"*",-1)]),8,ye),e("div",xe,[v(e("input",{id:`point_${a}_${o}_${b}`,"onUpdate:modelValue":g=>f.point=g,type:"number",min:"0",class:"flex-1 px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Masukkan point",required:""},null,8,ke),[[w,f.point,void 0,{number:!0}]]),m.details.length>1?(s(),r("button",{key:0,type:"button",onClick:g=>T(a,o,b),class:"px-3 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition"},t[24]||(t[24]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,he)):c("",!0)]),l.value[`categories.${a}.parameters.${o}.details.${b}.point`]?(s(),r("div",$e,d(l.value[`categories.${a}.parameters.${o}.details.${b}.point`]),1)):c("",!0)])]))),128))])]))),128))])]))),128))]),e("div",we,[e("button",{type:"button",onClick:C,class:"flex-1 px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-medium transition"}," Batal "),e("button",{type:"submit",disabled:x.value,class:"flex-1 px-6 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl font-medium transition flex items-center justify-center"},[x.value?(s(),r("i",Pe)):(s(),r("i",Ve)),p(" "+d(x.value?"Menyimpan...":"Simpan"),1)],8,Ce)])],32)])])])]),_:1}))}};export{Ge as default};
