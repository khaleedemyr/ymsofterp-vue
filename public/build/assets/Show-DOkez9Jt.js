import{r as p,c as x,a as X,j as Y,L as s,B as a,D as e,E as S,N as m,l as _,W as z}from"./vendor-vue-g7iCcTkf.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";const A={class:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black relative overflow-hidden"},N={class:"relative z-10 pt-8 pb-6 px-4 sm:px-6 lg:px-8"},D={class:"max-w-7xl mx-auto"},I={class:"flex items-center justify-between mb-6"},R={class:"text-center flex-1"},O={class:"text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-400"},U={key:0,class:"text-gray-400 text-sm mt-1"},V={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8"},F={key:0,class:"flex flex-col items-center"},G={class:"flex justify-center items-center min-h-[600px] mt-24"},K={class:"relative"},q={key:0,class:"book-container relative",style:{perspective:"3000px"}},H={class:"flex gap-6 items-center relative"},J={class:"page-content"},Q=["src","alt"],Z={key:1,class:"w-[500px] h-[700px] bg-gradient-to-br from-yellow-50 to-amber-50 flex items-center justify-center"},ee={class:"page-content"},te=["src","alt"],le={key:1,class:"w-[500px] h-[700px] bg-gradient-to-br from-yellow-50 to-amber-50 flex items-center justify-center"},oe={key:1,class:"book-container-mobile",style:{perspective:"2000px"}},se={class:"page-content"},ae=["src","alt"],re={class:"flex justify-center items-center gap-6 mt-8"},ne=["disabled"],ie={class:"bg-gray-800/90 backdrop-blur-xl rounded-full shadow-2xl px-8 py-4 border border-yellow-500/30 flex items-center gap-4"},de={class:"text-white font-semibold text-lg"},ue=["disabled"],ce={key:1,class:"text-center py-20"},ve={__name:"Show",props:{menuBook:Object,pages:Array,outlet:Object},setup(v){const i=v,o=p(0),r=p(!1),n=p(""),u=p(!1),h=x(()=>u.value?i.pages.length:Math.ceil(i.pages.length/2)),b=x(()=>{const l=o.value*2;return i.pages[l]||null}),f=x(()=>{const l=o.value*2+1;return i.pages[l]||null}),g=x(()=>i.pages[o.value]||null),w=()=>{const l=u.value;u.value=window.innerWidth<768,l!==u.value&&(u.value?o.value=o.value*2:o.value=Math.floor(o.value/2))},y=()=>{o.value<h.value-1&&(n.value="right",r.value=!0,setTimeout(()=>{o.value++,r.value=!1,n.value=""},800))},k=()=>{o.value>0&&(n.value="left",r.value=!0,setTimeout(()=>{o.value--,r.value=!1,n.value=""},800))},c=l=>{if(!l)return null;try{return l.startsWith("http://")||l.startsWith("https://")||l.startsWith("/storage/")?l:`/storage/${l}`}catch(t){return console.error("Error processing image:",t),null}},E=()=>{i.outlet?z.visit(`/menu/outlet/${i.outlet.id_outlet}`):z.visit("/menu")},j=l=>{l.key==="ArrowLeft"&&k(),l.key==="ArrowRight"&&y()};let L=0,T=0,B=0,M=0;const C=l=>{L=l.changedTouches[0].screenX,B=l.changedTouches[0].screenY},P=l=>{T=l.changedTouches[0].screenX,M=l.changedTouches[0].screenY,W()},W=()=>{const t=L-T,d=Math.abs(B-M);Math.abs(t)>50&&d<100&&(t>0?y():k())};return X(()=>{w();const l=()=>{w()};window.addEventListener("resize",l),window.addEventListener("keydown",j),window.addEventListener("touchstart",C),window.addEventListener("touchend",P)}),Y(()=>{window.removeEventListener("resize",w),window.removeEventListener("keydown",j),window.removeEventListener("touchstart",C),window.removeEventListener("touchend",P)}),(l,t)=>(a(),s("div",A,[t[14]||(t[14]=e("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-yellow-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob"}),e("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-yellow-400 rounded-full mix-blend-multiply filter blur-xl opacity-8 animate-blob animation-delay-2000"})],-1)),e("div",N,[e("div",D,[e("div",I,[e("button",{onClick:E,class:"text-white/80 hover:text-yellow-500 transition-colors duration-300 flex items-center gap-2 group"},t[3]||(t[3]=[e("i",{class:"fa-solid fa-arrow-left transform group-hover:-translate-x-1 transition-transform duration-300"},null,-1),e("span",null,"Back",-1)])),e("div",R,[e("h1",O,m(v.menuBook.name),1),v.outlet?(a(),s("p",U,m(v.outlet.nama_outlet),1)):S("",!0)]),t[4]||(t[4]=e("div",{class:"w-24"},null,-1))])])]),e("div",V,[v.pages.length>0?(a(),s("div",F,[e("div",G,[e("div",K,[u.value?(a(),s("div",oe,[e("div",{class:_(["book-page-mobile shadow-2xl rounded-2xl overflow-hidden bg-gradient-to-br from-yellow-50 to-amber-50 relative border-4 border-yellow-300",{flip:r.value}])},[e("div",se,[g.value&&c(g.value.image)?(a(),s("img",{key:0,src:c(g.value.image),alt:`Page ${g.value.page_order}`,class:"w-full h-full object-contain",draggable:"false",onError:t[2]||(t[2]=d=>{d.target.style.display="none"})},null,40,ae)):S("",!0)])],2)])):(a(),s("div",q,[e("div",H,[e("div",{class:_(["book-page shadow-2xl rounded-l-2xl overflow-hidden bg-gradient-to-br from-yellow-50 to-amber-50 relative border-4 border-yellow-300",{"flip-left":r.value&&n.value==="left","flip-right-active":r.value&&n.value==="right"}]),style:{"transform-origin":"right center"}},[e("div",J,[b.value&&c(b.value.image)?(a(),s("img",{key:0,src:c(b.value.image),alt:`Page ${b.value.page_order}`,class:"w-full h-full object-contain",draggable:"false",onError:t[0]||(t[0]=d=>{d.target.style.display="none"})},null,40,Q)):(a(),s("div",Z,t[5]||(t[5]=[e("div",{class:"text-center text-yellow-600"},[e("i",{class:"fa-solid fa-book-open text-6xl mb-4"}),e("p",{class:"text-xl font-serif font-bold"},"Cover")],-1)])))]),t[6]||(t[6]=e("div",{class:"absolute inset-0 pointer-events-none"},[e("div",{class:"absolute right-0 top-0 bottom-0 w-2 bg-gradient-to-r from-transparent via-black/10 to-transparent"})],-1))],2),e("div",{class:_(["book-page shadow-2xl rounded-r-2xl overflow-hidden bg-gradient-to-br from-yellow-50 to-amber-50 relative border-4 border-yellow-300",{"flip-right":r.value&&n.value==="right","flip-left-active":r.value&&n.value==="left"}]),style:{"transform-origin":"left center"}},[e("div",ee,[f.value&&c(f.value.image)?(a(),s("img",{key:0,src:c(f.value.image),alt:`Page ${f.value.page_order}`,class:"w-full h-full object-contain",draggable:"false",onError:t[1]||(t[1]=d=>{d.target.style.display="none"})},null,40,te)):(a(),s("div",le,t[7]||(t[7]=[e("div",{class:"text-center text-yellow-600"},[e("i",{class:"fa-solid fa-book-open text-6xl mb-4"}),e("p",{class:"text-xl font-serif font-bold"},"End")],-1)])))]),t[8]||(t[8]=e("div",{class:"absolute inset-0 pointer-events-none"},[e("div",{class:"absolute left-0 top-0 bottom-0 w-2 bg-gradient-to-l from-transparent via-black/10 to-transparent"})],-1))],2)])]))])]),e("div",re,[e("button",{onClick:k,disabled:o.value===0,class:"w-16 h-16 rounded-full bg-gray-800/90 backdrop-blur-xl hover:bg-gray-700/90 text-white shadow-2xl transform hover:scale-110 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center border border-yellow-500/30 hover:border-yellow-500/50"},t[9]||(t[9]=[e("i",{class:"fa-solid fa-chevron-left text-2xl"},null,-1)]),8,ne),e("div",ie,[e("span",de," Page "+m(o.value+1)+" of "+m(h.value),1)]),e("button",{onClick:y,disabled:o.value>=h.value-1,class:"w-16 h-16 rounded-full bg-gray-800/90 backdrop-blur-xl hover:bg-gray-700/90 text-white shadow-2xl transform hover:scale-110 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center border border-yellow-500/30 hover:border-yellow-500/50"},t[10]||(t[10]=[e("i",{class:"fa-solid fa-chevron-right text-2xl"},null,-1)]),8,ue)])])):(a(),s("div",ce,[e("div",{class:"bg-gray-800/90 backdrop-blur-xl rounded-3xl p-12 border border-yellow-500/30 max-w-md mx-auto shadow-2xl"},[t[11]||(t[11]=e("i",{class:"fa-solid fa-book-open text-6xl text-yellow-500/50 mb-4"},null,-1)),t[12]||(t[12]=e("h3",{class:"text-2xl font-bold text-white mb-2"},"No Pages Available",-1)),t[13]||(t[13]=e("p",{class:"text-gray-400 mb-6"},"This menu book doesn't have any pages yet.",-1)),e("button",{onClick:E,class:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-yellow-600 text-black rounded-xl font-semibold hover:shadow-lg hover:shadow-yellow-500/50 transform hover:scale-105 transition-all duration-300"}," Go Back ")])]))])]))}},pe=$(ve,[["__scopeId","data-v-21b72da5"]]);export{pe as default};
