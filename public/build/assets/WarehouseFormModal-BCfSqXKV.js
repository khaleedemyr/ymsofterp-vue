import{P as w,w as y,r as k,L as n,E as u,B as c,D as s,N as i,O as S,H as b,J as x,Q as o,I as B}from"./vendor-vue-g7iCcTkf.js";import{S as p}from"./app-DlrnVByK.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const V={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 transition-all"},_={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-0 animate-fade-in"},U={class:"px-8 pt-8 pb-2"},E={class:"flex items-center gap-2 mb-6"},W={class:"text-2xl font-bold text-gray-900"},j={key:0,class:"text-xs text-red-500 mt-1"},F={key:0,class:"text-xs text-red-500 mt-1"},N={key:0,class:"text-xs text-red-500 mt-1"},q={key:0,class:"text-xs text-red-500 mt-1"},C={class:"flex justify-end gap-2 pt-4"},D=["disabled"],I={__name:"WarehouseFormModal",props:{show:Boolean,mode:String,warehouse:Object},emits:["close","success"],setup(m,{emit:h}){const a=m,d=h,e=w({code:"",name:"",location:"",status:"active"});y(()=>a.show,f=>{f&&a.mode==="edit"&&a.warehouse?(e.code=a.warehouse.code,e.name=a.warehouse.name,e.location=a.warehouse.location,e.status=a.warehouse.status):f&&a.mode==="create"&&(e.code="",e.name="",e.location="",e.status="active")});const r=k(!1);async function g(){r.value=!0,a.mode==="create"?e.post(route("warehouses.store"),{onSuccess:()=>{p.fire("Berhasil","Warehouse berhasil ditambahkan!","success"),d("success"),d("close")},onError:()=>r.value=!1,onFinish:()=>r.value=!1}):a.mode==="edit"&&a.warehouse&&(e._method="PUT",e.post(route("warehouses.update",a.warehouse.id),{onSuccess:()=>{p.fire("Berhasil","Warehouse berhasil diupdate!","success"),d("success"),d("close")},onError:()=>r.value=!1,onFinish:()=>r.value=!1}))}function v(){d("close")}return(f,t)=>m.show?(c(),n("div",V,[s("div",_,[s("div",U,[s("div",E,[t[4]||(t[4]=s("svg",{class:"w-7 h-7 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{d:"M3 9.75V19a2 2 0 002 2h14a2 2 0 002-2V9.75M12 3v10.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),s("h3",W,i(m.mode==="edit"?"Edit":"Tambah")+" Warehouse",1)]),s("form",{onSubmit:S(g,["prevent"]),class:"space-y-5"},[s("div",null,[t[5]||(t[5]=s("label",{class:"block text-sm font-medium text-gray-700"},"Kode",-1)),b(s("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o(e).code=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"50"},null,512),[[x,o(e).code]]),o(e).errors.code?(c(),n("div",j,i(o(e).errors.code),1)):u("",!0)]),s("div",null,[t[6]||(t[6]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nama",-1)),b(s("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o(e).name=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[x,o(e).name]]),o(e).errors.name?(c(),n("div",F,i(o(e).errors.name),1)):u("",!0)]),s("div",null,[t[7]||(t[7]=s("label",{class:"block text-sm font-medium text-gray-700"},"Lokasi",-1)),b(s("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(e).location=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"255"},null,512),[[x,o(e).location]]),o(e).errors.location?(c(),n("div",N,i(o(e).errors.location),1)):u("",!0)]),s("div",null,[t[9]||(t[9]=s("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),b(s("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(e).status=l),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},t[8]||(t[8]=[s("option",{value:"active"},"Active",-1),s("option",{value:"inactive"},"Inactive",-1)]),512),[[B,o(e).status]]),o(e).errors.status?(c(),n("div",q,i(o(e).errors.status),1)):u("",!0)]),s("div",C,[s("button",{type:"button",onClick:v,class:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200"},"Batal"),s("button",{type:"submit",disabled:r.value,class:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-60"},i(m.mode==="edit"?"Update":"Simpan"),9,D)])],32)])])])):u("",!0)}},A=M(I,[["__scopeId","data-v-bda5ec80"]]);export{A as default};
