import{r as n,W as r,w as A,A as j,B as i,C as g,D as e,x as h,H as _,J as k,Q as P,l as x,L as u,E as D,F as C,M as S,N as d,G as B}from"./vendor-vue-g7iCcTkf.js";import{l as F}from"./lodash-DB3HVzpp.js";import{S as M}from"./app-BSTQjgZq.js";import{A as U}from"./AppLayout-De2jf5tO.js";import z from"./SupplierFormModal-CQC7poNB.js";import O from"./ImportModal-DQt8vont.js";import{u as W}from"./vendor-ui-CrPgGUUb.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-vaJ7DgVJ.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./Modal-BBL5yay4.js";const Y={class:"py-12"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},J={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},K={class:"p-6"},Q={class:"flex justify-between items-center mb-6"},q={class:"flex items-center space-x-4"},R={class:"flex items-center space-x-4"},X={class:"flex items-center gap-3 mb-4"},Z={class:"mb-4"},ee={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},te={class:"w-full min-w-full divide-y divide-gray-200"},se={key:0},oe={class:"px-4 py-3 font-mono font-semibold text-blue-700"},le={class:"px-4 py-3 font-semibold"},ae={class:"px-4 py-3"},ne={class:"px-4 py-3"},re={class:"px-4 py-3"},ie={class:"px-4 py-3"},de=["onClick"],ue={class:"px-4 py-3"},ce={class:"flex gap-2"},pe=["onClick"],xe=["onClick"],me={class:"flex justify-end mt-4 gap-2"},fe=["disabled","onClick","innerHTML"],Ie={__name:"Index",props:{suppliers:Object,filters:Object},setup(c){var y;const l=n(((y=c.filters)==null?void 0:y.search)||""),a=n(!1),p=n(!1),m=n("create"),f=n(null),b=n(!1),T=F.debounce(()=>{r.get("/suppliers",{search:l.value,status:a.value?"inactive":"active"},{preserveState:!0,replace:!0})},400);A(a,o=>{r.get("/suppliers",{search:l.value,status:o?"inactive":"active"},{preserveState:!0,replace:!0})});function V(){T()}function $(o){o&&r.visit(o,{preserveState:!0,replace:!0})}function H(){m.value="create",f.value=null,p.value=!0}function I(o){m.value="edit",f.value=o,p.value=!0}async function E(o){(await M.fire({title:"Hapus Supplier?",text:`Yakin ingin menghapus supplier "${o.name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&r.delete(route("suppliers.destroy",o.id),{onSuccess:()=>M.fire("Berhasil","Supplier berhasil dihapus!","success")})}function w(){r.reload({preserveState:!0,replace:!0})}function L(){p.value=!1}function N(o){const s=o.status==="active"?"inactive":"active";r.patch(route("suppliers.toggle-status",o.id),{status:s},{preserveState:!0,onSuccess:w})}return(o,s)=>(i(),j(U,{title:"Suppliers"},{header:g(()=>s[5]||(s[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Suppliers ",-1)])),default:g(()=>[e("div",Y,[e("div",G,[e("div",J,[e("div",K,[e("div",Q,[e("div",q,[_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),type:"text",placeholder:"Search suppliers...",class:"rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[k,l.value]])]),e("div",R,[e("button",{onClick:s[1]||(s[1]=t=>b.value=!0),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700"}," Import "),e("button",{onClick:H,class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700"}," Add Supplier ")])]),e("div",X,[h(P(W),{modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=t=>a.value=t),class:x([a.value?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none"])},{default:g(()=>[e("span",{class:x([a.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),s[6]||(s[6]=e("span",{class:"ml-2 text-sm text-gray-700"},"Tampilkan Inactive",-1))]),e("div",Z,[_(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>l.value=t),onInput:V,type:"text",placeholder:"Cari kode/nama/CP/phone/email...",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,544),[[k,l.value]])]),e("div",ee,[e("table",te,[s[10]||(s[10]=e("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"Kode"),e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Nama"),e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Contact Person"),e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Phone"),e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Email"),e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),e("th",{class:"px-4 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),e("tbody",null,[c.suppliers.data.length===0?(i(),u("tr",se,s[7]||(s[7]=[e("td",{colspan:"7",class:"text-center py-10 text-gray-400"},"Tidak ada data supplier.",-1)]))):D("",!0),(i(!0),u(C,null,S(c.suppliers.data,t=>(i(),u("tr",{key:t.id,class:"hover:bg-blue-50 transition shadow-sm"},[e("td",oe,d(t.code),1),e("td",le,d(t.name),1),e("td",ae,d(t.contact_person),1),e("td",ne,d(t.phone),1),e("td",re,d(t.email),1),e("td",ie,[e("button",{class:x([t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700","px-2 py-1 rounded-full text-xs font-semibold shadow hover:opacity-80 transition"]),onClick:v=>N(t)},d(t.status),11,de)]),e("td",ue,[e("div",ce,[e("button",{onClick:v=>I(t),class:"inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},s[8]||(s[8]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6a2 2 0 002-2v-6a2 2 0 00-2-2H7a2 2 0 00-2 2v6a2 2 0 002 2z"})],-1),B(" Edit ")]),8,pe),e("button",{onClick:v=>E(t),class:"inline-flex items-center btn btn-xs bg-red-100 text-red-700 hover:bg-red-200 rounded px-2 py-1 font-semibold transition"},s[9]||(s[9]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 18L18 6M6 6l12 12"})],-1),B(" Hapus ")]),8,xe)])])]))),128))])])]),e("div",me,[(i(!0),u(C,null,S(c.suppliers.links,t=>(i(),u("button",{key:t.label,disabled:!t.url,onClick:v=>$(t.url),innerHTML:t.label,class:x(["px-3 py-1 rounded-lg border text-sm font-semibold",[t.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",t.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,fe))),128))])])])])]),h(O,{show:b.value,onClose:s[4]||(s[4]=t=>b.value=!1)},null,8,["show"]),h(z,{show:p.value,mode:m.value,supplier:f.value,onClose:L,onSuccess:w},null,8,["show","mode","supplier"])]),_:1}))}};export{Ie as default};
