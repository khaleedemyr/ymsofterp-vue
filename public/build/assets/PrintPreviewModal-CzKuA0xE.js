import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{A as f,B as r,L as a,E as p,D as t,G as n,N as e,F as b,M as g,T as c,l as w}from"./vendor-vue-g7iCcTkf.js";import"./vendor-utils-CpgP2uT4.js";const D={key:0,class:"fixed inset-0 z-[100000] flex items-center justify-center bg-black/40 p-4"},I={class:"bg-white rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] flex flex-col relative"},N={class:"p-6 pb-4 border-b border-gray-200"},P={class:"flex-1 overflow-y-auto p-6 pt-4"},k={id:"print-area"},T={class:"mb-4 text-sm"},h={class:"grid grid-cols-2 gap-4"},F={class:"w-full text-xs border mb-4",style:{"border-collapse":"collapse"}},R={class:"border px-2 py-1 text-center"},C={class:"border px-2 py-1"},E={class:"border px-2 py-1 text-center"},S={class:"border px-2 py-1 text-center"},L={class:"border px-2 py-1 text-right"},B={class:"border px-2 py-1 text-right"},O={class:"text-right text-sm"},M={class:"mb-2"},A={class:"ml-4"},H={key:0,class:"mb-2"},j={class:"ml-4"},G={class:"border-t pt-2 font-bold text-lg"},V={class:"ml-4"},$={key:0,class:"mt-6"},z={class:"space-y-1 text-xs"},q={class:"p-6 pt-4 border-t border-gray-200 flex justify-end gap-3"},J={__name:"PrintPreviewModal",props:{show:{type:Boolean,default:!1},po:{type:Object,required:!0}},emits:["close"],setup(o,{emit:U}){const x=d=>({PENDING:"text-yellow-600",APPROVED:"text-green-600",REJECTED:"text-red-600"})[d]||"text-gray-600",y=()=>{const d=document.getElementById("print-area"),s=document.body.innerHTML;document.body.innerHTML=d.innerHTML,window.print(),document.body.innerHTML=s,window.location.reload()};return(d,s)=>{var u,m;return r(),f(c,{to:"body"},[o.show?(r(),a("div",D,[t("div",I,[t("div",N,[t("button",{onClick:s[0]||(s[0]=l=>d.$emit("close")),class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},s[2]||(s[2]=[t("i",{class:"fas fa-times text-lg"},null,-1)])),s[3]||(s[3]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Preview Purchase Order Ops",-1))]),t("div",P,[t("div",k,[s[20]||(s[20]=t("div",{class:"text-center mb-4 print-header"},[t("img",{src:"/images/logojustusgroup.png",alt:"Justus Group",class:"logo-print",style:{"max-width":"180px",margin:"0 auto 12px",display:"block"}}),t("h2",{style:{"font-size":"20px","font-weight":"bold","margin-bottom":"8px"}},"PURCHASE ORDER OPS")],-1)),t("div",T,[t("div",h,[t("div",null,[t("p",null,[s[4]||(s[4]=t("strong",null,"No. PO:",-1)),n(" "+e(o.po.number),1)]),t("p",null,[s[5]||(s[5]=t("strong",null,"Tanggal:",-1)),n(" "+e(new Date(o.po.date).toLocaleDateString("id-ID")),1)]),t("p",null,[s[6]||(s[6]=t("strong",null,"Supplier:",-1)),n(" "+e((u=o.po.supplier)==null?void 0:u.name),1)]),t("p",null,[s[7]||(s[7]=t("strong",null,"Tanggal Kedatangan:",-1)),n(" "+e(o.po.arrival_date?new Date(o.po.arrival_date).toLocaleDateString("id-ID"):"-"),1)]),t("p",null,[s[8]||(s[8]=t("strong",null,"Status:",-1)),n(" "+e(o.po.status),1)])]),t("div",null,[t("p",null,[s[9]||(s[9]=t("strong",null,"Dibuat oleh:",-1)),n(" "+e((m=o.po.creator)==null?void 0:m.nama_lengkap),1)]),t("p",null,[s[10]||(s[10]=t("strong",null,"Catatan:",-1)),n(" "+e(o.po.notes||"-"),1)]),t("p",null,[s[11]||(s[11]=t("strong",null,"PPN:",-1)),n(" "+e(o.po.ppn_enabled?"Ya":"Tidak"),1)]),t("p",null,[s[12]||(s[12]=t("strong",null,"Subtotal:",-1)),n(" Rp "+e(new Intl.NumberFormat("id-ID").format(o.po.subtotal)),1)]),t("p",null,[s[13]||(s[13]=t("strong",null,"PPN Amount:",-1)),n(" Rp "+e(new Intl.NumberFormat("id-ID").format(o.po.ppn_amount||0)),1)]),t("p",null,[s[14]||(s[14]=t("strong",null,"Grand Total:",-1)),n(" Rp "+e(new Intl.NumberFormat("id-ID").format(o.po.grand_total)),1)])])])]),t("table",F,[s[15]||(s[15]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"border px-2 py-1"},"No"),t("th",{class:"border px-2 py-1"},"Nama Barang"),t("th",{class:"border px-2 py-1"},"Qty"),t("th",{class:"border px-2 py-1"},"Unit"),t("th",{class:"border px-2 py-1"},"Harga"),t("th",{class:"border px-2 py-1"},"Total")])],-1)),t("tbody",null,[(r(!0),a(b,null,g(o.po.items,(l,i)=>(r(),a("tr",{key:l.id},[t("td",R,e(i+1),1),t("td",C,e(l.item_name),1),t("td",E,e(l.quantity),1),t("td",S,e(l.unit),1),t("td",L,e(new Intl.NumberFormat("id-ID").format(l.price)),1),t("td",B,e(new Intl.NumberFormat("id-ID").format(l.total)),1)]))),128))])]),t("div",O,[t("div",M,[s[16]||(s[16]=t("span",{class:"font-semibold"},"Subtotal:",-1)),t("span",A,"Rp "+e(new Intl.NumberFormat("id-ID").format(o.po.subtotal)),1)]),o.po.ppn_enabled?(r(),a("div",H,[s[17]||(s[17]=t("span",{class:"font-semibold"},"PPN (11%):",-1)),t("span",j,"Rp "+e(new Intl.NumberFormat("id-ID").format(o.po.ppn_amount||0)),1)])):p("",!0),t("div",G,[s[18]||(s[18]=t("span",null,"Grand Total:",-1)),t("span",V,"Rp "+e(new Intl.NumberFormat("id-ID").format(o.po.grand_total)),1)])]),o.po.approval_flows&&o.po.approval_flows.length>0?(r(),a("div",$,[s[19]||(s[19]=t("h4",{class:"font-semibold mb-2"},"Approval Flow:",-1)),t("div",z,[(r(!0),a(b,null,g(o.po.approval_flows,l=>{var i;return r(),a("div",{key:l.id,class:"flex justify-between"},[t("span",null,"Level "+e(l.approval_level)+": "+e((i=l.approver)==null?void 0:i.nama_lengkap),1),t("span",{class:w(x(l.status))},e(l.status),3)])}),128))])])):p("",!0)])]),t("div",q,[t("button",{onClick:s[1]||(s[1]=l=>d.$emit("close")),class:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50"}," Tutup "),t("button",{onClick:y,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"},s[21]||(s[21]=[t("i",{class:"fas fa-print mr-2"},null,-1),n(" Print ")]))])])])):p("",!0)])}}},W=v(J,[["__scopeId","data-v-f6b8205a"]]);export{W as default};
