import{r as i,W as a,w as G,A as $,B as n,C as y,D as t,x as _,G as v,Q as A,l as x,H as E,J as j,L as u,E as D,F as k,M as C,N as d}from"./vendor-vue-g7iCcTkf.js";import{l as W}from"./lodash-DB3HVzpp.js";import{S as B}from"./app-AaUk6aDd.js";import{A as z}from"./AppLayout-Cke2dYBX.js";import F from"./WarehouseOutletFormModal-DpGEXt2v.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as Y}from"./vendor-ui-CrPgGUUb.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-DtjcyHN1.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const J={class:"max-w-7xl w-full mx-auto py-8 px-2"},K={class:"flex items-center gap-3 mb-4"},P={class:"mb-4"},Q={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},q={class:"w-full min-w-full divide-y divide-gray-200"},O={key:0},R={class:"px-6 py-3 font-mono font-semibold text-blue-700"},X={class:"px-6 py-3 font-semibold"},Z={class:"px-6 py-3 font-semibold"},tt={class:"px-6 py-3"},et={class:"px-6 py-3"},st=["onClick"],ot={class:"px-6 py-3"},lt={class:"flex gap-2"},at=["onClick"],nt=["onClick"],rt={class:"flex justify-end mt-4 gap-2"},it=["disabled","onClick","innerHTML"],ut={__name:"Index",props:{warehouseOutlets:Object,filters:Object,outlets:Array},setup(r){var h;const c=i(((h=r.filters)==null?void 0:h.search)||""),l=i(!1),p=i(!1),f=i("create"),b=i(null),S=W.debounce(()=>{a.get("/warehouse-outlets",{search:c.value,status:l.value?"inactive":"active"},{preserveState:!0,replace:!0})},400);G(l,o=>{a.get("/warehouse-outlets",{search:c.value,status:o?"inactive":"active"},{preserveState:!0,replace:!0})});function M(){S()}function T(o){o&&a.visit(o,{preserveState:!0,replace:!0})}function V(){f.value="create",b.value=null,p.value=!0}function H(o){f.value="edit",b.value=o,p.value=!0}async function I(o){(await B.fire({title:"Hapus Gudang Outlet?",text:`Yakin ingin menghapus gudang outlet "${o.name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&a.delete(route("warehouse-outlets.destroy",o.id),{onSuccess:()=>B.fire("Berhasil","Gudang outlet berhasil dihapus!","success")})}function g(){a.reload({preserveState:!0,replace:!0})}function L(){p.value=!1}function N(o){const s=o.status==="active"?"inactive":"active";a.patch(route("warehouse-outlets.toggle-status",o.id),{status:s},{preserveState:!0,onSuccess:g})}return(o,s)=>(n(),$(z,null,{default:y(()=>[t("div",J,[t("div",{class:"flex justify-between items-center mb-6"},[s[2]||(s[2]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-store text-blue-500"}),v(" Gudang Outlet ")],-1)),t("button",{onClick:V,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Buat Gudang Outlet Baru ")]),t("div",K,[_(A(Y),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),class:x([l.value?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none"])},{default:y(()=>[t("span",{class:x([l.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),s[3]||(s[3]=t("span",{class:"ml-2 text-sm text-gray-700"},"Tampilkan Inactive",-1))]),t("div",P,[E(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e),onInput:M,type:"text",placeholder:"Cari kode/nama outlet/lokasi...",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,544),[[j,c.value]])]),t("div",Q,[t("table",q,[s[7]||(s[7]=t("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"Kode"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Nama Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Nama Gudang"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Lokasi"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),t("tbody",null,[r.warehouseOutlets.data.length===0?(n(),u("tr",O,s[4]||(s[4]=[t("td",{colspan:"5",class:"text-center py-10 text-gray-400"},"Tidak ada data warehouse outlet.",-1)]))):D("",!0),(n(!0),u(k,null,C(r.warehouseOutlets.data,e=>{var m;return n(),u("tr",{key:e.id,class:"hover:bg-blue-50 transition shadow-sm"},[t("td",R,d(e.code),1),t("td",X,d((m=e.outlet)==null?void 0:m.nama_outlet),1),t("td",Z,d(e.name),1),t("td",tt,d(e.location),1),t("td",et,[t("button",{class:x([e.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700","px-2 py-1 rounded-full text-xs font-semibold shadow hover:opacity-80 transition"]),onClick:w=>N(e)},d(e.status),11,st)]),t("td",ot,[t("div",lt,[t("button",{onClick:w=>H(e),class:"inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},s[5]||(s[5]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6a2 2 0 002-2v-6a2 2 0 00-2-2H7a2 2 0 00-2 2v6a2 2 0 002 2z"})],-1),v(" Edit ")]),8,at),t("button",{onClick:w=>I(e),class:"inline-flex items-center btn btn-xs bg-red-100 text-red-700 hover:bg-red-200 rounded px-2 py-1 font-semibold transition"},s[6]||(s[6]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M6 18L18 6M6 6l12 12"})],-1),v(" Hapus ")]),8,nt)])])])}),128))])])]),t("div",rt,[(n(!0),u(k,null,C(r.warehouseOutlets.links,e=>(n(),u("button",{key:e.label,disabled:!e.url,onClick:m=>T(e.url),innerHTML:e.label,class:x(["px-3 py-1 rounded-lg border text-sm font-semibold",[e.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,it))),128))]),_(F,{show:p.value,mode:f.value,"warehouse-outlet":b.value,outlets:r.outlets,onClose:L,onSuccess:g},null,8,["show","mode","warehouse-outlet","outlets"])])]),_:1}))}},Ct=U(ut,[["__scopeId","data-v-6691f559"]]);export{Ct as default};
