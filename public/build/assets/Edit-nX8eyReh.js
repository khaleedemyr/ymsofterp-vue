import{P as E,r as x,A,B as d,C as _,D as e,O as F,H as k,L as l,E as b,G as c,l as p,Q as i,F as h,M as w,N as n,I as B}from"./vendor-vue-g7iCcTkf.js";import{A as L}from"./AppLayout-hxs5t3XP.js";import"./vendor-utils-CpgP2uT4.js";import"./app-D6rf3j_5.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-D4k-zQf5.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const O={class:"py-12"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},I=["value"],U={key:0,class:"mt-1 text-sm text-red-600"},q=["value"],z={key:0,class:"mt-1 text-sm text-red-600"},G={class:"md:col-span-2"},H={class:"relative"},K=["value"],P={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"mt-8 flex justify-end space-x-4"},R=["disabled"],T={key:0},$={key:1},de={__name:"Edit",props:{budget:Object,categories:Array,outlets:Array},setup(m){var f,y,v;const g=m,s=E({category_id:((f=g.budget)==null?void 0:f.category_id)||"",outlet_id:((y=g.budget)==null?void 0:y.outlet_id)||"",budget:((v=g.budget)==null?void 0:v.budget)||""}),o=x({}),u=x(!1),C=()=>{if(!s.category_id){o.value.category_id="Category is required";return}if(!s.outlet_id){o.value.outlet_id="Outlet is required";return}if(!s.budget||s.budget<=0){o.value.budget="Budget must be greater than 0";return}o.value={},u.value=!0,s.put(`/locked-budget-food-categories/${g.budget.id}`,{onSuccess:()=>{u.value=!1},onError:a=>{o.value=a,u.value=!1}})},S=a=>a.replace(/[^\d]/g,""),V=a=>{const t=S(a.target.value);s.budget=t};return(a,t)=>(d(),A(L,{title:"Edit Locked Budget Food Category"},{header:_(()=>t[2]||(t[2]=[e("div",{class:"flex justify-between items-center"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Locked Budget Food Category "),e("a",{href:"/locked-budget-food-categories",class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},[e("i",{class:"fas fa-arrow-left mr-2"}),c(" Kembali ")])],-1)])),default:_(()=>[e("div",O,[e("div",M,[e("div",N,[e("div",j,[e("form",{onSubmit:F(C,["prevent"])},[e("div",D,[e("div",null,[t[4]||(t[4]=e("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Category "),e("span",{class:"text-red-500"},"*")],-1)),k(e("select",{id:"category_id","onUpdate:modelValue":t[0]||(t[0]=r=>i(s).category_id=r),class:p(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":o.value.category_id}])},[t[3]||(t[3]=e("option",{value:""},"Select Category",-1)),(d(!0),l(h,null,w(m.categories,r=>(d(),l("option",{key:r.id,value:r.id},n(r.name),9,I))),128))],2),[[B,i(s).category_id]]),o.value.category_id?(d(),l("p",U,n(o.value.category_id),1)):b("",!0)]),e("div",null,[t[6]||(t[6]=e("label",{for:"outlet_id",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Outlet "),e("span",{class:"text-red-500"},"*")],-1)),k(e("select",{id:"outlet_id","onUpdate:modelValue":t[1]||(t[1]=r=>i(s).outlet_id=r),class:p(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":o.value.outlet_id}])},[t[5]||(t[5]=e("option",{value:""},"Select Outlet",-1)),(d(!0),l(h,null,w(m.outlets,r=>(d(),l("option",{key:r.id_outlet,value:r.id_outlet},n(r.nama_outlet),9,q))),128))],2),[[B,i(s).outlet_id]]),o.value.outlet_id?(d(),l("p",z,n(o.value.outlet_id),1)):b("",!0)]),e("div",G,[t[8]||(t[8]=e("label",{for:"budget",class:"block text-sm font-medium text-gray-700 mb-2"},[c(" Budget "),e("span",{class:"text-red-500"},"*")],-1)),e("div",H,[t[7]||(t[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"Rp")],-1)),e("input",{id:"budget",type:"text",value:i(s).budget,onInput:V,placeholder:"0",class:p(["w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"border-red-500":o.value.budget}])},null,42,K)]),o.value.budget?(d(),l("p",P,n(o.value.budget),1)):b("",!0)])]),e("div",Q,[t[9]||(t[9]=e("a",{href:"/locked-budget-food-categories",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Batal ",-1)),e("button",{type:"submit",disabled:u.value,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?(d(),l("span",T,"Menyimpan...")):(d(),l("span",$,"Update"))],8,R)])],32)])])])])]),_:1}))}};export{de as default};
