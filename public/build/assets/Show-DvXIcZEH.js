import{A as O}from"./AppLayout-CA90k2MT.js";import{c as i,A,B as l,C as u,D as e,x as m,Q as p,S as c,N as r,l as b,G as x,L as o,E as d,F as B,M as C}from"./vendor-vue-g7iCcTkf.js";import"./app-CXnLHfhT.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-qPWVCAys.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const L={class:"min-h-screen bg-gradient-to-br from-slate-50 via-pink-50/30 to-slate-50 py-8 px-4 sm:px-6"},E={class:"max-w-3xl mx-auto"},R={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8"},U={class:"flex items-center gap-3"},V={class:"text-sm text-slate-500 mt-0.5"},q={class:"flex items-center gap-2"},K={class:"space-y-6"},M={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},J={class:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-5"},W={class:"text-slate-800 font-medium"},z={class:"text-slate-800"},G={class:"sm:col-span-2"},Q={class:"text-slate-800"},H={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},X={class:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-5"},Y={class:"text-slate-800 font-medium"},Z={class:"text-slate-800"},$={class:"text-slate-800"},ee={class:"text-slate-800"},te={class:"sm:col-span-2"},se={class:"text-slate-800 whitespace-pre-wrap"},ae={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},re={class:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-5"},le={class:"text-slate-800 font-semibold"},oe={key:0},ne={class:"font-mono text-lg font-bold text-emerald-700"},ie={key:1},de={class:"text-slate-800"},ue={key:0,class:"text-slate-700 text-sm mt-2"},me={key:0,class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},pe={class:"p-6"},ce={class:"overflow-x-auto"},xe={class:"w-full text-sm"},fe={class:"py-3 pr-4 font-medium text-slate-800"},be={class:"py-3 pr-4 text-slate-700"},ge={class:"py-3 pr-4 font-medium text-slate-800"},ve={class:"py-3 pr-4 text-slate-600"},we={class:"py-3 pr-4 text-slate-600"},_e={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},he={class:"p-6 space-y-4"},ye={class:"text-slate-800 whitespace-pre-wrap"},ke={key:0,class:"pt-2 border-t border-slate-100"},De=["href"],Se={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},Ne={class:"p-6 grid grid-cols-1 sm:grid-cols-2 gap-5"},Te={class:"text-slate-800"},je={key:0},Pe={class:"text-slate-800"},Ie={class:"flex flex-col-reverse sm:flex-row gap-3 mt-8"},qe={__name:"Show",props:{reservation:Object,linked_orders:Array},setup(k){const g=k,s=i(()=>g.reservation||{}),f=i(()=>g.linked_orders||[]),D=i(()=>{const a=s.value.menu_file;return!a||typeof a!="string"?"Unduh file":a.split(/[/\\]/).pop()||"Unduh file"}),S=i(()=>!s.value.id||!s.value.menu_file?null:route("reservations.menu-file",{reservation:s.value.id})),N=i(()=>{const a=s.value.creator;return a&&(a.nama_lengkap||a.name)||"–"}),v=i(()=>{const a=s.value.sales_user||s.value.salesUser;return a&&(a.nama_lengkap||a.name)||""});function w(a){return a?new Date(a).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"–"}function T(a){return a?new Date(a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"–"}function _(a){return a?new Date(a).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"–"}function j(a){return a==null||a===""?"–":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Number(a))}function P(a){return a==null||a===""?"–":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Number(a))}function I(a){switch(a){case"confirmed":return"bg-emerald-100 text-emerald-800";case"arrived":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-rose-100 text-rose-800";case"no_show":return"bg-slate-100 text-slate-700";default:return"bg-amber-100 text-amber-800"}}function F(a){switch(a){case"confirmed":return"Dikonfirmasi";case"arrived":return"Datang";case"cancelled":return"Dibatalkan";case"no_show":return"No Show";default:return"Pending"}}return(a,t)=>(l(),A(O,null,{default:u(()=>{var h,y;return[e("div",L,[e("div",E,[e("div",R,[e("div",U,[m(p(c),{href:a.route("reservations.index"),class:"flex items-center justify-center w-10 h-10 rounded-xl border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 transition"},{default:u(()=>t[0]||(t[0]=[e("i",{class:"fa-solid fa-arrow-left"},null,-1)])),_:1},8,["href"]),e("div",null,[t[1]||(t[1]=e("h1",{class:"text-2xl font-bold text-slate-800"},"Detail Reservasi",-1)),e("p",V,r(s.value.name)+" · "+r(w(s.value.reservation_date)),1)])]),e("div",q,[e("span",{class:b([I(s.value.status),"inline-flex items-center px-3 py-1.5 rounded-xl text-sm font-semibold"])},r(F(s.value.status)),3),m(p(c),{href:a.route("reservations.edit",{reservation:s.value.id}),class:"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-white bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 shadow-lg shadow-pink-500/25 transition"},{default:u(()=>t[2]||(t[2]=[e("i",{class:"fa-solid fa-pen-to-square text-sm"},null,-1),x(" Edit ")])),_:1},8,["href"])])]),e("div",K,[e("section",M,[t[6]||(t[6]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-rose-100 text-rose-600"},[e("i",{class:"fa-solid fa-user text-lg"})]),e("h2",{class:"font-semibold text-slate-800"},"Data Pemesan")],-1)),e("div",J,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Nama Lengkap",-1)),e("p",W,r(s.value.name||"–"),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Telepon",-1)),e("p",z,r(s.value.phone||"–"),1)]),e("div",G,[t[5]||(t[5]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Email",-1)),e("p",Q,r(s.value.email||"–"),1)])])]),e("section",H,[t[13]||(t[13]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-pink-100 text-pink-600"},[e("i",{class:"fa-solid fa-calendar-days text-lg"})]),e("h2",{class:"font-semibold text-slate-800"},"Detail Reservasi")],-1)),e("div",X,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Outlet",-1)),e("p",Y,r(((h=s.value.outlet)==null?void 0:h.nama_outlet)||"–"),1)]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Tanggal",-1)),e("p",Z,r(w(s.value.reservation_date)),1)]),e("div",null,[t[9]||(t[9]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Waktu",-1)),e("p",$,r(T(s.value.reservation_time)),1)]),e("div",null,[t[10]||(t[10]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Jumlah Tamu",-1)),e("p",ee,r(s.value.number_of_guests??"–")+" orang",1)]),e("div",null,[t[11]||(t[11]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Area",-1)),e("span",{class:b([s.value.smoking_preference==="smoking"?"bg-amber-100 text-amber-800":"bg-emerald-100 text-emerald-800","inline-flex px-2.5 py-1 rounded-lg text-xs font-medium"])},r(s.value.smoking_preference==="smoking"?"Smoking Area":"Non-Smoking Area"),3)]),e("div",te,[t[12]||(t[12]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Catatan Khusus",-1)),e("p",se,r(s.value.special_requests||"–"),1)])])]),e("section",ae,[t[18]||(t[18]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600"},[e("i",{class:"fa-solid fa-money-bill-wave text-lg"})]),e("h2",{class:"font-semibold text-slate-800"},"DP & Sales")],-1)),e("div",re,[e("div",null,[t[14]||(t[14]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"DP (Down Payment)",-1)),e("p",le,r(j(s.value.dp)),1)]),s.value.dp!=null&&s.value.dp>0&&s.value.dp_code?(l(),o("div",oe,[t[15]||(t[15]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Kode DP (untuk POS)",-1)),e("p",ne,r(s.value.dp_code),1)])):d("",!0),s.value.dp!=null&&s.value.dp>0?(l(),o("div",ie,[t[16]||(t[16]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Jenis Pembayaran",-1)),e("p",de,r(((y=s.value.payment_type||s.value.paymentType)==null?void 0:y.name)||"–"),1)])):d("",!0),e("div",null,[t[17]||(t[17]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Sumber",-1)),e("span",{class:b([s.value.from_sales?"bg-sky-100 text-sky-800":"bg-slate-100 text-slate-600","inline-flex px-2.5 py-1 rounded-lg text-xs font-medium"])},r(s.value.from_sales?"Dari Sales":"Bukan"),3),s.value.from_sales&&v.value?(l(),o("p",ue,r(v.value),1)):d("",!0)])])]),f.value&&f.value.length?(l(),o("section",me,[t[21]||(t[21]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-violet-100 text-violet-600"},[e("i",{class:"fa-solid fa-receipt text-lg"})]),e("h2",{class:"font-semibold text-slate-800"},"Transaksi POS Terkait")],-1)),e("div",pe,[t[20]||(t[20]=e("p",{class:"text-sm text-slate-500 mb-4"},"Order yang di-link ke reservasi ini (dari POS, dengan atau tanpa DP).",-1)),e("div",ce,[e("table",xe,[t[19]||(t[19]=e("thead",null,[e("tr",{class:"border-b border-slate-200 text-left text-slate-500 font-medium"},[e("th",{class:"py-2 pr-4"},"No. Bayar"),e("th",{class:"py-2 pr-4"},"Meja"),e("th",{class:"py-2 pr-4"},"Total"),e("th",{class:"py-2 pr-4"},"Waktu"),e("th",{class:"py-2 pr-4"},"Outlet")])],-1)),e("tbody",null,[(l(!0),o(B,null,C(f.value,n=>(l(),o("tr",{key:n.id,class:"border-b border-slate-100 hover:bg-slate-50/50"},[e("td",fe,r(n.paid_number||"–"),1),e("td",be,r(n.table||"–"),1),e("td",ge,r(P(n.grand_total)),1),e("td",ve,r(_(n.created_at)),1),e("td",we,r(n.kode_outlet||"–"),1)]))),128))])])])])])):d("",!0),e("section",_e,[t[25]||(t[25]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-amber-100 text-amber-600"},[e("i",{class:"fa-solid fa-utensils text-lg"})]),e("h2",{class:"font-semibold text-slate-800"},"Menu")],-1)),e("div",he,[e("p",ye,r(s.value.menu||"–"),1),s.value.menu_file||s.value.menu_file_url?(l(),o("div",ke,[t[24]||(t[24]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1.5"},"File menu",-1)),e("a",{href:S.value,target:"_blank",rel:"noopener noreferrer",download:"",class:"inline-flex items-center gap-2 text-rose-600 hover:text-rose-700 font-medium text-sm"},[t[22]||(t[22]=e("i",{class:"fa-solid fa-file-arrow-down"},null,-1)),x(" "+r(D.value)+" ",1),t[23]||(t[23]=e("i",{class:"fa-solid fa-external-link-alt text-xs"},null,-1))],8,De)])):d("",!0)])]),e("section",Se,[t[28]||(t[28]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-slate-200 text-slate-600"},[e("i",{class:"fa-solid fa-info-circle text-lg"})]),e("h2",{class:"font-semibold text-slate-800"},"Informasi")],-1)),e("div",Ne,[e("div",null,[t[26]||(t[26]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Dibuat oleh",-1)),e("p",Te,r(N.value),1)]),s.value.created_at?(l(),o("div",je,[t[27]||(t[27]=e("p",{class:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-1"},"Tanggal dibuat",-1)),e("p",Pe,r(_(s.value.created_at)),1)])):d("",!0)])])]),e("div",Ie,[m(p(c),{href:a.route("reservations.index"),class:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl border border-slate-200 text-slate-700 font-medium hover:bg-slate-50 transition"},{default:u(()=>t[29]||(t[29]=[e("i",{class:"fa-solid fa-arrow-left"},null,-1),x(" Kembali ke Daftar ")])),_:1},8,["href"]),m(p(c),{href:a.route("reservations.edit",{reservation:s.value.id}),class:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 shadow-lg shadow-pink-500/25 transition"},{default:u(()=>t[30]||(t[30]=[e("i",{class:"fa-solid fa-pen-to-square"},null,-1),x(" Edit Reservasi ")])),_:1},8,["href"])])])])]}),_:1}))}};export{qe as default};
