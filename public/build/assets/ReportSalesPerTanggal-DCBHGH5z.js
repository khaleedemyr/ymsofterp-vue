import{r as d,c as k,w as M,A as _,B as l,C as I,D as e,L as s,E as N,H as g,J as F,F as p,M as b,N as r,I as w,G,l as D,W as R}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-DUleG9B8.js";import"./vendor-utils-CpgP2uT4.js";import"./app-P14ApjUf.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BD6EyRcy.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const L={class:"max-w-7xl mx-auto py-8 px-4"},j={class:"flex flex-col md:flex-row md:items-center gap-4 mb-4"},W={class:"flex items-center gap-2"},E=["value"],H={class:"flex items-center gap-2"},z=["value"],J={class:"flex items-center gap-2"},O=["value"],Y={class:"flex items-center gap-2"},q=["value"],K=["disabled"],Q={key:0,class:"animate-spin mr-2"},X={key:1,class:"mr-2"},Z={class:"bg-white rounded-xl shadow-lg overflow-x-auto"},$={class:"min-w-full border border-gray-300"},ee={key:0},te={class:"px-4 py-2 border border-gray-200"},ae={class:"px-4 py-2 border border-gray-200"},le={class:"px-4 py-2 border border-gray-200 text-right"},se={key:0},re={class:"bg-gray-50 font-bold"},oe={class:"px-6 py-3 text-right"},ne={key:0,class:"flex justify-between items-center mt-4"},ue={class:"text-sm text-gray-600"},de={class:"flex gap-1"},ie=["disabled"],ge={class:"px-2"},pe=["disabled"],Te={__name:"ReportSalesPerTanggal",props:{report:Array,warehouses:Array,years:Array,months:Array,filters:Object,total:Number,perPage:Number,page:Number},setup(u){const n=u,m=d(n.filters.search||""),v=d(n.filters.warehouse||""),c=d(n.filters.tahun||""),x=d(n.filters.bulan||""),i=d(n.perPage||25),o=d(n.page||1),y=d(!1),P=k(()=>(o.value-1)*i.value),S=k(()=>Math.min(P.value+n.report.length,n.total)),f=k(()=>Math.ceil(n.total/i.value)||1);function V(){o.value>1&&(o.value--,T())}function A(){o.value<f.value&&(o.value++,T())}M([m,v,c,x,i],()=>{o.value=1});function T(){y.value=!0,R.get("/report-sales-per-tanggal",{search:m.value,warehouse:v.value,tahun:c.value,bulan:x.value,perPage:i.value,page:o.value},{preserveState:!0,preserveScroll:!0,onFinish:()=>y.value=!1})}const B=k(()=>n.report.reduce((h,t)=>h+(Number(t.nilai)||0),0));function C(h){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(h||0)}return(h,t)=>(l(),_(U,null,{default:I(()=>[e("div",L,[t[19]||(t[19]=e("h1",{class:"text-2xl font-bold mb-6"},"Report Penjualan per Tanggal",-1)),e("div",j,[g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>m.value=a),type:"text",placeholder:"Cari gudang, tanggal...",class:"px-4 py-2 border border-gray-300 rounded-lg w-full md:w-64 focus:ring-blue-500 focus:border-blue-500"},null,512),[[F,m.value]]),e("div",W,[t[6]||(t[6]=e("label",{class:"text-sm"},"Gudang",-1)),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},[t[5]||(t[5]=e("option",{value:""},"Semua Gudang",-1)),(l(!0),s(p,null,b(u.warehouses,a=>(l(),s("option",{key:a.name,value:a.name},r(a.name),9,E))),128))],512),[[w,v.value]])]),e("div",H,[t[8]||(t[8]=e("label",{class:"text-sm"},"Tahun",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>c.value=a),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},[t[7]||(t[7]=e("option",{value:""},"Semua Tahun",-1)),(l(!0),s(p,null,b(u.years,a=>(l(),s("option",{key:a,value:a},r(a),9,z))),128))],512),[[w,c.value]])]),e("div",J,[t[10]||(t[10]=e("label",{class:"text-sm"},"Bulan",-1)),g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>x.value=a),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},[t[9]||(t[9]=e("option",{value:""},"Semua Bulan",-1)),(l(!0),s(p,null,b(u.months,a=>(l(),s("option",{key:a,value:a},r(a),9,O))),128))],512),[[w,x.value]])]),e("div",Y,[t[11]||(t[11]=e("label",{class:"text-sm"},"Tampilkan",-1)),g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>i.value=a),class:"border border-gray-300 rounded-lg px-2 py-2 focus:ring-blue-500 focus:border-blue-500"},[(l(),s(p,null,b([10,25,50,100],a=>e("option",{key:a,value:a},r(a),9,q)),64))],512),[[w,i.value]]),t[12]||(t[12]=e("span",{class:"text-sm"},"data",-1))]),e("button",{onClick:T,disabled:y.value,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md font-semibold hover:bg-blue-700"},[y.value?(l(),s("span",Q,t[13]||(t[13]=[e("i",{class:"fas fa-spinner"},null,-1)]))):(l(),s("span",X,t[14]||(t[14]=[e("i",{class:"fas fa-sync-alt"},null,-1)]))),t[15]||(t[15]=G(" Load Data "))],8,K)]),e("div",Z,[e("table",$,[t[18]||(t[18]=e("thead",null,[e("tr",{class:"bg-yellow-300 text-gray-900"},[e("th",{class:"px-4 py-2 border border-gray-300"},"Gudang"),e("th",{class:"px-4 py-2 border border-gray-300"},"Tanggal"),e("th",{class:"px-4 py-2 border border-gray-300 text-right"},"Nilai")])],-1)),e("tbody",null,[u.report.length?N("",!0):(l(),s("tr",ee,t[16]||(t[16]=[e("td",{colspan:"3",class:"text-center py-10 text-gray-400"},"Tidak ada data.",-1)]))),(l(!0),s(p,null,b(u.report,a=>(l(),s("tr",{key:a.gudang+"-"+a.tanggal},[e("td",te,r(a.gudang),1),e("td",ae,r(a.tanggal),1),e("td",le,r(C(a.nilai)),1)]))),128))]),u.report.length?(l(),s("tfoot",se,[e("tr",re,[t[17]||(t[17]=e("td",{colspan:"2",class:"text-right px-6 py-3"},"Grand Total",-1)),e("td",oe,r(C(B.value)),1)])])):N("",!0)])]),u.total>0?(l(),s("div",ne,[e("div",ue," Menampilkan "+r(P.value+1)+" - "+r(S.value)+" dari "+r(u.total)+" data ",1),e("div",de,[e("button",{onClick:V,disabled:o.value===1,class:D(["px-3 py-1 rounded border text-sm",o.value===1?"bg-gray-200 text-gray-400":"bg-white text-blue-700 hover:bg-blue-50"])},"<",10,ie),e("span",ge,"Halaman "+r(o.value)+" / "+r(f.value),1),e("button",{onClick:A,disabled:o.value===f.value,class:D(["px-3 py-1 rounded border text-sm",o.value===f.value?"bg-gray-200 text-gray-400":"bg-white text-blue-700 hover:bg-blue-50"])},">",10,pe)])])):N("",!0)])]),_:1}))}};export{Te as default};
