import{P as I,r as C,A,B as r,C as k,D as t,x as M,G as c,Q as o,S as j,O as B,H as d,L as u,F as b,M as g,N as y,I as f,J as a}from"./vendor-vue-g7iCcTkf.js";import{A as D}from"./AppLayout-CytV2Jsj.js";import"./vendor-utils-CpgP2uT4.js";import"./app-B-3LCfNP.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BWyEbEQC.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const L={class:"max-w-7xl w-full mx-auto py-8 px-2"},_={class:"flex justify-between items-center mb-6"},N={class:"bg-white rounded-xl shadow-lg p-6"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F={class:"space-y-4"},Q=["value"],T=["value"],O={class:"space-y-4"},P={class:"space-y-4"},R=["value"],$=["value"],G=["value"],H={class:"space-y-4"},J={class:"grid grid-cols-3 gap-4"},K=["src"],W=["onClick"],z=["src"],X=["onClick"],Y={class:"mt-6 flex justify-end"},Z=["disabled"],ne={__name:"Edit",props:{item:{type:Object,required:!0},categories:{type:Array,required:!0},subCategories:{type:Array,required:!0},units:{type:Array,required:!0}},setup(m){const i=m,s=I({category_id:i.item.category_id,sub_category_id:i.item.sub_category_id,warehouse_division_id:i.item.warehouse_division_id,sku:i.item.sku,type:i.item.type,name:i.item.name,description:i.item.description,specification:i.item.specification,small_unit_id:i.item.small_unit_id,medium_unit_id:i.item.medium_unit_id,large_unit_id:i.item.large_unit_id,medium_conversion_qty:i.item.medium_conversion_qty,small_conversion_qty:i.item.small_conversion_qty,min_stock:i.item.min_stock,status:i.item.status,images:[],deleted_images:[]}),v=C([]),w=n=>{const e=n.target.files;for(let l=0;l<e.length;l++){const p=e[l];s.images.push(p);const x=new FileReader;x.onload=V=>{v.value.push(V.target.result)},x.readAsDataURL(p)}},U=n=>{s.images.splice(n,1),v.value.splice(n,1)},S=n=>{s.deleted_images.push(n)},q=()=>{s.put(route("items.update",i.item.id),{onSuccess:()=>{s.reset(),v.value=[]}})};return(n,e)=>(r(),A(D,null,{default:k(()=>[t("div",L,[t("div",_,[e[16]||(e[16]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-boxes-stacked text-blue-500"}),c(" Edit Item ")],-1)),M(o(j),{href:n.route("items.index"),class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2"},{default:k(()=>e[15]||(e[15]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),c(" Back to List ")])),_:1},8,["href"])]),t("div",N,[t("form",{onSubmit:B(q,["prevent"])},[t("div",E,[t("div",F,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-gray-800"},"Basic Information",-1)),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},"Category",-1)),d(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>o(s).category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[e[17]||(e[17]=t("option",{value:""},"Select Category",-1)),(r(!0),u(b,null,g(m.categories,l=>(r(),u("option",{key:l.id,value:l.id},y(l.name),9,Q))),128))],512),[[f,o(s).category_id]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},"Sub Category",-1)),d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>o(s).sub_category_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[e[19]||(e[19]=t("option",{value:""},"Select Sub Category",-1)),(r(!0),u(b,null,g(m.subCategories,l=>(r(),u("option",{key:l.id,value:l.id},y(l.name),9,T))),128))],512),[[f,o(s).sub_category_id]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700"},"Warehouse Division ID",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>o(s).warehouse_division_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,o(s).warehouse_division_id]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700"},"SKU",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>o(s).sku=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,o(s).sku]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},"Type",-1)),d(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>o(s).type=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},e[23]||(e[23]=[t("option",{value:"product"},"Product",-1),t("option",{value:"service"},"Service",-1)]),512),[[f,o(s).type]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),d(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>o(s).name=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,o(s).name]])])]),t("div",O,[e[32]||(e[32]=t("h2",{class:"text-lg font-semibold text-gray-800"},"Additional Information",-1)),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),d(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>o(s).description=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,o(s).description]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700"},"Specification",-1)),d(t("textarea",{"onUpdate:modelValue":e[7]||(e[7]=l=>o(s).specification=l),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,o(s).specification]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700"},"Minimum Stock",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=l=>o(s).min_stock=l),min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[a,o(s).min_stock]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),d(t("select",{"onUpdate:modelValue":e[9]||(e[9]=l=>o(s).status=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},e[30]||(e[30]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)]),512),[[f,o(s).status]])])]),t("div",P,[e[41]||(e[41]=t("h2",{class:"text-lg font-semibold text-gray-800"},"Unit Information",-1)),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700"},"Small Unit",-1)),d(t("select",{"onUpdate:modelValue":e[10]||(e[10]=l=>o(s).small_unit_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[e[33]||(e[33]=t("option",{value:""},"Select Small Unit",-1)),(r(!0),u(b,null,g(m.units,l=>(r(),u("option",{key:l.id,value:l.id},y(l.name),9,R))),128))],512),[[f,o(s).small_unit_id]])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700"},"Medium Unit",-1)),d(t("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>o(s).medium_unit_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[e[35]||(e[35]=t("option",{value:""},"Select Medium Unit",-1)),(r(!0),u(b,null,g(m.units,l=>(r(),u("option",{key:l.id,value:l.id},y(l.name),9,$))),128))],512),[[f,o(s).medium_unit_id]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700"},"Large Unit",-1)),d(t("select",{"onUpdate:modelValue":e[12]||(e[12]=l=>o(s).large_unit_id=l),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[e[37]||(e[37]=t("option",{value:""},"Select Large Unit",-1)),(r(!0),u(b,null,g(m.units,l=>(r(),u("option",{key:l.id,value:l.id},y(l.name),9,G))),128))],512),[[f,o(s).large_unit_id]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700"},"Medium Conversion Quantity",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=l=>o(s).medium_conversion_qty=l),min:"0",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,o(s).medium_conversion_qty]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700"},"Small Conversion Quantity",-1)),d(t("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=l=>o(s).small_conversion_qty=l),min:"0",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[a,o(s).small_conversion_qty]])])]),t("div",H,[e[45]||(e[45]=t("h2",{class:"text-lg font-semibold text-gray-800"},"Images",-1)),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700"},"Upload Images",-1)),t("input",{type:"file",onChange:w,multiple:"",accept:"image/*",class:"mt-1 block w-full"},null,32)]),t("div",J,[(r(!0),u(b,null,g(m.item.images,l=>(r(),u("div",{key:l.id,class:"relative"},[t("img",{src:"/storage/"+l.path,class:"w-full h-32 object-cover rounded-lg"},null,8,K),t("button",{onClick:p=>S(l.id),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center"},e[43]||(e[43]=[t("i",{class:"fa-solid fa-xmark"},null,-1)]),8,W)]))),128)),(r(!0),u(b,null,g(v.value,(l,p)=>(r(),u("div",{key:p,class:"relative"},[t("img",{src:l,class:"w-full h-32 object-cover rounded-lg"},null,8,z),t("button",{onClick:x=>U(p),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center"},e[44]||(e[44]=[t("i",{class:"fa-solid fa-xmark"},null,-1)]),8,X)]))),128))])])]),t("div",Y,[t("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg flex items-center gap-2",disabled:o(s).processing},e[46]||(e[46]=[t("i",{class:"fa-solid fa-save"},null,-1),c(" Update Item ")]),8,Z)])],32)])])]),_:1}))}};export{ne as default};
