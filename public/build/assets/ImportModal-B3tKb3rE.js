import{P as y,r as h,L as a,E as p,B as i,D as e,G as d,Q as u,N as w}from"./vendor-vue-g7iCcTkf.js";import{S as r}from"./app-DlrnVByK.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";const v={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},k={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},E={class:"space-y-4"},I={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center"},B={class:"mb-4"},C={key:0,class:"text-sm text-green-600 mt-2"},N={class:"flex justify-end gap-2 mt-6"},_=["disabled"],j={key:0},D={key:1},S={__name:"ImportModal",props:{show:Boolean},emits:["close"],setup(m,{emit:f}){const c=f,t=y({file:null}),o=h(!1);function x(s){t.file=s.target.files[0]}function b(){window.location.href=route("roulette.download-template")}async function g(){if(!t.file){r.fire("Error","Pilih file Excel terlebih dahulu!","error");return}o.value=!0;try{await t.post(route("roulette.import"),{onSuccess:()=>{r.fire("Berhasil","File berhasil diimport!","success"),n()},onError:s=>{r.fire("Gagal","Gagal import file!","error"),console.error("Import error:",s)}})}catch(s){r.fire("Gagal","Gagal import file!","error"),console.error("Import error:",s)}finally{o.value=!1}}function n(){t.reset(),c("close")}return(s,l)=>m.show?(i(),a("div",v,[e("div",k,[e("div",{class:"flex justify-between items-center mb-4"},[l[1]||(l[1]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Import Data Roulette",-1)),e("button",{onClick:n,class:"text-gray-400 hover:text-gray-600"},l[0]||(l[0]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",E,[l[6]||(l[6]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("h4",{class:"font-semibold text-blue-800 mb-2"},"Langkah Import:"),e("ol",{class:"text-sm text-blue-700 space-y-1"},[e("li",null,"1. Download template Excel di bawah ini"),e("li",null,"2. Isi data sesuai format template"),e("li",null,"3. Upload file Excel yang sudah diisi"),e("li",null,"4. Klik Import untuk memproses data")])],-1)),e("div",{class:"flex justify-center"},[e("button",{onClick:b,class:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition flex items-center gap-2"},l[2]||(l[2]=[e("i",{class:"fas fa-download"},null,-1),d(" Download Template Excel ")]))]),e("div",I,[l[4]||(l[4]=e("div",{class:"mb-4"},[e("i",{class:"fas fa-file-excel text-4xl text-green-500"})],-1)),e("div",B,[l[3]||(l[3]=e("label",{for:"file-upload",class:"cursor-pointer"},[e("span",{class:"text-blue-500 hover:text-blue-600 font-medium"}," Pilih file Excel "),e("span",{class:"text-gray-500"}," atau drag & drop")],-1)),e("input",{id:"file-upload",type:"file",onChange:x,accept:".xlsx,.xls",class:"hidden"},null,32)]),l[5]||(l[5]=e("p",{class:"text-sm text-gray-500"}," Format: .xlsx, .xls (Maksimal 2MB) ",-1)),u(t).file?(i(),a("p",C," File dipilih: "+w(u(t).file.name),1)):p("",!0)]),l[7]||(l[7]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[e("h4",{class:"font-semibold text-yellow-800 mb-2"},"Catatan:"),e("ul",{class:"text-sm text-yellow-700 space-y-1"},[e("li",null,"• Nama adalah field wajib"),e("li",null,"• Email harus valid (opsional)"),e("li",null,"• No HP maksimal 15 digit (opsional)"),e("li",null,"• Email tidak boleh duplikat")])],-1))]),e("div",N,[e("button",{onClick:n,class:"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300 transition"}," Batal "),e("button",{onClick:g,disabled:!u(t).file||o.value,class:"px-4 py-2 rounded bg-purple-600 text-white hover:bg-purple-700 transition disabled:opacity-50"},[o.value?(i(),a("span",j,l[8]||(l[8]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),d(" Importing... ")]))):(i(),a("span",D,l[9]||(l[9]=[e("i",{class:"fas fa-upload mr-2"},null,-1),d(" Import ")])))],8,_)])])])):p("",!0)}};export{S as default};
