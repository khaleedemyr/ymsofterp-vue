import{r as T,a as rt,c as dt,W as J,A as ut,B as l,C as mt,D as t,L as a,E as r,G as u,O as Y,H as h,I as j,F as y,M as b,N as o,J as R,l as k}from"./vendor-vue-g7iCcTkf.js";import{A as xt}from"./AppLayout-BXpmQkyt.js";import"./vendor-utils-CpgP2uT4.js";import"./app-ErXbte2J.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C0i_S3gs.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const gt={class:"py-8 px-4"},ct={class:"w-full mx-auto"},pt={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},yt=["value"],ft=["value"],bt={class:"md:col-span-2"},vt={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},_t={class:"bg-white rounded-xl shadow-lg p-6"},ht={class:"flex items-center justify-between mb-3"},wt={class:"text-2xl font-bold text-gray-800"},kt={key:0,class:"mt-3 pt-3 border-t border-gray-200 space-y-1"},Dt={class:"text-gray-600"},Ct={class:"font-medium text-gray-800"},St={class:"bg-white rounded-xl shadow-lg p-6"},jt={class:"flex items-center justify-between mb-3"},Et={class:"text-2xl font-bold text-green-600"},Pt={key:0,class:"mt-3 pt-3 border-t border-gray-200 space-y-1"},At={class:"text-gray-600"},Tt={class:"font-medium text-green-700"},Mt={class:"bg-white rounded-xl shadow-lg p-6"},Ot={class:"flex items-center justify-between mb-3"},Rt={class:"text-2xl font-bold text-purple-600"},Ft={class:"text-xs text-gray-500 mt-1"},It={key:0,class:"mt-3 pt-3 border-t border-gray-200 space-y-1"},Lt={class:"text-gray-600"},Nt={class:"font-medium text-purple-700"},Ut={class:"bg-white rounded-xl shadow-lg p-6"},$t={class:"flex items-center justify-between mb-3"},Bt={class:"text-2xl font-bold text-orange-600"},Vt={class:"text-xs text-gray-500 mt-1"},zt={key:0,class:"mt-3 pt-3 border-t border-gray-200 space-y-1"},Wt={class:"text-gray-600"},Kt={class:"font-medium text-orange-700"},Ht={class:"bg-white rounded-xl shadow-lg p-4 mb-4 flex items-center justify-between"},qt={class:"flex items-center gap-4"},Gt={class:"text-sm text-gray-700 flex items-center gap-2"},Jt={class:"text-sm text-gray-600"},Yt={class:"bg-white rounded-xl shadow-lg overflow-hidden w-full"},Qt={class:"overflow-x-auto w-full"},Xt={class:"w-full divide-y divide-gray-200"},Zt={class:"bg-white divide-y divide-gray-200"},te=["onClick"],ee={class:"px-6 py-4 whitespace-nowrap"},se={class:"text-gray-600 hover:text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap"},le={class:"text-sm font-medium text-gray-900"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap"},ie={class:"px-6 py-4"},re={class:"text-sm text-gray-900"},de={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ue={key:0},me={key:1,class:"text-xs"},xe={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-right text-gray-900"},ge={class:"px-6 py-4 whitespace-nowrap"},ce={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},pe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ye={key:0,class:"bg-gray-50"},fe={colspan:"9",class:"px-6 py-4"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ve={class:"space-y-2 text-sm"},_e={class:"text-gray-700"},he={class:"text-gray-700"},we={class:"text-gray-700"},ke={class:"text-gray-700"},De={key:0},Ce={class:"mt-1 space-y-1 text-gray-700"},Se={key:0},je={key:1},Ee={key:2},Pe={key:1},Ae={class:"text-gray-700"},Te={key:2},Me={class:"text-red-700"},Oe={key:0,class:"text-gray-500 text-xs ml-2"},Re={class:"space-y-2 text-sm"},Fe={key:0},Ie={class:"text-gray-700"},Le={key:0,class:"text-gray-500 text-xs ml-2"},Ne={key:1},Ue={class:"text-gray-700"},$e={key:0,class:"text-gray-500 text-xs ml-2"},Be={key:2},Ve={class:"text-gray-700"},ze={class:"text-gray-500 text-xs ml-2"},We={key:3},Ke={class:"mt-1 space-y-1"},He={key:0},qe={key:1,class:"text-yellow-600"},Ge={key:0,class:"md:col-span-2"},Je={class:"font-semibold text-gray-800 mb-3 flex items-center"},Ye={class:"overflow-x-auto"},Qe={class:"min-w-full divide-y divide-gray-200 text-sm"},Xe={class:"bg-white divide-y divide-gray-200"},Ze={class:"px-3 py-2 text-gray-900"},ts={class:"px-3 py-2 text-gray-700"},es={class:"px-3 py-2 text-gray-700"},ss={class:"px-3 py-2 text-right text-gray-700"},os={class:"px-3 py-2 text-right font-medium text-gray-900"},ls={key:1,class:"md:col-span-2"},as={class:"font-semibold text-gray-800 mb-3 flex items-center"},ns={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},is=["onClick"],rs=["src","alt"],ds=["title"],us=["href","onClick"],ms=["title"],xs={class:"text-xs text-indigo-500 mt-1"},gs={key:2,class:"md:col-span-2"},cs={class:"font-semibold text-gray-800 mb-3 flex items-center"},ps={class:"space-y-2 max-h-40 overflow-y-auto"},ys={class:"font-medium text-gray-800"},fs={class:"text-gray-600"},bs={class:"text-xs text-gray-400 mt-1"},vs={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},_s={class:"flex items-center justify-between"},hs={class:"flex-1 flex justify-between sm:hidden"},ws=["disabled"],ks=["disabled"],Ds={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Cs={class:"text-sm text-gray-700"},Ss={class:"font-medium"},js={class:"font-medium"},Es={class:"font-medium"},Ps={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},As=["disabled"],Ts=["onClick"],Ms={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},Os=["disabled"],Rs=["src","alt"],Fs={class:"text-center mt-4 text-white"},Is={class:"text-sm"},Gs={__name:"TravelKasbonReport",props:{reportData:Array,summary:Object,divisions:Array,outlets:Array,pagination:Object,filters:Object},setup(m){var N,U,$,B,V,z,W,K;const v=m,D=T([]),E=T(null),P=T("");rt(()=>{x.value.date_from&&x.value.date_to&&(!v.reportData||v.reportData.length===0)&&M()});function F(){const n=new Date,e=n.getFullYear(),g=String(n.getMonth()+1).padStart(2,"0");return`${e}-${g}-01`}function I(){const n=new Date,e=n.getFullYear(),g=n.getMonth()+1,d=new Date(e,g,0).getDate();return`${e}-${String(g).padStart(2,"0")}-${String(d).padStart(2,"0")}`}const x=T({mode:((N=v.filters)==null?void 0:N.mode)||"all",status:((U=v.filters)==null?void 0:U.status)||"all",division_id:(($=v.filters)==null?void 0:$.division_id)||"",outlet_id:((B=v.filters)==null?void 0:B.outlet_id)||"",date_from:((V=v.filters)==null?void 0:V.date_from)||F(),date_to:((z=v.filters)==null?void 0:z.date_to)||I(),search:((W=v.filters)==null?void 0:W.search)||"",per_page:((K=v.filters)==null?void 0:K.per_page)||10}),c=dt(()=>v.pagination||{current_page:1,last_page:1,per_page:10,total:0,from:0,to:0});function Q(n){const e=D.value.indexOf(n);e>-1?D.value.splice(e,1):D.value.push(n)}function M(){const n={...x.value,has_filter:!0};J.get("/travel-kasbon-report",n,{preserveState:!0,preserveScroll:!0})}function X(){x.value={mode:"all",status:"all",division_id:"",outlet_id:"",date_from:F(),date_to:I(),search:"",per_page:10}}function C(n){const e=c.value;if(n<1||n>e.last_page)return;const g={...x.value,page:n,has_filter:!0};J.get("/travel-kasbon-report",g,{preserveState:!0,preserveScroll:!1})}function Z(){const n=c.value,e=n.current_page,g=n.last_page,d=[];if(g<=7)for(let p=1;p<=g;p++)d.push(p);else if(e<=3){for(let p=1;p<=5;p++)d.push(p);d.push("..."),d.push(g)}else if(e>=g-2){d.push(1),d.push("...");for(let p=g-4;p<=g;p++)d.push(p)}else{d.push(1),d.push("...");for(let p=e-1;p<=e+1;p++)d.push(p);d.push("..."),d.push(g)}return d}function tt(n){return n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function S(n){return n?new Date(n).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function _(n){return n==null?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n)}function et(n){if(!n)return"0 B";const e=1024,g=["B","KB","MB","GB"],d=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,d)).toFixed(2))+" "+g[d]}function st(n){return{DRAFT:"bg-gray-100 text-gray-800",SUBMITTED:"bg-blue-100 text-blue-800",APPROVED:"bg-green-100 text-green-800",REJECTED:"bg-red-100 text-red-800",PROCESSED:"bg-yellow-100 text-yellow-800",COMPLETED:"bg-purple-100 text-purple-800",PAID:"bg-emerald-100 text-emerald-800"}[n]||"bg-gray-100 text-gray-800"}function ot(n){return{LOW:"bg-green-100 text-green-800",MEDIUM:"bg-yellow-100 text-yellow-800",HIGH:"bg-orange-100 text-orange-800",URGENT:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"}function lt(n){if(!n)return!1;const e=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"],g=n.toLowerCase();return e.some(d=>g.endsWith(d))}function at(n){if(!n)return"fa fa-file";const e=n.toLowerCase();return e.endsWith(".pdf")?"fa fa-file-pdf":e.endsWith(".doc")||e.endsWith(".docx")?"fa fa-file-word":e.endsWith(".xls")||e.endsWith(".xlsx")?"fa fa-file-excel":"fa fa-file"}function O(n){return n.id?`/purchase-requisitions/attachments/${n.id}/download`:n.file_path?`/storage/${n.file_path}`:"#"}function nt(n,e){E.value=n,P.value=e}function L(){E.value=null,P.value=""}function Ls(n,e){}function it(n){n.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" font-family="sans-serif" font-size="12" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EImage%3C/text%3E%3C/svg%3E'}return(n,e)=>(l(),ut(xt,{title:"Report Travel Application & Kasbon"},{default:mt(()=>{var g,d,p,H,q,G;return[t("div",gt,[t("div",ct,[e[72]||(e[72]=t("div",{class:"mb-6"},[t("h1",{class:"text-3xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa fa-plane text-blue-500"}),u(" Report Travel Application & Kasbon ")]),t("p",{class:"text-gray-600 mt-2"},"Laporan lengkap untuk Purchase Requisition dengan mode Travel Application dan Kasbon")],-1)),t("div",pt,[t("form",{onSubmit:Y(M,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mode",-1)),h(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value.mode=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},e[14]||(e[14]=[t("option",{value:"all"},"Semua Mode",-1),t("option",{value:"travel_application"},"Travel Application",-1),t("option",{value:"kasbon"},"Kasbon",-1)]),512),[[j,x.value.mode]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),h(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>x.value.status=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},e[16]||(e[16]=[t("option",{value:"all"},"Semua Status",-1),t("option",{value:"DRAFT"},"Draft",-1),t("option",{value:"SUBMITTED"},"Submitted",-1),t("option",{value:"APPROVED"},"Approved",-1),t("option",{value:"REJECTED"},"Rejected",-1),t("option",{value:"PROCESSED"},"Processed",-1),t("option",{value:"COMPLETED"},"Completed",-1),t("option",{value:"PAID"},"Paid",-1)]),512),[[j,x.value.status]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Divisi",-1)),h(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>x.value.division_id=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[18]||(e[18]=t("option",{value:""},"Semua Divisi",-1)),(l(!0),a(y,null,b(m.divisions,s=>(l(),a("option",{key:s.id,value:s.id},o(s.name),9,yt))),128))],512),[[j,x.value.division_id]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),h(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>x.value.outlet_id=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[20]||(e[20]=t("option",{value:""},"Semua Outlet",-1)),(l(!0),a(y,null,b(m.outlets,s=>(l(),a("option",{key:s.id,value:s.id},o(s.name),9,ft))),128))],512),[[j,x.value.outlet_id]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Dari Tanggal",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=s=>x.value.date_from=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[R,x.value.date_from]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sampai Tanggal",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=s=>x.value.date_to=s),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[R,x.value.date_to]])]),t("div",bt,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Pencarian",-1)),h(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=s=>x.value.search=s),placeholder:"Cari PR Number, Title, atau Nama...",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[R,x.value.search]])]),t("div",{class:"md:col-span-4 flex gap-2"},[e[26]||(e[26]=t("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition"},[t("i",{class:"fa fa-filter mr-2"}),u("Filter ")],-1)),t("button",{type:"button",onClick:X,class:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600 transition"},e[25]||(e[25]=[t("i",{class:"fa fa-redo mr-2"},null,-1),u("Reset ")]))])],32)]),t("div",vt,[t("div",_t,[t("div",ht,[t("div",null,[e[27]||(e[27]=t("p",{class:"text-sm text-gray-600"},"Total PR",-1)),t("p",wt,o(m.summary.total_count),1)]),e[28]||(e[28]=t("div",{class:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-file-invoice text-blue-600 text-xl"})],-1))]),m.summary.by_status&&Object.keys(m.summary.by_status).length>0?(l(),a("div",kt,[(l(!0),a(y,null,b(m.summary.by_status,(s,f)=>(l(),a("div",{key:f,class:"flex justify-between text-xs"},[t("span",Dt,o(f)+":",1),t("span",Ct,o(s.count),1)]))),128))])):r("",!0)]),t("div",St,[t("div",jt,[t("div",null,[e[29]||(e[29]=t("p",{class:"text-sm text-gray-600"},"Total Amount",-1)),t("p",Et,o(_(m.summary.total_amount)),1)]),e[30]||(e[30]=t("div",{class:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-money-bill-wave text-green-600 text-xl"})],-1))]),m.summary.by_status&&Object.keys(m.summary.by_status).length>0?(l(),a("div",Pt,[(l(!0),a(y,null,b(m.summary.by_status,(s,f)=>(l(),a("div",{key:f,class:"flex justify-between text-xs"},[t("span",At,o(f)+":",1),t("span",Tt,o(_(s.amount)),1)]))),128))])):r("",!0)]),t("div",Mt,[t("div",Ot,[t("div",null,[e[31]||(e[31]=t("p",{class:"text-sm text-gray-600"},"Travel Application",-1)),t("p",Rt,o(((g=m.summary.by_mode.travel_application)==null?void 0:g.count)||0),1),t("p",Ft,o(_(((d=m.summary.by_mode.travel_application)==null?void 0:d.amount)||0)),1)]),e[32]||(e[32]=t("div",{class:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-plane text-purple-600 text-xl"})],-1))]),(p=m.summary.by_mode.travel_application)!=null&&p.by_status&&Object.keys(m.summary.by_mode.travel_application.by_status).length>0?(l(),a("div",It,[(l(!0),a(y,null,b(m.summary.by_mode.travel_application.by_status,(s,f)=>(l(),a("div",{key:f,class:"flex justify-between text-xs"},[t("span",Lt,o(f)+":",1),t("span",Nt,o(s.count)+" ("+o(_(s.amount))+")",1)]))),128))])):r("",!0)]),t("div",Ut,[t("div",$t,[t("div",null,[e[33]||(e[33]=t("p",{class:"text-sm text-gray-600"},"Kasbon",-1)),t("p",Bt,o(((H=m.summary.by_mode.kasbon)==null?void 0:H.count)||0),1),t("p",Vt,o(_(((q=m.summary.by_mode.kasbon)==null?void 0:q.amount)||0)),1)]),e[34]||(e[34]=t("div",{class:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center"},[t("i",{class:"fa fa-wallet text-orange-600 text-xl"})],-1))]),(G=m.summary.by_mode.kasbon)!=null&&G.by_status&&Object.keys(m.summary.by_mode.kasbon.by_status).length>0?(l(),a("div",zt,[(l(!0),a(y,null,b(m.summary.by_mode.kasbon.by_status,(s,f)=>(l(),a("div",{key:f,class:"flex justify-between text-xs"},[t("span",Wt,o(f)+":",1),t("span",Kt,o(s.count)+" ("+o(_(s.amount))+")",1)]))),128))])):r("",!0)])]),t("div",Ht,[t("div",qt,[t("label",Gt,[e[36]||(e[36]=t("span",null,"Per Page:",-1)),h(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>x.value.per_page=s),onChange:M,class:"border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},e[35]||(e[35]=[t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1),t("option",{value:"100"},"100",-1)]),544),[[j,x.value.per_page]])]),t("div",Jt," Menampilkan "+o(c.value.from||0)+" - "+o(c.value.to||0)+" dari "+o(c.value.total||0)+" data ",1)])]),t("div",Yt,[t("div",Qt,[t("table",Xt,[e[65]||(e[65]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12"}),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"PR Number"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Mode"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Divisi/Outlet"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Requester")])],-1)),t("tbody",Zt,[(l(!0),a(y,null,b(m.reportData,(s,f)=>(l(),a(y,{key:s.id},[t("tr",{class:"hover:bg-gray-50 cursor-pointer",onClick:i=>Q(s.id)},[t("td",ee,[t("button",se,[t("i",{class:k(D.value.includes(s.id)?"fa fa-chevron-down":"fa fa-chevron-right")},null,2)])]),t("td",oe,[t("div",le,o(s.pr_number),1)]),t("td",ae,o(tt(s.date)),1),t("td",ne,[t("span",{class:k(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.mode==="travel_application"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"])},[t("i",{class:k(s.mode==="travel_application"?"fa fa-plane mr-1":"fa fa-wallet mr-1")},null,2),u(" "+o(s.mode_label),1)],2)]),t("td",ie,[t("div",re,o(s.title||"-"),1)]),t("td",de,[s.division_name?(l(),a("div",ue,o(s.division_name),1)):r("",!0),s.outlet_name?(l(),a("div",me,o(s.outlet_name),1)):r("",!0)]),t("td",xe,o(_(s.amount)),1),t("td",ge,[t("span",{class:k(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",st(s.status)])},o(s.status),3),s.is_held?(l(),a("span",ce,e[37]||(e[37]=[t("i",{class:"fa fa-lock mr-1"},null,-1),u("HOLD ")]))):r("",!0)]),t("td",pe,o(s.requester_name||s.creator_name||"-"),1)],8,te),D.value.includes(s.id)?(l(),a("tr",ye,[t("td",fe,[t("div",be,[t("div",null,[e[54]||(e[54]=t("h4",{class:"font-semibold text-gray-800 mb-3 flex items-center"},[t("i",{class:"fa fa-info-circle mr-2 text-blue-500"}),u(" Informasi Dasar ")],-1)),t("div",ve,[t("div",null,[e[38]||(e[38]=t("strong",null,"Description:",-1)),e[39]||(e[39]=u()),t("span",_e,o(s.description||"-"),1)]),t("div",null,[e[40]||(e[40]=t("strong",null,"Category:",-1)),e[41]||(e[41]=u()),t("span",he,o(s.category_name||"-"),1)]),t("div",null,[e[42]||(e[42]=t("strong",null,"Priority:",-1)),t("span",{class:k(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",ot(s.priority)])},o(s.priority||"-"),3)]),t("div",null,[e[43]||(e[43]=t("strong",null,"Created By:",-1)),e[44]||(e[44]=u()),t("span",we,o(s.creator_name||"-"),1)]),t("div",null,[e[45]||(e[45]=t("strong",null,"Created At:",-1)),e[46]||(e[46]=u()),t("span",ke,o(S(s.created_at)),1)]),s.mode==="travel_application"&&s.parsed_notes?(l(),a("div",De,[e[50]||(e[50]=t("strong",null,"Notes:",-1)),t("div",Ce,[s.parsed_notes.agenda?(l(),a("div",Se,[e[47]||(e[47]=t("strong",{class:"text-gray-600"},"Agenda:",-1)),u(" "+o(s.parsed_notes.agenda),1)])):r("",!0),s.parsed_notes.notes?(l(),a("div",je,[e[48]||(e[48]=t("strong",{class:"text-gray-600"},"Catatan:",-1)),u(" "+o(s.parsed_notes.notes),1)])):r("",!0),s.parsed_notes.outlets&&s.parsed_notes.outlets.length>0?(l(),a("div",Ee,[e[49]||(e[49]=t("strong",{class:"text-gray-600"},"Outlet:",-1)),u(" "+o(s.parsed_notes.outlets.join(", ")),1)])):r("",!0)])])):s.notes&&s.mode!=="travel_application"?(l(),a("div",Pe,[e[51]||(e[51]=t("strong",null,"Notes:",-1)),e[52]||(e[52]=u()),t("span",Ae,o(s.notes),1)])):r("",!0),s.is_held?(l(),a("div",Te,[e[53]||(e[53]=t("strong",null,"Hold Reason:",-1)),t("span",Me,o(s.hold_reason),1),s.held_by_name?(l(),a("span",Oe,"(by "+o(s.held_by_name)+")",1)):r("",!0)])):r("",!0)])]),t("div",null,[e[59]||(e[59]=t("h4",{class:"font-semibold text-gray-800 mb-3 flex items-center"},[t("i",{class:"fa fa-check-circle mr-2 text-green-500"}),u(" Approval & Payment ")],-1)),t("div",Re,[s.approved_ssd_name?(l(),a("div",Fe,[e[55]||(e[55]=t("strong",null,"SSD Approved:",-1)),t("span",Ie,o(s.approved_ssd_name),1),s.approved_ssd_at?(l(),a("span",Le,"("+o(S(s.approved_ssd_at))+")",1)):r("",!0)])):r("",!0),s.approved_cc_name?(l(),a("div",Ne,[e[56]||(e[56]=t("strong",null,"CC Approved:",-1)),t("span",Ue,o(s.approved_cc_name),1),s.approved_cc_at?(l(),a("span",$e,"("+o(S(s.approved_cc_at))+")",1)):r("",!0)])):r("",!0),s.payment?(l(),a("div",Be,[e[57]||(e[57]=t("strong",null,"Payment:",-1)),t("span",Ve,o(s.payment.payment_number),1),t("span",ze," ("+o(_(s.payment.amount))+" - "+o(s.payment.status)+") ",1)])):r("",!0),s.approval_history&&s.approval_history.length>0?(l(),a("div",We,[e[58]||(e[58]=t("strong",null,"Approval History:",-1)),t("ul",Ke,[(l(!0),a(y,null,b(s.approval_history,(i,w)=>(l(),a("li",{key:w,class:"text-xs text-gray-600"},[u(" Level "+o(i.approval_level)+": "+o(i.approver_name||"Pending")+" ",1),i.approved_at?(l(),a("span",He,"("+o(S(i.approved_at))+")",1)):(l(),a("span",qe,"(Pending)"))]))),128))])])):r("",!0)])]),s.items&&s.items.length>0?(l(),a("div",Ge,[t("h4",Je,[e[60]||(e[60]=t("i",{class:"fa fa-list mr-2 text-purple-500"},null,-1)),u(" Items ("+o(s.items.length)+") ",1)]),t("div",Ye,[t("table",Qe,[e[61]||(e[61]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-700"},"Item Name"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-700"},"Qty"),t("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-700"},"Unit"),t("th",{class:"px-3 py-2 text-right text-xs font-medium text-gray-700"},"Unit Price"),t("th",{class:"px-3 py-2 text-right text-xs font-medium text-gray-700"},"Subtotal")])],-1)),t("tbody",Xe,[(l(!0),a(y,null,b(s.items,(i,w)=>(l(),a("tr",{key:w},[t("td",Ze,o(i.item_name||"-"),1),t("td",ts,o(i.quantity||"-"),1),t("td",es,o(i.unit||"-"),1),t("td",ss,o(_(i.unit_price)),1),t("td",os,o(_(i.subtotal)),1)]))),128))])])])])):r("",!0),s.attachments&&s.attachments.length>0?(l(),a("div",ls,[t("h4",as,[e[62]||(e[62]=t("i",{class:"fa fa-paperclip mr-2 text-indigo-500"},null,-1)),u(" Attachments ("+o(s.attachments.length)+") ",1)]),t("div",ns,[(l(!0),a(y,null,b(s.attachments,(i,w)=>(l(),a("div",{key:w,class:"relative"},[lt(i.file_name)?(l(),a("div",{key:0,onClick:A=>nt(O(i),i.file_name),class:"cursor-pointer group"},[t("img",{src:O(i),alt:i.file_name,class:"w-full h-24 object-cover rounded border-2 border-indigo-200 hover:border-indigo-400 transition-all hover:scale-105 shadow-md",onError:e[8]||(e[8]=A=>it(A))},null,40,rs),e[63]||(e[63]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 rounded transition-all flex items-center justify-center"},[t("i",{class:"fa fa-search-plus text-white opacity-0 group-hover:opacity-100 transition-opacity"})],-1)),t("div",{class:"text-xs text-gray-600 dark:text-gray-400 mt-1 truncate",title:i.file_name},o(i.file_name),9,ds)],8,is)):(l(),a("a",{key:1,href:O(i),onClick:A=>(i.file_name,void 0),class:"inline-flex flex-col items-center justify-center p-3 bg-indigo-50 text-indigo-700 rounded-lg text-sm hover:bg-indigo-100 transition border-2 border-indigo-200 hover:border-indigo-400 min-h-[100px]"},[t("i",{class:k(at(i.file_name)+" text-2xl mb-2")},null,2),t("span",{class:"text-xs text-center truncate w-full",title:i.file_name},o(i.file_name),9,ms),t("span",xs,o(et(i.file_size)),1)],8,us))]))),128))])])):r("",!0),s.comments&&s.comments.length>0?(l(),a("div",gs,[t("h4",cs,[e[64]||(e[64]=t("i",{class:"fa fa-comments mr-2 text-yellow-500"},null,-1)),u(" Comments ("+o(s.comments.length)+") ",1)]),t("div",ps,[(l(!0),a(y,null,b(s.comments,(i,w)=>(l(),a("div",{key:w,class:"bg-white border rounded p-2 text-sm"},[t("div",ys,o(i.commenter_name||"Unknown"),1),t("div",fs,o(i.comment),1),t("div",bs,o(S(i.created_at)),1)]))),128))])])):r("",!0)])])])):r("",!0)],64))),128))])])]),c.value.last_page>1?(l(),a("div",vs,[t("div",_s,[t("div",hs,[t("button",{onClick:e[9]||(e[9]=s=>C(c.value.current_page-1)),disabled:c.value.current_page===1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,ws),t("button",{onClick:e[10]||(e[10]=s=>C(c.value.current_page+1)),disabled:c.value.current_page===c.value.last_page,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,ks)]),t("div",Ds,[t("div",null,[t("p",Cs,[e[66]||(e[66]=u(" Menampilkan ")),t("span",Ss,o(c.value.from||0),1),e[67]||(e[67]=u(" sampai ")),t("span",js,o(c.value.to||0),1),e[68]||(e[68]=u(" dari ")),t("span",Es,o(c.value.total||0),1),e[69]||(e[69]=u(" hasil "))])]),t("div",null,[t("nav",Ps,[t("button",{onClick:e[11]||(e[11]=s=>C(c.value.current_page-1)),disabled:c.value.current_page===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},e[70]||(e[70]=[t("i",{class:"fa fa-chevron-left"},null,-1)]),8,As),(l(!0),a(y,null,b(Z(),s=>(l(),a(y,{key:s},[s!=="..."?(l(),a("button",{key:0,onClick:f=>C(s),class:k(s===c.value.current_page?"z-10 bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium")},o(s),11,Ts)):(l(),a("span",Ms," ... "))],64))),128)),t("button",{onClick:e[12]||(e[12]=s=>C(c.value.current_page+1)),disabled:c.value.current_page===c.value.last_page,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},e[71]||(e[71]=[t("i",{class:"fa fa-chevron-right"},null,-1)]),8,Os)])])])])])):r("",!0)])]),E.value?(l(),a("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[10000]",onClick:L},[t("div",{class:"relative max-w-7xl max-h-[95vh] p-4",onClick:e[13]||(e[13]=Y(()=>{},["stop"]))},[t("button",{onClick:L,class:"absolute top-2 right-2 text-white hover:text-gray-300 text-3xl font-bold z-10 bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center"},e[73]||(e[73]=[t("i",{class:"fa fa-times"},null,-1)])),t("img",{src:E.value,alt:P.value,class:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"},null,8,Rs),t("div",Fs,[t("p",Is,o(P.value),1)])])])):r("",!0)])]}),_:1}))}};export{Gs as default};
