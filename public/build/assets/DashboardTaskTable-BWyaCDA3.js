import m from"./TaskDetailModal-CVuZALLV.js";import{a as h}from"./vendor-utils-CpgP2uT4.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as i,a as w,L as n,B as d,D as t,E as C,x as D,F as g,M as _,N as o,l as T}from"./vendor-vue-g7iCcTkf.js";import"./LightboxModal-C05wjdKL.js";const P={class:"overflow-x-auto"},N={class:"min-w-full text-sm rounded-xl overflow-hidden"},$=["onClick"],B={class:"py-2 px-3"},M={class:"py-2 px-3"},O={class:"py-2 px-3"},V={class:"py-2 px-3"},z={class:"py-2 px-3"},A={class:"py-2 px-3 text-center"},E=["onClick"],F={key:0,class:"flex justify-between items-center mt-2"},L=["disabled"],S={class:"text-xs"},j=["disabled"],I=5,R={__name:"DashboardTaskTable",setup(q){const p=i([]),l=i(1),r=i(1),c=i(!1),x=i({});async function b(){const s=await h.get("/api/maintenance-tasks/all",{params:{page:l.value,perPage:I}});p.value=s.data.data,r.value=s.data.lastPage}function f(s){s>=1&&s<=r.value&&(l.value=s,b())}function y(s){x.value=s,c.value=!0}function v(s){switch(s){case"Done":return"bg-green-100 text-green-700";case"Overdue":return"bg-red-100 text-red-700";case"PO":return"bg-blue-100 text-blue-700";case"PR":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}}return w(b),(s,a)=>(d(),n("div",P,[t("table",N,[a[4]||(a[4]=t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"py-2 px-3 text-left font-bold"},"Task Number"),t("th",{class:"py-2 px-3 text-left font-bold"},"Title"),t("th",{class:"py-2 px-3 text-left font-bold"},"Outlet"),t("th",{class:"py-2 px-3 text-left font-bold"},"Assigned To"),t("th",{class:"py-2 px-3 text-left font-bold"},"Due Date"),t("th",{class:"py-2 px-3 text-left font-bold"},"Status"),t("th",{class:"py-2 px-3 text-center font-bold"},"Action")])],-1)),t("tbody",null,[(d(!0),n(g,null,_(p.value,e=>(d(),n("tr",{key:e.id,class:"hover:bg-blue-50 transition"},[t("td",{class:"py-2 px-3 font-semibold text-blue-700 cursor-pointer underline",onClick:u=>y(e)},o(e.task_number),9,$),t("td",B,o(e.title),1),t("td",M,o(e.outlet),1),t("td",O,[(d(!0),n(g,null,_(e.assigned_to,u=>(d(),n("span",{key:u,class:"inline-block bg-indigo-100 text-indigo-700 rounded px-2 py-0.5 mr-1 text-xs font-semibold"},o(u),1))),128))]),t("td",V,o(e.due_date),1),t("td",z,[t("span",{class:T(["badge",v(e.status)])},o(e.status),3)]),t("td",A,[t("button",{class:"p-2 rounded hover:bg-blue-100 transition",onClick:u=>y(e)},a[3]||(a[3]=[t("i",{class:"fas fa-eye text-blue-600"},null,-1)]),8,E)])]))),128))])]),r.value>1?(d(),n("div",F,[t("button",{disabled:l.value===1,onClick:a[0]||(a[0]=e=>f(l.value-1)),class:"px-2 py-1 rounded bg-gray-100 text-gray-600 disabled:opacity-50"},"Prev",8,L),t("span",S,"Page "+o(l.value)+" of "+o(r.value),1),t("button",{disabled:l.value===r.value,onClick:a[1]||(a[1]=e=>f(l.value+1)),class:"px-2 py-1 rounded bg-gray-100 text-gray-600 disabled:opacity-50"},"Next",8,j)])):C("",!0),D(m,{task:x.value,show:c.value,onClose:a[2]||(a[2]=e=>c.value=!1)},null,8,["task","show"])]))}},U=k(R,[["__scopeId","data-v-b531aaf6"]]);export{U as default};
