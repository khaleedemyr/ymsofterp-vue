import{r as I,W as R,A as p,B as n,C as i,D as e,x as k,Q as d,S as u,G as m,H as g,J as S,I as P,N as l,L as y,E as x,F as V,M,l as N}from"./vendor-vue-g7iCcTkf.js";import{A as B}from"./AppLayout-C3aoO-bU.js";import{l as F}from"./lodash-DB3HVzpp.js";import"./vendor-utils-CpgP2uT4.js";import"./app-a4QKyjuP.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CoSAPJ9h.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const L={class:"p-6"},T={class:"flex justify-between items-center mb-6"},U={class:"bg-white rounded-lg shadow-sm border p-4 mb-6"},q={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},E={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},z={class:"bg-white rounded-lg shadow-sm border p-6"},W={class:"flex items-center"},G={class:"ml-4"},H={class:"text-2xl font-bold text-gray-900"},J={class:"bg-white rounded-lg shadow-sm border p-6"},O={class:"flex items-center"},Q={class:"ml-4"},K={class:"text-2xl font-bold text-gray-900"},X={class:"bg-white rounded-lg shadow-sm border p-6"},Y={class:"flex items-center"},Z={class:"ml-4"},$={class:"text-2xl font-bold text-gray-900"},ee={class:"bg-white rounded-lg shadow-sm border p-6"},te={class:"flex items-center"},se={class:"ml-4"},oe={class:"text-2xl font-bold text-gray-900"},le={class:"bg-white rounded-lg shadow-sm border overflow-hidden"},re={class:"overflow-x-auto"},ae={class:"min-w-full divide-y divide-gray-200"},ne={class:"bg-white divide-y divide-gray-200"},de={class:"px-6 py-4 whitespace-nowrap"},ie={class:"text-sm font-medium text-gray-900"},ue={class:"text-sm text-gray-500"},me={class:"px-6 py-4 whitespace-nowrap"},pe={class:"text-sm font-medium text-gray-900"},xe={class:"text-sm text-gray-500"},fe={class:"px-6 py-4 whitespace-nowrap"},ge={class:"text-sm text-gray-900"},ce={class:"px-6 py-4 whitespace-nowrap"},ye={class:"text-sm font-medium text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap"},ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},he={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},we={class:"flex space-x-2"},_e={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},ke={class:"flex items-center justify-between"},Se={class:"flex-1 flex justify-between sm:hidden"},Pe={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ce={class:"text-sm text-gray-700"},De={class:"font-medium"},je={class:"font-medium"},Ae={class:"font-medium"},Ie={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ze={__name:"Index",props:{payments:Object},setup(o){const C=o,a=I({search:"",status:"",payment_method:"",date_from:""}),b=F.debounce(()=>{f()},500),f=()=>{R.get(route("payments.index"),a.value,{preserveState:!0,replace:!0})},c=r=>C.payments.data.filter(t=>t.status===r).length,D=r=>({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",paid:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800",j=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(r),A=r=>new Date(r).toLocaleDateString("id-ID");return(r,t)=>(n(),p(B,null,{default:i(()=>[e("div",L,[e("div",T,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"PR Payment Management"),e("p",{class:"text-gray-600"},"Manage payments for approved Purchase Requisitions")],-1)),k(d(u),{href:r.route("payments.create"),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2"},{default:i(()=>t[5]||(t[5]=[e("i",{class:"fas fa-plus"},null,-1),m(" Create Payment ")])),_:1},8,["href"])]),e("div",U,[e("div",q,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.search=s),type:"text",placeholder:"Search by payment number, PR number...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:t[1]||(t[1]=(...s)=>d(b)&&d(b)(...s))},null,544),[[S,a.value.search]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),g(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:f},t[8]||(t[8]=[e("option",{value:""},"All Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"rejected"},"Rejected",-1)]),544),[[P,a.value.status]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Payment Method",-1)),g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.payment_method=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:f},t[10]||(t[10]=[e("option",{value:""},"All Methods",-1),e("option",{value:"cash"},"Cash",-1),e("option",{value:"transfer"},"Transfer",-1),e("option",{value:"check"},"Check",-1)]),544),[[P,a.value.payment_method]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date Range",-1)),g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.date_from=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onChange:f},null,544),[[S,a.value.date_from]])])])]),e("div",E,[e("div",z,[e("div",W,[t[14]||(t[14]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[e("i",{class:"fas fa-credit-card text-xl"})],-1)),e("div",G,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Payments",-1)),e("p",H,l(o.payments.total),1)])])]),e("div",J,[e("div",O,[t[16]||(t[16]=e("div",{class:"p-3 rounded-full bg-yellow-100 text-yellow-600"},[e("i",{class:"fas fa-clock text-xl"})],-1)),e("div",Q,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Pending",-1)),e("p",K,l(c("pending")),1)])])]),e("div",X,[e("div",Y,[t[18]||(t[18]=e("div",{class:"p-3 rounded-full bg-green-100 text-green-600"},[e("i",{class:"fas fa-check-circle text-xl"})],-1)),e("div",Z,[t[17]||(t[17]=e("p",{class:"text-sm font-medium text-gray-600"},"Approved",-1)),e("p",$,l(c("approved")),1)])])]),e("div",ee,[e("div",te,[t[20]||(t[20]=e("div",{class:"p-3 rounded-full bg-red-100 text-red-600"},[e("i",{class:"fas fa-times-circle text-xl"})],-1)),e("div",se,[t[19]||(t[19]=e("p",{class:"text-sm font-medium text-gray-600"},"Rejected",-1)),e("p",oe,l(c("rejected")),1)])])])]),e("div",le,[e("div",re,[e("table",ae,[t[23]||(t[23]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Info "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," PR Info "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Supplier "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Payment Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ne,[(n(!0),y(V,null,M(o.payments.data,s=>{var v,h,w,_;return n(),y("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",de,[e("div",null,[e("div",ie,l(s.payment_number),1),e("div",ue,l(s.payment_method),1)])]),e("td",me,[e("div",null,[e("div",pe,l((v=s.purchase_requisition)==null?void 0:v.number),1),e("div",xe,l((w=(h=s.purchase_requisition)==null?void 0:h.division)==null?void 0:w.nama_divisi),1)])]),e("td",fe,[e("div",ge,l((_=s.supplier)==null?void 0:_.nama_supplier),1)]),e("td",ce,[e("div",ye,l(j(s.amount)),1)]),e("td",be,[e("span",{class:N([D(s.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},l(s.status),3)]),e("td",ve,l(A(s.payment_date)),1),e("td",he,[e("div",we,[k(d(u),{href:r.route("payments.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:i(()=>t[21]||(t[21]=[e("i",{class:"fas fa-eye"},null,-1)])),_:2},1032,["href"]),s.status==="pending"?(n(),p(d(u),{key:0,href:r.route("payments.edit",s.id),class:"text-yellow-600 hover:text-yellow-900"},{default:i(()=>t[22]||(t[22]=[e("i",{class:"fas fa-edit"},null,-1)])),_:2},1032,["href"])):x("",!0)])])])}),128))])])]),o.payments.last_page>1?(n(),y("div",_e,[e("div",ke,[e("div",Se,[o.payments.prev_page_url?(n(),p(d(u),{key:0,href:o.payments.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:i(()=>t[24]||(t[24]=[m(" Previous ")])),_:1},8,["href"])):x("",!0),o.payments.next_page_url?(n(),p(d(u),{key:1,href:o.payments.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:i(()=>t[25]||(t[25]=[m(" Next ")])),_:1},8,["href"])):x("",!0)]),e("div",Pe,[e("div",null,[e("p",Ce,[t[26]||(t[26]=m(" Showing ")),e("span",De,l(o.payments.from),1),t[27]||(t[27]=m(" to ")),e("span",je,l(o.payments.to),1),t[28]||(t[28]=m(" of ")),e("span",Ae,l(o.payments.total),1),t[29]||(t[29]=m(" results "))])]),e("div",null,[e("nav",Ie,[o.payments.prev_page_url?(n(),p(d(u),{key:0,href:o.payments.prev_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:i(()=>t[30]||(t[30]=[e("i",{class:"fas fa-chevron-left"},null,-1)])),_:1},8,["href"])):x("",!0),o.payments.next_page_url?(n(),p(d(u),{key:1,href:o.payments.next_page_url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50"},{default:i(()=>t[31]||(t[31]=[e("i",{class:"fas fa-chevron-right"},null,-1)])),_:1},8,["href"])):x("",!0)])])])])])):x("",!0)])])]),_:1}))}};export{ze as default};
