import{r as m,P as j,A as V,B as o,C as g,D as e,O as F,L as a,E as u,H as b,l as v,Q as l,J as h,N as n,V as P,F as D,M as z,x as y,S as E,G as k}from"./vendor-vue-g7iCcTkf.js";import{A as K}from"./AppLayout-_5DIDCQX.js";import{U as N}from"./UserSearchDropdown-hwY_4x37.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-fC6wJyCz.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-OI-F7Vdc.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const A={class:"space-y-6"},I={class:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-xl border border-white/20 p-8 animate-fade-in-up animation-delay-200"},L={key:0,class:"mt-1 text-sm text-red-600"},q={key:0,class:"mt-1 text-sm text-red-600"},G={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-xl hover:border-blue-400 transition-colors bg-white/30 backdrop-blur-sm"},J={class:"space-y-1 text-center"},O={class:"flex text-sm text-gray-600"},W={for:"file",class:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500"},H={key:0,class:"mt-2 p-3 bg-green-50 rounded-xl border border-green-200"},Q={class:"flex items-center"},R={class:"text-sm text-gray-700"},$={class:"ml-auto text-xs text-gray-500"},X={key:1,class:"mt-1 text-sm text-red-600"},Y={class:"flex items-center p-4 bg-blue-50 rounded-xl"},Z={key:0,class:"space-y-4"},ee={class:"space-y-4"},te={key:0,class:"space-y-2"},se={class:"flex-1"},re={class:"font-semibold text-gray-900"},ie={class:"text-sm text-gray-600"},le={class:"text-xs text-gray-500"},oe={class:"flex items-center gap-2 ml-4"},ae=["value","onChange"],ne=["onClick"],de={class:"relative"},ue={class:"flex justify-end space-x-3 pt-6"},ce=["disabled"],pe={key:0,class:"fas fa-spinner fa-spin mr-2"},me={key:1,class:"fas fa-upload mr-2"},be={__name:"Create",setup(fe){const _=m(null),p=m(null),d=m([]),s=j({title:"",description:"",file:null,is_public:!1,shared_users:[]}),w=i=>{const t=i.target.files[0];t&&(p.value=t,s.file=t)},U=i=>{d.value.some(t=>t.id===i.id)||(d.value.push(i),s.shared_users.push({user_id:i.id,permission:"view"}))},f=i=>{d.value=d.value.filter(t=>t.id!==i.id),s.shared_users=s.shared_users.filter(t=>t.user_id!==i.id)},B=i=>{const t=s.shared_users.find(r=>r.user_id===i);return t?t.permission:"view"},C=(i,t)=>{const r=s.shared_users.find(c=>c.user_id===i);r&&(r.permission=t)},M=i=>{if(i===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(i)/Math.log(t));return parseFloat((i/Math.pow(t,c)).toFixed(2))+" "+r[c]},S=()=>{s.post(route("shared-documents.store"))};return(i,t)=>(o(),V(K,null,{default:g(()=>[e("div",A,[t[18]||(t[18]=e("div",{class:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-green-600 via-blue-600 to-purple-700 p-8 text-white shadow-2xl"},[e("div",{class:"absolute inset-0 bg-black/10"}),e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16 blur-2xl"}),e("div",{class:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12 blur-xl"}),e("div",{class:"relative z-10"},[e("div",{class:"flex items-center justify-between"},[e("div",null,[e("h1",{class:"text-4xl font-bold mb-2 animate-fade-in-up"},"Upload Dokumen Bersama"),e("p",{class:"text-blue-100 text-lg"},"Upload dan bagikan dokumen Excel, Word, atau PowerPoint")]),e("div",{class:"hidden md:block"},[e("div",{class:"w-20 h-20 bg-white/20 rounded-2xl backdrop-blur-sm flex items-center justify-center"},[e("i",{class:"fas fa-upload text-3xl text-white"})])])])])],-1)),e("div",I,[e("form",{onSubmit:F(S,["prevent"]),class:"space-y-6"},[e("div",null,[t[3]||(t[3]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"}," Judul Dokumen ",-1)),b(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=r=>l(s).title=r),type:"text",required:"",class:v(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/50 backdrop-blur-sm",{"border-red-500":l(s).errors.title}])},null,2),[[h,l(s).title]]),l(s).errors.title?(o(),a("p",L,n(l(s).errors.title),1)):u("",!0)]),e("div",null,[t[4]||(t[4]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Deskripsi (Opsional) ",-1)),b(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=r=>l(s).description=r),rows:"3",class:v(["w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/50 backdrop-blur-sm",{"border-red-500":l(s).errors.description}])},null,2),[[h,l(s).description]]),l(s).errors.description?(o(),a("p",q,n(l(s).errors.description),1)):u("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"file",class:"block text-sm font-medium text-gray-700 mb-2"}," Pilih File ",-1)),e("div",G,[e("div",J,[t[7]||(t[7]=e("i",{class:"fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"},null,-1)),e("div",O,[e("label",W,[t[5]||(t[5]=e("span",null,"Upload file",-1)),e("input",{id:"file",ref_key:"fileInput",ref:_,type:"file",accept:".xlsx,.xls,.docx,.doc,.pptx,.ppt",class:"sr-only",onChange:w,required:""},null,544)]),t[6]||(t[6]=e("p",{class:"pl-1"},"atau drag and drop",-1))]),t[8]||(t[8]=e("p",{class:"text-xs text-gray-500"}," Excel, Word, atau PowerPoint (maksimal 10MB) ",-1))])]),p.value?(o(),a("div",H,[e("div",Q,[t[9]||(t[9]=e("i",{class:"fas fa-check-circle text-green-500 mr-2"},null,-1)),e("span",R,n(p.value.name),1),e("span",$,n(M(p.value.size)),1)])])):u("",!0),l(s).errors.file?(o(),a("p",X,n(l(s).errors.file),1)):u("",!0)]),e("div",Y,[b(e("input",{id:"is_public","onUpdate:modelValue":t[2]||(t[2]=r=>l(s).is_public=r),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[P,l(s).is_public]]),t[11]||(t[11]=e("label",{for:"is_public",class:"ml-2 block text-sm text-gray-900"}," Buat dokumen publik (semua user bisa akses) ",-1))]),l(s).is_public?u("",!0):(o(),a("div",Z,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700"}," Bagikan dengan User ",-1)),e("div",ee,[d.value.length>0?(o(),a("div",te,[(o(!0),a(D,null,z(d.value,(r,c)=>(o(),a("div",{key:r.id,class:"flex items-center justify-between p-3 bg-blue-50 rounded-xl border border-blue-200"},[e("div",se,[e("div",re,n(r.nama_lengkap),1),e("div",ie,n(r.email),1),e("div",le,n(r.divisi||"Tidak ada divisi")+" • "+n(r.jabatan||"Tidak ada jabatan"),1)]),e("div",oe,[e("select",{value:B(r.id),onChange:x=>C(r.id,x.target.value),class:"px-3 py-1 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 bg-white/50 backdrop-blur-sm"},t[12]||(t[12]=[e("option",{value:"view"},"View",-1),e("option",{value:"edit"},"Edit",-1),e("option",{value:"admin"},"Admin",-1)]),40,ae),e("button",{type:"button",onClick:x=>f(r),class:"p-1 text-red-500 hover:text-red-700 transition-colors"},t[13]||(t[13]=[e("i",{class:"fas fa-times"},null,-1)]),8,ne)])]))),128))])):u("",!0),e("div",de,[y(N,{placeholder:"Cari user berdasarkan nama, email, divisi, atau jabatan...","selected-users":d.value,multiple:!0,onUserSelected:U,onUserRemoved:f},null,8,["selected-users"])]),t[14]||(t[14]=e("div",{class:"text-xs text-gray-500 bg-gray-50 rounded-lg p-3"},[e("div",{class:"flex items-start"},[e("i",{class:"fas fa-info-circle text-blue-500 mt-0.5 mr-2"}),e("div",null,[e("p",{class:"font-medium mb-1"},"Tips pencarian:"),e("ul",{class:"space-y-1"},[e("li",null,"• Ketik nama lengkap user"),e("li",null,"• Ketik email user"),e("li",null,"• Ketik nama divisi"),e("li",null,"• Ketik nama jabatan")])])])],-1))])])),e("div",ue,[y(l(E),{href:i.route("shared-documents.index"),class:"px-6 py-3 border border-gray-300 rounded-xl shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300"},{default:g(()=>t[16]||(t[16]=[k(" Batal ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:l(s).processing,class:"px-6 py-3 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-all duration-300 transform hover:scale-105"},[l(s).processing?(o(),a("i",pe)):(o(),a("i",me)),t[17]||(t[17]=k(" Upload & Bagikan "))],8,ce)])],32)])])]),_:1}))}},Me=T(be,[["__scopeId","data-v-976c3348"]]);export{Me as default};
