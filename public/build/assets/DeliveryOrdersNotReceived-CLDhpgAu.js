import{k as j,c as A,w as L,A as C,B as l,C as U,D as e,G as u,O as W,H as m,J as g,L as a,F as p,M as x,N as r,I as f,E as c,l as y,Q as B,S as E,W as b}from"./vendor-vue-g7iCcTkf.js";import{A as H}from"./AppLayout-zPRaA07p.js";import"./vendor-utils-CpgP2uT4.js";import"./app-_bo91XrJ.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CKY7MlXM.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const I={class:"w-full py-8 px-0"},P={class:"bg-white rounded-2xl shadow-2xl overflow-hidden mb-6"},G={class:"p-6"},$=["value"],z=["value"],J={key:0,class:"text-gray-500 text-xs"},Q={class:"md:col-span-2"},q={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},K={class:"bg-white rounded-lg shadow-md overflow-hidden"},X={class:"p-4"},Y={class:"flex items-center"},Z={class:"ml-4"},ee={class:"text-2xl font-bold text-gray-900"},te={class:"bg-white rounded-lg shadow-md overflow-hidden"},se={class:"p-4"},oe={class:"flex items-center"},re={class:"ml-4"},le={class:"text-2xl font-bold text-gray-900"},de={class:"bg-white rounded-lg shadow-md overflow-hidden"},ae={class:"p-4"},ie={class:"flex items-center"},ne={class:"ml-4"},ue={class:"text-2xl font-bold text-gray-900"},me={class:"bg-white rounded-2xl shadow-2xl overflow-hidden"},pe={class:"overflow-x-auto"},ge={class:"w-full"},xe={class:"divide-y divide-gray-200"},ye={key:0,class:"hover:bg-gray-50"},fe={class:"px-6 py-4 whitespace-nowrap"},ce={class:"font-medium text-blue-600"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},we={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},_e={class:"px-6 py-4 whitespace-nowrap"},he={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},ke={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-700"},De={key:0,class:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between"},Me={class:"text-sm text-gray-600"},Ce={class:"font-medium"},Ne={class:"font-medium"},Se={class:"font-medium"},Re={class:"flex gap-2"},Ve=["innerHTML"],Ie={__name:"DeliveryOrdersNotReceived",props:{results:Object,summary:Object,outlets:{type:Array,default:()=>[]},warehouse_outlets:{type:Array,default:()=>[]},filters:Object},setup(d){var v,_,h,k,O,D,M;const n=d,o=j({from_date:((v=n.filters)==null?void 0:v.from_date)||"",to_date:((_=n.filters)==null?void 0:_.to_date)||"",outlet_id:((h=n.filters)==null?void 0:h.outlet_id)||"",warehouse_outlet_id:((k=n.filters)==null?void 0:k.warehouse_outlet_id)||"",min_days:((O=n.filters)==null?void 0:O.min_days)||"",search:((D=n.filters)==null?void 0:D.search)||"",per_page:((M=n.filters)==null?void 0:M.per_page)||20}),w=A(()=>{let i=n.warehouse_outlets||[];return o.outlet_id&&(i=i.filter(t=>String(t.outlet_id)===String(o.outlet_id))),i}),N=i=>i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-",S=i=>{const t="px-3 py-1 rounded-full text-sm font-medium",T={RO:"bg-purple-100 text-purple-800",Regular:"bg-blue-100 text-blue-800",Express:"bg-green-100 text-green-800",Urgent:"bg-red-100 text-red-800"}[i]||"bg-gray-100 text-gray-800";return`${t} ${T}`},R=()=>{b.get(route("delivery-orders-not-received.report"),{from_date:o.from_date,to_date:o.to_date,outlet_id:o.outlet_id,warehouse_outlet_id:o.warehouse_outlet_id,min_days:o.min_days,search:o.search,per_page:o.per_page},{preserveScroll:!0})},V=()=>{o.from_date="",o.to_date="",o.outlet_id="",o.warehouse_outlet_id="",o.min_days="",o.search="",o.per_page=20,b.get(route("delivery-orders-not-received.report"),{},{preserveScroll:!0})},F=()=>{b.get(route("delivery-orders-not-received.export"),{from_date:o.from_date,to_date:o.to_date,outlet_id:o.outlet_id,warehouse_outlet_id:o.warehouse_outlet_id,min_days:o.min_days,search:o.search})};return L(()=>o.outlet_id,(i,t)=>{i!==t&&(o.warehouse_outlet_id="")}),(i,t)=>(l(),C(H,null,{default:U(()=>[e("div",I,[t[33]||(t[33]=e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-boxes-stacked text-red-500"}),u(" Delivery Orders Not Received by Outlet ")])],-1)),t[34]||(t[34]=e("div",{class:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6"},[e("p",{class:"text-sm text-yellow-700"},[e("i",{class:"fa-solid fa-info-circle mr-2"}),u(" This report shows Delivery Orders (DO) that have been created but not yet received (Good Receive) by the outlet. ")])],-1)),e("div",P,[e("div",G,[t[20]||(t[20]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Report",-1)),e("form",{onSubmit:W(R,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=s=>o.from_date=s),class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[g,o.from_date]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=s=>o.to_date=s),class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[g,o.to_date]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.outlet_id=s),class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},[t[9]||(t[9]=e("option",{value:""},"All Outlets",-1)),(l(!0),a(p,null,x(n.outlets||[],s=>(l(),a("option",{key:s.id,value:s.id},r(s.name),9,$))),128))],512),[[f,o.outlet_id]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Warehouse Outlet",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.warehouse_outlet_id=s),class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},[t[11]||(t[11]=e("option",{value:""},"All Warehouse Outlets",-1)),(l(!0),a(p,null,x(w.value,s=>(l(),a("option",{key:s.id,value:s.id},r(s.name),9,z))),128))],512),[[f,o.warehouse_outlet_id]]),o.outlet_id&&w.value.length===0?(l(),a("small",J," No warehouse outlets for this outlet ")):c("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Min Days Not Received",-1)),m(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=s=>o.min_days=s),placeholder:"e.g., 7",min:"0",class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[g,o.min_days]])]),e("div",Q,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>o.search=s),placeholder:"Search DO Number, Outlet, Warehouse Outlet...",class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},null,512),[[g,o.search]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Items per Page",-1)),m(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.per_page=s),class:"w-full border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 px-3 py-2"},t[15]||(t[15]=[e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1),e("option",{value:"200"},"200",-1)]),512),[[f,o.per_page]])]),e("div",{class:"md:col-span-4 flex gap-2"},[t[19]||(t[19]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("i",{class:"fa fa-search mr-2"}),u(" Apply Filters ")],-1)),e("button",{type:"button",onClick:V,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500"},t[17]||(t[17]=[e("i",{class:"fa fa-times mr-2"},null,-1),u(" Clear ")])),e("button",{type:"button",onClick:F,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"},t[18]||(t[18]=[e("i",{class:"fa fa-download mr-2"},null,-1),u(" Export Excel ")]))])],32)])]),e("div",q,[e("div",K,[e("div",X,[e("div",Y,[t[22]||(t[22]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center"},[e("i",{class:"fa-solid fa-box text-white text-lg"})])],-1)),e("div",Z,[t[21]||(t[21]=e("p",{class:"text-sm font-medium text-gray-500"},"Total DO Not Received",-1)),e("p",ee,r(d.summary.total_do_not_received||0),1)])])])]),e("div",te,[e("div",se,[e("div",oe,[t[24]||(t[24]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center"},[e("i",{class:"fa-solid fa-hourglass-start text-white text-lg"})])],-1)),e("div",re,[t[23]||(t[23]=e("p",{class:"text-sm font-medium text-gray-500"},"Min Days Pending",-1)),e("p",le,r(d.summary.min_days||0),1)])])])]),e("div",de,[e("div",ae,[e("div",ie,[t[26]||(t[26]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center"},[e("i",{class:"fa-solid fa-fire text-white text-lg"})])],-1)),e("div",ne,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-gray-500"},"Max Days Pending",-1)),e("p",ue,r(d.summary.max_days||0),1)])])])])]),e("div",me,[e("div",pe,[e("table",ge,[t[28]||(t[28]=e("thead",{class:"bg-gray-100 border-b-2 border-gray-200"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"DO Number"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"DO Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Outlet"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Division"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Days Not Received"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Warehouse Outlet"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"FO Mode"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Created By")])],-1)),e("tbody",xe,[d.results.data&&d.results.data.length===0?(l(),a("tr",ye,t[27]||(t[27]=[e("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No delivery orders found. ",-1)]))):c("",!0),(l(!0),a(p,null,x(d.results.data,s=>(l(),a("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[e("td",fe,[e("span",ce,r(s.do_number),1)]),e("td",be,r(N(s.do_date)),1),e("td",we,r(s.outlet_name),1),e("td",ve,r(s.division_name),1),e("td",_e,[e("span",{class:y(["px-3 py-1 rounded-full text-sm font-medium",s.days_not_received>=14?"bg-red-100 text-red-800":s.days_not_received>=7?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"])},r(s.days_not_received)+" days ",3)]),e("td",he,r(s.warehouse_outlet_name||"-"),1),e("td",ke,[e("span",{class:y(S(s.fo_mode))},r(s.fo_mode||"-"),3)]),e("td",Oe,r(s.created_by||"-"),1)]))),128))])])]),d.results.data&&d.results.data.length>0?(l(),a("div",De,[e("div",Me,[t[29]||(t[29]=u(" Showing ")),e("span",Ce,r(d.results.from),1),t[30]||(t[30]=u(" to ")),e("span",Ne,r(d.results.to),1),t[31]||(t[31]=u(" of ")),e("span",Se,r(d.results.total),1),t[32]||(t[32]=u(" results "))]),e("div",Re,[(l(!0),a(p,null,x(d.results.links,s=>(l(),a(p,{key:s.label},[s.url?(l(),C(B(E),{key:0,href:s.url,class:y(["px-3 py-2 text-sm font-medium rounded-md",s.active?"bg-blue-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-100"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(l(),a("span",{key:1,class:y(["px-3 py-2 text-sm font-medium rounded-md text-gray-400 bg-gray-100"]),innerHTML:s.label},null,8,Ve))],64))),128))])])):c("",!0)])])]),_:1}))}};export{Ie as default};
