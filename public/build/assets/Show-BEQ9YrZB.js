import{r as v,c as b,A as Z,B as i,C as tt,D as t,x as et,L as l,E as n,G as c,N as o,l as y,F as g,M as m,Y as $,Q as st,W as z}from"./vendor-vue-g7iCcTkf.js";import{A as ot}from"./AppLayout-Cg9_BqdS.js";import{N as it}from"./vue-easy-lightbox.esm.min-H9agbAmC.js";import{_ as lt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-CL3toCqm.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-DcALjTaB.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const rt={class:"max-w-6xl mx-auto py-8 px-4"},nt={class:"flex justify-between items-center mb-6"},at={class:"flex gap-3"},dt={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"},gt={class:"text-lg font-semibold text-gray-800"},mt={class:"text-lg font-semibold text-gray-800"},ut={class:"text-lg font-semibold text-gray-800"},xt={key:0},bt={class:"flex flex-col items-start"},yt={class:"flex items-center gap-2 mb-1"},ft={class:"text-2xl font-bold text-blue-600"},pt={class:"flex space-x-1"},vt={class:"w-full bg-gray-200 rounded-full h-1.5"},ht={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},_t={class:"text-lg font-semibold text-gray-800"},kt={key:0,class:"text-sm text-gray-600"},wt={class:"text-lg font-semibold text-gray-800"},St={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},Nt={class:"flex items-center gap-4 mb-4"},Ct={class:"flex-1 bg-gray-200 rounded-full h-3"},Dt={class:"text-sm font-medium text-gray-600"},At={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center"},Rt={class:"bg-blue-50 p-4 rounded-lg"},jt={class:"text-2xl font-bold text-blue-600"},Gt={class:"bg-gray-50 p-4 rounded-lg"},It={class:"text-2xl font-bold text-gray-600"},Tt={class:"bg-green-50 p-4 rounded-lg"},Bt={class:"text-2xl font-bold text-green-600"},Pt={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},Et={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Lt={class:"text-center"},Vt={class:"flex justify-center items-center mb-2"},Ft={class:"flex space-x-1"},Ot={class:"text-xs text-gray-500 mt-1"},Mt={class:"text-center"},$t={class:"text-3xl font-bold text-green-600 mb-2"},zt={class:"text-center"},Kt={class:"text-3xl font-bold text-red-600 mb-2"},Ut={class:"text-center"},Wt={class:"text-3xl font-bold text-gray-600 mb-2"},qt={class:"mt-6 p-4 bg-gray-50 rounded-lg"},Ht={class:"flex items-center justify-between text-sm"},Qt={class:"text-gray-600"},Yt={class:"text-gray-600"},Jt={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},Xt={key:0,class:"space-y-4"},Zt={class:"flex items-center justify-between mb-3"},te={class:"text-lg font-semibold text-gray-800"},ee={key:0,class:"mb-3"},se={class:"text-gray-800"},oe={key:1,class:"mb-3"},ie={class:"text-gray-800"},le={key:2,class:"mb-3"},re={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},ne=["onClick"],ae=["src","alt"],de={key:1,class:"text-center py-8 text-gray-500"},ce={key:0,class:"bg-white rounded-xl shadow-lg p-6"},ge={key:0,class:"mb-6"},me={class:"text-lg font-semibold text-gray-700 mb-3"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xe={key:0},be={class:"text-gray-800"},ye={key:1},fe={class:"text-gray-800"},pe={key:2},ve={class:"text-gray-800"},he={key:3},_e={class:"text-gray-800"},ke={key:4},we={class:"text-gray-800"},Se={key:5},Ne={class:"text-gray-800"},Ce={key:1,class:"mb-6"},De={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ae={key:0},Re={class:"text-gray-800"},je={key:1},Ge={class:"text-gray-800"},Ie={key:2,class:"mb-6"},Te={class:"text-lg font-semibold text-gray-700 mb-3"},Be={class:"space-y-3"},Pe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ee={class:"text-gray-800"},Le={class:"text-gray-800"},Ve={class:"text-gray-800"},Fe={key:0,class:"mt-3"},Oe={class:"text-gray-800"},Me={key:3},$e={class:"space-y-3"},ze={class:"font-semibold text-gray-700 mb-2"},Ke={class:"text-gray-800"},Ue={__name:"Show",props:{report:Object,inspectionStats:Object,permissions:{type:Object,default:()=>({can_edit:!1,current_user_id:null})}},setup(s){const a=s,f=v(!1),h=v(0),_=v([]),K=b(()=>a.report.inspection_time==="lunch"?"Lunch":"Dinner"),U=b(()=>{switch(a.report.status){case"draft":return"Draft";case"completed":return"Completed";default:return"Unknown"}}),W=b(()=>{switch(a.report.status){case"draft":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}),k=b(()=>{var x;if(!a.report.report_areas)return 0;const u=((x=a.report.progress)==null?void 0:x.length)||0,e=a.report.report_areas.length;return u>0?Math.round(e/u*100):0}),q=b(()=>a.permissions.can_edit||a.report.user_id===a.permissions.current_user_id);function H(){z.visit("/daily-report")}function Q(){z.visit(`/daily-report/${a.report.id}/inspect`)}function Y(u,e=0){_.value=u,h.value=e,f.value=!0}function J(){f.value=!1}return(u,e)=>(i(),Z(ot,{title:"Daily Report Detail"},{default:tt(()=>{var x,w,S,N,C,D,A,R,j,G,I,T,B,P,E,L,V,F,O,M;return[t("div",rt,[t("div",nt,[e[2]||(e[2]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-clipboard-list text-blue-500"}),c(" Daily Report Detail ")]),t("p",{class:"text-gray-600 mt-1"},"View detailed information about this daily report")],-1)),t("div",at,[t("button",{onClick:H,class:"btn btn-secondary"},e[0]||(e[0]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),c(" Back to Reports ")])),s.report.status==="draft"&&q.value?(i(),l("button",{key:0,onClick:Q,class:"btn btn-primary"},e[1]||(e[1]=[t("i",{class:"fa-solid fa-edit"},null,-1),c(" Continue Inspection ")]))):n("",!0)])]),t("div",dt,[e[10]||(e[10]=t("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Report Information",-1)),t("div",ct,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Outlet",-1)),t("p",gt,o(((x=s.report.outlet)==null?void 0:x.nama_outlet)||"-"),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Department",-1)),t("p",mt,o(((w=s.report.department)==null?void 0:w.nama_departemen)||"-"),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Inspection Time",-1)),t("p",ut,o(K.value),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Status",-1)),t("span",{class:y(["px-3 py-1 rounded-full text-sm font-semibold",W.value])},o(U.value),3)]),s.report.status==="completed"?(i(),l("div",xt,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Rating",-1)),t("div",bt,[t("div",yt,[t("span",ft,o(((S=s.inspectionStats)==null?void 0:S.rating)||0)+"%",1),t("div",pt,[(i(),l(g,null,m(5,r=>{var d;return t("i",{key:r,class:y(["fa-star text-sm",r<=(((d=s.inspectionStats)==null?void 0:d.star_rating)||0)?"fa-solid text-yellow-400":"fa-regular text-gray-300"])},null,2)}),64))])]),t("div",vt,[t("div",{class:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:$({width:(((N=s.inspectionStats)==null?void 0:N.rating)||0)+"%"})},null,4)])])])):n("",!0)]),t("div",ht,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Created By",-1)),t("div",null,[t("p",_t,o(((C=s.report.user)==null?void 0:C.nama_lengkap)||"-"),1),(A=(D=s.report.user)==null?void 0:D.jabatan)!=null&&A.nama_jabatan?(i(),l("p",kt,o(s.report.user.jabatan.nama_jabatan),1)):n("",!0)])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Created At",-1)),t("p",wt,o(new Date(s.report.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)])])]),t("div",St,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Inspection Progress",-1)),t("div",Nt,[t("div",Ct,[t("div",{class:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:$({width:k.value+"%"})},null,4)]),t("span",Dt,o(k.value)+"%",1)]),t("div",At,[t("div",Rt,[t("p",jt,o(((R=s.report.report_areas)==null?void 0:R.length)||0),1),e[11]||(e[11]=t("p",{class:"text-sm text-blue-800"},"Completed Areas",-1))]),t("div",Gt,[t("p",It,o(((j=s.report.progress)==null?void 0:j.length)||0),1),e[12]||(e[12]=t("p",{class:"text-sm text-gray-800"},"Total Areas",-1))]),t("div",Tt,[t("p",Bt,o((((G=s.report.progress)==null?void 0:G.length)||0)-(((I=s.report.report_areas)==null?void 0:I.length)||0)),1),e[13]||(e[13]=t("p",{class:"text-sm text-green-800"},"Remaining",-1))])])]),t("div",Pt,[e[25]||(e[25]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-star text-yellow-500"}),c(" Inspection Rating ")],-1)),t("div",Et,[t("div",Lt,[t("div",Vt,[t("div",Ft,[(i(),l(g,null,m(5,r=>{var d;return t("i",{key:r,class:y(["text-2xl",r<=(((d=s.inspectionStats)==null?void 0:d.star_rating)||0)?"fa-solid fa-star text-yellow-400":"fa-regular fa-star text-gray-300"])},null,2)}),64))])]),e[15]||(e[15]=t("p",{class:"text-sm text-gray-600"},"Overall Rating",-1)),t("p",Ot,o(((T=s.inspectionStats)==null?void 0:T.rating)||0)+"% ("+o(((B=s.inspectionStats)==null?void 0:B.star_rating)||0)+"/5 stars)",1)]),t("div",Mt,[t("div",$t,o(((P=s.inspectionStats)==null?void 0:P.good_areas)||0),1),e[16]||(e[16]=t("p",{class:"text-sm text-gray-600"},"Good Areas",-1)),e[17]||(e[17]=t("div",{class:"flex items-center justify-center mt-2"},[t("i",{class:"fa-solid fa-check-circle text-green-500 mr-1"}),t("span",{class:"text-xs text-gray-500"},"Passed")],-1))]),t("div",zt,[t("div",Kt,o(((E=s.inspectionStats)==null?void 0:E.not_good_areas)||0),1),e[18]||(e[18]=t("p",{class:"text-sm text-gray-600"},"Not Good Areas",-1)),e[19]||(e[19]=t("div",{class:"flex items-center justify-center mt-2"},[t("i",{class:"fa-solid fa-times-circle text-red-500 mr-1"}),t("span",{class:"text-xs text-gray-500"},"Failed")],-1))]),t("div",Ut,[t("div",Wt,o(((L=s.inspectionStats)==null?void 0:L.not_available_areas)||0),1),e[20]||(e[20]=t("p",{class:"text-sm text-gray-600"},"Not Available",-1)),e[21]||(e[21]=t("div",{class:"flex items-center justify-center mt-2"},[t("i",{class:"fa-solid fa-question-circle text-gray-500 mr-1"}),t("span",{class:"text-xs text-gray-500"},"Excluded")],-1))])]),t("div",qt,[t("div",Ht,[t("span",Qt,[e[22]||(e[22]=c(" Total Inspected Areas: ")),t("strong",null,o(((V=s.inspectionStats)==null?void 0:V.inspected_areas)||0),1),c(" ("+o(((F=s.inspectionStats)==null?void 0:F.good_areas)||0)+" Good + "+o(((O=s.inspectionStats)==null?void 0:O.not_good_areas)||0)+" Not Good) ",1)]),t("span",Yt,[e[23]||(e[23]=c(" Total Areas: ")),t("strong",null,o(((M=s.inspectionStats)==null?void 0:M.total_areas)||0),1)])]),e[24]||(e[24]=t("div",{class:"mt-2 text-xs text-gray-500"},[t("i",{class:"fa-solid fa-info-circle mr-1"}),c(" Rating calculated from Good and Not Good areas only (Not Available areas excluded) ")],-1))])]),t("div",Jt,[e[31]||(e[31]=t("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Areas Inspection Results",-1)),s.report.report_areas&&s.report.report_areas.length>0?(i(),l("div",Xt,[(i(!0),l(g,null,m(s.report.report_areas,r=>{var d;return i(),l("div",{key:r.id,class:"border border-gray-200 rounded-lg p-4"},[t("div",Zt,[t("h3",te,o(((d=r.area)==null?void 0:d.nama_area)||"Unknown Area"),1),t("span",{class:y(["px-3 py-1 rounded-full text-sm font-semibold",r.status==="G"?"bg-green-100 text-green-800":r.status==="NG"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},o(r.status==="G"?"Good":r.status==="NG"?"Not Good":"Not Available"),3)]),r.finding_problem?(i(),l("div",ee,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Finding Problem",-1)),t("p",se,o(r.finding_problem),1)])):n("",!0),r.dept_concern?(i(),l("div",oe,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Department Concern",-1)),t("p",ie,o(r.dept_concern.nama_divisi),1)])):n("",!0),r.documentation&&r.documentation.length>0?(i(),l("div",le,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Documentation",-1)),t("div",re,[(i(!0),l(g,null,m(r.documentation,(X,p)=>(i(),l("div",{key:p,class:"relative group cursor-pointer",onClick:We=>Y(r.documentation,p)},[t("img",{src:X,alt:`Documentation ${p+1}`,class:"w-full h-24 object-cover rounded-lg border border-gray-200"},null,8,ae),e[28]||(e[28]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 rounded-lg flex items-center justify-center"},[t("div",{class:"opacity-0 group-hover:opacity-100 bg-white bg-opacity-80 rounded-full p-2 transition-all duration-200"},[t("i",{class:"fa-solid fa-expand text-gray-700"})])],-1))],8,ne))),128))])])):n("",!0)])}),128))])):(i(),l("div",de,e[30]||(e[30]=[t("i",{class:"fa-solid fa-clipboard-list text-4xl mb-4"},null,-1),t("p",null,"No areas have been inspected yet.",-1)])))]),s.report.briefing||s.report.productivity||s.report.visit_tables||s.report.summaries?(i(),l("div",ce,[e[46]||(e[46]=t("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Post-Inspection Data",-1)),s.report.briefing?(i(),l("div",ge,[t("h3",me,o(s.report.briefing.briefing_type==="morning"?"Morning Briefing":"Afternoon Briefing"),1),t("div",ue,[s.report.briefing.time_of_conduct?(i(),l("div",xe,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Time of Conduct",-1)),t("p",be,o(s.report.briefing.time_of_conduct),1)])):n("",!0),s.report.briefing.participant?(i(),l("div",ye,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Participant",-1)),t("p",fe,o(s.report.briefing.participant),1)])):n("",!0),s.report.briefing.service_in_charge?(i(),l("div",pe,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Service In Charge",-1)),t("p",ve,o(s.report.briefing.service_in_charge),1)])):n("",!0),s.report.briefing.bar_in_charge?(i(),l("div",he,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Bar In Charge",-1)),t("p",_e,o(s.report.briefing.bar_in_charge),1)])):n("",!0),s.report.briefing.kitchen_in_charge?(i(),l("div",ke,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Kitchen In Charge",-1)),t("p",we,o(s.report.briefing.kitchen_in_charge),1)])):n("",!0),s.report.briefing.daily_revenue_target?(i(),l("div",Se,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Daily Revenue Target",-1)),t("p",Ne,o(new Intl.NumberFormat("id-ID").format(s.report.briefing.daily_revenue_target)),1)])):n("",!0)])])):n("",!0),s.report.productivity?(i(),l("div",Ce,[e[40]||(e[40]=t("h3",{class:"text-lg font-semibold text-gray-700 mb-3"},"Employee Productivity Program",-1)),t("div",De,[s.report.productivity.product_knowledge_test?(i(),l("div",Ae,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Product Knowledge Test",-1)),t("p",Re,o(s.report.productivity.product_knowledge_test),1)])):n("",!0),s.report.productivity.employee_daily_coaching?(i(),l("div",je,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Employee Daily Coaching",-1)),t("p",Ge,o(s.report.productivity.employee_daily_coaching),1)])):n("",!0)])])):n("",!0),s.report.visit_tables&&s.report.visit_tables.length>0?(i(),l("div",Ie,[t("h3",Te,"Visit Tables ("+o(s.report.visit_tables.length)+")",1),t("div",Be,[(i(!0),l(g,null,m(s.report.visit_tables,(r,d)=>(i(),l("div",{key:d,class:"border border-gray-200 rounded-lg p-4"},[t("div",Pe,[t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Guest Name",-1)),t("p",Ee,o(r.guest_name||"-"),1)]),t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Table No",-1)),t("p",Le,o(r.table_no||"-"),1)]),t("div",null,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"No of Pax",-1)),t("p",Ve,o(r.no_of_pax||"-"),1)])]),r.guest_experience?(i(),l("div",Fe,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-500 mb-1"},"Guest Experience",-1)),t("p",Oe,o(r.guest_experience),1)])):n("",!0)]))),128))])])):n("",!0),s.report.summaries&&s.report.summaries.length>0?(i(),l("div",Me,[e[45]||(e[45]=t("h3",{class:"text-lg font-semibold text-gray-700 mb-3"},"Report Summary",-1)),t("div",$e,[(i(!0),l(g,null,m(s.report.summaries,r=>(i(),l("div",{key:r.id,class:"border border-gray-200 rounded-lg p-4"},[t("h4",ze,o(r.summary_type==="summary_1"?"Summary 1":"Summary 2"),1),t("p",Ke,o(r.notes||"No notes provided."),1)]))),128))])])):n("",!0)])):n("",!0)]),et(st(it),{visible:f.value,imgs:_.value,index:h.value,onHide:J},null,8,["visible","imgs","index"])]}),_:1}))}},is=lt(Ue,[["__scopeId","data-v-076ba25a"]]);export{is as default};
