import{r as A,A as I,B as r,C as x,D as e,x as b,Q as g,S as B,N as p,O as L,H as o,G as i,J as d,L as u,F as N,M as R,I as v,E as O,W as C}from"./vendor-vue-g7iCcTkf.js";import{A as G}from"./AppLayout-CLYhXf-W.js";import{s as H}from"./VueTimepicker-BGHuji_y.js";import{S as f}from"./app-DdwtQE43.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./ProfileUpdateModal-CauiUg4O.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const z={class:"min-h-screen bg-gradient-to-br from-slate-50 via-pink-50/30 to-slate-50 py-8 px-4 sm:px-6"},J={class:"max-w-3xl mx-auto"},K={class:"flex items-center gap-3 mb-8"},Q={class:"text-2xl font-bold text-slate-800"},X={class:"text-sm text-slate-500 mt-0.5"},Y={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},Z={class:"p-6 grid grid-cols-1 md:grid-cols-3 gap-5"},$={class:"md:col-span-3"},ee={class:"md:col-span-2"},se={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},te={class:"p-6 space-y-5"},le=["value"],ae={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},ie={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},ne={class:"p-6 grid grid-cols-1 md:grid-cols-2 gap-5"},re={key:0,class:"md:col-span-2"},de=["value"],ue={class:"bg-white rounded-2xl border border-slate-200/60 shadow-sm overflow-hidden"},me={class:"p-6 space-y-5"},pe={class:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-end gap-3 pt-2"},ve=["disabled"],fe={key:0,class:"fa-solid fa-spinner fa-spin"},xe={key:1,class:"fa-solid fa-check"},be={__name:"Form",props:{reservation:Object,outlets:Array,salesUsers:{type:Array,default:()=>[]},isEdit:Boolean},setup(m){var c,k,y,w,S,V,_,h,U,q,D,j,E,P;const a=m,n=A(!1),l=A({name:((c=a.reservation)==null?void 0:c.name)||"",phone:((k=a.reservation)==null?void 0:k.phone)||"",email:((y=a.reservation)==null?void 0:y.email)||"",outlet_id:((w=a.reservation)==null?void 0:w.outlet_id)||"",reservation_date:((S=a.reservation)==null?void 0:S.reservation_date)||"",reservation_time:((V=a.reservation)==null?void 0:V.reservation_time)||"",number_of_guests:((_=a.reservation)==null?void 0:_.number_of_guests)||1,smoking_preference:((h=a.reservation)==null?void 0:h.smoking_preference)||"",special_requests:((U=a.reservation)==null?void 0:U.special_requests)||"",dp:((q=a.reservation)==null?void 0:q.dp)??null,from_sales:!!((D=a.reservation)!=null&&D.from_sales),sales_user_id:((j=a.reservation)==null?void 0:j.sales_user_id)??null,menu:((E=a.reservation)==null?void 0:E.menu)||"",status:((P=a.reservation)==null?void 0:P.status)||"pending"});function M(){l.value.from_sales||(l.value.sales_user_id=null)}function F(){n.value=!0,a.isEdit?C.put(route("reservations.update",a.reservation.id),l.value,{onSuccess:()=>{n.value=!1,f.fire({title:"Sukses",text:"Reservasi berhasil diupdate!",icon:"success"})},onError:()=>{n.value=!1,f.fire({title:"Gagal",text:"Terjadi kesalahan saat menyimpan.",icon:"error"})}}):C.post(route("reservations.store"),l.value,{onSuccess:()=>{n.value=!1,f.fire({title:"Sukses",text:"Reservasi berhasil disimpan!",icon:"success"})},onError:()=>{n.value=!1,f.fire({title:"Gagal",text:"Terjadi kesalahan saat menyimpan.",icon:"error"})}})}return(T,s)=>(r(),I(G,null,{default:x(()=>[e("div",z,[e("div",J,[e("div",K,[b(g(B),{href:T.route("reservations.index"),class:"flex items-center justify-center w-10 h-10 rounded-xl border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 transition"},{default:x(()=>s[14]||(s[14]=[e("i",{class:"fa-solid fa-arrow-left"},null,-1)])),_:1},8,["href"]),e("div",null,[e("h1",Q,p(m.isEdit?"Edit Reservasi":"Tambah Reservasi"),1),e("p",X,p(m.isEdit?"Ubah data reservasi":"Isi form untuk membuat reservasi baru"),1)])]),e("form",{onSubmit:L(F,["prevent"]),class:"space-y-6"},[e("section",Y,[s[18]||(s[18]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-rose-100 text-rose-600"},[e("i",{class:"fa-solid fa-user text-lg"})]),e("div",null,[e("h2",{class:"font-semibold text-slate-800"},"Data Pemesan"),e("p",{class:"text-xs text-slate-500"},"Informasi kontak pemesan")])],-1)),e("div",Z,[e("div",$,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Nama Lengkap "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l.value.name=t),type:"text",required:"",maxlength:"100",placeholder:"Nama lengkap pemesan",class:"input-field"},null,512),[[d,l.value.name]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Nomor Telepon "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.value.phone=t),type:"tel",required:"",maxlength:"20",placeholder:"08xxxxxxxxxx",class:"input-field"},null,512),[[d,l.value.phone]])]),e("div",ee,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},"Email",-1)),o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>l.value.email=t),type:"email",maxlength:"100",placeholder:"email@contoh.com (opsional)",class:"input-field"},null,512),[[d,l.value.email]])])])]),e("section",se,[s[27]||(s[27]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-pink-100 text-pink-600"},[e("i",{class:"fa-solid fa-calendar-days text-lg"})]),e("div",null,[e("h2",{class:"font-semibold text-slate-800"},"Detail Reservasi"),e("p",{class:"text-xs text-slate-500"},"Tanggal, waktu, outlet & preferensi")])],-1)),e("div",te,[e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Outlet "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>l.value.outlet_id=t),required:"",class:"input-field"},[s[19]||(s[19]=e("option",{value:""},"Pilih Outlet",-1)),(r(!0),u(N,null,R(m.outlets,t=>(r(),u("option",{key:t.id,value:t.id},p(t.name),9,le))),128))],512),[[v,l.value.outlet_id]])]),e("div",ae,[e("div",null,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Tanggal Reservasi "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>l.value.reservation_date=t),type:"date",required:"",class:"input-field"},null,512),[[d,l.value.reservation_date]])]),e("div",null,[s[22]||(s[22]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Waktu Reservasi "),e("span",{class:"text-rose-500"},"*")],-1)),b(g(H),{modelValue:l.value.reservation_time,"onUpdate:modelValue":s[5]||(s[5]=t=>l.value.reservation_time=t),format:"HH:mm",is24:!0,"minute-interval":"15",class:"input-field"},null,8,["modelValue"])])]),e("div",oe,[e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Jumlah Tamu "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("input",{"onUpdate:modelValue":s[6]||(s[6]=t=>l.value.number_of_guests=t),type:"number",min:"1",required:"",class:"input-field",placeholder:"1"},null,512),[[d,l.value.number_of_guests,void 0,{number:!0}]])]),e("div",null,[s[25]||(s[25]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Preferensi Area "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("select",{"onUpdate:modelValue":s[7]||(s[7]=t=>l.value.smoking_preference=t),required:"",class:"input-field"},s[24]||(s[24]=[e("option",{value:""},"Pilih Area",-1),e("option",{value:"smoking"},"Smoking Area",-1),e("option",{value:"non_smoking"},"Non-Smoking Area",-1)]),512),[[v,l.value.smoking_preference]])])]),e("div",null,[s[26]||(s[26]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},"Catatan Khusus",-1)),o(e("textarea",{"onUpdate:modelValue":s[8]||(s[8]=t=>l.value.special_requests=t),rows:"3",placeholder:"Request khusus (kue ulang tahun, kursi bayi, dll)",class:"input-field resize-none"},null,512),[[d,l.value.special_requests]])])])]),e("section",ie,[s[33]||(s[33]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-emerald-100 text-emerald-600"},[e("i",{class:"fa-solid fa-money-bill-wave text-lg"})]),e("div",null,[e("h2",{class:"font-semibold text-slate-800"},"DP & Sales"),e("p",{class:"text-xs text-slate-500"},"Down payment dan sumber reservasi")])],-1)),e("div",ne,[e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},"DP (Down Payment)",-1)),o(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>l.value.dp=t),type:"number",step:"0.01",min:"0",placeholder:"0",class:"input-field"},null,512),[[d,l.value.dp,void 0,{number:!0}]])]),e("div",null,[s[30]||(s[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},"Dari Sales?",-1)),o(e("select",{"onUpdate:modelValue":s[10]||(s[10]=t=>l.value.from_sales=t),class:"input-field",onChange:M},s[29]||(s[29]=[e("option",{value:!1},"Bukan",-1),e("option",{value:!0},"Dari Sales",-1)]),544),[[v,l.value.from_sales]])]),l.value.from_sales?(r(),u("div",re,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},"Pilih Sales",-1)),o(e("select",{"onUpdate:modelValue":s[11]||(s[11]=t=>l.value.sales_user_id=t),class:"input-field"},[s[31]||(s[31]=e("option",{value:null},"-- Pilih Sales --",-1)),(r(!0),u(N,null,R(m.salesUsers||[],t=>(r(),u("option",{key:t.id,value:t.id},p(t.name),9,de))),128))],512),[[v,l.value.sales_user_id]])])):O("",!0)])]),e("section",ue,[s[37]||(s[37]=e("div",{class:"px-6 py-4 bg-slate-50 border-b border-slate-100 flex items-center gap-3"},[e("span",{class:"flex items-center justify-center w-10 h-10 rounded-xl bg-amber-100 text-amber-600"},[e("i",{class:"fa-solid fa-utensils text-lg"})]),e("div",null,[e("h2",{class:"font-semibold text-slate-800"},"Menu & Status"),e("p",{class:"text-xs text-slate-500"},"Daftar menu dan status reservasi")])],-1)),e("div",me,[e("div",null,[s[34]||(s[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},"Menu",-1)),o(e("textarea",{"onUpdate:modelValue":s[12]||(s[12]=t=>l.value.menu=t),rows:"5",placeholder:"Tulis menu yang dipesan (tanpa batas karakter)",class:"input-field resize-none"},null,512),[[d,l.value.menu]])]),e("div",null,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"},[i("Status "),e("span",{class:"text-rose-500"},"*")],-1)),o(e("select",{"onUpdate:modelValue":s[13]||(s[13]=t=>l.value.status=t),required:"",class:"input-field"},s[35]||(s[35]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"confirmed"},"Confirmed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[v,l.value.status]])])])]),e("div",pe,[b(g(B),{href:T.route("reservations.index"),class:"inline-flex items-center justify-center gap-2 px-5 py-3 rounded-xl border border-slate-200 text-slate-700 font-medium hover:bg-slate-50 transition"},{default:x(()=>s[38]||(s[38]=[i(" Batal ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:n.value,class:"inline-flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold text-white bg-gradient-to-r from-rose-500 to-pink-600 hover:from-rose-600 hover:to-pink-700 shadow-lg shadow-pink-500/25 disabled:opacity-70 disabled:cursor-not-allowed transition"},[n.value?(r(),u("i",fe)):(r(),u("i",xe)),i(" "+p(n.value?"Menyimpan...":"Simpan Reservasi"),1)],8,ve)])],32)])])]),_:1}))}},De=W(be,[["__scopeId","data-v-2990be48"]]);export{De as default};
