import{P as ue,r as g,a as ve,A as ge,B as d,C as K,D as t,O as ye,H as i,L as m,E as y,J as p,F as C,M as P,N as u,Q as s,a6 as x,V as f,x as A,W as Y}from"./vendor-vue-g7iCcTkf.js";import{A as be}from"./AppLayout-Dr73aeKz.js";import{a as M}from"./vendor-utils-CpgP2uT4.js";import{s as S}from"./vue-multiselect.esm-V-bx43V9.js";/* empty css                            */import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CZyV0iGJ.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-DbuU0LgT.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const fe={class:"py-12"},_e={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},xe={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},ke={class:"mb-8"},he={class:"mb-4"},we={class:"relative"},je={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto"},Ve=["onClick"],Ue={class:"font-medium"},Ce={class:"text-sm text-gray-600"},Pe={class:"bg-gray-50 p-4 rounded-md"},Ee={class:"space-y-4"},De={class:"mb-8"},Ae={class:"bg-gray-50 p-4 rounded-md"},Me={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Se={class:"flex items-center"},Fe={class:"flex items-center"},$e={class:"flex items-center"},Ne={class:"flex items-center"},Te={class:"flex items-center"},Oe={class:"flex items-center"},qe={class:"mt-4"},Be={class:"mb-8"},Le={class:"bg-gray-50 p-4 rounded-md"},Ie={class:"space-y-6"},Re={class:"border-b border-gray-200 pb-4"},Ge={class:"flex items-center justify-between mb-3"},Je={class:"flex items-center"},ze={class:"ml-6"},Ke={key:0,class:"mt-2 p-2 bg-green-50 border border-green-200 rounded"},Ye={class:"text-sm text-green-700"},He={class:"border-b border-gray-200 pb-4"},We={class:"flex items-center justify-between mb-3"},Qe={class:"flex items-center"},Xe={class:"flex space-x-2"},Ze={class:"ml-6"},et={key:0,class:"mt-2 p-2 bg-green-50 border border-green-200 rounded"},tt={class:"text-sm text-green-700"},ot={class:"border-b border-gray-200 pb-4"},lt={class:"flex items-center justify-between mb-3"},st={class:"flex items-center"},nt={class:"ml-6"},rt={key:0,class:"mt-2 p-2 bg-green-50 border border-green-200 rounded"},at={class:"text-sm text-green-700"},it={class:"ml-6"},dt={key:0,class:"mt-3"},mt={class:"text-sm text-gray-600 space-y-1"},pt=["onClick"],ut={key:1,class:"mt-3"},vt={class:"text-sm text-green-600 space-y-1"},gt={class:"mb-8"},yt={class:"bg-gray-50 p-4 rounded-md"},bt={class:"space-y-6"},ct={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center"},ft={class:"flex items-center"},_t={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center"},xt={class:"flex items-center"},kt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center"},ht={class:"flex items-center"},wt={class:"space-y-2"},jt={class:"grid grid-cols-2 gap-2"},Vt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center"},Ut={class:"flex items-center"},Ct={class:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center"},Pt={class:"flex items-center"},Et={class:"mt-6"},Dt={class:"mb-8"},At={class:"bg-gray-50 p-4 rounded-md"},Mt={class:"mb-8"},St={class:"mb-4"},Ft={class:"relative"},$t={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},Nt=["onClick"],Tt={class:"font-medium"},Ot={class:"text-sm text-gray-600"},qt={key:0,class:"text-xs text-blue-600 font-medium"},Bt={key:0,class:"space-y-2"},Lt={class:"flex items-center space-x-3"},It={class:"flex items-center space-x-2"},Rt=["onClick"],Gt=["onClick"],Jt={class:"flex items-center space-x-2"},zt={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Kt={class:"font-medium"},Yt={class:"text-sm text-gray-600"},Ht={key:0,class:"text-xs text-blue-600 font-medium"},Wt=["onClick"],Qt={class:"flex justify-end space-x-4"},Xt=["disabled"],Zt={__name:"Edit",props:{movement:Object},setup(H){const n=H,l=ue({employee_id:n.movement.employee_id||"",employee_name:n.movement.employee_name||"",employee_position:n.movement.employee_position||"",employee_division:n.movement.employee_division||"",employee_unit_property:n.movement.employee_unit_property||"",employee_join_date:n.movement.employee_join_date||"",employment_type:n.movement.employment_type||"",employment_effective_date:n.movement.employment_effective_date||"",kpi_required:n.movement.kpi_required||!1,kpi_date:n.movement.kpi_date||"",psikotest_required:n.movement.psikotest_required||!1,psikotest_score:n.movement.psikotest_score||"",psikotest_date:n.movement.psikotest_date||"",training_attendance_required:n.movement.training_attendance_required||!1,training_attendance_date:n.movement.training_attendance_date||"",position_change:n.movement.position_change||!1,position_from:n.movement.position_from||"",position_to:n.movement.position_to||"",level_change:n.movement.level_change||!1,level_from:n.movement.level_from||"",level_to:n.movement.level_to||"",salary_change:n.movement.salary_change||!1,salary_from:n.movement.salary_from||"",salary_to:n.movement.salary_to||"",gaji_pokok_to:"",tunjangan_to:"",department_change:n.movement.department_change||!1,department_from:n.movement.department_from||"",department_to:n.movement.department_to||"",division_change:n.movement.division_change||!1,division_from:n.movement.division_from||"",division_to:n.movement.division_to||"",unit_property_change:n.movement.unit_property_change||!1,unit_property_from:n.movement.unit_property_from||"",unit_property_to:n.movement.unit_property_to||"",adjustment_effective_date:n.movement.adjustment_effective_date||"",comments:n.movement.comments||"",kpi_attachment:null,psikotest_attachment:null,training_attachment:null,other_attachments:[],hod_approver_id:n.movement.hod_approver_id||"",gm_approver_id:n.movement.gm_approver_id||"",gm_hr_approver_id:n.movement.gm_hr_approver_id||"",bod_approver_id:n.movement.bod_approver_id||"",approvers:[],status:n.movement.status||"draft"}),k=g(n.movement.employee_name||""),h=g([]),E=g(!1),W=g(null),N=g(!1),w=g([]),j=g([]),V=g([]),U=g([]),F=g([]),_=g(""),D=g([]),$=g(!1),Q=r=>r?r.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","):"",X=r=>r?r.toString().replace(/\D/g,""):"",Z=async()=>{var r;try{console.log("Fetching dropdown data...");const e=route("employee-movements.dropdown-data");console.log("Request URL:",e);const o=await M.get(e);console.log("Dropdown data response:",o.data),o.data.success?(w.value=o.data.positions,j.value=o.data.levels,V.value=o.data.divisions,U.value=o.data.outlets,console.log("Positions loaded:",w.value.length),console.log("Levels loaded:",j.value.length),console.log("Divisions loaded:",V.value.length),console.log("Outlets loaded:",U.value.length)):console.error("API returned success: false")}catch(e){console.error("Error fetching dropdown data:",e),console.error("Error details:",(r=e.response)==null?void 0:r.data)}},ee=async()=>{var r;try{console.log("Fetching approvers data...");const e=route("employee-movements.approvers"),o=await M.get(e);console.log("Approvers data response:",o.data),o.data.success?(F.value=o.data.approvers,console.log("Approvers loaded:",F.value.length)):console.error("API returned success: false")}catch(e){console.error("Error fetching approvers data:",e),console.error("Error details:",(r=e.response)==null?void 0:r.data)}},te=()=>{const r=n.movement.approval_flows||n.movement.approvalFlows;if(r&&Array.isArray(r)&&r.length>0){const e=r.sort((o,a)=>(o.approval_level||0)-(a.approval_level||0)).map(o=>{const a=o.approver;if(!a)return null;let b="";return a.jabatan&&(typeof a.jabatan=="object"&&a.jabatan.nama_jabatan?b=a.jabatan.nama_jabatan:typeof a.jabatan=="string"&&(b=a.jabatan)),{id:a.id,name:a.nama_lengkap||a.name||a.nik||"",email:a.email||"",jabatan:b}}).filter(o=>o!=null&&o.id);e.length>0&&(l.approvers.splice(0,l.approvers.length),e.forEach(o=>{l.approvers.push(o)}))}},T=async(r="")=>{try{const e=await M.get("/employee-movements/approvers",{params:{search:r},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});e.data.success&&(D.value=e.data.approvers.map(o=>{var a;return{id:o.id,name:o.nama_lengkap,email:o.email||"",jabatan:((a=o.jabatan)==null?void 0:a.nama_jabatan)||""}}),$.value=!0)}catch(e){console.error("Failed to load approvers:",e),D.value=[]}},oe=r=>{l.approvers.find(e=>e.id===r.id)||l.approvers.push(r),_.value="",$.value=!1},le=r=>{l.approvers.splice(r,1)},O=(r,e)=>{const o=l.approvers.splice(r,1)[0];l.approvers.splice(e,0,o)};ve(()=>{console.log("Component mounted, fetching dropdown data..."),Z(),ee(),te(),setTimeout(()=>{console.log("Positions after delay:",w.value),console.log("Levels after delay:",j.value),console.log("Divisions after delay:",V.value),console.log("Outlets after delay:",U.value),console.log("Approvers after delay:",F.value),console.log("Form approvers:",l.approvers)},2e3)});const se=async()=>{if(k.value.length<2){h.value=[],E.value=!1;return}N.value=!0;try{const r=await M.get(route("employee-movements.search-employee"),{params:{search:k.value}});h.value=r.data,E.value=!0}catch(r){console.error("Error searching employees:",r)}finally{N.value=!1}},ne=async r=>{var e,o,a;W.value=r,l.employee_id=r.id,l.employee_name=r.nama_lengkap,l.employee_position=((e=r.jabatan)==null?void 0:e.nama_jabatan)||"",l.employee_division=((o=r.divisi)==null?void 0:o.nama_divisi)||"",l.employee_unit_property=((a=r.outlet)==null?void 0:a.nama_outlet)||"",l.employee_join_date=r.tanggal_masuk||"",k.value=r.nama_lengkap,E.value=!1,h.value=[]},re=()=>{var q,B,L,I,R,G,J,z;const r=parseInt(l.gaji_pokok_to)||0,e=parseInt(l.tunjangan_to)||0;if(l.salary_to=r+e,l.salary_change)if(l.salary_from&&l.salary_from!==""&&l.salary_from!==null){const c=X(l.salary_from);l.salary_from=c&&parseInt(c)||0}else l.salary_from=0;else l.salary_from=null;const o=((q=l.position_to)==null?void 0:q.id)||"",a=((B=l.level_to)==null?void 0:B.id)||"",b=((L=l.division_to)==null?void 0:L.id)||"",me=((I=l.unit_property_to)==null?void 0:I.id)||"",v={employee:l.employee_name,employment_type:l.employment_type,effective_date:l.employment_effective_date,position_change:l.position_change?"Yes":"No",position_to:((R=l.position_to)==null?void 0:R.name)||"-",level_change:l.level_change?"Yes":"No",level_to:((G=l.level_to)==null?void 0:G.name)||"-",salary_change:l.salary_change?"Yes":"No",salary_to:l.salary_to?Q(l.salary_to):"-",division_change:l.division_change?"Yes":"No",division_to:((J=l.division_to)==null?void 0:J.name)||"-",unit_property_change:l.unit_property_change?"Yes":"No",unit_property_to:((z=l.unit_property_to)==null?void 0:z.name)||"-",adjustment_effective_date:l.adjustment_effective_date,comments:l.comments||"-"};l.position_to=o,l.level_to=a,l.division_to=b,l.unit_property_to=me,l.approvers=l.approvers.map(c=>c.id),Swal.fire({title:"Confirm Employee Movement Update",html:`
      <div class="text-left">
        <h3 class="font-bold text-lg mb-3">Summary:</h3>
        <div class="space-y-2 text-sm">
          <div><strong>Employee:</strong> ${v.employee}</div>
          <div><strong>Employment Type:</strong> ${v.employment_type}</div>
          <div><strong>Effective Date:</strong> ${v.effective_date||"-"}</div>
          <hr class="my-2">
          <div><strong>Position Change:</strong> ${v.position_change}</div>
          <div><strong>New Position:</strong> ${v.position_to}</div>
          <div><strong>Level Change:</strong> ${v.level_change}</div>
          <div><strong>New Level:</strong> ${v.level_to}</div>
          <div><strong>Salary Change:</strong> ${v.salary_change}</div>
          <div><strong>New Salary:</strong> ${v.salary_to}</div>
          <div><strong>Division Change:</strong> ${v.division_change}</div>
          <div><strong>New Division:</strong> ${v.division_to}</div>
          <div><strong>Unit/Property Change:</strong> ${v.unit_property_change}</div>
          <div><strong>New Unit/Property:</strong> ${v.unit_property_to}</div>
          <div><strong>Adjustment Effective Date:</strong> ${v.adjustment_effective_date||"-"}</div>
          <hr class="my-2">
          <div><strong>Comments:</strong> ${v.comments}</div>
        </div>
      </div>
    `,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Update Employee Movement",cancelButtonText:"Cancel",showLoaderOnConfirm:!0,preConfirm:()=>new Promise(c=>{l.put(route("employee-movements.update",n.movement.id),{onSuccess:()=>{c()},onError:pe=>{Swal.showValidationMessage(`Request failed: ${Object.values(pe).join(", ")}`),c(!1)},forceFormData:!0})}),allowOutsideClick:()=>!Swal.isLoading()}).then(c=>{c.isConfirmed&&Swal.fire({title:"Success!",text:"Employee Movement has been updated successfully.",icon:"success",confirmButtonText:"OK"}).then(()=>{Y.visit("/employee-movements")})})},ae=r=>{const e=Array.from(r.target.files);l.other_attachments=[...l.other_attachments,...e]},ie=r=>{l.other_attachments.splice(r,1)},de=()=>{Y.visit("/employee-movements")};return(r,e)=>(d(),ge(be,{title:"Edit Employee Movement"},{header:K(()=>e[47]||(e[47]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Employee Movement ",-1)])),default:K(()=>[t("div",fe,[t("div",_e,[t("div",xe,[t("form",{onSubmit:ye(re,["prevent"]),class:"p-6"},[t("div",ke,[e[53]||(e[53]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Employee Details",-1)),t("div",he,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Employee",-1)),t("div",we,[i(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>k.value=o),onInput:se,type:"text",placeholder:"Search by name, NIK, or email...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[p,k.value]]),E.value&&h.value.length>0?(d(),m("div",je,[(d(!0),m(C,null,P(h.value,o=>{var a;return d(),m("div",{key:o.id,onClick:b=>ne(o),class:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0"},[t("div",Ue,u(o.nama_lengkap),1),t("div",Ce," NIK: "+u(o.nik)+" | "+u(((a=o.jabatan)==null?void 0:a.nama_jabatan)||"No Position"),1)],8,Ve)}),128))])):y("",!0)])]),t("div",Pe,[t("div",Ee,[t("div",null,[e[49]||(e[49]=t("label",{class:"block text-sm font-medium text-gray-700"},"Position",-1)),i(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s(l).employee_position=o),type:"text",readonly:"",class:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).employee_position]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700"},"Division",-1)),i(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s(l).employee_division=o),type:"text",readonly:"",class:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).employee_division]])]),t("div",null,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-gray-700"},"Unit/Property",-1)),i(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s(l).employee_unit_property=o),type:"text",readonly:"",class:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).employee_unit_property]])]),t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-gray-700"},"Join Date",-1)),i(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s(l).employee_join_date=o),type:"date",readonly:"",class:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).employee_join_date]])])])])]),t("div",De,[e[61]||(e[61]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Employment & Renewal",-1)),t("div",Ae,[t("div",Me,[t("div",Se,[i(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>s(l).employment_type=o),type:"radio",value:"extend_contract_without_adjustment",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[x,s(l).employment_type]]),e[54]||(e[54]=t("label",{class:"ml-2 text-sm text-gray-700"},"Extend contract without adjustment",-1))]),t("div",Fe,[i(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>s(l).employment_type=o),type:"radio",value:"extend_contract_with_adjustment",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[x,s(l).employment_type]]),e[55]||(e[55]=t("label",{class:"ml-2 text-sm text-gray-700"},"Extend contract with adjustment",-1))]),t("div",$e,[i(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>s(l).employment_type=o),type:"radio",value:"promotion",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[x,s(l).employment_type]]),e[56]||(e[56]=t("label",{class:"ml-2 text-sm text-gray-700"},"Promotion",-1))]),t("div",Ne,[i(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>s(l).employment_type=o),type:"radio",value:"demotion",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[x,s(l).employment_type]]),e[57]||(e[57]=t("label",{class:"ml-2 text-sm text-gray-700"},"Demotion",-1))]),t("div",Te,[i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>s(l).employment_type=o),type:"radio",value:"mutation",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[x,s(l).employment_type]]),e[58]||(e[58]=t("label",{class:"ml-2 text-sm text-gray-700"},"Mutation",-1))]),t("div",Oe,[i(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s(l).employment_type=o),type:"radio",value:"termination",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[x,s(l).employment_type]]),e[59]||(e[59]=t("label",{class:"ml-2 text-sm text-gray-700"},"Termination",-1))])]),t("div",qe,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-gray-700"},"Effective Date",-1)),i(t("input",{"onUpdate:modelValue":e[11]||(e[11]=o=>s(l).employment_effective_date=o),type:"date",class:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[p,s(l).employment_effective_date]])])])]),t("div",Be,[e[75]||(e[75]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Supporting Documents",-1)),t("div",Le,[t("div",Ie,[t("div",Re,[t("div",Ge,[t("div",Je,[i(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>s(l).kpi_required=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).kpi_required]]),e[62]||(e[62]=t("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Key Performance Indicators (KPI)",-1))]),i(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s(l).kpi_date=o),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md text-sm"},null,512),[[p,s(l).kpi_date]])]),t("div",ze,[e[63]||(e[63]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Upload KPI Document (PDF/Image)",-1)),t("input",{onChange:e[14]||(e[14]=o=>s(l).kpi_attachment=o.target.files[0]),type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[64]||(e[64]=t("p",{class:"text-xs text-gray-500 mt-1"},"Max file size: 2MB. Allowed formats: PDF, JPG, JPEG, PNG",-1)),n.movement.kpi_attachment?(d(),m("div",Ke,[t("p",Ye,"Current file: "+u(n.movement.kpi_attachment.split("/").pop()),1)])):y("",!0)])]),t("div",He,[t("div",We,[t("div",Qe,[i(t("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>s(l).psikotest_required=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).psikotest_required]]),e[65]||(e[65]=t("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Psikotest Result by Training Manager: score =",-1))]),t("div",Xe,[i(t("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>s(l).psikotest_score=o),type:"text",placeholder:"Score",class:"px-3 py-2 border border-gray-300 rounded-md w-20 text-sm"},null,512),[[p,s(l).psikotest_score]]),i(t("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>s(l).psikotest_date=o),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md text-sm"},null,512),[[p,s(l).psikotest_date]])])]),t("div",Ze,[e[66]||(e[66]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Upload Psikotest Result (PDF/Image)",-1)),t("input",{onChange:e[18]||(e[18]=o=>s(l).psikotest_attachment=o.target.files[0]),type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[67]||(e[67]=t("p",{class:"text-xs text-gray-500 mt-1"},"Max file size: 2MB. Allowed formats: PDF, JPG, JPEG, PNG",-1)),n.movement.psikotest_attachment?(d(),m("div",et,[t("p",tt,"Current file: "+u(n.movement.psikotest_attachment.split("/").pop()),1)])):y("",!0)])]),t("div",ot,[t("div",lt,[t("div",st,[i(t("input",{"onUpdate:modelValue":e[19]||(e[19]=o=>s(l).training_attendance_required=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).training_attendance_required]]),e[68]||(e[68]=t("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Training Attendance Record by Training Manager",-1))]),i(t("input",{"onUpdate:modelValue":e[20]||(e[20]=o=>s(l).training_attendance_date=o),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md text-sm"},null,512),[[p,s(l).training_attendance_date]])]),t("div",nt,[e[69]||(e[69]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Upload Training Record (PDF/Image)",-1)),t("input",{onChange:e[21]||(e[21]=o=>s(l).training_attachment=o.target.files[0]),type:"file",accept:".pdf,.jpg,.jpeg,.png",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[70]||(e[70]=t("p",{class:"text-xs text-gray-500 mt-1"},"Max file size: 2MB. Allowed formats: PDF, JPG, JPEG, PNG",-1)),n.movement.training_attachment?(d(),m("div",rt,[t("p",at,"Current file: "+u(n.movement.training_attachment.split("/").pop()),1)])):y("",!0)])]),t("div",null,[e[74]||(e[74]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Other Supporting Documents",-1)),t("div",it,[t("input",{onChange:ae,type:"file",multiple:"",accept:".pdf,.jpg,.jpeg,.png",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[73]||(e[73]=t("p",{class:"text-xs text-gray-500 mt-1"},"Max file size: 2MB per file. Allowed formats: PDF, JPG, JPEG, PNG",-1)),s(l).other_attachments.length>0?(d(),m("div",dt,[e[71]||(e[71]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Selected files:",-1)),t("ul",mt,[(d(!0),m(C,null,P(s(l).other_attachments,(o,a)=>(d(),m("li",{key:a,class:"flex items-center justify-between"},[t("span",null,u(o.name),1),t("button",{onClick:b=>ie(a),type:"button",class:"text-red-600 hover:text-red-800 text-xs"}," Remove ",8,pt)]))),128))])])):y("",!0),n.movement.other_attachments?(d(),m("div",ut,[e[72]||(e[72]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Current files:",-1)),t("ul",vt,[(d(!0),m(C,null,P(JSON.parse(n.movement.other_attachments||"[]"),(o,a)=>(d(),m("li",{key:a},u(o.split("/").pop()),1))),128))])])):y("",!0)])])])])]),t("div",gt,[e[94]||(e[94]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Adjustment & Movement",-1)),t("div",yt,[t("div",bt,[t("div",ct,[t("div",ft,[i(t("input",{"onUpdate:modelValue":e[22]||(e[22]=o=>s(l).position_change=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).position_change]]),e[76]||(e[76]=t("label",{class:"ml-2 text-sm text-gray-700"},"Position",-1))]),t("div",null,[e[77]||(e[77]=t("label",{class:"block text-xs text-gray-600 mb-1"},"From",-1)),i(t("input",{"onUpdate:modelValue":e[23]||(e[23]=o=>s(l).position_from=o),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).position_from]])]),t("div",null,[e[78]||(e[78]=t("label",{class:"block text-xs text-gray-600 mb-1"},"To",-1)),A(s(S),{modelValue:s(l).position_to,"onUpdate:modelValue":e[24]||(e[24]=o=>s(l).position_to=o),options:w.value,searchable:!0,"clear-on-select":!1,"close-on-select":!0,"show-labels":!1,"track-by":"id",label:"name",placeholder:"Select position...",class:"w-full",onOpen:e[25]||(e[25]=()=>console.log("Position multiselect opened, options:",w.value))},null,8,["modelValue","options"])])]),t("div",_t,[t("div",xt,[i(t("input",{"onUpdate:modelValue":e[26]||(e[26]=o=>s(l).level_change=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).level_change]]),e[79]||(e[79]=t("label",{class:"ml-2 text-sm text-gray-700"},"Level",-1))]),t("div",null,[e[80]||(e[80]=t("label",{class:"block text-xs text-gray-600 mb-1"},"From",-1)),i(t("input",{"onUpdate:modelValue":e[27]||(e[27]=o=>s(l).level_from=o),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).level_from]])]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-xs text-gray-600 mb-1"},"To",-1)),A(s(S),{modelValue:s(l).level_to,"onUpdate:modelValue":e[28]||(e[28]=o=>s(l).level_to=o),options:j.value,searchable:!0,"clear-on-select":!1,"close-on-select":!0,"show-labels":!1,"track-by":"id",label:"name",placeholder:"Select level...",class:"w-full",onOpen:e[29]||(e[29]=()=>console.log("Level multiselect opened, options:",j.value))},null,8,["modelValue","options"])])]),t("div",kt,[t("div",ht,[i(t("input",{"onUpdate:modelValue":e[30]||(e[30]=o=>s(l).salary_change=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).salary_change]]),e[82]||(e[82]=t("label",{class:"ml-2 text-sm text-gray-700"},"Salary",-1))]),t("div",null,[e[83]||(e[83]=t("label",{class:"block text-xs text-gray-600 mb-1"},"From",-1)),i(t("input",{"onUpdate:modelValue":e[31]||(e[31]=o=>s(l).salary_from=o),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).salary_from]])]),t("div",wt,[e[86]||(e[86]=t("label",{class:"block text-xs text-gray-600 mb-1"},"To",-1)),t("div",jt,[t("div",null,[e[84]||(e[84]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Gaji Pokok",-1)),i(t("input",{"onUpdate:modelValue":e[32]||(e[32]=o=>s(l).gaji_pokok_to=o),type:"number",min:"0",step:"1",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[p,s(l).gaji_pokok_to,void 0,{number:!0}]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Tunjangan",-1)),i(t("input",{"onUpdate:modelValue":e[33]||(e[33]=o=>s(l).tunjangan_to=o),type:"number",min:"0",step:"1",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[p,s(l).tunjangan_to,void 0,{number:!0}]])])])])]),t("div",Vt,[t("div",Ut,[i(t("input",{"onUpdate:modelValue":e[34]||(e[34]=o=>s(l).division_change=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).division_change]]),e[87]||(e[87]=t("label",{class:"ml-2 text-sm text-gray-700"},"Division",-1))]),t("div",null,[e[88]||(e[88]=t("label",{class:"block text-xs text-gray-600 mb-1"},"From",-1)),i(t("input",{"onUpdate:modelValue":e[35]||(e[35]=o=>s(l).division_from=o),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).division_from]])]),t("div",null,[e[89]||(e[89]=t("label",{class:"block text-xs text-gray-600 mb-1"},"To",-1)),A(s(S),{modelValue:s(l).division_to,"onUpdate:modelValue":e[36]||(e[36]=o=>s(l).division_to=o),options:V.value,searchable:!0,"clear-on-select":!1,"close-on-select":!0,"show-labels":!1,"track-by":"id",label:"name",placeholder:"Select division...",class:"w-full",onOpen:e[37]||(e[37]=()=>console.log("Division multiselect opened, options:",V.value))},null,8,["modelValue","options"])])]),t("div",Ct,[t("div",Pt,[i(t("input",{"onUpdate:modelValue":e[38]||(e[38]=o=>s(l).unit_property_change=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[f,s(l).unit_property_change]]),e[90]||(e[90]=t("label",{class:"ml-2 text-sm text-gray-700"},"Unit/Property",-1))]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-xs text-gray-600 mb-1"},"From",-1)),i(t("input",{"onUpdate:modelValue":e[39]||(e[39]=o=>s(l).unit_property_from=o),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100"},null,512),[[p,s(l).unit_property_from]])]),t("div",null,[e[92]||(e[92]=t("label",{class:"block text-xs text-gray-600 mb-1"},"To",-1)),A(s(S),{modelValue:s(l).unit_property_to,"onUpdate:modelValue":e[40]||(e[40]=o=>s(l).unit_property_to=o),options:U.value,searchable:!0,"clear-on-select":!1,"close-on-select":!0,"show-labels":!1,"track-by":"id",label:"name",placeholder:"Select outlet...",class:"w-full",onOpen:e[41]||(e[41]=()=>console.log("Outlet multiselect opened, options:",U.value))},null,8,["modelValue","options"])])])]),t("div",Et,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-700"},"Effective Date",-1)),i(t("input",{"onUpdate:modelValue":e[42]||(e[42]=o=>s(l).adjustment_effective_date=o),type:"date",class:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md"},null,512),[[p,s(l).adjustment_effective_date]])])])]),t("div",Dt,[e[96]||(e[96]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Comments",-1)),t("div",At,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"(Explain reason for movement.)",-1)),i(t("textarea",{"onUpdate:modelValue":e[43]||(e[43]=o=>s(l).comments=o),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter comments here..."},null,512),[[p,s(l).comments]])])]),t("div",Mt,[e[101]||(e[101]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Approval Flow",-1)),e[102]||(e[102]=t("p",{class:"text-sm text-gray-600 mb-4"},"Add approvers in order from lowest to highest level. The first approver will be the lowest level, and the last approver will be the highest level.",-1)),t("div",St,[t("div",Ft,[i(t("input",{"onUpdate:modelValue":e[44]||(e[44]=o=>_.value=o),type:"text",placeholder:"Search users by name, email, or jabatan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:e[45]||(e[45]=o=>_.value.length>=2&&T(_.value)),onFocus:e[46]||(e[46]=o=>_.value.length>=2&&T(_.value))},null,544),[[p,_.value]]),$.value&&D.value.length>0?(d(),m("div",$t,[(d(!0),m(C,null,P(D.value,o=>(d(),m("div",{key:o.id,onClick:a=>oe(o),class:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0"},[t("div",Tt,u(o.name),1),t("div",Ot,u(o.email),1),o.jabatan?(d(),m("div",qt,u(o.jabatan),1)):y("",!0)],8,Nt))),128))])):y("",!0)])]),s(l).approvers.length>0?(d(),m("div",Bt,[e[100]||(e[100]=t("h4",{class:"font-medium text-gray-700"},"Approval Order (Lowest to Highest):",-1)),(d(!0),m(C,null,P(s(l).approvers,(o,a)=>(d(),m("div",{key:o.id,class:"flex items-center justify-between p-3 rounded-md bg-gray-50 border border-gray-200"},[t("div",Lt,[t("div",It,[a>0?(d(),m("button",{key:0,onClick:b=>O(a,a-1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Move Up"},e[97]||(e[97]=[t("i",{class:"fa fa-arrow-up"},null,-1)]),8,Rt)):y("",!0),a<s(l).approvers.length-1?(d(),m("button",{key:1,onClick:b=>O(a,a+1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Move Down"},e[98]||(e[98]=[t("i",{class:"fa fa-arrow-down"},null,-1)]),8,Gt)):y("",!0)]),t("div",Jt,[t("span",zt," Level "+u(a+1),1),t("div",null,[t("div",Kt,u(o.name),1),t("div",Yt,u(o.email),1),o.jabatan?(d(),m("div",Ht,u(o.jabatan),1)):y("",!0)])])]),t("button",{onClick:b=>le(a),class:"p-1 text-red-500 hover:text-red-700",title:"Remove Approver"},e[99]||(e[99]=[t("i",{class:"fa fa-times"},null,-1)]),8,Wt)]))),128))])):y("",!0)]),t("div",Qt,[t("button",{type:"button",onClick:de,class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),t("button",{type:"submit",disabled:s(l).processing,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50"},u(s(l).processing?"Updating...":"Update Employee Movement"),9,Xt)])],32)])])])]),_:1}))}},vo=ce(Zt,[["__scopeId","data-v-fa42c3a2"]]);export{vo as default};
