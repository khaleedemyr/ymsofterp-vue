import{r as we,c as pe,A as De,B as n,C as Be,D as e,G as m,L as l,F as f,M as y,l as _,N as o,H as x,E as p,X as b}from"./vendor-vue-g7iCcTkf.js";import{_ as Ne}from"./Modal-BBL5yay4.js";import"./vendor-utils-CpgP2uT4.js";const Se={class:"p-6 mx-auto"},Ue={class:"border-b border-gray-200 mb-6"},Ee={class:"-mb-px flex space-x-8"},Ce=["onClick"],Me={class:"mt-4"},Oe={class:"space-y-6"},Ae={class:"bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-400 shadow rounded-lg p-6"},Ge={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ie={class:"font-medium"},qe={class:"font-medium"},je={class:"font-medium"},Le={class:"font-medium"},Te={class:"font-medium"},Fe={class:"font-medium"},Je={class:"font-bold text-blue-800"},Pe={class:"font-medium"},Ve={class:"font-medium"},$e={key:0},ze={class:"space-y-6"},Qe={class:"bg-gradient-to-r from-purple-50 to-purple-100 border-l-4 border-purple-400 shadow rounded-lg p-6"},Re={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"font-medium"},He={key:0},Ke={class:"font-medium"},Xe={key:1},Ye={class:"font-medium"},Ze={key:2},et={class:"font-medium"},tt={key:3},st={class:"font-medium"},it={class:"space-y-6"},ot={class:"bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-400 shadow rounded-lg p-6"},nt={key:0,class:"space-y-4"},lt={class:"font-semibold text-gray-700 mb-2"},dt={class:"flex flex-wrap gap-2"},at={key:1,class:"text-sm text-gray-400 italic"},rt={class:"space-y-6"},mt={class:"bg-gradient-to-r from-yellow-50 to-yellow-100 border-l-4 border-yellow-400 shadow rounded-lg p-6"},ut={key:0,class:"space-y-4"},ct={class:"font-medium text-gray-800"},gt={class:"text-gray-500 text-right min-w-[120px]"},ft={key:1,class:"text-sm text-gray-400 italic"},yt={class:"space-y-6"},xt={class:"bg-gradient-to-r from-indigo-50 to-indigo-100 border-l-4 border-indigo-400 shadow rounded-lg p-6"},pt={key:0,class:"space-y-4"},bt={style:{display:"none"}},vt={class:"font-medium text-gray-800 min-w-[120px]"},_t={class:"text-gray-500 text-right min-w-[120px]"},ht={key:1,class:"text-sm text-gray-400 italic"},kt={class:"space-y-6"},wt={class:"bg-gradient-to-r from-pink-50 to-pink-100 border-l-4 border-pink-400 shadow rounded-lg p-6"},Dt={key:0,class:"space-y-4"},Bt={style:{display:"none"}},Nt={class:"font-medium"},St={class:"text-gray-500 text-xs font-bold capitalize"},Ut={key:1,class:"text-sm text-gray-400 italic"},Et={class:"space-y-6"},Ct={class:"bg-gradient-to-r from-gray-50 to-gray-100 border-l-4 border-gray-400 shadow rounded-lg p-6"},Mt={class:"space-y-4"},Ot={class:"font-medium"},At={class:"font-medium"},Gt={key:0,class:"mt-6"},It={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},qt=["src"],Ft={__name:"ModalDetailItem",props:{open:{type:Boolean,required:!0},item:{type:Object,required:!0,default:()=>({})},modifiers:{type:Array,required:!1,default:()=>[]},regions:{type:[Array,Object],required:!1,default:()=>({})},outlets:{type:[Array,Object],required:!1,default:()=>({})}},emits:["close"],setup(i,{emit:be}){var S,U,E,C,M;const d=i,ve=be,c=we("info"),_e=[{id:"info",name:"Information",icon:"fa-solid fa-info-circle"},{id:"uom",name:"UoM",icon:"fa-solid fa-ruler-combined"},{id:"modifier",name:"Modifier",icon:"fa-solid fa-sliders"},{id:"bom",name:"BOM",icon:"fa-solid fa-list-check"},{id:"price",name:"Price",icon:"fa-solid fa-tag"},{id:"availability",name:"Availability",icon:"fa-solid fa-store"},{id:"sps",name:"SPS",icon:"fa-solid fa-file-alt"}];function h(){ve("close")}const k=a=>{if(!a||!a.path)return null;try{return`/storage/${a.path}`}catch(t){return console.error("Error processing image:",t),null}},w=(a,t=0)=>typeof a=="number"||!isNaN(Number(a))?Number(a).toLocaleString("id-ID",{minimumFractionDigits:t,maximumFractionDigits:t}):a,he=pe(()=>{var a,t;return(a=d.item)!=null&&a.modifier_option_ids&&d.item.modifier_option_ids.length>0?d.item.modifier_option_ids:(t=d.item)!=null&&t.item_modifier_options&&d.item.item_modifier_options.length>0?d.item.item_modifier_options.map(r=>r.modifier_option_id):[]});console.log("DEBUG item.modifier_option_ids",(S=d.item)==null?void 0:S.modifier_option_ids),console.log("DEBUG item.item_modifier_options",(U=d.item)==null?void 0:U.item_modifier_options),console.log("DEBUG modifiers",d.modifiers);const D=pe(()=>(d.modifiers||[]).map(a=>{const t=(a.options||[]).filter(r=>he.value.includes(r.id));return t.length>0?{...a,options:t}:null}).filter(Boolean));console.log("DEBUG item.prices",(E=d.item)==null?void 0:E.prices);const B=(a,t)=>{var r;if(!a)return t||"-";if(Array.isArray(d.regions)){const g=d.regions.find(v=>v.id==a);return g?g.name:t||"-"}else if(d.regions&&typeof d.regions=="object")return((r=d.regions[a])==null?void 0:r.name)||t||"-";return t||"-"},N=(a,t)=>{var r;if(!a)return t||"-";if(Array.isArray(d.outlets)){const g=d.outlets.find(v=>v.id_outlet==a);return g?g.nama_outlet:t||"-"}else if(d.outlets&&typeof d.outlets=="object")return((r=d.outlets[a])==null?void 0:r.nama_outlet)||t||"-";return t||"-"};return console.log("DEBUG item.prices",(C=d.item)==null?void 0:C.prices),console.log("DEBUG item.availabilities",(M=d.item)==null?void 0:M.availabilities),console.log("DEBUG regions",d.regions),console.log("DEBUG outlets",d.outlets),(a,t)=>(n(),De(Ne,{show:i.open,onClose:h,maxWidth:"3xl"},{default:Be(()=>{var r,g,v,O,A,G,I,q,j,L,T,F,J,P,V,$,z,Q,R,W,H,K,X,Y,Z,ee,te,se,ie,oe,ne,le,de,ae,re,me,ue,ce,ge,fe,ye,xe;return[e("div",Se,[t[28]||(t[28]=e("h2",{class:"text-xl font-bold mb-4 flex items-center gap-2"},[e("i",{class:"fa-solid fa-boxes-stacked text-blue-500"}),m(" Detail Item ")],-1)),e("div",Ue,[e("nav",Ee,[(n(),l(f,null,y(_e,s=>e("button",{key:s.id,onClick:u=>c.value=s.id,class:_([c.value===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2"])},[e("i",{class:_(s.icon)},null,2),m(" "+o(s.name),1)],10,Ce)),64))])]),e("div",Me,[x(e("div",Oe,[e("div",Ae,[t[12]||(t[12]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-blue-700 mb-4"},[e("i",{class:"fa-solid fa-info-circle"}),m(" Item Information ")],-1)),e("div",Ge,[e("div",null,[t[1]||(t[1]=e("p",{class:"text-sm text-gray-500"},"Composition Type",-1)),e("p",Ie,o(((r=i.item)==null?void 0:r.composition_type)==="single"?"Single":((g=i.item)==null?void 0:g.composition_type)==="composed"?"Composed":"-"),1)]),e("div",null,[t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"Category",-1)),e("p",qe,o(((O=(v=i.item)==null?void 0:v.category)==null?void 0:O.name)||"-"),1)]),e("div",null,[t[3]||(t[3]=e("p",{class:"text-sm text-gray-500"},"Sub Category",-1)),e("p",je,o(((G=(A=i.item)==null?void 0:A.sub_category)==null?void 0:G.name)||"-"),1)]),e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm text-gray-500"},"Warehouse Division",-1)),e("p",Le,o(((q=(I=i.item)==null?void 0:I.warehouse_division)==null?void 0:q.name)||"-"),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-500"},"SKU",-1)),e("p",Te,o(((j=i.item)==null?void 0:j.sku)||"-"),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-500"},"Type",-1)),e("p",Fe,o(((L=i.item)==null?void 0:L.type)||"-"),1)]),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-500"},"Name",-1)),e("p",Je,o(((T=i.item)==null?void 0:T.name)||"-"),1)]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-500"},"Min Stock",-1)),e("p",Pe,o(((F=i.item)==null?void 0:F.min_stock)||"-"),1)]),e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-500"},"Expiry Days",-1)),e("p",Ve,o(((J=i.item)==null?void 0:J.exp)||"-"),1)]),e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-500"},"Status",-1)),e("span",{class:_([((P=i.item)==null?void 0:P.status)==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700","px-2 py-1 rounded text-xs font-bold"])},[e("i",{class:_(((V=i.item)==null?void 0:V.status)==="active"?"fa-solid fa-check-circle":"fa-solid fa-times-circle")},null,2),m(" "+o((($=i.item)==null?void 0:$.status)==="active"?"Active":"Inactive"),1)],2)]),((z=i.item)==null?void 0:z.modifier_enabled)!==void 0?(n(),l("div",$e,[t[11]||(t[11]=e("p",{class:"text-sm text-gray-500"},"Modifier Enabled",-1)),e("span",{class:_([(Q=i.item)!=null&&Q.modifier_enabled?"bg-green-100 text-green-700":"bg-red-100 text-red-700","px-2 py-1 rounded text-xs font-bold"])},[e("i",{class:_((R=i.item)!=null&&R.modifier_enabled?"fa-solid fa-check-circle":"fa-solid fa-times-circle")},null,2),m(" "+o((W=i.item)!=null&&W.modifier_enabled?"Yes":"No"),1)],2)])):p("",!0)])])],512),[[b,c.value==="info"]]),x(e("div",ze,[e("div",Qe,[t[18]||(t[18]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-purple-700 mb-4"},[e("i",{class:"fa-solid fa-ruler-combined"}),m(" Unit of Measurement ")],-1)),e("div",Re,[e("div",null,[t[13]||(t[13]=e("p",{class:"text-sm text-gray-500"},"Small Unit",-1)),e("p",We,o(((K=(H=i.item)==null?void 0:H.small_unit)==null?void 0:K.name)||"-"),1)]),(X=i.item)!=null&&X.medium_unit?(n(),l("div",He,[t[14]||(t[14]=e("p",{class:"text-sm text-gray-500"},"Medium Unit",-1)),e("p",Ke,o(((Z=(Y=i.item)==null?void 0:Y.medium_unit)==null?void 0:Z.name)||"-"),1)])):p("",!0),(ee=i.item)!=null&&ee.large_unit?(n(),l("div",Xe,[t[15]||(t[15]=e("p",{class:"text-sm text-gray-500"},"Large Unit",-1)),e("p",Ye,o(((se=(te=i.item)==null?void 0:te.large_unit)==null?void 0:se.name)||"-"),1)])):p("",!0),(ie=i.item)!=null&&ie.medium_conversion_qty?(n(),l("div",Ze,[t[16]||(t[16]=e("p",{class:"text-sm text-gray-500"},"Medium Conversion Quantity",-1)),e("p",et,o(((oe=i.item)==null?void 0:oe.medium_conversion_qty)||"-"),1)])):p("",!0),(ne=i.item)!=null&&ne.small_conversion_qty?(n(),l("div",tt,[t[17]||(t[17]=e("p",{class:"text-sm text-gray-500"},"Small Conversion Quantity",-1)),e("p",st,o(((le=i.item)==null?void 0:le.small_conversion_qty)||"-"),1)])):p("",!0)])])],512),[[b,c.value==="uom"]]),x(e("div",it,[e("div",ot,[t[19]||(t[19]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-green-700 mb-4"},[e("i",{class:"fa-solid fa-sliders"}),m(" Modifiers ")],-1)),D.value.length?(n(),l("div",nt,[(n(!0),l(f,null,y(D.value,s=>(n(),l("div",{key:s.id,class:"border rounded-lg bg-white p-4"},[e("h5",lt,o(s.name),1),e("div",dt,[(n(!0),l(f,null,y(s.options,u=>(n(),l("span",{key:u.id,class:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm"},o(u.name),1))),128))])]))),128))])):(n(),l("div",at,"No modifiers assigned."))])],512),[[b,c.value==="modifier"]]),x(e("div",rt,[e("div",mt,[t[20]||(t[20]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-yellow-700 mb-4"},[e("i",{class:"fa-solid fa-list-check"}),m(" Bill of Materials ")],-1)),(ae=(de=i.item)==null?void 0:de.bom)!=null&&ae.length?(n(),l("div",ut,[(n(!0),l(f,null,y(i.item.bom,(s,u)=>(n(),l("div",{key:u,class:"flex justify-between items-center gap-4 p-3 bg-white rounded-lg"},[e("span",ct,o(s.item_name||"-"),1),e("span",gt,o(w(s.qty,2))+" "+o(s.unit_name||""),1)]))),128))])):(n(),l("div",ft,"No BOM items assigned."))])],512),[[b,c.value==="bom"]]),x(e("div",yt,[e("div",xt,[t[21]||(t[21]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-indigo-700 mb-4"},[e("i",{class:"fa-solid fa-tag"}),m(" Prices ")],-1)),(me=(re=i.item)==null?void 0:re.prices)!=null&&me.length?(n(),l("div",pt,[(n(!0),l(f,null,y(i.item.prices,(s,u)=>(n(),l("div",{key:u,class:"flex justify-between items-center gap-4 p-3 bg-white rounded-lg"},[e("span",bt,o(console.log("DEBUG price",JSON.parse(JSON.stringify(s)))),1),e("span",vt,o(s.region_id?B(s.region_id,s.region_name||s.label):s.outlet_id?N(s.outlet_id,s.outlet_name||s.label):s.label||"-"),1),e("span",_t,"Rp "+o(w(s.price,0)),1)]))),128))])):(n(),l("div",ht,"No prices assigned."))])],512),[[b,c.value==="price"]]),x(e("div",kt,[e("div",wt,[t[22]||(t[22]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-pink-700 mb-4"},[e("i",{class:"fa-solid fa-store"}),m(" Availability ")],-1)),(ce=(ue=i.item)==null?void 0:ue.availabilities)!=null&&ce.length?(n(),l("div",Dt,[(n(!0),l(f,null,y(i.item.availabilities,(s,u)=>(n(),l("div",{key:u,class:"flex items-center gap-4 p-3 bg-white rounded-lg"},[e("span",Bt,o(console.log("DEBUG avail",JSON.parse(JSON.stringify(s)))),1),e("span",Nt,o(s.region_id?B(s.region_id,s.region_name||s.label):s.outlet_id?N(s.outlet_id,s.outlet_name||s.label):s.label||"-"),1),e("span",St,o(s.availability_type||"-"),1)]))),128))])):(n(),l("div",Ut,"No availability settings assigned."))])],512),[[b,c.value==="availability"]]),x(e("div",Et,[e("div",Ct,[t[26]||(t[26]=e("h4",{class:"flex items-center gap-2 text-md font-semibold text-gray-700 mb-4"},[e("i",{class:"fa-solid fa-file-alt"}),m(" Specification & Images ")],-1)),e("div",Mt,[e("div",null,[t[23]||(t[23]=e("p",{class:"text-sm text-gray-500"},"Description",-1)),e("p",Ot,o(((ge=i.item)==null?void 0:ge.description)||"-"),1)]),e("div",null,[t[24]||(t[24]=e("p",{class:"text-sm text-gray-500"},"Specification",-1)),e("p",At,o(((fe=i.item)==null?void 0:fe.specification)||"-"),1)])]),(xe=(ye=i.item)==null?void 0:ye.images)!=null&&xe.length?(n(),l("div",Gt,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-500 mb-4"},"Images",-1)),e("div",It,[(n(!0),l(f,null,y(i.item.images,(s,u)=>(n(),l("div",{key:u,class:"relative group"},[k(s)?(n(),l("img",{key:0,src:k(s),class:"w-full h-32 object-cover rounded-lg shadow border transition-transform duration-200 group-hover:scale-105",onError:t[0]||(t[0]=ke=>ke.target.style.display="none")},null,40,qt)):p("",!0)]))),128))])])):p("",!0)])],512),[[b,c.value==="sps"]])]),e("div",{class:"mt-6 flex justify-end"},[e("button",{type:"button",class:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2",onClick:h},t[27]||(t[27]=[e("i",{class:"fa-solid fa-xmark"},null,-1),m(" Tutup ")]))])])]}),_:1},8,["show"]))}};export{Ft as default};
