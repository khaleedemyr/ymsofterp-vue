import{r as i,W as l,w as W,A,B as n,C as w,D as e,x as y,G as m,Q as L,l as p,H as N,J as E,L as u,E as $,F as k,M as C,N as b}from"./vendor-vue-g7iCcTkf.js";import{l as j}from"./lodash-DB3HVzpp.js";import{S as _}from"./app-CL3toCqm.js";import{A as F}from"./AppLayout-Cg9_BqdS.js";import z from"./WarehouseDivisionFormModal-CqKN_P_K.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as U}from"./vendor-ui-CrPgGUUb.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-DcALjTaB.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const Y={class:"max-w-7xl w-full mx-auto py-8 px-2"},G={class:"flex items-center gap-3 mb-4"},J={class:"mb-4"},P={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},Q={class:"w-full min-w-full divide-y divide-gray-200"},q={key:0},K={class:"px-6 py-3 font-semibold"},R={class:"px-6 py-3"},X={class:"px-6 py-3"},Z=["onClick"],ee={class:"px-6 py-3"},te={class:"flex gap-2"},se=["onClick"],oe=["onClick"],ae={class:"flex justify-end mt-4 gap-2"},le=["disabled","onClick","innerHTML"],ne={__name:"Index",props:{divisions:Object,filters:Object,warehouses:Array},setup(r){var g;const d=i(((g=r.filters)==null?void 0:g.search)||""),a=i(!1),c=i(!1),x=i("create"),v=i(null),B=j.debounce(()=>{l.get("/warehouse-divisions",{search:d.value,status:a.value?"inactive":"active"},{preserveState:!0,replace:!0})},400);W(a,o=>{l.get("/warehouse-divisions",{search:d.value,status:o?"inactive":"active"},{preserveState:!0,replace:!0})});function S(){B()}function M(o){o&&l.visit(o,{preserveState:!0,replace:!0})}function D(){x.value="create",v.value=null,c.value=!0}function T(o){x.value="edit",v.value=o,c.value=!0}async function I(o){(await _.fire({title:"Hapus Warehouse Division?",text:`Yakin ingin menghapus division "${o.name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&l.delete(route("warehouse-divisions.destroy",o.id),{onSuccess:()=>_.fire("Berhasil","Warehouse Division berhasil dihapus!","success")})}function h(){l.reload({preserveState:!0,replace:!0})}function V(){c.value=!1}function H(o){const t=o.status==="active"?"inactive":"active";l.patch(route("warehouse-divisions.toggle-status",o.id),{status:t},{preserveState:!0,onSuccess:h})}return(o,t)=>(n(),A(F,null,{default:w(()=>[e("div",Y,[e("div",{class:"flex justify-between items-center mb-6"},[t[2]||(t[2]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-sitemap text-blue-500"}),m(" Warehouse Division ")],-1)),e("button",{onClick:D,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Buat Division Baru ")]),e("div",G,[y(L(U),{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=s=>a.value=s),class:p([a.value?"bg-blue-600":"bg-gray-200","relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none"])},{default:w(()=>[e("span",{class:p([a.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform rounded-full bg-white transition"])},null,2)]),_:1},8,["modelValue","class"]),t[3]||(t[3]=e("span",{class:"ml-2 text-sm text-gray-700"},"Tampilkan Inactive",-1))]),e("div",J,[N(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),onInput:S,type:"text",placeholder:"Cari nama division/warehouse...",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,544),[[E,d.value]])]),e("div",P,[e("table",Q,[t[7]||(t[7]=e("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"Nama Division"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Warehouse"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),e("tbody",null,[r.divisions.data.length===0?(n(),u("tr",q,t[4]||(t[4]=[e("td",{colspan:"4",class:"text-center py-10 text-gray-400"},"Tidak ada data division.",-1)]))):$("",!0),(n(!0),u(k,null,C(r.divisions.data,s=>(n(),u("tr",{key:s.id,class:"hover:bg-blue-50 transition shadow-sm"},[e("td",K,b(s.name),1),e("td",R,b(s.warehouse_name),1),e("td",X,[e("button",{class:p([s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700","px-2 py-1 rounded-full text-xs font-semibold shadow hover:opacity-80 transition"]),onClick:f=>H(s)},b(s.status==="active"?"Active":"Inactive"),11,Z)]),e("td",ee,[e("div",te,[e("button",{onClick:f=>T(s),class:"inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},t[5]||(t[5]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6a2 2 0 002-2v-6a2 2 0 00-2-2H7a2 2 0 00-2 2v6a2 2 0 002 2z"})],-1),m(" Edit ")]),8,se),e("button",{onClick:f=>I(s),class:"inline-flex items-center btn btn-xs bg-red-100 text-red-700 hover:bg-red-200 rounded px-2 py-1 font-semibold transition"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 18L18 6M6 6l12 12"})],-1),m(" Hapus ")]),8,oe)])])]))),128))])])]),e("div",ae,[(n(!0),u(k,null,C(r.divisions.links,s=>(n(),u("button",{key:s.label,disabled:!s.url,onClick:f=>M(s.url),innerHTML:s.label,class:p(["px-3 py-1 rounded-lg border text-sm font-semibold",[s.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",s.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,le))),128))]),y(z,{show:c.value,mode:x.value,division:v.value,warehouses:r.warehouses,onClose:V,onSuccess:h},null,8,["show","mode","division","warehouses"])])]),_:1}))}},ye=O(ne,[["__scopeId","data-v-0b835a1a"]]);export{ye as default};
