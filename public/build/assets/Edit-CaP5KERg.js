import{P as _e,r as g,c as j,w as F,A as ce,B as r,C as W,D as s,x as ye,L as i,E as y,G as c,N as u,Q as _,S as pe,O as me,H as h,F as v,M as S,I as G,J as q,l as P,X as fe}from"./vendor-vue-g7iCcTkf.js";import{A as he}from"./AppLayout-D6FAfGlz.js";import{a as $}from"./vendor-utils-CpgP2uT4.js";import"./app-dzBjFUgD.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CUUHZNnG.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const ge={class:"w-full py-8 px-4"},ve={class:"flex justify-between items-center mb-6"},xe={class:"flex items-center gap-4"},be={key:0,class:"flex items-center gap-2 text-sm"},qe={key:0,class:"text-yellow-600 flex items-center gap-1"},we={key:1,class:"text-green-600 flex items-center gap-1"},ke={key:0,class:"text-xs text-gray-500"},Se={key:2,class:"text-red-600 flex items-center gap-1"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Fe=["disabled"],Ae=["value"],Oe=["value"],Ie={class:"mb-6"},Me={class:"mb-4"},De={class:"relative"},Ve={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},Te=["onClick"],Ue={class:"font-medium"},je={class:"text-sm text-gray-600"},Pe={key:0,class:"text-xs text-blue-600 font-medium"},$e={key:0,class:"space-y-2"},Le={key:0,class:"flex items-center justify-between p-3 rounded-md bg-gray-50 border border-gray-200"},Ee={class:"flex items-center space-x-3"},ze={class:"flex items-center space-x-2"},Be=["onClick"],Qe=["onClick"],Ne={class:"flex items-center space-x-2"},Re={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},We={class:"font-medium"},Ge={class:"text-sm text-gray-600"},He={key:0,class:"text-xs text-blue-600 font-medium"},Xe=["onClick"],Je={key:0,class:"mb-6"},Ke={class:"flex justify-between items-center mb-4"},Ye={class:"text-lg font-semibold text-gray-800"},Ze={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200 border border-gray-300"},tt={class:"bg-white divide-y divide-gray-200"},st=["onClick"],at={class:"px-4 py-3 font-bold text-gray-800",colspan:"8"},lt={class:"flex items-center justify-between"},ot={class:"flex items-center gap-2"},nt={class:"text-sm"},rt={class:"text-xs text-gray-500 font-normal"},it={class:"text-xs text-gray-600"},ut={key:0,class:"fa-solid fa-chevron-down"},dt={key:1,class:"fa-solid fa-chevron-right"},_t={class:"px-4 py-3 text-sm font-medium text-gray-900"},ct={class:"font-semibold pl-6"},yt={class:"px-3 py-3"},pt={class:"flex items-center gap-2"},mt=["onUpdate:modelValue","onInput"],ft={class:"text-xs text-gray-600 font-medium whitespace-nowrap"},ht={class:"px-3 py-3"},gt={class:"flex items-center gap-2"},vt=["onUpdate:modelValue","onInput"],xt={class:"text-xs text-gray-600 font-medium whitespace-nowrap"},bt={class:"px-3 py-3"},qt={class:"flex items-center gap-2"},wt=["onUpdate:modelValue","onInput"],kt={class:"text-xs text-gray-600 font-medium whitespace-nowrap"},St={class:"px-3 py-3 text-sm text-right text-gray-700"},Ct={class:"font-medium"},Ft={class:"px-3 py-3 text-sm text-right text-gray-700"},At={class:"font-semibold"},Ot={class:"px-3 py-3 text-center text-sm"},It={key:0},Mt={key:1,class:"text-gray-400 text-xs"},Dt={class:"px-3 py-3"},Vt=["onUpdate:modelValue"],Tt={key:1,class:"text-gray-400 text-xs"},Ut={key:1,class:"text-center py-8"},jt={key:2,class:"text-center py-8 text-gray-500"},Pt={key:3,class:"flex justify-end gap-4 mt-6"},$t=["disabled"],Lt={key:0,class:"fa fa-spinner fa-spin mr-2"},Et={key:1,class:"fa-solid fa-save mr-2"},Kt={__name:"Edit",props:{stockOpname:Object,outlets:Array,warehouseOutlets:Array,items:Array,approvers:Array,user_outlet_id:[String,Number]},setup(A){var B,Q,N,R;const p=A,H=e=>!e||e.length===0?[]:e.map(t=>{const a=(ue,de=null)=>{if(t&&typeof t=="object"){const U=t[ue];if(U!=null)return U}return de},o=a("qty_physical_small"),n=a("qty_physical_medium"),d=a("qty_physical_large");return{inventory_item_id:a("inventory_item_id",0),item_name:a("item_name",""),category_name:a("category_name","Uncategorized"),qty_system_small:parseFloat(a("qty_system_small",0))||0,qty_system_medium:parseFloat(a("qty_system_medium",0))||0,qty_system_large:parseFloat(a("qty_system_large",0))||0,qty_physical_small:o!=null?parseFloat(o):null,qty_physical_medium:n!=null?parseFloat(n):null,qty_physical_large:d!=null?parseFloat(d):null,reason:a("reason","")||"",small_unit_name:a("small_unit_name",""),medium_unit_name:a("medium_unit_name",""),large_unit_name:a("large_unit_name",""),small_conversion_qty:parseFloat(a("small_conversion_qty",1))||1,medium_conversion_qty:parseFloat(a("medium_conversion_qty",1))||1,mac:parseFloat(a("mac",0))||0}}),l=_e({outlet_id:((B=p.stockOpname)==null?void 0:B.outlet_id)||"",warehouse_outlet_id:((Q=p.stockOpname)==null?void 0:Q.warehouse_outlet_id)||"",opname_date:((N=p.stockOpname)==null?void 0:N.opname_date)||new Date().toISOString().split("T")[0],notes:((R=p.stockOpname)==null?void 0:R.notes)||"",items:H(p.items),approvers:p.approvers||[]}),O=g(!1),w=g(!1),x=g(new Set),b=g(""),k=g([]),C=g(!1),m=g("idle"),I=g(null),M=g(null),L=j(()=>String(p.user_outlet_id)==="1"),X=j(()=>{const e={};return l.items.forEach(t=>{const a=t.category_name||"Uncategorized";e[a]||(e[a]=[]),e[a].push(t)}),e});function J(e){x.value.has(e)?x.value.delete(e):x.value.add(e)}F(()=>l.items,e=>{if(e&&e.length>0){const t=new Set;e.forEach(a=>{t.add(a.category_name||"Uncategorized")}),x.value=t}},{immediate:!0});const K=j(()=>{let e=p.warehouseOutlets;return!L.value&&p.user_outlet_id&&(e=e.filter(t=>String(t.outlet_id)===String(p.user_outlet_id))),l.outlet_id&&(e=e.filter(t=>String(t.outlet_id)===String(l.outlet_id))),e});function Y(){l.warehouse_outlet_id="",l.items=[]}async function D(){if(!l.outlet_id||!l.warehouse_outlet_id){l.items=[];return}O.value=!0;try{const e=await $.get(route("stock-opnames.get-items"),{params:{outlet_id:l.outlet_id,warehouse_outlet_id:l.warehouse_outlet_id}}),t=new Map;l.items.forEach(a=>{a.inventory_item_id&&t.set(a.inventory_item_id,{qty_physical_small:a.qty_physical_small,qty_physical_medium:a.qty_physical_medium,qty_physical_large:a.qty_physical_large,reason:a.reason})}),l.items=e.data.map(a=>{const o=t.get(a.inventory_item_id);return{inventory_item_id:a.inventory_item_id,item_name:a.item_name,category_name:a.category_name,qty_system_small:parseFloat(a.qty_system_small)||0,qty_system_medium:parseFloat(a.qty_system_medium)||0,qty_system_large:parseFloat(a.qty_system_large)||0,qty_physical_small:(o==null?void 0:o.qty_physical_small)??null,qty_physical_medium:(o==null?void 0:o.qty_physical_medium)??null,qty_physical_large:(o==null?void 0:o.qty_physical_large)??null,reason:(o==null?void 0:o.reason)||"",small_unit_name:a.small_unit_name,medium_unit_name:a.medium_unit_name,large_unit_name:a.large_unit_name,small_conversion_qty:parseFloat(a.small_conversion_qty)||1,medium_conversion_qty:parseFloat(a.medium_conversion_qty)||1,mac:parseFloat(a.mac)||0}})}catch(e){console.error("Error loading items:",e),alert("Gagal memuat items. Silakan coba lagi.")}finally{O.value=!1}}async function Z(){if(!(!l.outlet_id||!l.warehouse_outlet_id)&&!w.value){m.value="saving";try{const e=l.items.map(n=>{const d={inventory_item_id:n.inventory_item_id,reason:n.reason||""};return n.qty_physical_small!==null&&n.qty_physical_small!==void 0&&n.qty_physical_small!==""&&(d.qty_physical_small=parseFloat(n.qty_physical_small)),n.qty_physical_medium!==null&&n.qty_physical_medium!==void 0&&n.qty_physical_medium!==""&&(d.qty_physical_medium=parseFloat(n.qty_physical_medium)),n.qty_physical_large!==null&&n.qty_physical_large!==void 0&&n.qty_physical_large!==""&&(d.qty_physical_large=parseFloat(n.qty_physical_large)),d}),t=l.approvers.filter(n=>n&&n.id).map(n=>n.id),a={outlet_id:l.outlet_id,warehouse_outlet_id:l.warehouse_outlet_id,opname_date:l.opname_date,notes:l.notes,items:e,approvers:t,autosave:!0};(await $.put(route("stock-opnames.update",p.stockOpname.id),a)).data.success&&(m.value="saved",M.value=new Date,setTimeout(()=>{m.value==="saved"&&(m.value="idle")},3e3))}catch(e){console.error("Autosave error:",e),m.value="error",setTimeout(()=>{m.value==="error"&&(m.value="idle")},5e3)}}}function f(){I.value&&clearTimeout(I.value),I.value=setTimeout(()=>{Z()},2e3)}function V(e,t){const a=e[`qty_physical_${t}`];if(a==null||a===""){e.qty_physical_small=null,e.qty_physical_medium=null,e.qty_physical_large=null,f();return}const o=parseFloat(a);isNaN(o)||o<0||(t==="small"?e.small_conversion_qty&&e.small_conversion_qty>0?(e.qty_physical_medium=o/e.small_conversion_qty,e.medium_conversion_qty&&e.medium_conversion_qty>0?e.qty_physical_large=o/(e.small_conversion_qty*e.medium_conversion_qty):e.qty_physical_large=e.qty_physical_medium):(e.qty_physical_medium=o,e.qty_physical_large=o):t==="medium"?(e.small_conversion_qty&&e.small_conversion_qty>0?e.qty_physical_small=o*e.small_conversion_qty:e.qty_physical_small=o,e.medium_conversion_qty&&e.medium_conversion_qty>0?e.qty_physical_large=o/e.medium_conversion_qty:e.qty_physical_large=o):t==="large"&&(e.medium_conversion_qty&&e.medium_conversion_qty>0?(e.qty_physical_medium=o*e.medium_conversion_qty,e.small_conversion_qty&&e.small_conversion_qty>0?e.qty_physical_small=e.qty_physical_medium*e.small_conversion_qty:e.qty_physical_small=e.qty_physical_medium):(e.qty_physical_medium=o,e.qty_physical_small=o)),e.qty_physical_small!==null&&(e.qty_physical_small=Math.round(e.qty_physical_small*100)/100),e.qty_physical_medium!==null&&(e.qty_physical_medium=Math.round(e.qty_physical_medium*100)/100),e.qty_physical_large!==null&&(e.qty_physical_large=Math.round(e.qty_physical_large*100)/100),f())}function T(e){const t=(e.qty_physical_small??e.qty_system_small)-e.qty_system_small,a=(e.qty_physical_medium??e.qty_system_medium)-e.qty_system_medium,o=(e.qty_physical_large??e.qty_system_large)-e.qty_system_large;return t!==0||a!==0||o!==0}function ee(e){const t=(e.qty_physical_small??e.qty_system_small)-e.qty_system_small;return t>0?"bg-green-100 text-green-800":t<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}function te(e){const t=(e.qty_physical_small??e.qty_system_small)-e.qty_system_small;return t>0?"+":t<0?"-":"0"}function se(e){return e==null?"0":Number(e).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})}function ae(e){return e==null?"Rp 0":"Rp "+Number(e).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})}function le(e){if(!e||e.qty_physical_small===null||e.qty_physical_small===void 0||e.qty_physical_small==="")return 0;const t=parseFloat(e.qty_physical_small)||0,a=parseFloat(e.mac)||0;return t*a}async function E(e=""){if(e.length<2){k.value=[],C.value=!1;return}try{const t=await $.get(route("stock-opnames.approvers"),{params:{search:e},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});t.data.success&&(k.value=t.data.users,C.value=!0)}catch(t){console.error("Failed to load approvers:",t),k.value=[]}}function oe(){b.value.length>=2?E(b.value):(k.value=[],C.value=!1)}function ne(e){if(!e||!e.id){console.error("Invalid user object:",e);return}l.approvers.find(t=>t&&t.id===e.id)||(l.approvers.push(e),f()),b.value="",C.value=!1}function re(e){l.approvers.splice(e,1),f()}function z(e,t){const a=l.approvers.splice(e,1)[0];l.approvers.splice(t,0,a),f()}function ie(){if(l.items.length===0){alert("Minimal harus ada 1 item.");return}const e=l.approvers.filter(t=>t&&t.id).map(t=>t.id);l.approvers=e,w.value=!0,l.put(route("stock-opnames.update",p.stockOpname.id),{preserveScroll:!0,onSuccess:()=>{w.value=!1},onError:t=>{w.value=!1,console.error("Error:",t)}})}return F(()=>l.warehouse_outlet_id,()=>{l.warehouse_outlet_id&&D()}),l.outlet_id&&l.warehouse_outlet_id&&l.items.length===0&&D(),F(()=>l.notes,()=>{f()}),F(()=>l.opname_date,()=>{f()}),(e,t)=>(r(),ce(he,null,{default:W(()=>[s("div",ge,[s("div",ve,[s("div",xe,[t[11]||(t[11]=s("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[s("i",{class:"fa-solid fa-clipboard-check text-blue-500"}),c(" Edit Stock Opname ")],-1)),m.value!=="idle"?(r(),i("div",be,[m.value==="saving"?(r(),i("span",qe,t[7]||(t[7]=[s("i",{class:"fa fa-spinner fa-spin"},null,-1),c(" Menyimpan... ")]))):m.value==="saved"?(r(),i("span",we,[t[8]||(t[8]=s("i",{class:"fa fa-check-circle"},null,-1)),t[9]||(t[9]=c(" Tersimpan ")),M.value?(r(),i("span",ke," ("+u(new Date(M.value).toLocaleTimeString("id-ID"))+") ",1)):y("",!0)])):m.value==="error"?(r(),i("span",Se,t[10]||(t[10]=[s("i",{class:"fa fa-exclamation-circle"},null,-1),c(" Gagal menyimpan ")]))):y("",!0)])):y("",!0)]),ye(_(pe),{href:e.route("stock-opnames.show",A.stockOpname.id),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:W(()=>t[12]||(t[12]=[s("i",{class:"fas fa-arrow-left mr-2"},null,-1),c(" Kembali ")])),_:1},8,["href"])]),s("form",{onSubmit:me(ie,["prevent"]),class:"bg-white rounded-xl shadow-lg p-6"},[s("div",Ce,[s("div",null,[t[14]||(t[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Outlet *",-1)),h(s("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>_(l).outlet_id=a),onChange:Y,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!L.value},[t[13]||(t[13]=s("option",{value:""},"Pilih Outlet",-1)),(r(!0),i(v,null,S(A.outlets,a=>(r(),i("option",{key:a.id,value:a.id},u(a.name),9,Ae))),128))],40,Fe),[[G,_(l).outlet_id]])]),s("div",null,[t[16]||(t[16]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Outlet *",-1)),h(s("select",{"onUpdate:modelValue":t[1]||(t[1]=a=>_(l).warehouse_outlet_id=a),onChange:D,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[15]||(t[15]=s("option",{value:""},"Pilih Warehouse Outlet",-1)),(r(!0),i(v,null,S(K.value,a=>(r(),i("option",{key:a.id,value:a.id},u(a.name),9,Oe))),128))],544),[[G,_(l).warehouse_outlet_id]])]),s("div",null,[t[17]||(t[17]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tanggal Opname *",-1)),h(s("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>_(l).opname_date=a),onChange:f,type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[q,_(l).opname_date]])]),s("div",null,[t[18]||(t[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catatan",-1)),h(s("textarea",{"onUpdate:modelValue":t[3]||(t[3]=a=>_(l).notes=a),onInput:f,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan..."},null,544),[[q,_(l).notes]])])]),s("div",Ie,[t[23]||(t[23]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Approval Flow",-1)),t[24]||(t[24]=s("p",{class:"text-sm text-gray-600 mb-4"},"Tambahkan approvers secara berurutan dari terendah ke tertinggi. Approver pertama = level terendah, approver terakhir = level tertinggi.",-1)),s("div",Me,[s("div",De,[h(s("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>b.value=a),type:"text",placeholder:"Cari user berdasarkan nama, email, atau jabatan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:oe,onFocus:t[5]||(t[5]=a=>b.value.length>=2&&E(b.value))},null,544),[[q,b.value]]),C.value&&k.value.length>0?(r(),i("div",Ve,[(r(!0),i(v,null,S(k.value,a=>(r(),i("div",{key:a.id,onClick:o=>ne(a),class:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0"},[s("div",Ue,u(a.name),1),s("div",je,u(a.email),1),a.jabatan?(r(),i("div",Pe,u(a.jabatan),1)):y("",!0)],8,Te))),128))])):y("",!0)])]),_(l).approvers.length>0?(r(),i("div",$e,[t[22]||(t[22]=s("h4",{class:"font-medium text-gray-700"},"Urutan Approval (Terendah ke Tertinggi):",-1)),(r(!0),i(v,null,S(_(l).approvers,(a,o)=>(r(),i(v,{key:(a==null?void 0:a.id)||o},[a&&a.id?(r(),i("div",Le,[s("div",Ee,[s("div",ze,[o>0?(r(),i("button",{key:0,onClick:n=>z(o,o-1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Pindah ke atas"},t[19]||(t[19]=[s("i",{class:"fa fa-arrow-up"},null,-1)]),8,Be)):y("",!0),o<_(l).approvers.length-1?(r(),i("button",{key:1,onClick:n=>z(o,o+1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Pindah ke bawah"},t[20]||(t[20]=[s("i",{class:"fa fa-arrow-down"},null,-1)]),8,Qe)):y("",!0)]),s("div",Ne,[s("span",Re," Level "+u(o+1),1),s("div",null,[s("div",We,u(a.name),1),s("div",Ge,u(a.email),1),a.jabatan?(r(),i("div",He,u(a.jabatan),1)):y("",!0)])])]),s("button",{onClick:n=>re(o),class:"p-1 text-red-500 hover:text-red-700",title:"Hapus Approver"},t[21]||(t[21]=[s("i",{class:"fa fa-times"},null,-1)]),8,Xe)])):y("",!0)],64))),128))])):y("",!0)]),_(l).items.length>0?(r(),i("div",Je,[s("div",Ke,[s("h3",Ye,"Items ("+u(_(l).items.length)+")",1)]),s("div",Ze,[s("table",et,[t[25]||(t[25]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase w-48"},"Item"),s("th",{class:"px-3 py-3 text-right text-xs font-bold text-gray-700 uppercase w-40"},[c(" Qty Physical"),s("br"),c("Small ")]),s("th",{class:"px-3 py-3 text-right text-xs font-bold text-gray-700 uppercase w-40"},[c(" Qty Physical"),s("br"),c("Medium ")]),s("th",{class:"px-3 py-3 text-right text-xs font-bold text-gray-700 uppercase w-40"},[c(" Qty Physical"),s("br"),c("Large ")]),s("th",{class:"px-3 py-3 text-right text-xs font-bold text-gray-700 uppercase w-32"},"MAC"),s("th",{class:"px-3 py-3 text-right text-xs font-bold text-gray-700 uppercase w-40"},[c("Total MAC"),s("br"),c("(Qty Ã— MAC)")]),s("th",{class:"px-3 py-3 text-center text-xs font-bold text-gray-700 uppercase w-48"},"Selisih"),s("th",{class:"px-3 py-3 text-left text-xs font-bold text-gray-700 uppercase w-48"},"Alasan")])],-1)),s("tbody",tt,[(r(!0),i(v,null,S(X.value,(a,o)=>(r(),i(v,{key:o},[s("tr",{class:"bg-blue-50 hover:bg-blue-100 cursor-pointer transition",onClick:n=>J(o)},[s("td",at,[s("div",lt,[s("div",ot,[s("i",{class:P([x.value.has(o)?"fa-solid fa-chevron-down":"fa-solid fa-chevron-right","text-blue-600 transition-transform"])},null,2),s("span",nt,u(o||"Uncategorized"),1),s("span",rt," ("+u(a.length)+" item"+u(a.length>1?"s":"")+") ",1)]),s("div",it,[x.value.has(o)?(r(),i("i",ut)):(r(),i("i",dt))])])])],8,st),(r(!0),i(v,null,S(a,n=>h((r(),i("tr",{key:n.inventory_item_id,class:P([{"bg-yellow-50":T(n)},"hover:bg-gray-50 transition"])},[s("td",_t,[s("div",ct,u(n.item_name),1)]),s("td",yt,[s("div",pt,[h(s("input",{"onUpdate:modelValue":d=>n.qty_physical_small=d,type:"number",step:"any",min:"0",onInput:d=>V(n,"small"),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-right text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,40,mt),[[q,n.qty_physical_small,void 0,{number:!0}]]),s("span",ft,u(n.small_unit_name||"-"),1)])]),s("td",ht,[s("div",gt,[h(s("input",{"onUpdate:modelValue":d=>n.qty_physical_medium=d,type:"number",step:"any",min:"0",onInput:d=>V(n,"medium"),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-right text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,40,vt),[[q,n.qty_physical_medium,void 0,{number:!0}]]),s("span",xt,u(n.medium_unit_name||"-"),1)])]),s("td",bt,[s("div",qt,[h(s("input",{"onUpdate:modelValue":d=>n.qty_physical_large=d,type:"number",step:"any",min:"0",onInput:d=>V(n,"large"),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-right text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,40,wt),[[q,n.qty_physical_large,void 0,{number:!0}]]),s("span",kt,u(n.large_unit_name||"-"),1)])]),s("td",St,[s("div",Ct,u(ae(n.mac)),1)]),s("td",Ft,[s("div",At,u(se(le(n))),1)]),s("td",Ot,[T(n)?(r(),i("div",It,[s("span",{class:P([ee(n),"px-2 py-1 rounded text-xs font-semibold whitespace-nowrap"])},u(te(n)),3)])):(r(),i("span",Mt,"-"))]),s("td",Dt,[T(n)?h((r(),i("input",{key:0,"onUpdate:modelValue":d=>n.reason=d,onInput:f,type:"text",placeholder:"Alasan selisih...",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,40,Vt)),[[q,n.reason]]):(r(),i("span",Tt,"-"))])],2)),[[fe,x.value.has(o)]])),128))],64))),128))])])])])):y("",!0),O.value?(r(),i("div",Ut,t[26]||(t[26]=[s("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1),s("p",{class:"mt-2 text-gray-600"},"Memuat items...",-1)]))):_(l).items.length===0&&_(l).outlet_id&&_(l).warehouse_outlet_id?(r(),i("div",jt,t[27]||(t[27]=[s("i",{class:"fa-solid fa-inbox text-4xl mb-4"},null,-1),s("p",null,"Tidak ada item dengan stock untuk outlet dan warehouse outlet yang dipilih.",-1)]))):y("",!0),_(l).items.length>0?(r(),i("div",Pt,[s("button",{type:"button",onClick:t[6]||(t[6]=a=>e.$inertia.visit(e.route("stock-opnames.index"))),class:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 font-semibold"}," Batal "),s("button",{type:"submit",disabled:w.value,class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 font-semibold disabled:opacity-50"},[w.value?(r(),i("i",Lt)):(r(),i("i",Et)),t[28]||(t[28]=c(" Update Stock Opname "))],8,$t)])):y("",!0)],32)])]),_:1}))}};export{Kt as default};
