import{A as C,B as n,C as b,D as t,x as A,G as u,N as a,Q as j,S as R,L as m,E as p,l as k,W as g}from"./vendor-vue-g7iCcTkf.js";import{S as d}from"./app-fC6wJyCz.js";import{A as q}from"./AppLayout-_5DIDCQX.js";import{a as f}from"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-OI-F7Vdc.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const S={class:"max-w-4xl w-full mx-auto py-8 px-2"},N={class:"mb-6 flex justify-between items-center"},I={class:"text-gray-600 mt-1"},L={class:"bg-white rounded-xl shadow-lg p-6 space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V={class:"text-sm font-semibold text-gray-900 mt-1"},X={class:"text-sm font-semibold text-gray-900 mt-1"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M={class:"text-sm text-gray-900 mt-1"},W={class:"text-sm text-gray-900 mt-1"},G={class:"text-sm font-semibold text-gray-900 mt-1"},$={class:"mt-1"},F={key:0},H={class:"text-sm text-gray-700 whitespace-pre-line"},P={key:1},Y={class:"text-sm text-gray-700 whitespace-pre-line"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z={class:"text-sm text-gray-900 mt-1"},O={class:"text-sm text-gray-900 mt-1"},Q={key:0},J={class:"text-sm text-gray-900 mt-1"},U={key:1},Z={class:"text-sm text-gray-900 mt-1"},_={key:2},tt={class:"text-sm text-red-600 mt-1"},et={key:3},st={class:"text-sm text-gray-900 mt-1"},at={key:2,class:"flex gap-3 pt-4 border-t border-gray-200"},ot={key:3,class:"flex gap-3 pt-4 border-t border-gray-200"},gt={__name:"Show",props:{disposal:Object},setup(s){const c=s;function v(o){return o==null||o===void 0?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o)}function x(o){return o?new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function h(o){return{Pending:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Completed:"bg-blue-100 text-blue-800",Rejected:"bg-red-100 text-red-800"}[o]||"bg-gray-100 text-gray-800"}async function B(){var e,i,r,l;if((await d.fire({title:"Approve Disposal?",text:`Approve disposal untuk asset "${(e=c.disposal.asset)==null?void 0:e.name}"?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Approve",cancelButtonText:"Batal"})).isConfirmed)try{(i=(await f.post(`/asset-management/disposals/${c.disposal.id}/approve`,{},{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).data)!=null&&i.success&&(d.fire("Berhasil","Disposal berhasil di-approve","success"),g.reload())}catch(y){d.fire("Error",((l=(r=y.response)==null?void 0:r.data)==null?void 0:l.message)||"Gagal approve disposal","error")}}async function w(){var e,i,r;const{value:o}=await d.fire({title:"Reject Disposal?",input:"textarea",inputLabel:"Alasan Rejection",inputPlaceholder:"Masukkan alasan rejection...",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Reject",cancelButtonText:"Batal",inputValidator:l=>{if(!l)return"Alasan rejection harus diisi!"}});if(o)try{(e=(await f.post(`/asset-management/disposals/${c.disposal.id}/reject`,{rejection_reason:o},{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).data)!=null&&e.success&&(d.fire("Berhasil","Disposal berhasil di-reject","success"),g.reload())}catch(l){d.fire("Error",((r=(i=l.response)==null?void 0:i.data)==null?void 0:r.message)||"Gagal reject disposal","error")}}async function D(){var e,i,r;if((await d.fire({title:"Complete Disposal?",text:"Konfirmasi bahwa asset sudah di-dispose?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Complete",cancelButtonText:"Batal"})).isConfirmed)try{(e=(await f.post(`/asset-management/disposals/${c.disposal.id}/complete`,{},{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})).data)!=null&&e.success&&(d.fire("Berhasil","Disposal berhasil di-complete","success"),g.reload())}catch(l){d.fire("Error",((r=(i=l.response)==null?void 0:i.data)==null?void 0:r.message)||"Gagal complete disposal","error")}}return(o,e)=>(n(),C(q,null,{default:b(()=>{var i,r,l;return[t("div",S,[t("div",N,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-trash text-blue-500"}),u(" Disposal Detail ")],-1)),t("p",I,"Request #"+a(s.disposal.id),1)]),A(j(R),{href:"/asset-management/disposals",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:b(()=>e[1]||(e[1]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),u(" Kembali ")])),_:1})]),t("div",L,[t("div",null,[e[4]||(e[4]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Asset Information",-1)),t("div",T,[t("div",null,[e[2]||(e[2]=t("label",{class:"text-sm font-medium text-gray-500"},"Asset Code",-1)),t("p",V,a((i=s.disposal.asset)==null?void 0:i.asset_code),1)]),t("div",null,[e[3]||(e[3]=t("label",{class:"text-sm font-medium text-gray-500"},"Asset Name",-1)),t("p",X,a((r=s.disposal.asset)==null?void 0:r.name),1)])])]),t("div",null,[e[9]||(e[9]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Disposal Information",-1)),t("div",E,[t("div",null,[e[5]||(e[5]=t("label",{class:"text-sm font-medium text-gray-500"},"Disposal Date",-1)),t("p",M,a(x(s.disposal.disposal_date)),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-500"},"Disposal Method",-1)),t("p",W,a(s.disposal.disposal_method),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Disposal Value",-1)),t("p",G,a(v(s.disposal.disposal_value)),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("p",$,[t("span",{class:k([h(s.disposal.status),"px-2 py-1 rounded-full text-xs font-medium"])},a(s.disposal.status),3)])])])]),s.disposal.reason?(n(),m("div",F,[e[10]||(e[10]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Reason",-1)),t("p",H,a(s.disposal.reason),1)])):p("",!0),s.disposal.notes?(n(),m("div",P,[e[11]||(e[11]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Notes",-1)),t("p",Y,a(s.disposal.notes),1)])):p("",!0),t("div",null,[e[18]||(e[18]=t("h2",{class:"text-lg font-bold text-gray-900 mb-4"},"Request Information",-1)),t("div",K,[t("div",null,[e[12]||(e[12]=t("label",{class:"text-sm font-medium text-gray-500"},"Requested By",-1)),t("p",z,a(((l=s.disposal.requester)==null?void 0:l.name)||"-"),1)]),t("div",null,[e[13]||(e[13]=t("label",{class:"text-sm font-medium text-gray-500"},"Requested At",-1)),t("p",O,a(x(s.disposal.created_at)),1)]),s.disposal.approver?(n(),m("div",Q,[e[14]||(e[14]=t("label",{class:"text-sm font-medium text-gray-500"},"Approved By",-1)),t("p",J,a(s.disposal.approver.name),1)])):p("",!0),s.disposal.approved_at?(n(),m("div",U,[e[15]||(e[15]=t("label",{class:"text-sm font-medium text-gray-500"},"Approved At",-1)),t("p",Z,a(x(s.disposal.approved_at)),1)])):p("",!0),s.disposal.rejection_reason?(n(),m("div",_,[e[16]||(e[16]=t("label",{class:"text-sm font-medium text-gray-500"},"Rejection Reason",-1)),t("p",tt,a(s.disposal.rejection_reason),1)])):p("",!0),s.disposal.completed_at?(n(),m("div",et,[e[17]||(e[17]=t("label",{class:"text-sm font-medium text-gray-500"},"Completed At",-1)),t("p",st,a(x(s.disposal.completed_at)),1)])):p("",!0)])]),s.disposal.status==="Pending"?(n(),m("div",at,[t("button",{onClick:B,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2"},e[19]||(e[19]=[t("i",{class:"fa-solid fa-check"},null,-1),u(" Approve ")])),t("button",{onClick:w,class:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg flex items-center gap-2"},e[20]||(e[20]=[t("i",{class:"fa-solid fa-times"},null,-1),u(" Reject ")]))])):p("",!0),s.disposal.status==="Approved"?(n(),m("div",ot,[t("button",{onClick:D,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center gap-2"},e[21]||(e[21]=[t("i",{class:"fa-solid fa-check-circle"},null,-1),u(" Complete Disposal ")]))])):p("",!0)])])]}),_:1}))}};export{gt as default};
