import{r as f,c as C,A as B,B as a,C as v,D as t,G as c,x as N,Q as O,S as T,H as w,L as l,F as x,M as m,N as r,I as h,E as V,l as L,W as D}from"./vendor-vue-g7iCcTkf.js";import{A as E}from"./AppLayout-IyEgvQ-G.js";import"./vendor-utils-CpgP2uT4.js";import"./app-5sHs3Z-e.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C59QAxMM.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const F={class:"max-w-7xl w-full mx-auto py-8 px-2"},I={class:"mb-6 flex justify-between items-center"},j={class:"flex gap-2"},M={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},U=["value"],K=["value"],W={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6"},z={class:"text-sm font-medium text-gray-500 mb-2"},G={class:"text-2xl font-bold text-gray-900"},H={class:"bg-white rounded-xl shadow-lg overflow-hidden"},P={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},$={class:"bg-white divide-y divide-gray-200"},q={key:0},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},tt={class:"px-6 py-4 whitespace-nowrap"},pt={__name:"AssetByOutlet",props:{assets:Array,outlets:Array,categories:Array,filters:Object},setup(n){var y,b;const g=n,i=f(((y=g.filters)==null?void 0:y.outlet_id)||""),u=f(((b=g.filters)==null?void 0:b.category_id)||""),_=C(()=>{const o={};return g.assets.forEach(e=>{var d;const s=e.current_outlet_id||"unassigned",p=((d=e.current_outlet)==null?void 0:d.name)||"Tidak Terikat";o[s]||(o[s]={id:s,name:p,count:0}),o[s].count++}),Object.values(o)});function k(){D.get("/asset-management/reports/asset-by-outlet",{outlet_id:i.value,category_id:u.value},{preserveState:!0,replace:!0})}function A(){const o=new URLSearchParams({outlet_id:i.value||"",category_id:u.value||"",export:"1"});window.open(`/asset-management/reports/asset-by-outlet?${o.toString()}`,"_blank")}function S(o){return{Active:"bg-green-100 text-green-800",Maintenance:"bg-yellow-100 text-yellow-800",Disposed:"bg-red-100 text-red-800",Lost:"bg-gray-100 text-gray-800",Transfer:"bg-blue-100 text-blue-800"}[o]||"bg-gray-100 text-gray-800"}return(o,e)=>(a(),B(E,null,{default:v(()=>[t("div",F,[t("div",I,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-store text-blue-500"}),c(" Asset by Outlet Report ")]),t("p",{class:"text-gray-600 mt-1"},"Asset per outlet")],-1)),t("div",j,[t("button",{onClick:A,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2"},e[2]||(e[2]=[t("i",{class:"fa-solid fa-download"},null,-1),c(" Export ")])),N(O(T),{href:"/asset-management/reports",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:v(()=>e[3]||(e[3]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),c(" Kembali ")])),_:1})])]),t("div",M,[t("div",R,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),w(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[e[5]||(e[5]=t("option",{value:""},"Semua Outlet",-1)),(a(!0),l(x,null,m(n.outlets,s=>(a(),l("option",{key:s.id,value:s.id},r(s.name),9,U))),128))],512),[[h,i.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[e[7]||(e[7]=t("option",{value:""},"Semua Kategori",-1)),(a(!0),l(x,null,m(n.categories,s=>(a(),l("option",{key:s.id,value:s.id},r(s.name),9,K))),128))],512),[[h,u.value]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Action",-1)),t("button",{onClick:k,class:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg"}," Apply Filters ")])])]),t("div",W,[(a(!0),l(x,null,m(_.value,s=>(a(),l("div",{key:s.id,class:"bg-white rounded-xl shadow-lg p-4"},[t("h3",z,r(s.name),1),t("p",G,r(s.count),1),e[10]||(e[10]=t("p",{class:"text-xs text-gray-500 mt-1"},"Total Assets",-1))]))),128))]),t("div",H,[t("div",P,[t("table",Q,[e[12]||(e[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Asset Code"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Name"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Category"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),t("tbody",$,[n.assets.length===0?(a(),l("tr",q,e[11]||(e[11]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," Tidak ada data ",-1)]))):V("",!0),(a(!0),l(x,null,m(n.assets,s=>{var p,d;return a(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",J,r(((p=s.current_outlet)==null?void 0:p.name)||"-"),1),t("td",X,r(s.asset_code),1),t("td",Y,r(s.name),1),t("td",Z,r(((d=s.category)==null?void 0:d.name)||"-"),1),t("td",tt,[t("span",{class:L([S(s.status),"px-2 py-1 rounded-full text-xs font-medium"])},r(s.status),3)])])}),128))])])])])])]),_:1}))}};export{pt as default};
