import{A as C}from"./AppLayout-DQ4wNTsP.js";import{A as S,B as u,C as D,D as t,L as c,E as P,G as a,Q as i,N as s,F as N,M as I,W as p}from"./vendor-vue-g7iCcTkf.js";import{S as n}from"./app-DAB8i6cE.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CinBCb2E.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const L={class:"w-full py-8 px-2"},O={key:0,class:"flex gap-2 mb-4"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6 my-6"},A={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl shadow-xl border border-blue-200 p-5"},E={class:"text-sm"},G={class:"font-semibold"},F={class:"text-sm"},j={class:"font-semibold"},K={class:"text-sm"},Y={class:"font-semibold"},q={class:"text-sm"},M={class:"font-semibold"},Q={class:"text-sm"},R={class:"font-bold text-blue-700"},V={class:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl shadow-xl border border-purple-200 p-5"},W={class:"text-sm"},$={class:"font-semibold"},U={class:"bg-white rounded-xl shadow-lg overflow-x-auto w-full"},z={class:"w-full min-w-full border border-gray-300"},H={class:"px-4 py-2 border border-gray-200 text-center"},J={class:"px-4 py-2 border border-gray-200"},X={class:"px-4 py-2 border border-gray-200"},Z={class:"px-4 py-2 border border-gray-200 text-right"},tt={class:"px-4 py-2 border border-gray-200 text-right"},et={class:"px-4 py-2 border border-gray-200 text-right"},st={class:"bg-gray-50"},ot={class:"px-4 py-2 border border-gray-200 text-right font-semibold"},ft={__name:"Show",props:{payment:Object},setup(x){const o=x.payment;function _(){p.get("/outlet-payment-suppliers")}function h(l){return new Date(l).toLocaleDateString("id-ID")}function m(l){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(l)}function w(l){return Number(l).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})}async function k(){(await n.fire({title:"Konfirmasi Pembayaran?",text:"Yakin ingin mengkonfirmasi pembayaran ini? Status akan menjadi PAID.",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Konfirmasi",cancelButtonText:"Batal"})).isConfirmed&&(n.fire({title:"Memproses...",allowOutsideClick:!1,didOpen:()=>{n.showLoading()}}),p.put(`/outlet-payment-suppliers/${o.id}/status`,{status:"paid"},{onSuccess:()=>{n.fire({icon:"success",title:"Berhasil",text:"Pembayaran dikonfirmasi",timer:1500,showConfirmButton:!1}),p.reload()},onError:e=>{let r="Gagal update status";e&&e.response&&e.response.data&&e.response.data.message?r=e.response.data.message:e&&e.message&&(r=e.message),n.fire({icon:"error",title:"Gagal",text:r})}}))}async function v(){(await n.fire({title:"Batalkan Pembayaran?",text:"Yakin ingin membatalkan pembayaran ini? Status akan menjadi CANCELED.",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Batalkan",cancelButtonText:"Batal"})).isConfirmed&&(n.fire({title:"Memproses...",allowOutsideClick:!1,didOpen:()=>{n.showLoading()}}),p.put(`/outlet-payment-suppliers/${o.id}/status`,{status:"canceled"},{onSuccess:()=>{n.fire({icon:"success",title:"Berhasil",text:"Pembayaran dibatalkan",timer:1500,showConfirmButton:!1}),p.reload()},onError:e=>{let r="Gagal update status";e&&e.response&&e.response.data&&e.response.data.message?r=e.response.data.message:e&&e.message&&(r=e.message),n.fire({icon:"error",title:"Gagal",text:r})}}))}return(l,e)=>(u(),S(C,null,{default:D(()=>{var r,b,f,g,y;return[t("div",L,[t("div",{class:"flex justify-between items-center mb-6"},[e[1]||(e[1]=t("h1",{class:"text-2xl font-bold"},"Detail Outlet Payment Supplier",-1)),t("button",{onClick:_,class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md font-semibold hover:bg-gray-700"},e[0]||(e[0]=[t("span",{class:"mr-2"},[t("i",{class:"fas fa-arrow-left"})],-1),a(" Kembali ")]))]),i(o).status==="pending"?(u(),c("div",O,[t("button",{onClick:k,class:"px-4 py-2 bg-green-600 text-white rounded font-semibold hover:bg-green-700 flex items-center gap-2"},e[2]||(e[2]=[t("i",{class:"fa fa-check"},null,-1),a(" Konfirmasi Pembayaran ")])),t("button",{onClick:v,class:"px-4 py-2 bg-red-600 text-white rounded font-semibold hover:bg-red-700 flex items-center gap-2"},e[3]||(e[3]=[t("i",{class:"fa fa-times"},null,-1),a(" Batalkan Pembayaran ")]))])):P("",!0),t("div",T,[t("div",A,[e[9]||(e[9]=t("h3",{class:"font-bold mb-2 text-blue-700 flex items-center gap-2"},[t("i",{class:"fa-solid fa-file-invoice"}),a(" Info GR Supplier ")],-1)),t("div",E,[e[4]||(e[4]=a("No: ")),t("span",G,s((r=i(o).gr_supplier)==null?void 0:r.gr_number),1)]),t("div",F,[e[5]||(e[5]=a("Tanggal: ")),t("span",j,s(h((b=i(o).gr_supplier)==null?void 0:b.receive_date)),1)]),t("div",K,[e[6]||(e[6]=a("Outlet: ")),t("span",Y,s((f=i(o).gr_supplier)==null?void 0:f.outlet_name),1)]),t("div",q,[e[7]||(e[7]=a("Status: ")),t("span",M,s((g=i(o).gr_supplier)==null?void 0:g.status),1)]),t("div",Q,[e[8]||(e[8]=a("Amount: ")),t("span",R,s(m(i(o).total_amount)),1)])]),t("div",V,[e[11]||(e[11]=t("h3",{class:"font-bold mb-2 text-purple-700 flex items-center gap-2"},[t("i",{class:"fa-solid fa-clipboard-list"}),a(" Info RO Supplier ")],-1)),t("div",W,[e[10]||(e[10]=a("No: ")),t("span",$,s((y=i(o).gr_supplier)==null?void 0:y.ro_number),1)])])]),t("div",U,[t("table",z,[e[13]||(e[13]=t("thead",null,[t("tr",{class:"bg-yellow-300 text-gray-900"},[t("th",{class:"px-4 py-2 border border-gray-300"},"No"),t("th",{class:"px-4 py-2 border border-gray-300"},"Item"),t("th",{class:"px-4 py-2 border border-gray-300"},"Unit"),t("th",{class:"px-4 py-2 border border-gray-300"},"Qty"),t("th",{class:"px-4 py-2 border border-gray-300"},"Price"),t("th",{class:"px-4 py-2 border border-gray-300"},"Subtotal")])],-1)),t("tbody",null,[(u(!0),c(N,null,I(i(o).items||[],(d,B)=>(u(),c("tr",{key:d.id,class:"hover:bg-gray-50"},[t("td",H,s(B+1),1),t("td",J,s(d.item_name),1),t("td",X,s(d.unit_name),1),t("td",Z,s(w(d.qty_received)),1),t("td",tt,s(m(d.price)),1),t("td",et,s(m(d.qty_received*d.price)),1)]))),128))]),t("tfoot",null,[t("tr",st,[e[12]||(e[12]=t("td",{colspan:"5",class:"px-4 py-2 border border-gray-200 text-right font-semibold"},"Total",-1)),t("td",ot,s(m(i(o).total_amount)),1)])])])])])]}),_:1}))}};export{ft as default};
