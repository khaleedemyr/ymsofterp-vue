import{r as b,w as P,W as N,A as T,B as a,C as V,D as t,G as w,L as o,N as l,F as p,M as x,H as f,J as A,I as y,l as B}from"./vendor-vue-g7iCcTkf.js";import{l as J}from"./lodash-DB3HVzpp.js";import{A as L}from"./AppLayout-Cg9_BqdS.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-CL3toCqm.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-DcALjTaB.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const H={class:"max-w-7xl w-full mx-auto py-8 px-2"},U={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},K={class:"bg-gradient-to-r from-blue-500 to-blue-700 rounded-xl p-6 text-white shadow-lg"},W={class:"flex items-center justify-between"},z={class:"text-3xl font-bold"},G={class:"flex items-center justify-between"},R={class:"text-green-100 text-sm font-medium"},$={class:"text-3xl font-bold"},q={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},X=["value"],Y=["value"],Z=["value"],tt={class:"bg-white rounded-xl shadow-lg overflow-hidden"},et={class:"overflow-x-auto"},st={class:"min-w-full divide-y divide-gray-200"},lt={class:"bg-white divide-y divide-gray-200"},at={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ct={class:"flex justify-between items-center mt-4"},pt={class:"text-sm text-gray-700"},xt={class:"flex gap-2"},mt=["disabled","onClick","innerHTML"],bt={__name:"Index",props:{users:Object,totalMP:Number,divisiSummary:Array,dropdownData:Object,filters:Object},setup(i){var h,_,k,j,D;const d=i,m=b(((h=d.filters)==null?void 0:h.search)||""),n=b(((_=d.filters)==null?void 0:_.divisi_id)||""),u=b(((k=d.filters)==null?void 0:k.jabatan_id)||""),r=b(((j=d.filters)==null?void 0:j.outlet_id)||"");console.log("Dropdown data outlets:",(D=d.dropdownData)==null?void 0:D.outlets),console.log("Selected outlet value:",r.value),console.log("Filters from props:",d.filters);const C=J.debounce(()=>{g()},400);P([n,u,r],()=>{g()});function I(){C()}function g(){const c={search:m.value,divisi_id:n.value,jabatan_id:u.value,outlet_id:r.value};console.log("Applying filters:",c),N.get("/man-power-outlet",c,{preserveState:!0,replace:!0})}function O(){m.value="",n.value="",u.value="",r.value="",g()}function F(c){if(c){const s={search:m.value,divisi_id:n.value,jabatan_id:u.value,outlet_id:r.value};N.visit(c,{data:s,preserveState:!0,replace:!0})}}return(c,s)=>(a(),T(L,null,{default:V(()=>[t("div",H,[s[17]||(s[17]=t("div",{class:"flex justify-between items-center mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-users text-blue-500"}),w(" Report Man Power Outlet ")])],-1)),t("div",U,[t("div",K,[t("div",W,[t("div",null,[s[4]||(s[4]=t("p",{class:"text-blue-100 text-sm font-medium"},"Total Man Power",-1)),t("p",z,l(i.totalMP),1)]),s[5]||(s[5]=t("div",{class:"text-blue-200"},[t("i",{class:"fa-solid fa-users text-4xl"})],-1))])]),(a(!0),o(p,null,x(i.divisiSummary,e=>(a(),o("div",{key:e.nama_divisi,class:"bg-gradient-to-r from-green-500 to-green-700 rounded-xl p-6 text-white shadow-lg"},[t("div",G,[t("div",null,[t("p",R,l(e.nama_divisi),1),t("p",$,l(e.total_karyawan),1)]),s[6]||(s[6]=t("div",{class:"text-green-200"},[t("i",{class:"fa-solid fa-building text-4xl"})],-1))])]))),128))]),t("div",q,[s[15]||(s[15]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[t("i",{class:"fa-solid fa-filter text-blue-500"}),w(" Filter Data ")],-1)),t("div",Q,[t("div",null,[s[7]||(s[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Cari",-1)),f(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>m.value=e),onInput:I,type:"text",placeholder:"NIK, Nama, Email...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[A,m.value]])]),t("div",null,[s[9]||(s[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Divisi",-1)),f(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[s[8]||(s[8]=t("option",{value:""},"Semua Divisi",-1)),(a(!0),o(p,null,x(i.dropdownData.divisis,e=>(a(),o("option",{key:e.id,value:e.id},l(e.nama_divisi),9,X))),128))],512),[[y,n.value]])]),t("div",null,[s[11]||(s[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jabatan",-1)),f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>u.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[s[10]||(s[10]=t("option",{value:""},"Semua Jabatan",-1)),(a(!0),o(p,null,x(i.dropdownData.jabatans,e=>(a(),o("option",{key:e.id_jabatan,value:e.id_jabatan},l(e.nama_jabatan),9,Y))),128))],512),[[y,u.value]])]),t("div",null,[s[13]||(s[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),f(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>r.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[s[12]||(s[12]=t("option",{value:""},"Semua Outlet",-1)),(a(!0),o(p,null,x(i.dropdownData.outlets,e=>(a(),o("option",{key:e.id_outlet||e.id,value:e.id_outlet||e.id},l(e.nama_outlet),9,Z))),128))],512),[[y,r.value]])])]),t("div",{class:"mt-4 flex justify-end"},[t("button",{onClick:O,class:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors"},s[14]||(s[14]=[t("i",{class:"fa-solid fa-eraser mr-2"},null,-1),w("Clear Filters ")]))])]),t("div",tt,[t("div",et,[t("table",st,[s[16]||(s[16]=t("thead",{class:"bg-gradient-to-r from-blue-500 to-blue-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"NIK"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Nama"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Jabatan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Divisi"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Email"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"No HP"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Outlet")])],-1)),t("tbody",lt,[(a(!0),o(p,null,x(i.users.data,e=>{var v,S,M;return a(),o("tr",{key:e.id,class:"hover:bg-blue-50 transition-colors"},[t("td",at,l(e.nik),1),t("td",ot,l(e.nama_lengkap),1),t("td",it,l(((v=e.jabatan)==null?void 0:v.nama_jabatan)||"-"),1),t("td",rt,l(((S=e.divisi)==null?void 0:S.nama_divisi)||"-"),1),t("td",dt,l(e.email),1),t("td",nt,l(e.no_hp||"-"),1),t("td",ut,l(((M=e.outlet)==null?void 0:M.nama_outlet)||"-"),1)])}),128))])])])]),t("div",ct,[t("div",pt," Menampilkan "+l(i.users.from||0)+" - "+l(i.users.to||0)+" dari "+l(i.users.total||0)+" data ",1),t("div",xt,[(a(!0),o(p,null,x(i.users.links,e=>(a(),o("button",{key:e.label,disabled:!e.url,onClick:v=>F(e.url),innerHTML:e.label,class:B(["px-3 py-1 rounded-lg border text-sm font-semibold",[e.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,mt))),128))])])])]),_:1}))}},Mt=E(bt,[["__scopeId","data-v-625a3b6a"]]);export{Mt as default};
