import{r as m,W as h,w as N,L as l,B as a,x as c,Q as b,U as T,C as g,D as e,G as p,S as _,H as w,J as y,E as M,F as v,M as D,N as n,l as P}from"./vendor-vue-g7iCcTkf.js";import{A as G}from"./AppLayout-hxs5t3XP.js";import{d as V}from"./debounce-DFlfn0vu.js";import{S as i}from"./app-D6rf3j_5.js";import{a as j}from"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-D4k-zQf5.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const U={class:"w-full py-8 px-0"},z={class:"flex justify-between items-center mb-6"},A={class:"flex flex-wrap gap-3 mb-4 items-center"},F={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},H={class:"w-full min-w-full divide-y divide-gray-200"},I={key:0},O={class:"px-6 py-3 font-mono font-semibold text-blue-700"},W={class:"px-6 py-3"},E={class:"px-6 py-3"},J={class:"px-6 py-3"},R={class:"px-6 py-3"},$={class:"px-6 py-3"},Q={class:"px-6 py-3"},Y={class:"flex gap-2"},q=["onClick"],K={class:"flex justify-end mt-4 gap-2"},X=["disabled","onClick","innerHTML"],de={__name:"Index",props:{butcherProcesses:Object,filters:Object},setup(u){const x=u,d=m(x.filters.search||""),o=m({from:x.filters.from||"",to:x.filters.to||""}),C=V(()=>{h.get(route("butcher-processes.index"),{search:d.value,from:o.value.from,to:o.value.to},{preserveState:!0,replace:!0})},400);N([d,o],()=>{C()});const B=r=>r?new Date(r).toLocaleDateString("id-ID"):"-",S=r=>r?new Date(r).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-",k=m(!1);function L(r){i.fire({title:"Delete Butcher Process?",text:"Data dan inventory akan di-rollback. Lanjutkan?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, Delete",cancelButtonText:"No",reverseButtons:!0,focusCancel:!0,preConfirm:()=>(k.value=!0,j.delete(`/butcher-processes/${r}`).then(s=>{s.data.success?(i.fire("Deleted!","Data berhasil dihapus dan inventory di-rollback.","success"),h.reload()):i.fire("Gagal",s.data.message||"Gagal menghapus data","error")}).catch(s=>{var t,f;i.fire("Gagal",((f=(t=s.response)==null?void 0:t.data)==null?void 0:f.message)||"Gagal menghapus data","error")}).finally(()=>{k.value=!1})),allowOutsideClick:()=>!i.isLoading()})}return(r,s)=>(a(),l(v,null,[c(b(T),{title:"Butcher Process"}),c(G,null,{default:g(()=>[e("div",U,[e("div",z,[s[4]||(s[4]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-box text-blue-500"}),p(" Butcher Process ")],-1)),c(b(_),{href:r.route("butcher-processes.create"),class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:g(()=>s[3]||(s[3]=[p(" + Create New ")])),_:1},8,["href"])]),e("div",A,[w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),type:"text",placeholder:"Search by number, GR number, or warehouse...",class:"w-64 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,512),[[y,d.value]]),w(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=t=>o.value.from=t),class:"px-2 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",placeholder:"From date"},null,512),[[y,o.value.from]]),s[5]||(s[5]=e("span",null,"-",-1)),w(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=t=>o.value.to=t),class:"px-2 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",placeholder:"To date"},null,512),[[y,o.value.to]])]),e("div",F,[e("table",H,[s[9]||(s[9]=e("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"Number"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Process Date"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Jam"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"GR Number"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Warehouse"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Created By"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Actions")])],-1)),e("tbody",null,[u.butcherProcesses.data.length===0?(a(),l("tr",I,s[6]||(s[6]=[e("td",{colspan:"7",class:"text-center py-10 text-blue-300"},"No butcher process data.",-1)]))):M("",!0),(a(!0),l(v,null,D(u.butcherProcesses.data,t=>(a(),l("tr",{key:t.id,class:"hover:bg-blue-50 transition shadow-sm"},[e("td",O,n(t.number),1),e("td",W,n(B(t.process_date)),1),e("td",E,n(S(t.created_at)),1),e("td",J,n(t.gr_number),1),e("td",R,n(t.warehouse_name),1),e("td",$,n(t.created_by_name),1),e("td",Q,[e("div",Y,[c(b(_),{href:r.route("butcher-processes.show",t.id),class:"inline-flex items-center btn btn-xs bg-blue-100 text-blue-800 hover:bg-blue-200 rounded px-2 py-1 font-semibold transition"},{default:g(()=>s[7]||(s[7]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),p(" Detail ")])),_:2},1032,["href"]),e("button",{onClick:f=>L(t.id),class:"inline-flex items-center btn btn-xs bg-blue-200 text-blue-800 hover:bg-blue-400 rounded px-2 py-1 font-semibold transition"},s[8]||(s[8]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),p(" Delete ")]),8,q)])])]))),128))])])]),e("div",K,[(a(!0),l(v,null,D(u.butcherProcesses.links,t=>(a(),l("button",{key:t.label,disabled:!t.url,onClick:()=>t.url&&b(h).visit(t.url,{preserveState:!0,replace:!0}),innerHTML:t.label,class:P(["px-3 py-1 rounded-lg border text-sm font-semibold",[t.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",t.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,X))),128))])])]),_:1})],64))}};export{de as default};
