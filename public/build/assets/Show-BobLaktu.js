import{r as ee,P as te,c as _,A as se,B as l,C as R,D as e,L as a,E as c,F as C,N as o,M,G as m,H as B,Q as y,J as I,l as g,W as k}from"./vendor-vue-g7iCcTkf.js";import{A as oe}from"./AppLayout-BDukGJW2.js";import{a as O}from"./vendor-utils-CpgP2uT4.js";import{S as A}from"./app-DGqVli5-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CnwZ944E.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const ne={class:"py-12"},de={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},le={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},ae={class:"p-6 border-b border-gray-200"},ie={class:"flex justify-between items-center"},re={class:"flex space-x-2"},me={class:"p-6"},ue={class:"mb-8"},ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4"},ve={class:"mt-1 p-2 bg-gray-50 rounded-md"},ge={class:"mt-1 p-2 bg-gray-50 rounded-md"},pe={class:"mt-1 p-2 bg-gray-50 rounded-md"},be={class:"mt-1 p-2 bg-gray-50 rounded-md"},xe={class:"mt-1 p-2 bg-gray-50 rounded-md"},ye={class:"mb-8"},fe={class:"bg-gray-50 p-4 rounded-md"},he={class:"mb-4"},_e={class:"p-2 bg-white rounded-md"},ke={class:"mt-1 p-2 bg-white rounded-md"},we={class:"mb-8"},je={class:"bg-gray-50 p-4 rounded-md"},Ee={class:"space-y-6"},Ae={class:"border-b border-gray-200 pb-4"},De={class:"flex items-center justify-between mb-3"},Ce={class:"flex items-center"},Ne=["checked"],Se={class:"p-2 bg-white rounded-md"},Pe={class:"ml-6"},Te={key:0,class:"flex items-center space-x-2"},Re={class:"text-sm text-gray-600"},Me={key:1,class:"text-sm text-gray-500"},Be={class:"border-b border-gray-200 pb-4"},Ie={class:"flex items-center justify-between mb-3"},Oe={class:"flex items-center"},$e=["checked"],Le={class:"ml-2 text-sm font-medium text-gray-700"},Ge={class:"p-2 bg-white rounded-md"},Ve={class:"ml-6"},Ue={key:0,class:"flex items-center space-x-2"},qe={class:"text-sm text-gray-600"},Fe={key:1,class:"text-sm text-gray-500"},ze={class:"border-b border-gray-200 pb-4"},He={class:"flex items-center justify-between mb-3"},Je={class:"flex items-center"},Ke=["checked"],We={class:"p-2 bg-white rounded-md"},Ye={class:"ml-6"},Qe={key:0,class:"flex items-center space-x-2"},Xe={class:"text-sm text-gray-600"},Ze={key:1,class:"text-sm text-gray-500"},et={class:"ml-6"},tt={key:0,class:"space-y-2"},st={class:"text-sm text-gray-600"},ot=["onClick"],nt={key:1,class:"text-sm text-gray-500"},dt={class:"mb-8"},lt={class:"bg-gray-50 p-4 rounded-md"},at={class:"space-y-4"},it={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center"},rt={class:"flex items-center"},mt=["checked"],ut={class:"p-2 bg-white rounded-md"},ct={class:"p-2 bg-white rounded-md"},vt={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center"},gt={class:"flex items-center"},pt=["checked"],bt={class:"p-2 bg-white rounded-md"},xt={class:"p-2 bg-white rounded-md"},yt={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center"},ft={class:"flex items-center"},ht=["checked"],_t={class:"p-2 bg-white rounded-md"},kt={class:"p-2 bg-white rounded-md"},wt={key:0},jt={key:1,class:"space-y-2"},Et={class:"grid grid-cols-2 gap-2"},At={class:"flex space-x-2"},Dt=["disabled"],Ct={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center"},Nt={class:"flex items-center"},St=["checked"],Pt={class:"p-2 bg-white rounded-md"},Tt={class:"p-2 bg-white rounded-md"},Rt={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center"},Mt={class:"flex items-center"},Bt=["checked"],It={class:"p-2 bg-white rounded-md"},Ot={class:"p-2 bg-white rounded-md"},$t={class:"mt-4"},Lt={class:"mt-1 p-2 bg-white rounded-md"},Gt={class:"mb-8"},Vt={class:"bg-gray-50 p-4 rounded-md"},Ut={class:"p-3 bg-white rounded-md min-h-[100px] whitespace-pre-wrap"},qt={class:"mb-8"},Ft={class:"bg-gray-50 p-4 rounded-md"},zt={key:0,class:"mb-8"},Ht={key:0,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md"},Jt={class:"flex items-center"},Kt={class:"ml-3"},Wt={class:"text-sm text-blue-700"},Yt={class:"bg-gray-50 p-4 rounded-md"},Qt={class:"space-y-4"},Xt={class:"flex items-center space-x-4"},Zt={class:"flex items-center space-x-3"},es={class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},ts={class:"flex-1"},ss={class:"font-semibold text-gray-900 text-lg"},os={class:"text-sm text-gray-600 flex items-center mt-1"},ns={key:0,class:"text-sm text-blue-600 font-medium mt-1 flex items-center"},ds={key:1,class:"text-sm text-gray-600 mt-2 p-2 bg-gray-100 rounded border-l-4 border-blue-400"},ls={class:"text-right"},as={key:0,class:"text-xs text-gray-500 mt-1"},is={key:1,class:"text-xs text-gray-500 mt-1"},rs={key:1,class:"mb-8"},ms={class:"bg-gray-50 p-4 rounded-md"},us={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},cs={class:"p-2 bg-white rounded-md min-h-[60px]"},vs={key:0,class:"text-sm"},gs={class:"font-medium"},ps={class:"text-gray-500"},bs={key:1,class:"text-gray-500 text-sm"},xs={class:"p-2 bg-white rounded-md min-h-[60px]"},ys={key:0,class:"text-sm"},fs={class:"font-medium"},hs={class:"text-gray-500"},_s={key:1,class:"text-gray-500 text-sm"},ks={class:"p-2 bg-white rounded-md min-h-[60px]"},ws={key:0,class:"text-sm"},js={class:"font-medium"},Es={class:"text-gray-500"},As={key:1,class:"text-gray-500 text-sm"},Ds={class:"p-2 bg-white rounded-md min-h-[60px]"},Cs={key:0,class:"text-sm"},Ns={class:"font-medium"},Ss={class:"text-gray-500"},Ps={key:1,class:"text-gray-500 text-sm"},Ts={key:2,class:"mb-8"},Rs={class:"bg-gray-50 p-4 rounded-md"},Ms={key:0,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md"},Bs={class:"flex items-center"},Is={class:"ml-3"},Os={class:"text-sm text-blue-700"},$s={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Ls={class:"p-2 bg-white rounded-md min-h-[60px] flex items-center justify-center"},Gs={class:"text-xs text-gray-500 mt-1"},Vs={class:"p-2 bg-white rounded-md min-h-[60px] flex items-center justify-center"},Us={class:"text-xs text-gray-500 mt-1"},qs={class:"p-2 bg-white rounded-md min-h-[60px] flex items-center justify-center"},Fs={class:"text-xs text-gray-500 mt-1"},zs={class:"p-2 bg-white rounded-md min-h-[60px] flex items-center justify-center"},Hs={class:"text-xs text-gray-500 mt-1"},Js={class:"text-sm text-gray-500 border-t pt-4"},Ks={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lo={__name:"Show",props:{movement:Object,user:Object},setup(s){const i=s,w=ee(!1),u=te({gaji_pokok_to:i.movement.gaji_pokok_to||"",tunjangan_to:i.movement.tunjangan_to||""}),$=_(()=>{var n;return((n=i.user)==null?void 0:n.division_id)===6}),L=_(()=>{var n,t;return((n=i.user)==null?void 0:n.division_id)===6||((t=i.user)==null?void 0:t.id_role)==="5af56935b011a"}),p=_(()=>{var t;const n=(t=i.user)==null?void 0:t.id;return n?i.movement.hod_approver_id==n&&!i.movement.hod_approval?{canApprove:!0,level:"hod"}:i.movement.gm_approver_id==n&&i.movement.hod_approval==="approved"&&!i.movement.gm_approval?{canApprove:!0,level:"gm"}:i.movement.gm_hr_approver_id==n&&i.movement.gm_approval==="approved"&&!i.movement.gm_hr_approval?{canApprove:!0,level:"gm_hr"}:i.movement.bod_approver_id==n&&i.movement.gm_hr_approval==="approved"&&!i.movement.bod_approval?{canApprove:!0,level:"bod"}:{canApprove:!1,level:null}:{canApprove:!1,level:null}}),D=_(()=>i.movement.status==="pending"||i.movement.status==="draft"),G=_(()=>i.movement.employment_type&&i.movement.employment_type!=="extend_contract_without_adjustment"&&i.movement.employment_type!=="termination");function V(){k.visit("/employee-movements")}function U(){k.visit(`/employee-movements/${i.movement.id}/edit`)}function q(n){switch(n){case"draft":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"executed":return"bg-blue-100 text-blue-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function F(n){switch(n){case"draft":return"Draft";case"pending":return"Pending";case"approved":return"Approved";case"rejected":return"Rejected";case"executed":return"Executed";case"error":return"Error";default:return n}}function r(n){return n?new Date(n).toLocaleDateString("id-ID"):"-"}function N(n){return n?new Date(n).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function z(n){switch(n){case"APPROVED":return"border-green-300 bg-green-50";case"REJECTED":return"border-red-300 bg-red-50";case"PENDING":return"border-yellow-300 bg-yellow-50";default:return"border-gray-300 bg-gray-50"}}function H(n){switch(n){case"APPROVED":return"fa fa-check-circle text-green-600";case"REJECTED":return"fa fa-times-circle text-red-600";case"PENDING":return"fa fa-clock text-yellow-600";default:return"fa fa-question-circle text-gray-600"}}function J(n){switch(n){case"APPROVED":return"bg-green-100";case"REJECTED":return"bg-red-100";case"PENDING":return"bg-yellow-100";default:return"bg-gray-100"}}function K(n){switch(n){case"APPROVED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}function S(n){return n?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(n):"-"}function W(n){switch(n){case"extend_contract_without_adjustment":return"Extend contract without adjustment";case"extend_contract_with_adjustment":return"Extend contract with adjustment";case"promotion":return"Promotion";case"demotion":return"Demotion";case"mutation":return"Mutation";case"termination":return"Termination";default:return n||"-"}}function j(n){return n?n.split("/").pop():"-"}function E(n){n&&window.open(`/storage/${n}`,"_blank")}function Y(){w.value=!0,u.gaji_pokok_to=i.movement.gaji_pokok_to||"",u.tunjangan_to=i.movement.tunjangan_to||""}function Q(){w.value=!1,u.reset()}function X(){u.put(`/employee-movements/${i.movement.id}/salary`,{onSuccess:()=>{w.value=!1,k.reload()},onError:n=>{console.error("Error updating salary:",n)}})}function Z(){confirm("Apakah Anda yakin ingin mengeksekusi perubahan employee movement ini?")&&O.post(`/employee-movements/${i.movement.id}/execute`).then(n=>{n.data.success?(alert("Employee movement berhasil dieksekusi!"),k.reload()):alert("Error: "+n.data.message)}).catch(n=>{console.error("Error executing movement:",n),alert("Terjadi kesalahan saat mengeksekusi movement")})}function P(n){const t=p.value.level,d=n==="approved"?"approve":"reject",x=n==="approved"?"menyetujui":"menolak";A.fire({title:`Confirm ${d==="approve"?"Approval":"Rejection"}`,html:`
      <div class="text-left">
        <p>Apakah Anda yakin ingin <strong>${x}</strong> employee movement ini?</p>
        <div class="mt-4">
          <label class="block text-sm font-medium text-gray-700 mb-2">Notes (optional):</label>
          <textarea id="approval-notes" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter notes here..."></textarea>
        </div>
      </div>
    `,icon:d==="approve"?"question":"warning",showCancelButton:!0,confirmButtonColor:d==="approve"?"#10b981":"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:d==="approve"?"Yes, Approve":"Yes, Reject",cancelButtonText:"Cancel",showLoaderOnConfirm:!0,preConfirm:()=>{const b=document.getElementById("approval-notes").value;return O.post(`/employee-movements/${i.movement.id}/approve`,{approval_level:t,status:n,notes:b}).then(v=>{if(v.data.success)return v.data;throw new Error(v.data.message||"Approval failed")}).catch(v=>{var f,h;return A.showValidationMessage(`Request failed: ${((h=(f=v.response)==null?void 0:f.data)==null?void 0:h.message)||v.message}`),!1})},allowOutsideClick:()=>!A.isLoading()}).then(b=>{b.isConfirmed&&A.fire({title:"Success!",text:`Employee movement ${d==="approve"?"approved":"rejected"} successfully.`,icon:"success",confirmButtonText:"OK"}).then(()=>{k.reload()})})}return(n,t)=>(l(),se(oe,{title:"Employee Movement Detail"},{header:R(()=>t[7]||(t[7]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Employee Movement Detail ",-1)])),default:R(()=>[e("div",ne,[e("div",de,[e("div",le,[e("div",ae,[e("div",ie,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium text-gray-900"},"Employee Movement Details",-1)),e("div",re,[e("button",{onClick:V,class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Back "),p.value.canApprove&&D.value?(l(),a(C,{key:0},[e("button",{onClick:t[0]||(t[0]=d=>P("approved")),class:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700"}," Approve "+o(p.value.level.toUpperCase()),1),e("button",{onClick:t[1]||(t[1]=d=>P("rejected")),class:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700"}," Reject "+o(p.value.level.toUpperCase()),1)],64)):c("",!0),L.value&&s.movement.status==="approved"?(l(),a("button",{key:1,onClick:Z,class:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700"}," Execute Movement ")):c("",!0),e("button",{onClick:U,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700"}," Edit ")])])]),e("div",me,[e("div",ue,[t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Employee Details",-1)),e("div",ce,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700"},"Name",-1)),e("div",ve,o(s.movement.employee_name||"-"),1)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700"},"Position",-1)),e("div",ge,o(s.movement.employee_position||"-"),1)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700"},"Division",-1)),e("div",pe,o(s.movement.employee_division||"-"),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700"},"Unit/Property",-1)),e("div",be,o(s.movement.employee_unit_property||"-"),1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700"},"Join Date",-1)),e("div",xe,o(r(s.movement.employee_join_date)),1)])])]),e("div",ye,[t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Employment & Renewal",-1)),e("div",fe,[e("div",he,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Employment Type",-1)),e("div",_e,o(W(s.movement.employment_type)),1)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700"},"Effective Date",-1)),e("div",ke,o(r(s.movement.employment_effective_date)),1)])])]),e("div",we,[t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Supporting Documents",-1)),e("div",je,[e("div",Ee,[e("div",Ae,[e("div",De,[e("div",Ce,[e("input",{checked:s.movement.kpi_required,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ne),t[18]||(t[18]=e("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Key Performance Indicators (KPI)",-1))]),e("div",Se,o(r(s.movement.kpi_date)),1)]),e("div",Pe,[t[19]||(t[19]=e("label",{class:"block text-sm text-gray-600 mb-2"},"KPI Document",-1)),s.movement.kpi_attachment?(l(),a("div",Te,[e("span",Re,o(j(s.movement.kpi_attachment)),1),e("button",{onClick:t[2]||(t[2]=d=>E(s.movement.kpi_attachment)),class:"text-blue-600 hover:text-blue-800 text-sm underline"}," Download ")])):(l(),a("div",Me,"No file uploaded"))])]),e("div",Be,[e("div",Ie,[e("div",Oe,[e("input",{checked:s.movement.psikotest_required,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,$e),e("label",Le,"Psikotest Result by Training Manager: score = "+o(s.movement.psikotest_score||"-"),1)]),e("div",Ge,o(r(s.movement.psikotest_date)),1)]),e("div",Ve,[t[20]||(t[20]=e("label",{class:"block text-sm text-gray-600 mb-2"},"Psikotest Result",-1)),s.movement.psikotest_attachment?(l(),a("div",Ue,[e("span",qe,o(j(s.movement.psikotest_attachment)),1),e("button",{onClick:t[3]||(t[3]=d=>E(s.movement.psikotest_attachment)),class:"text-blue-600 hover:text-blue-800 text-sm underline"}," Download ")])):(l(),a("div",Fe,"No file uploaded"))])]),e("div",ze,[e("div",He,[e("div",Je,[e("input",{checked:s.movement.training_attendance_required,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Ke),t[21]||(t[21]=e("label",{class:"ml-2 text-sm font-medium text-gray-700"},"Training Attendance Record by Training Manager",-1))]),e("div",We,o(r(s.movement.training_attendance_date)),1)]),e("div",Ye,[t[22]||(t[22]=e("label",{class:"block text-sm text-gray-600 mb-2"},"Training Record",-1)),s.movement.training_attachment?(l(),a("div",Qe,[e("span",Xe,o(j(s.movement.training_attachment)),1),e("button",{onClick:t[4]||(t[4]=d=>E(s.movement.training_attachment)),class:"text-blue-600 hover:text-blue-800 text-sm underline"}," Download ")])):(l(),a("div",Ze,"No file uploaded"))])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Other Supporting Documents",-1)),e("div",et,[s.movement.other_attachments?(l(),a("div",tt,[(l(!0),a(C,null,M(JSON.parse(s.movement.other_attachments||"[]"),(d,x)=>(l(),a("div",{key:x,class:"flex items-center space-x-2"},[e("span",st,o(j(d)),1),e("button",{onClick:b=>E(d),class:"text-blue-600 hover:text-blue-800 text-sm underline"}," Download ",8,ot)]))),128))])):(l(),a("div",nt,"No files uploaded"))])])])])]),e("div",dt,[t[43]||(t[43]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Adjustment & Movement",-1)),e("div",lt,[e("div",at,[e("div",it,[e("div",rt,[e("input",{checked:s.movement.position_change,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,mt),t[25]||(t[25]=e("label",{class:"ml-2 text-sm text-gray-700"},"Position",-1))]),e("div",ut,o(s.movement.position_from||"-"),1),e("div",ct,o(s.movement.position_to||"-"),1),t[26]||(t[26]=e("div",null,null,-1)),t[27]||(t[27]=e("div",null,null,-1))]),e("div",vt,[e("div",gt,[e("input",{checked:s.movement.level_change,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,pt),t[28]||(t[28]=e("label",{class:"ml-2 text-sm text-gray-700"},"Level",-1))]),e("div",bt,o(s.movement.level_from||"-"),1),e("div",xt,o(s.movement.level_to||"-"),1),t[29]||(t[29]=e("div",null,null,-1)),t[30]||(t[30]=e("div",null,null,-1))]),e("div",yt,[e("div",ft,[e("input",{checked:s.movement.salary_change,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,ht),t[31]||(t[31]=e("label",{class:"ml-2 text-sm text-gray-700"},"Salary",-1))]),e("div",_t,o(S(s.movement.salary_from)),1),e("div",kt,[w.value?(l(),a("div",jt,[e("div",Et,[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Gaji Pokok",-1)),B(e("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>y(u).gaji_pokok_to=d),type:"number",min:"0",step:"1",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm"},null,512),[[I,y(u).gaji_pokok_to,void 0,{number:!0}]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Tunjangan",-1)),B(e("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>y(u).tunjangan_to=d),type:"number",min:"0",step:"1",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm"},null,512),[[I,y(u).tunjangan_to,void 0,{number:!0}]])])]),e("div",At,[e("button",{onClick:X,disabled:y(u).processing,class:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50"},o(y(u).processing?"Saving...":"Save"),9,Dt),e("button",{onClick:Q,class:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700"}," Cancel ")])])):(l(),a("div",wt,[m(o(S(s.movement.salary_to))+" ",1),$.value&&G.value&&s.movement.salary_change?(l(),a("button",{key:0,onClick:Y,class:"ml-2 text-blue-600 hover:text-blue-800 text-xs"}," Edit ")):c("",!0)]))]),t[34]||(t[34]=e("div",null,null,-1)),t[35]||(t[35]=e("div",null,null,-1))]),e("div",Ct,[e("div",Nt,[e("input",{checked:s.movement.division_change,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,St),t[36]||(t[36]=e("label",{class:"ml-2 text-sm text-gray-700"},"Division",-1))]),e("div",Pt,o(s.movement.division_from||"-"),1),e("div",Tt,o(s.movement.division_to||"-"),1),t[37]||(t[37]=e("div",null,null,-1)),t[38]||(t[38]=e("div",null,null,-1))]),e("div",Rt,[e("div",Mt,[e("input",{checked:s.movement.unit_property_change,type:"checkbox",disabled:"",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Bt),t[39]||(t[39]=e("label",{class:"ml-2 text-sm text-gray-700"},"Unit/Property",-1))]),e("div",It,o(s.movement.unit_property_from||"-"),1),e("div",Ot,o(s.movement.unit_property_to||"-"),1),t[40]||(t[40]=e("div",null,null,-1)),t[41]||(t[41]=e("div",null,null,-1))])]),e("div",$t,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700"},"Effective Date",-1)),e("div",Lt,o(r(s.movement.adjustment_effective_date)),1)])])]),e("div",Gt,[t[45]||(t[45]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Comments",-1)),e("div",Vt,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"(Explain reason for movement.)",-1)),e("div",Ut,o(s.movement.comments||"No comments provided."),1)])]),e("div",qt,[t[46]||(t[46]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Status",-1)),e("div",Ft,[e("span",{class:g(["px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full",q(s.movement.status)])},o(F(s.movement.status)),3)])]),s.movement.approval_flows&&s.movement.approval_flows.length>0?(l(),a("div",zt,[t[56]||(t[56]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md flex items-center"},[e("i",{class:"fa fa-users mr-2 text-blue-500"}),m(" Approval Flow ")],-1)),p.value.canApprove&&D.value?(l(),a("div",Ht,[e("div",Jt,[t[48]||(t[48]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",Kt,[e("p",Wt,[t[47]||(t[47]=e("strong",null,"Action Required:",-1)),m(" This movement is waiting for your approval at Level "+o(p.value.level)+". ",1)])])])])):c("",!0),e("div",Yt,[e("div",Qt,[(l(!0),a(C,null,M(s.movement.approval_flows.sort((d,x)=>(d.approval_level||0)-(x.approval_level||0)),(d,x)=>{var b,v,f,h,T;return l(),a("div",{key:d.id,class:g(["flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-gradient-to-r from-gray-50 to-white",z(d.status)])},[e("div",Xt,[e("div",Zt,[e("span",es,[t[49]||(t[49]=e("i",{class:"fa fa-layer-group mr-1"},null,-1)),m(" Level "+o(d.approval_level),1)]),e("div",{class:g(["w-10 h-10 rounded-full flex items-center justify-center shadow-md",J(d.status)])},[e("i",{class:g(H(d.status))},null,2)],2)]),e("div",ts,[e("div",ss,o(((b=d.approver)==null?void 0:b.nama_lengkap)||((v=d.approver)==null?void 0:v.name)||"Unknown"),1),e("div",os,[t[50]||(t[50]=e("i",{class:"fa fa-envelope mr-2"},null,-1)),m(o(((f=d.approver)==null?void 0:f.email)||"-"),1)]),(T=(h=d.approver)==null?void 0:h.jabatan)!=null&&T.nama_jabatan?(l(),a("div",ns,[t[51]||(t[51]=e("i",{class:"fa fa-briefcase mr-2"},null,-1)),m(o(d.approver.jabatan.nama_jabatan),1)])):c("",!0),d.comments?(l(),a("div",ds,[t[52]||(t[52]=e("strong",{class:"text-gray-800"},"Comments:",-1)),m(" "+o(d.comments),1)])):c("",!0)])]),e("div",ls,[e("div",{class:g(["text-sm font-medium px-3 py-1 rounded-full",K(d.status)])},[t[53]||(t[53]=e("i",{class:"fa fa-circle mr-1 text-xs"},null,-1)),m(o(d.status),1)],2),d.approved_at?(l(),a("div",as,[t[54]||(t[54]=e("i",{class:"fa fa-check-circle mr-1 text-green-500"},null,-1)),m("Approved: "+o(N(d.approved_at)),1)])):c("",!0),d.rejected_at?(l(),a("div",is,[t[55]||(t[55]=e("i",{class:"fa fa-times-circle mr-1 text-red-500"},null,-1)),m("Rejected: "+o(N(d.rejected_at)),1)])):c("",!0)])],2)}),128))])])])):(l(),a("div",rs,[t[61]||(t[61]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Approval Assignment",-1)),e("div",ms,[e("div",us,[e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"HOD Approver",-1)),e("div",cs,[s.movement.hod_approver?(l(),a("div",vs,[e("div",gs,o(s.movement.hod_approver.nama_lengkap),1),e("div",ps,o(s.movement.hod_approver.nik),1)])):(l(),a("div",bs,"Not assigned"))])]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GM Approver",-1)),e("div",xs,[s.movement.gm_approver?(l(),a("div",ys,[e("div",fs,o(s.movement.gm_approver.nama_lengkap),1),e("div",hs,o(s.movement.gm_approver.nik),1)])):(l(),a("div",_s,"Not assigned"))])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GM HR Approver",-1)),e("div",ks,[s.movement.gm_hr_approver?(l(),a("div",ws,[e("div",js,o(s.movement.gm_hr_approver.nama_lengkap),1),e("div",Es,o(s.movement.gm_hr_approver.nik),1)])):(l(),a("div",As,"Not assigned"))])]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"BOD Approver",-1)),e("div",Ds,[s.movement.bod_approver?(l(),a("div",Cs,[e("div",Ns,o(s.movement.bod_approver.nama_lengkap),1),e("div",Ss,o(s.movement.bod_approver.nik),1)])):(l(),a("div",Ps,"Not assigned"))])])])])])),!s.movement.approval_flows||s.movement.approval_flows.length===0?(l(),a("div",Ts,[t[68]||(t[68]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4 bg-gray-100 p-3 rounded-md"},"Approval Status",-1)),e("div",Rs,[p.value.canApprove&&D.value?(l(),a("div",Ms,[e("div",Bs,[t[63]||(t[63]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",Is,[e("p",Os,[t[62]||(t[62]=e("strong",null,"Action Required:",-1)),m(" This movement is waiting for your "+o(p.value.level.toUpperCase())+" approval. ",1)])])])])):c("",!0),e("div",$s,[e("div",null,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"HOD Approval",-1)),e("div",Ls,[e("span",{class:g({"text-green-600 font-semibold":s.movement.hod_approval==="approved","text-red-600 font-semibold":s.movement.hod_approval==="rejected","text-gray-500":!s.movement.hod_approval})},o(s.movement.hod_approval||"Not signed"),3)]),e("div",Gs,o(r(s.movement.hod_approval_date)),1)]),e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GM Approval",-1)),e("div",Vs,[e("span",{class:g({"text-green-600 font-semibold":s.movement.gm_approval==="approved","text-red-600 font-semibold":s.movement.gm_approval==="rejected","text-gray-500":!s.movement.gm_approval})},o(s.movement.gm_approval||"Not signed"),3)]),e("div",Us,o(r(s.movement.gm_approval_date)),1)]),e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"GM HR Approval",-1)),e("div",qs,[e("span",{class:g({"text-green-600 font-semibold":s.movement.gm_hr_approval==="approved","text-red-600 font-semibold":s.movement.gm_hr_approval==="rejected","text-gray-500":!s.movement.gm_hr_approval})},o(s.movement.gm_hr_approval||"Not signed"),3)]),e("div",Fs,o(r(s.movement.gm_hr_approval_date)),1)]),e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"BOD Approval",-1)),e("div",zs,[e("span",{class:g({"text-green-600 font-semibold":s.movement.bod_approval==="approved","text-red-600 font-semibold":s.movement.bod_approval==="rejected","text-gray-500":!s.movement.bod_approval})},o(s.movement.bod_approval||"Not signed"),3)]),e("div",Hs,o(r(s.movement.bod_approval_date)),1)])])])])):c("",!0),e("div",Js,[e("div",Ks,[e("div",null,"Created: "+o(r(s.movement.created_at)),1),e("div",null,"Last Updated: "+o(r(s.movement.updated_at)),1)])])])])])])]),_:1}))}};export{lo as default};
