import{r as m,A as h,B as i,C as k,D as t,G as l,O as B,L as s,E as p,H as b,l as x,J as g,N as d,W as v}from"./vendor-vue-g7iCcTkf.js";import{A as w}from"./AppLayout-BqYoiRQJ.js";import{S as n}from"./app-D7xoXxxM.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Sbw2UVT4.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const _={class:"max-w-4xl w-full mx-auto py-8 px-2"},C={class:"bg-white rounded-2xl shadow-lg p-6"},T=["disabled"],S={key:0,class:"mt-1 text-sm text-red-600"},A=["disabled"],N={key:0,class:"mt-1 text-sm text-red-600"},V={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4"},D={class:"text-xs text-red-600"},G={class:"flex justify-end gap-4 pt-6"},j=["disabled"],E=["disabled"],M={key:0,class:"fa-solid fa-spinner fa-spin"},K={key:1,class:"fa-solid fa-save"},P={__name:"Create",setup(O){const r=m({name:"",description:""}),a=m({}),o=m(!1);async function y(){if(a.value={},!r.value.name.trim()){a.value.name="Nama group harus diisi";return}if((await n.fire({title:"Konfirmasi",text:"Apakah Anda yakin ingin menyimpan group video tutorial ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#16a34a",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Simpan!",cancelButtonText:"Batal",reverseButtons:!0})).isConfirmed){o.value=!0;try{await v.post("/video-tutorial-groups",r.value,{onSuccess:e=>{o.value=!1,n.fire({title:"Berhasil!",text:"Group video tutorial berhasil ditambahkan",icon:"success",confirmButtonColor:"#16a34a",timer:2e3,showConfirmButton:!1})},onError:e=>{o.value=!1,a.value=e,n.fire({title:"Error!",text:"Terjadi kesalahan saat menyimpan data",icon:"error",confirmButtonColor:"#dc2626"}),console.error("Form submission error:",e)},onFinish:()=>{o.value=!1}})}catch(e){o.value=!1,console.error("Unexpected error:",e),n.fire({title:"Error!",text:"Terjadi kesalahan yang tidak terduga",icon:"error",confirmButtonColor:"#dc2626"})}}}function f(){n.fire({title:"Konfirmasi",text:"Apakah Anda yakin ingin keluar? Data yang belum disimpan akan hilang.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Ya, Keluar",cancelButtonText:"Batal"}).then(u=>{u.isConfirmed&&v.visit("/video-tutorial-groups")})}return(u,e)=>(i(),h(w,{title:"Tambah Group Video Tutorial"},{default:k(()=>[t("div",_,[t("div",{class:"flex justify-between items-center mb-6"},[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-folder-plus text-green-500"}),l(" Tambah Group Video Tutorial ")],-1)),t("button",{onClick:f,class:"bg-gray-500 text-white px-4 py-2 rounded-xl hover:bg-gray-600 transition"},e[2]||(e[2]=[t("i",{class:"fa-solid fa-arrow-left mr-2"},null,-1),l(" Kembali ")]))]),t("div",C,[t("form",{onSubmit:B(y,["prevent"]),class:"space-y-6"},[t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[l(" Nama Group "),t("span",{class:"text-red-500"},"*")],-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.value.name=c),type:"text",class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-green-400 focus:border-green-400 transition",{"border-red-500":a.value.name}]),placeholder:"Masukkan nama group video tutorial",disabled:o.value},null,10,T),[[g,r.value.name]]),a.value.name?(i(),s("p",S,d(a.value.name),1)):p("",!0)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Deskripsi ",-1)),b(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.value.description=c),rows:"4",class:x(["w-full px-4 py-2 rounded-xl border border-gray-300 focus:ring-2 focus:ring-green-400 focus:border-green-400 transition",{"border-red-500":a.value.description}]),placeholder:"Masukkan deskripsi group video tutorial (opsional)",disabled:o.value},null,10,A),[[g,r.value.description]]),a.value.description?(i(),s("p",N,d(a.value.description),1)):p("",!0)]),Object.keys(a.value).length>0?(i(),s("div",V,[e[6]||(e[6]=t("h3",{class:"text-sm font-medium text-red-800 mb-2"},"Debug Info:",-1)),t("pre",D,d(JSON.stringify(a.value,null,2)),1)])):p("",!0),t("div",G,[t("button",{type:"button",onClick:f,disabled:o.value,class:"px-6 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition disabled:opacity-50 disabled:cursor-not-allowed"}," Batal ",8,j),t("button",{type:"submit",disabled:o.value||!r.value.name.trim(),class:"px-6 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},[o.value?(i(),s("i",M)):(i(),s("i",K)),l(" "+d(o.value?"Menyimpan...":"Simpan Group"),1)],8,E)])],32)])])]),_:1}))}};export{P as default};
