import{r as j,A as J,B as o,C as m,D as t,L as d,E as x,x as g,Q as f,S as y,G as tt,H as p,J as b,I as v,F as _,M as h,N as r,l as et,W as Q}from"./vendor-vue-g7iCcTkf.js";import{A as st}from"./AppLayout-BqYoiRQJ.js";import{_ as at}from"./Pagination-DElM3wPU.js";import"./vendor-utils-CpgP2uT4.js";import"./app-D7xoXxxM.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Sbw2UVT4.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const lt={class:"py-12"},ot={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},rt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},dt={class:"p-6 text-gray-900"},nt={class:"flex justify-between items-center mb-6"},it={class:"bg-gray-50 p-4 rounded-lg mb-6"},ut={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},pt=["value"],mt=["value"],ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},xt={class:"overflow-x-auto"},gt={class:"min-w-full divide-y divide-gray-200"},ft={class:"bg-white divide-y divide-gray-200"},yt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"text-sm font-medium text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap"},_t={class:"text-sm text-gray-900"},ht={class:"px-6 py-4 whitespace-nowrap"},wt={class:"text-sm text-gray-900"},kt={class:"px-6 py-4 whitespace-nowrap"},Ct={class:"text-sm text-gray-900"},Dt={class:"px-6 py-4 whitespace-nowrap"},St={class:"px-6 py-4 whitespace-nowrap"},At={class:"text-sm text-gray-900"},Bt={class:"text-xs text-gray-500"},Vt={class:"px-6 py-4 whitespace-nowrap"},Nt={class:"text-sm text-gray-900"},Ot={key:0},Tt={class:"text-xs text-gray-500"},Ft={key:1,class:"text-gray-400"},Lt={class:"px-6 py-4 whitespace-nowrap"},Ut={class:"text-sm text-gray-900"},It={key:0},Mt={class:"text-xs text-gray-500"},Wt={key:1,class:"text-gray-400"},Rt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},$t={class:"flex space-x-2"},Et=["onClick"],Gt={class:"mt-6"},zt={key:0,class:"text-center py-12"},se={__name:"Index",props:{rejections:Object,outlets:Array,warehouses:Array,filters:Object,canDelete:Boolean},setup(u){var k,C,D,S,A,B,V;const n=u,a=j({search:((k=n.filters)==null?void 0:k.search)||"",status:((C=n.filters)==null?void 0:C.status)||"",outlet_id:((D=n.filters)==null?void 0:D.outlet_id)||"",warehouse_id:((S=n.filters)==null?void 0:S.warehouse_id)||"",date_from:((A=n.filters)==null?void 0:A.date_from)||"",date_to:((B=n.filters)==null?void 0:B.date_to)||"",per_page:((V=n.filters)==null?void 0:V.per_page)||15});let w=null;const q=()=>{clearTimeout(w),w=setTimeout(()=>{i()},500)},i=()=>{Q.get(route("outlet-rejections.index"),a.value,{preserveState:!0,preserveScroll:!0,replace:!0})},K=()=>{a.value={search:"",status:"",outlet_id:"",warehouse_id:"",date_from:"",date_to:"",per_page:15},i()},P=l=>{confirm("Are you sure you want to delete this rejection?")&&Q.delete(route("outlet-rejections.destroy",l),{onSuccess:()=>{}})},X=l=>new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}),c=l=>new Date(l).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),Y=l=>({draft:"Draft",submitted:"Submitted",approved:"Approved",completed:"Completed",cancelled:"Cancelled"})[l]||l,Z=l=>`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${{draft:"bg-gray-100 text-gray-800",submitted:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[l]||"bg-gray-100 text-gray-800"}`;return(l,e)=>(o(),J(st,null,{header:m(()=>e[6]||(e[6]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Outlet Rejection ",-1)])),default:m(()=>[t("div",lt,[t("div",ot,[t("div",rt,[t("div",dt,[t("div",nt,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold"},"Daftar Outlet Rejection",-1)),g(f(y),{href:l.route("outlet-rejections.create"),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:m(()=>e[7]||(e[7]=[t("i",{class:"fas fa-plus mr-2"},null,-1),tt(" Create Rejection ")])),_:1},8,["href"])]),t("div",it,[t("div",ut,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.search=s),type:"text",placeholder:"Search number, outlet, warehouse...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onInput:q},null,544),[[b,a.value.search]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.status=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:i},e[10]||(e[10]=[t("option",{value:""},"All Status",-1),t("option",{value:"draft"},"Draft",-1),t("option",{value:"submitted"},"Submitted",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"cancelled"},"Cancelled",-1)]),544),[[v,a.value.status]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlet",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.outlet_id=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:i},[e[12]||(e[12]=t("option",{value:""},"All Outlets",-1)),(o(!0),d(_,null,h(u.outlets,s=>(o(),d("option",{key:s.id_outlet,value:s.id_outlet},r(s.nama_outlet),9,pt))),128))],544),[[v,a.value.outlet_id]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Warehouse",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.warehouse_id=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:i},[e[14]||(e[14]=t("option",{value:""},"All Warehouses",-1)),(o(!0),d(_,null,h(u.warehouses,s=>(o(),d("option",{key:s.id,value:s.id},r(s.name),9,mt))),128))],544),[[v,a.value.warehouse_id]])])]),t("div",ct,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.date_from=s),type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:i},null,544),[[b,a.value.date_from]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.date_to=s),type:"date",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:i},null,544),[[b,a.value.date_to]])])]),t("div",{class:"mt-4"},[t("button",{onClick:K,class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," Clear Filters ")])]),t("div",xt,[t("table",gt,[e[21]||(e[21]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Number "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Outlet "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Warehouse "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created By "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Approved By "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Completed By "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",ft,[(o(!0),d(_,null,h(u.rejections.data,s=>{var N,O,T,F,L,U,I,M,W,R,$,E,G,z,H;return o(),d("tr",{key:s.id},[t("td",yt,[t("div",bt,r(s.number),1)]),t("td",vt,[t("div",_t,r(X(s.rejection_date)),1)]),t("td",ht,[t("div",wt,r((N=s.outlet)==null?void 0:N.nama_outlet),1)]),t("td",kt,[t("div",Ct,r((O=s.warehouse)==null?void 0:O.name),1)]),t("td",Dt,[t("span",{class:et(Z(s.status))},r(Y(s.status)),3)]),t("td",St,[t("div",At,[t("div",null,r(((T=s.approval_info)==null?void 0:T.created_by)||((F=s.createdBy)==null?void 0:F.nama_lengkap)||"-"),1),t("div",Bt,r(((L=s.approval_info)==null?void 0:L.created_at)||c(s.created_at)),1)])]),t("td",Vt,[t("div",Nt,[(U=s.approval_info)!=null&&U.ssd_manager||(I=s.ssdManager)!=null&&I.nama_lengkap?(o(),d("div",Ot,[t("div",null,r(((M=s.approval_info)==null?void 0:M.ssd_manager)||((W=s.ssdManager)==null?void 0:W.nama_lengkap)),1),t("div",Tt,r(((R=s.approval_info)==null?void 0:R.ssd_manager_at)||c(s.ssd_manager_approved_at)),1)])):(o(),d("div",Ft,"-"))])]),t("td",Lt,[t("div",Ut,[($=s.approval_info)!=null&&$.completed_by||(E=s.completedBy)!=null&&E.nama_lengkap?(o(),d("div",It,[t("div",null,r(((G=s.approval_info)==null?void 0:G.completed_by)||((z=s.completedBy)==null?void 0:z.nama_lengkap)),1),t("div",Mt,r(((H=s.approval_info)==null?void 0:H.completed_at)||c(s.completed_at)),1)])):(o(),d("div",Wt,"-"))])]),t("td",Rt,[t("div",$t,[g(f(y),{href:l.route("outlet-rejections.show",s.id),class:"text-blue-600 hover:text-blue-900"},{default:m(()=>e[18]||(e[18]=[t("i",{class:"fas fa-eye"},null,-1)])),_:2},1032,["href"]),s.status==="draft"?(o(),J(f(y),{key:0,href:l.route("outlet-rejections.edit",s.id),class:"text-green-600 hover:text-green-900"},{default:m(()=>e[19]||(e[19]=[t("i",{class:"fas fa-edit"},null,-1)])),_:2},1032,["href"])):x("",!0),s.status==="draft"&&n.canDelete?(o(),d("button",{key:1,onClick:Ht=>P(s.id),class:"text-red-600 hover:text-red-900"},e[20]||(e[20]=[t("i",{class:"fas fa-trash"},null,-1)]),8,Et)):x("",!0)])])])}),128))])])]),t("div",Gt,[g(at,{links:u.rejections.links},null,8,["links"])]),u.rejections.data.length===0?(o(),d("div",zt,e[22]||(e[22]=[t("i",{class:"fas fa-inbox text-4xl text-gray-400 mb-4"},null,-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No rejections found",-1),t("p",{class:"text-gray-500"},"Get started by creating a new outlet rejection.",-1)]))):x("",!0)])])])])]),_:1}))}};export{se as default};
