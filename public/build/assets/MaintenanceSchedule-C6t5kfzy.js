import{r as x,A as T,B as n,C as k,D as e,G as c,x as U,Q as B,S as F,H as y,L as o,F as h,M as A,N as l,I as g,E as C,l as V,W as R}from"./vendor-vue-g7iCcTkf.js";import{A as O}from"./AppLayout-1Wm1ZPw9.js";import"./vendor-utils-CpgP2uT4.js";import"./app-BPKNzj_F.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CVHTvH7j.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const E={class:"max-w-7xl w-full mx-auto py-8 px-2"},j={class:"mb-6 flex justify-between items-center"},q={class:"flex gap-2"},W={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},z={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},G=["value"],H={class:"bg-white rounded-xl shadow-lg overflow-hidden"},J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},P={class:"bg-white divide-y divide-gray-200"},Q={key:0},$={class:"px-6 py-4 whitespace-nowrap"},X={class:"text-sm font-medium text-blue-600"},Y={class:"text-xs text-gray-500"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={key:0,class:"ml-2 text-xs text-red-600"},ae={class:"px-6 py-4 whitespace-nowrap"},ce={__name:"MaintenanceSchedule",props:{schedules:Array,assets:Array,filters:Object},setup(r){var v,b,w,_;const i=r,u=x(((v=i.filters)==null?void 0:v.asset_id)||""),d=x(((b=i.filters)==null?void 0:b.maintenance_type)||""),p=x(((w=i.filters)==null?void 0:w.is_active)||"all"),m=x(((_=i.filters)==null?void 0:_.due_status)||"all");function I(){R.get("/asset-management/reports/maintenance-schedule",{asset_id:u.value,maintenance_type:d.value,is_active:p.value,due_status:m.value},{preserveState:!0,replace:!0})}function L(){const a=new URLSearchParams({asset_id:u.value||"",maintenance_type:d.value||"",is_active:p.value||"all",due_status:m.value||"all",export:"1"});window.open(`/asset-management/reports/maintenance-schedule?${a.toString()}`,"_blank")}function f(a){return a?new Date(a).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function M(a){return a?new Date(a)<=new Date:!1}function N(a){return a?new Date(a)<new Date:!1}return(a,t)=>(n(),T(O,null,{default:k(()=>[e("div",E,[e("div",j,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-calendar-check text-blue-500"}),c(" Maintenance Schedule Report ")]),e("p",{class:"text-gray-600 mt-1"},"Jadwal maintenance asset")],-1)),e("div",q,[e("button",{onClick:L,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center gap-2"},t[4]||(t[4]=[e("i",{class:"fa-solid fa-download"},null,-1),c(" Export ")])),U(B(F),{href:"/asset-management/reports",class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50"},{default:k(()=>t[5]||(t[5]=[e("i",{class:"fa-solid fa-arrow-left"},null,-1),c(" Kembali ")])),_:1})])]),e("div",W,[e("div",z,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Asset",-1)),y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},[t[7]||(t[7]=e("option",{value:""},"Semua Asset",-1)),(n(!0),o(h,null,A(r.assets,s=>(n(),o("option",{key:s.id,value:s.id},l(s.asset_code)+" - "+l(s.name),9,G))),128))],512),[[g,u.value]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type",-1)),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},t[9]||(t[9]=[e("option",{value:""},"Semua Tipe",-1),e("option",{value:"Cleaning"},"Cleaning",-1),e("option",{value:"Service"},"Service",-1),e("option",{value:"Repair"},"Repair",-1),e("option",{value:"Inspection"},"Inspection",-1)]),512),[[g,d.value]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>p.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},t[11]||(t[11]=[e("option",{value:"all"},"Semua Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[g,p.value]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Due Status",-1)),y(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},t[13]||(t[13]=[e("option",{value:"all"},"Semua",-1),e("option",{value:"due"},"Due",-1),e("option",{value:"overdue"},"Overdue",-1),e("option",{value:"upcoming"},"Upcoming",-1)]),512),[[g,m.value]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Action",-1)),e("button",{onClick:I,class:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg"}," Apply Filters ")])])]),e("div",H,[e("div",J,[e("table",K,[t[17]||(t[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Asset"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Frequency"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Last Maintenance"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Next Maintenance"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),e("tbody",P,[r.schedules.length===0?(n(),o("tr",Q,t[16]||(t[16]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"}," Tidak ada data ",-1)]))):C("",!0),(n(!0),o(h,null,A(r.schedules,s=>{var S,D;return n(),o("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",$,[e("div",null,[e("p",X,l((S=s.asset)==null?void 0:S.asset_code),1),e("p",Y,l((D=s.asset)==null?void 0:D.name),1)])]),e("td",Z,l(s.maintenance_type),1),e("td",ee,l(s.frequency),1),e("td",te,l(f(s.last_maintenance_date)),1),e("td",{class:V(["px-6 py-4 whitespace-nowrap text-sm",M(s.next_maintenance_date)?"font-semibold text-red-600":"text-gray-500"])},[c(l(f(s.next_maintenance_date))+" ",1),N(s.next_maintenance_date)?(n(),o("span",se,"(Overdue)")):C("",!0)],2),e("td",ae,[e("span",{class:V([s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 rounded-full text-xs font-medium"])},l(s.is_active?"Active":"Inactive"),3)])])}),128))])])])])])]),_:1}))}};export{ce as default};
