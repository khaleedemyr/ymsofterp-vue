import{r as k,P as C,A as B,B as s,C as P,D as t,G as o,O as T,H as f,Q as n,J as V,L as a,E as v,N as d,F as b,M as p,l as h,I as c}from"./vendor-vue-g7iCcTkf.js";import{A as I}from"./AppLayout-PZ6hJL3l.js";import"./vendor-utils-CpgP2uT4.js";import"./app-HnvVj7H8.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BAmbAIMe.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const U={class:"max-w-4xl mx-auto py-8 px-2"},L={class:"flex items-center gap-2 mb-6"},M={class:"bg-white rounded-2xl shadow-2xl p-8"},O={class:"mb-6"},D={class:"mb-6"},F={class:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors"},J={key:0,class:"mt-2 text-sm text-green-600"},N={class:"mb-6"},S={class:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors"},$={key:0,class:"mt-2"},E={class:"text-sm text-green-600 mb-2"},G={class:"space-y-1"},K={class:"mb-6"},H={class:"flex flex-wrap gap-2 mb-4"},q=["onClick"],z={class:"border border-gray-200 rounded-xl p-4 bg-gray-50"},Q={key:0,class:"space-y-2"},R=["value"],W={key:1,class:"space-y-2"},X=["value"],Y={key:2,class:"space-y-2"},Z=["value"],ee={key:3,class:"space-y-2"},te=["value"],le={key:4,class:"space-y-2"},se=["value"],ae={key:0,class:"mt-3 p-3 bg-blue-50 rounded-lg"},ie={class:"text-sm text-blue-700"},oe={class:"font-semibold"},re={class:"flex justify-end gap-4 pt-6 border-t border-gray-200"},ne=["disabled"],ue={key:0,class:"fa fa-spinner fa-spin mr-2"},de={key:1,class:"fa fa-paper-plane mr-2"},he={__name:"Create",props:{users:Array,jabatans:Array,divisis:Array,levels:Array,outlets:Array},setup(_){const g=_,m=k("user"),r=k({user:[],jabatan:[],divisi:[],level:[],outlet:[]}),i=C({title:"",image:null,files:[],targets:[]});function w(){i.targets=[],Object.entries(r.value).forEach(([u,e])=>{e.forEach(l=>i.targets.push({type:u,id:l}))}),i.post(route("announcement.store"),{forceFormData:!0})}function j(u){return{user:"fa fa-user",jabatan:"fa fa-id-badge",divisi:"fa fa-building",level:"fa fa-layer-group",outlet:"fa fa-store"}[u]||"fa fa-users"}function A(u){return{user:"User",jabatan:"Jabatan",divisi:"Divisi",level:"Level",outlet:"Outlet"}[u]||u}function y(){return Object.values(r.value).reduce((u,e)=>u+e.length,0)}return(u,e)=>(s(),B(I,null,{default:P(()=>[t("div",U,[t("div",L,[t("button",{onClick:e[0]||(e[0]=l=>u.$inertia.visit("/announcement")),class:"text-blue-500 hover:underline"},e[10]||(e[10]=[t("i",{class:"fa fa-arrow-left"},null,-1),o(" Kembali ke Announcement ")])),e[11]||(e[11]=t("h1",{class:"text-2xl font-bold flex items-center gap-2 ml-4"},[t("i",{class:"fa-solid fa-bullhorn text-blue-500"}),o(" Buat Announcement ")],-1))]),t("div",M,[t("form",{onSubmit:T(w,["prevent"])},[t("div",O,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[t("i",{class:"fa fa-heading mr-2 text-blue-500"}),o("Judul Announcement ")],-1)),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>n(i).title=l),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Masukkan judul announcement..."},null,512),[[V,n(i).title]])]),t("div",D,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[t("i",{class:"fa fa-image mr-2 text-blue-500"}),o("Header Image (Opsional) ")],-1)),t("div",F,[t("input",{type:"file",onChange:e[2]||(e[2]=l=>n(i).image=l.target.files[0]),accept:"image/*",class:"hidden",id:"imageInput"},null,32),e[13]||(e[13]=t("label",{for:"imageInput",class:"cursor-pointer"},[t("i",{class:"fa fa-cloud-upload-alt text-4xl text-gray-400 mb-2"}),t("p",{class:"text-gray-600"},"Klik untuk memilih gambar atau drag & drop"),t("p",{class:"text-sm text-gray-500 mt-1"},"PNG, JPG, GIF hingga 5MB")],-1))]),n(i).image?(s(),a("div",J,[e[14]||(e[14]=t("i",{class:"fa fa-check mr-1"},null,-1)),o("File dipilih: "+d(n(i).image.name),1)])):v("",!0)]),t("div",N,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[t("i",{class:"fa fa-paperclip mr-2 text-blue-500"}),o("Lampiran File (Opsional) ")],-1)),t("div",S,[t("input",{type:"file",multiple:"",onChange:e[3]||(e[3]=l=>n(i).files=Array.from(l.target.files)),class:"hidden",id:"filesInput"},null,32),e[16]||(e[16]=t("label",{for:"filesInput",class:"cursor-pointer"},[t("i",{class:"fa fa-folder-open text-4xl text-gray-400 mb-2"}),t("p",{class:"text-gray-600"},"Klik untuk memilih file atau drag & drop"),t("p",{class:"text-sm text-gray-500 mt-1"},"Bisa memilih multiple file")],-1))]),n(i).files.length>0?(s(),a("div",$,[t("p",E,[e[17]||(e[17]=t("i",{class:"fa fa-check mr-1"},null,-1)),o(d(n(i).files.length)+" file dipilih: ",1)]),t("div",G,[(s(!0),a(b,null,p(n(i).files,(l,x)=>(s(),a("div",{key:x,class:"text-sm text-gray-600 bg-gray-50 px-3 py-1 rounded"},[e[18]||(e[18]=t("i",{class:"fa fa-file mr-2"},null,-1)),o(d(l.name),1)]))),128))])])):v("",!0)]),t("div",K,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[t("i",{class:"fa fa-users mr-2 text-blue-500"}),o("Pilih Target ")],-1)),t("div",H,[(s(),a(b,null,p(["user","jabatan","divisi","level","outlet"],l=>t("button",{key:l,type:"button",class:h(["px-4 py-2 rounded-lg font-medium transition-all",m.value===l?"bg-blue-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"]),onClick:x=>m.value=l},[t("i",{class:h([j(l),"mr-2"])},null,2),o(" "+d(A(l)),1)],10,q)),64))]),t("div",z,[m.value==="user"?(s(),a("div",Q,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pilih User:",-1)),f(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>r.value.user=l),multiple:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(s(!0),a(b,null,p(g.users,l=>(s(),a("option",{key:l.id,value:l.id},d(l.nama_lengkap),9,R))),128))],512),[[c,r.value.user]])])):m.value==="jabatan"?(s(),a("div",W,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pilih Jabatan:",-1)),f(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>r.value.jabatan=l),multiple:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(s(!0),a(b,null,p(g.jabatans,l=>(s(),a("option",{key:l.id_jabatan,value:l.id_jabatan},d(l.nama_jabatan),9,X))),128))],512),[[c,r.value.jabatan]])])):m.value==="divisi"?(s(),a("div",Y,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pilih Divisi:",-1)),f(t("select",{"onUpdate:modelValue":e[6]||(e[6]=l=>r.value.divisi=l),multiple:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(s(!0),a(b,null,p(g.divisis,l=>(s(),a("option",{key:l.id,value:l.id},d(l.nama_divisi),9,Z))),128))],512),[[c,r.value.divisi]])])):m.value==="level"?(s(),a("div",ee,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pilih Level:",-1)),f(t("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>r.value.level=l),multiple:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(s(!0),a(b,null,p(g.levels,l=>(s(),a("option",{key:l.id,value:l.id},d(l.nama_level),9,te))),128))],512),[[c,r.value.level]])])):m.value==="outlet"?(s(),a("div",le,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},"Pilih Outlet:",-1)),f(t("select",{"onUpdate:modelValue":e[8]||(e[8]=l=>r.value.outlet=l),multiple:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[(s(!0),a(b,null,p(g.outlets,l=>(s(),a("option",{key:l.id_outlet,value:l.id_outlet},d(l.nama_outlet),9,se))),128))],512),[[c,r.value.outlet]])])):v("",!0)]),y()>0?(s(),a("div",ae,[t("p",ie,[e[25]||(e[25]=t("i",{class:"fa fa-info-circle mr-1"},null,-1)),e[26]||(e[26]=o(" Total target dipilih: ")),t("span",oe,d(y()),1)])])):v("",!0)]),t("div",re,[t("button",{type:"button",onClick:e[9]||(e[9]=l=>u.$inertia.visit("/announcement")),class:"px-6 py-3 text-gray-700 bg-gray-200 rounded-xl hover:bg-gray-300 transition-all font-medium"},e[28]||(e[28]=[t("i",{class:"fa fa-times mr-2"},null,-1),o("Batal ")])),t("button",{type:"submit",disabled:n(i).processing,class:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-xl hover:shadow-lg transition-all font-medium disabled:opacity-50"},[n(i).processing?(s(),a("i",ue)):(s(),a("i",de)),o(" "+d(n(i).processing?"Menyimpan...":"Kirim Announcement"),1)],8,ne)])],32)])])]),_:1}))}};export{he as default};
