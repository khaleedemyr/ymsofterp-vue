import{r as B,A as b,B as l,C as i,D as t,x as y,G as d,Q as x,S as c,N as a,H as h,J as v,L as p,E as g,F as N,M as V,W as P}from"./vendor-vue-g7iCcTkf.js";import{A}from"./AppLayout-DS2U8tWW.js";import"./vendor-utils-CpgP2uT4.js";import"./app-Vi2dpKR6.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Do674Z4r.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const F={class:"w-full py-8 px-0"},M={class:"flex justify-between items-center mb-6"},L={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},E={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-blue-500"},O={class:"text-2xl font-bold text-gray-800"},U={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-green-500"},H={class:"text-2xl font-bold text-green-600"},R={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-purple-500"},W={class:"text-2xl font-bold text-purple-600"},G={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},J={class:"flex gap-4 items-end"},K={class:"flex-1"},Q={class:"w-48"},$={class:"w-48"},q={class:"bg-white rounded-xl shadow-lg overflow-hidden"},z={class:"overflow-x-auto"},X={class:"min-w-full divide-y divide-gray-200"},Y={class:"bg-white divide-y divide-gray-200"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4 text-sm"},et={class:"font-medium text-gray-900"},st={class:"text-gray-500 text-xs"},rt={class:"px-6 py-4 whitespace-nowrap"},at={class:"px-2 py-1 text-sm font-semibold rounded-full bg-green-100 text-green-800"},ot={class:"px-6 py-4 text-sm text-gray-600"},lt=["title"],nt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},it={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},dt={class:"px-6 py-4 whitespace-nowrap text-sm"},xt={key:0,class:"text-center py-12"},ct={key:1,class:"px-6 py-4 border-t border-gray-200"},ut={class:"flex items-center justify-between"},pt={class:"text-sm text-gray-700"},gt={class:"flex gap-2"},It={__name:"Index",props:{transactions:Object,stats:Object,filters:Object},setup(r){var k,j,I;const m=r,o=B({search:((k=m.filters)==null?void 0:k.search)||"",date_from:((j=m.filters)==null?void 0:j.date_from)||"",date_to:((I=m.filters)==null?void 0:I.date_to)||""});let f=null;const S=()=>{f&&clearTimeout(f),f=setTimeout(()=>{u()},500)},u=()=>{P.get("/manual-point",o.value,{preserveState:!0,preserveScroll:!0})},C=()=>{o.value={search:"",date_from:"",date_to:""},u()},w=n=>n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-",_=n=>n?new Intl.NumberFormat("id-ID").format(n):"0";return(n,e)=>(l(),b(A,null,{default:i(()=>[t("div",F,[t("div",M,[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-coins"}),d(" Inject Point Manual ")],-1)),y(x(c),{href:"/manual-point/create",class:"px-4 py-2 bg-gradient-to-r from-green-500 to-green-700 text-white rounded-lg font-semibold hover:from-green-600 hover:to-green-800 transition-all flex items-center gap-2"},{default:i(()=>e[3]||(e[3]=[t("i",{class:"fa-solid fa-plus"},null,-1),d(" Inject Point Baru ")])),_:1})]),t("div",L,[t("div",E,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-600 mb-1"},"Total Injections",-1)),t("div",O,a(r.stats.total_injections),1)]),t("div",U,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-600 mb-1"},"Total Points Injected",-1)),t("div",H,a(_(r.stats.total_points_injected)),1)]),t("div",R,[e[7]||(e[7]=t("div",{class:"text-sm text-gray-600 mb-1"},"Injections Hari Ini",-1)),t("div",W,a(r.stats.today_injections),1)])]),t("div",G,[t("div",J,[t("div",K,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari",-1)),h(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>o.value.search=s),onInput:S,placeholder:"Cari member ID, nama, email, atau reference ID...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[v,o.value.search]])]),t("div",Q,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dari Tanggal",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=s=>o.value.date_from=s),onChange:u,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[v,o.value.date_from]])]),t("div",$,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sampai Tanggal",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=s=>o.value.date_to=s),onChange:u,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[v,o.value.date_to]])]),t("div",null,[t("button",{onClick:C,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"}," Reset ")])])]),t("div",q,[t("div",z,[t("table",X,[e[12]||(e[12]=t("thead",{class:"bg-gradient-to-r from-green-500 to-green-700 text-white"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"ID"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Member"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Point Amount"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Reference ID"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Keterangan"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Tanggal Transaksi"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Expiry Date"),t("th",{class:"px-6 py-3 text-left text-xs font-bold uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",Y,[(l(!0),p(N,null,V(r.transactions.data,s=>{var D,T;return l(),p("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Z," #"+a(s.id),1),t("td",tt,[t("div",et,a(((D=s.member)==null?void 0:D.nama_lengkap)||"-"),1),t("div",st,a(((T=s.member)==null?void 0:T.member_id)||"-"),1)]),t("td",rt,[t("span",at," +"+a(_(s.point_amount))+" points ",1)]),t("td",ot,a(s.reference_id||"-"),1),t("td",{class:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",title:s.description},a(s.description),9,lt),t("td",nt,a(w(s.transaction_date)),1),t("td",it,a(w(s.expires_at)),1),t("td",dt,[y(x(c),{href:`/manual-point/${s.id}`,class:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition"},{default:i(()=>e[11]||(e[11]=[t("i",{class:"fa-solid fa-eye mr-1"},null,-1),d(" Detail ")])),_:2},1032,["href"])])])}),128))])])]),r.transactions.data.length===0?(l(),p("div",xt,[e[14]||(e[14]=t("i",{class:"fa-solid fa-coins text-6xl text-gray-300 mb-4"},null,-1)),e[15]||(e[15]=t("p",{class:"text-gray-500 text-lg"},"Belum ada point injection",-1)),y(x(c),{href:"/manual-point/create",class:"mt-4 inline-block px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition"},{default:i(()=>e[13]||(e[13]=[d(" Inject Point Pertama ")])),_:1})])):g("",!0),r.transactions.data.length>0?(l(),p("div",ct,[t("div",ut,[t("div",pt," Menampilkan "+a(r.transactions.from)+" sampai "+a(r.transactions.to)+" dari "+a(r.transactions.total)+" injection ",1),t("div",gt,[r.transactions.prev_page_url?(l(),b(x(c),{key:0,href:r.transactions.prev_page_url,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"},{default:i(()=>e[16]||(e[16]=[t("i",{class:"fa-solid fa-chevron-left mr-1"},null,-1),d(" Sebelumnya ")])),_:1},8,["href"])):g("",!0),r.transactions.next_page_url?(l(),b(x(c),{key:1,href:r.transactions.next_page_url,class:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition"},{default:i(()=>e[17]||(e[17]=[d(" Selanjutnya "),t("i",{class:"fa-solid fa-chevron-right ml-1"},null,-1)])),_:1},8,["href"])):g("",!0)])])])):g("",!0)])])]),_:1}))}};export{It as default};
