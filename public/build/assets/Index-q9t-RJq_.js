import{r as I,A as k,B as i,C as c,D as e,L as u,E as p,x as _,G as a,Q as y,S as h,H as w,J as C,I as A,F as V,M,N as n,l as R,W as P}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-BdiuRSin.js";import{a as N}from"./vendor-utils-CpgP2uT4.js";import{S as D}from"./app-xIQ7JztA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-LiNpoaCg.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const H={class:"w-full py-8 px-4"},J={class:"flex justify-between items-center mb-6"},q={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},G={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},X=["value"],z={class:"bg-white rounded-xl shadow-lg overflow-hidden"},Q={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200"},$={class:"bg-white divide-y divide-gray-200"},K={key:0},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"text-sm font-semibold text-gray-900"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"text-sm text-gray-700"},ae={class:"px-6 py-4 whitespace-nowrap"},oe={class:"text-sm text-gray-700"},re={class:"px-6 py-4 whitespace-nowrap"},le={class:"text-sm text-gray-700"},ie={class:"px-6 py-4 whitespace-nowrap"},ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"text-sm text-gray-700"},ue={class:"px-6 py-4 whitespace-nowrap"},fe={class:"flex items-center justify-center gap-2"},ce=["onClick"],pe={key:0,class:"mt-6 flex flex-col sm:flex-row justify-between items-center gap-4"},ge={class:"text-sm text-gray-600 bg-gray-50 px-4 py-2 rounded-lg"},xe={class:"font-semibold text-gray-900"},me={class:"font-semibold text-gray-900"},be={class:"font-semibold text-gray-900"},ye={class:"flex gap-2"},Be={__name:"Index",props:{stockOpnames:Object,warehouses:Array,filters:Object,canDelete:Boolean},setup(o){var O,E,T,S,B;const f=o,l=I({search:((O=f.filters)==null?void 0:O.search)||"",status:((E=f.filters)==null?void 0:E.status)||"all",warehouse_id:((T=f.filters)==null?void 0:T.warehouse_id)||"",date_from:((S=f.filters)==null?void 0:S.date_from)||"",date_to:((B=f.filters)==null?void 0:B.date_to)||""});function g(){P.get(route("warehouse-stock-opnames.index"),l.value,{preserveState:!0,preserveScroll:!0})}function L(r){return r?new Date(r).toLocaleDateString("id-ID"):"-"}function W(r){return{DRAFT:"bg-gray-100 text-gray-700 border border-gray-300",SUBMITTED:"bg-yellow-100 text-yellow-700 border border-yellow-300",APPROVED:"bg-green-100 text-green-700 border border-green-300",REJECTED:"bg-red-100 text-red-700 border border-red-300",COMPLETED:"bg-blue-100 text-blue-700 border border-blue-300"}[r]||"bg-gray-100 text-gray-700 border border-gray-300"}function j(r){return{DRAFT:"fa-solid fa-file",SUBMITTED:"fa-solid fa-paper-plane",APPROVED:"fa-solid fa-check-circle",REJECTED:"fa-solid fa-times-circle",COMPLETED:"fa-solid fa-check-double"}[r]||"fa-solid fa-info-circle"}async function F(r){const t=await D.fire({title:"Hapus Warehouse Stock Opname?",text:"Apakah Anda yakin ingin menghapus warehouse stock opname ini? Tindakan ini tidak dapat dibatalkan.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal",reverseButtons:!0,showLoaderOnConfirm:!0,preConfirm:async()=>{var s,x,m,b;try{return await N.delete(route("warehouse-stock-opnames.destroy",r),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}})}catch(d){let v="Gagal menghapus warehouse stock opname";return(x=(s=d.response)==null?void 0:s.data)!=null&&x.message?v=d.response.data.message:(b=(m=d.response)==null?void 0:m.data)!=null&&b.error?v=d.response.data.error:d.message&&(v=d.message),D.showValidationMessage(v),!1}},allowOutsideClick:()=>!D.isLoading()});t.isConfirmed&&t.value?(await D.fire({title:"Berhasil!",text:"Warehouse stock opname berhasil dihapus.",icon:"success",confirmButtonColor:"#3085d6",timer:2e3,timerProgressBar:!0}),P.reload()):t.isDismissed}return(r,t)=>(i(),k(U,null,{default:c(()=>[e("div",H,[e("div",J,[t[6]||(t[6]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-clipboard-check text-blue-500"}),a(" Warehouse Stock Opname ")],-1)),_(y(h),{href:r.route("warehouse-stock-opnames.create"),class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:c(()=>t[5]||(t[5]=[e("i",{class:"fa-solid fa-plus mr-2"},null,-1),a(" Buat Warehouse Stock Opname Baru ")])),_:1},8,["href"])]),e("div",q,[e("div",G,[w(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>l.value.search=s),onInput:g,placeholder:"Cari opname number, notes...",class:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[C,l.value.search]]),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.status=s),onChange:g,class:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[7]||(t[7]=[e("option",{value:"all"},"Semua Status",-1),e("option",{value:"DRAFT"},"Draft",-1),e("option",{value:"SUBMITTED"},"Submitted",-1),e("option",{value:"APPROVED"},"Approved",-1),e("option",{value:"REJECTED"},"Rejected",-1),e("option",{value:"COMPLETED"},"Completed",-1)]),544),[[A,l.value.status]]),w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.warehouse_id=s),onChange:g,class:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[8]||(t[8]=e("option",{value:""},"Semua Warehouse",-1)),(i(!0),u(V,null,M(o.warehouses,s=>(i(),u("option",{key:s.id,value:s.id},n(s.name),9,X))),128))],544),[[A,l.value.warehouse_id]]),w(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>l.value.date_from=s),onChange:g,class:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[C,l.value.date_from]]),w(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=s=>l.value.date_to=s),onChange:g,class:"px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[C,l.value.date_to]])])]),e("div",z,[e("div",Q,[e("table",Y,[t[17]||(t[17]=e("thead",{class:"bg-gradient-to-r from-blue-50 to-indigo-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-hashtag mr-2 text-blue-500"}),a("Opname Number ")]),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-warehouse mr-2 text-blue-500"}),a("Warehouse ")]),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-building mr-2 text-blue-500"}),a("Warehouse Division ")]),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-calendar mr-2 text-blue-500"}),a("Tanggal ")]),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-info-circle mr-2 text-blue-500"}),a("Status ")]),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-user mr-2 text-blue-500"}),a("Created By ")]),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider"},[e("i",{class:"fa-solid fa-cog mr-2 text-blue-500"}),a("Actions ")])])],-1)),e("tbody",$,[o.stockOpnames.data.length===0?(i(),u("tr",K,t[9]||(t[9]=[e("td",{colspan:"7",class:"text-center py-16"},[e("div",{class:"flex flex-col items-center justify-center"},[e("i",{class:"fa-solid fa-inbox text-6xl text-gray-300 mb-4"}),e("p",{class:"text-gray-500 text-lg font-medium"},"Tidak ada data warehouse stock opname"),e("p",{class:"text-gray-400 text-sm mt-2"},"Mulai dengan membuat warehouse stock opname baru")])],-1)]))):p("",!0),(i(!0),u(V,null,M(o.stockOpnames.data,s=>{var x,m,b;return i(),u("tr",{key:s.id,class:"hover:bg-blue-50 transition-colors duration-150"},[e("td",Z,[e("div",ee,n(s.opname_number),1)]),e("td",te,[e("div",se,[t[10]||(t[10]=e("i",{class:"fa-solid fa-warehouse mr-2 text-gray-400"},null,-1)),a(" "+n(((x=s.warehouse)==null?void 0:x.name)||"-"),1)])]),e("td",ae,[e("div",oe,[t[11]||(t[11]=e("i",{class:"fa-solid fa-building mr-2 text-gray-400"},null,-1)),a(" "+n(((m=s.warehouse_division)==null?void 0:m.name)||"-"),1)])]),e("td",re,[e("div",le,[t[12]||(t[12]=e("i",{class:"fa-solid fa-calendar mr-2 text-gray-400"},null,-1)),a(" "+n(L(s.opname_date)),1)])]),e("td",ie,[e("span",{class:R([W(s.status),"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold"])},[e("i",{class:R([j(s.status),"mr-1.5"])},null,2),a(" "+n(s.status),1)],2)]),e("td",ne,[e("div",de,[t[13]||(t[13]=e("i",{class:"fa-solid fa-user mr-2 text-gray-400"},null,-1)),a(" "+n(((b=s.creator)==null?void 0:b.nama_lengkap)||"-"),1)])]),e("td",ue,[e("div",fe,[_(y(h),{href:r.route("warehouse-stock-opnames.show",s.id),class:"inline-flex items-center px-3 py-1.5 bg-blue-500 text-white text-xs font-semibold rounded-lg hover:bg-blue-600 transition-colors shadow-sm",title:"View Details"},{default:c(()=>t[14]||(t[14]=[e("i",{class:"fa-solid fa-eye mr-1.5"},null,-1),a(" View ")])),_:2},1032,["href"]),s.status==="DRAFT"?(i(),k(y(h),{key:0,href:r.route("warehouse-stock-opnames.edit",s.id),class:"inline-flex items-center px-3 py-1.5 bg-green-500 text-white text-xs font-semibold rounded-lg hover:bg-green-600 transition-colors shadow-sm",title:"Edit"},{default:c(()=>t[15]||(t[15]=[e("i",{class:"fa-solid fa-edit mr-1.5"},null,-1),a(" Edit ")])),_:2},1032,["href"])):p("",!0),s.status==="DRAFT"&&f.canDelete?(i(),u("button",{key:1,onClick:d=>F(s.id),class:"inline-flex items-center px-3 py-1.5 bg-red-500 text-white text-xs font-semibold rounded-lg hover:bg-red-600 transition-colors shadow-sm",title:"Delete"},t[16]||(t[16]=[e("i",{class:"fa-solid fa-trash mr-1.5"},null,-1),a(" Delete ")]),8,ce)):p("",!0)])])])}),128))])])])]),o.stockOpnames.data.length>0?(i(),u("div",pe,[e("div",ge,[t[18]||(t[18]=e("i",{class:"fa-solid fa-info-circle mr-2 text-blue-500"},null,-1)),t[19]||(t[19]=a(" Menampilkan ")),e("span",xe,n(o.stockOpnames.from),1),t[20]||(t[20]=a(" - ")),e("span",me,n(o.stockOpnames.to),1),t[21]||(t[21]=a(" dari ")),e("span",be,n(o.stockOpnames.total),1),t[22]||(t[22]=a(" data "))]),e("div",ye,[o.stockOpnames.prev_page_url?(i(),k(y(h),{key:0,href:o.stockOpnames.prev_page_url,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-sm font-semibold text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm"},{default:c(()=>t[23]||(t[23]=[e("i",{class:"fa-solid fa-chevron-left mr-2"},null,-1),a(" Prev ")])),_:1},8,["href"])):p("",!0),o.stockOpnames.next_page_url?(i(),k(y(h),{key:1,href:o.stockOpnames.next_page_url,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-sm font-semibold text-gray-700 rounded-lg hover:bg-gray-50 transition-colors shadow-sm"},{default:c(()=>t[24]||(t[24]=[a(" Next "),e("i",{class:"fa-solid fa-chevron-right ml-2"},null,-1)])),_:1},8,["href"])):p("",!0)])])):p("",!0)])]),_:1}))}};export{Be as default};
