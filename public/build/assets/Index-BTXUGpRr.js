import{r as x,w as U,A as $,B as s,C as T,D as e,x as O,G as f,Q as F,S as W,H as b,J as y,I as z,L as l,E as j,F as A,M as V,N as n,l as G,W as g}from"./vendor-vue-g7iCcTkf.js";import{A as J}from"./AppLayout-_5DIDCQX.js";import{S as v}from"./app-fC6wJyCz.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-OI-F7Vdc.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const Q={class:"w-full py-8 px-0"},R={class:"flex justify-between items-center mb-6"},Y={class:"flex flex-wrap gap-3 mb-4 items-center"},q={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},K={class:"w-full min-w-full divide-y divide-gray-200"},X={key:0},Z={class:"px-6 py-3 font-mono font-semibold text-blue-700"},ee={class:"px-6 py-3"},te={class:"px-6 py-3"},ae={class:"px-6 py-3"},oe={class:"px-6 py-3"},se={class:"px-6 py-3"},ne={class:"px-6 py-3"},re={class:"px-6 py-3"},le={class:"flex gap-2"},ue=["onClick"],de=["onClick"],ie={class:"flex justify-end mt-4 gap-2"},pe=["disabled","onClick","innerHTML"],ke={__name:"Index",props:{transfers:Object,filters:Object,canDelete:{type:Boolean,default:!1}},setup(u){var k,C,_,D;const r=u,d=x(((k=r.filters)==null?void 0:k.search)||""),i=x(((C=r.filters)==null?void 0:C.status)||""),p=x(((_=r.filters)==null?void 0:_.from)||""),c=x(((D=r.filters)==null?void 0:D.to)||"");U(()=>r.filters,o=>{d.value=(o==null?void 0:o.search)||"",i.value=(o==null?void 0:o.status)||"",p.value=(o==null?void 0:o.from)||"",c.value=(o==null?void 0:o.to)||""},{immediate:!0});function I(o){return o?new Date(o).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function m(){g.get("/warehouse-transfer",{search:d.value,status:i.value,from:p.value,to:c.value},{preserveState:!0,replace:!0})}function L(){m()}function N(){m()}function w(){m()}function M(o){o&&g.visit(o,{preserveState:!0,replace:!0})}function E(o){g.visit(`/warehouse-transfer/${o}`)}function H(o){o&&v.fire({title:"Apakah Anda yakin?",text:"Data yang dihapus tidak dapat dikembalikan!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, hapus!",cancelButtonText:"Batal"}).then(a=>{a.isConfirmed&&g.delete(route("warehouse-transfer.destroy",o),{onSuccess:()=>{v.fire("Terhapus!","Data berhasil dihapus.","success")},onError:()=>{v.fire("Error!","Terjadi kesalahan saat menghapus data.","error")}})})}return(o,a)=>(s(),$(J,null,{default:T(()=>[e("div",Q,[e("div",R,[a[5]||(a[5]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-right-left"}),f(" Pindah Gudang ")],-1)),O(F(W),{href:o.route("warehouse-transfer.create"),class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:T(()=>a[4]||(a[4]=[f(" + Buat Pindah Gudang ")])),_:1},8,["href"])]),e("div",Y,[b(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>d.value=t),onInput:L,type:"text",placeholder:"Cari nomor transfer/gudang...",class:"w-64 px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,544),[[y,d.value]]),b(e("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>i.value=t),onChange:N,class:"px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},a[6]||(a[6]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)]),544),[[z,i.value]]),b(e("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=t=>p.value=t),onChange:w,class:"px-2 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition",placeholder:"Dari tanggal"},null,544),[[y,p.value]]),a[7]||(a[7]=e("span",null,"-",-1)),b(e("input",{type:"date","onUpdate:modelValue":a[3]||(a[3]=t=>c.value=t),onChange:w,class:"px-2 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus-border-blue-400 transition",placeholder:"Sampai tanggal"},null,544),[[y,c.value]])]),e("div",q,[e("table",K,[a[11]||(a[11]=e("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"Nomor"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Tanggal"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Gudang Asal"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Gudang Tujuan"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Total Item"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Dibuat Oleh"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),e("tbody",null,[!u.transfers.data||!u.transfers.data.length?(s(),l("tr",X,a[8]||(a[8]=[e("td",{colspan:"8",class:"text-center py-10 text-gray-400"},"Belum ada data Pindah Gudang.",-1)]))):j("",!0),(s(!0),l(A,null,V(u.transfers.data,t=>{var h,S,B;return s(),l("tr",{key:t.id,class:"hover:bg-blue-50 transition shadow-sm"},[e("td",Z,n(t.transfer_number),1),e("td",ee,n(I(t.transfer_date)),1),e("td",te,n((h=t.warehouse_from)==null?void 0:h.name),1),e("td",ae,n((S=t.warehouse_to)==null?void 0:S.name),1),e("td",oe,n(t.total_items),1),e("td",se,[e("span",{class:G([{"bg-gray-100 text-gray-700":t.status==="draft","bg-green-100 text-green-700":t.status==="approved","bg-red-100 text-red-700":t.status==="rejected"},"px-2 py-1 rounded-full text-xs font-semibold shadow"])},n(t.status),3)]),e("td",ne,n((B=t.creator)==null?void 0:B.nama_lengkap),1),e("td",re,[e("div",le,[e("button",{onClick:P=>E(t.id),class:"inline-flex items-center btn btn-xs bg-blue-100 text-blue-800 hover:bg-blue-200 rounded px-2 py-1 font-semibold transition"},a[9]||(a[9]=[e("i",{class:"fa fa-eye mr-1"},null,-1),f(" Detail ")]),8,ue),r.canDelete?(s(),l("button",{key:0,onClick:P=>H(t.id),class:"inline-flex items-center btn btn-xs bg-red-100 text-red-700 hover:bg-red-200 rounded px-2 py-1 font-semibold transition"},a[10]||(a[10]=[e("i",{class:"fa fa-trash mr-1"},null,-1),f(" Hapus ")]),8,de)):j("",!0)])])])}),128))])])]),e("div",ie,[(s(!0),l(A,null,V(u.transfers.links,t=>(s(),l("button",{key:t.label,disabled:!t.url,onClick:h=>M(t.url),innerHTML:t.label,class:G(["px-3 py-1 rounded-lg border text-sm font-semibold",[t.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",t.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,pe))),128))])])]),_:1}))}};export{ke as default};
