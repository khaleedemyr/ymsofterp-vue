import{c as g,P as K,r as w,A as Q,B as i,C as q,D as t,G as k,L as r,O as z,H as f,E as v,Q as o,F as c,M as p,N as a,I as T,J as C,x as N,W as D}from"./vendor-vue-g7iCcTkf.js";import{A as X}from"./AppLayout-CCl6N_RX.js";import{s as P}from"./VueTimepicker-BGHuji_y.js";import"./vendor-utils-CpgP2uT4.js";import"./app-DvUgkxHf.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-oDgFzWKX.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const Y={class:"max-w-4xl w-full mx-auto py-8 px-2"},Z={class:"flex items-center gap-2 mb-6"},I={class:"text-2xl font-bold text-gray-800 flex items-center gap-2 ml-4"},ee={key:0},te={key:1},se=["value"],oe={key:0,class:"text-xs text-red-500 mt-1"},le={class:"border rounded mb-2 h-32 overflow-y-auto"},ie=["onClick"],re=["checked"],ne={class:"flex flex-wrap gap-2 mt-2"},ae=["onClick"],de={key:0,class:"text-xs text-red-500 mt-1"},ue={class:"border rounded mb-2 h-32 overflow-y-auto"},me=["onClick"],ce=["checked"],pe={class:"flex flex-wrap gap-2 mt-2"},ve=["onClick"],xe={key:0,class:"text-xs text-red-500 mt-1"},be={class:"border rounded mb-2 h-32 overflow-y-auto"},fe=["onClick"],_e=["checked"],ye={class:"flex flex-wrap gap-2 mt-2"},he=["onClick"],ge={key:0,class:"text-xs text-red-500 mt-1"},ke=["value"],we={key:0,class:"text-xs text-red-500 mt-1"},Ce={class:"grid grid-cols-2 gap-4"},De={key:0,class:"text-xs text-red-500 mt-1"},Ve={key:0,class:"text-xs text-red-500 mt-1"},Se={class:"flex justify-end gap-2 pt-4"},Be=["disabled"],Pe={__name:"Form",props:{editData:Object,regions:Array,outlets:Array,warehouseDivisions:Array,foModes:Array},setup(x){var B,H,L,M,O,A,F,J,U,$;const n=x,V=g(()=>!!n.editData),R=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=K({fo_mode:((B=n.editData)==null?void 0:B.fo_mode)||"",warehouse_division_ids:((L=(H=n.editData)==null?void 0:H.warehouse_divisions)==null?void 0:L.map(d=>d.id))||[],day:((M=n.editData)==null?void 0:M.day)||"",open_time:((O=n.editData)==null?void 0:O.open_time)||"",close_time:((A=n.editData)==null?void 0:A.close_time)||"",region_ids:((J=(F=n.editData)==null?void 0:F.regions)==null?void 0:J.map(d=>d.id))||[],outlet_ids:(($=(U=n.editData)==null?void 0:U.outlets)==null?void 0:$.map(d=>d.id_outlet))||[]}),_=w(""),W=g(()=>_.value?n.regions.filter(d=>d.name.toLowerCase().includes(_.value.toLowerCase())):n.regions),y=w(""),j=g(()=>y.value?n.outlets.filter(d=>d.nama_outlet.toLowerCase().includes(y.value.toLowerCase())):n.outlets),h=w(""),E=g(()=>h.value?n.warehouseDivisions.filter(d=>d.name.toLowerCase().includes(h.value.toLowerCase())):n.warehouseDivisions);function G(){V.value?s.put(`/fo-schedules/${n.editData.id}`,{onSuccess:()=>D.visit("/fo-schedules")}):s.post("/fo-schedules",{onSuccess:()=>D.visit("/fo-schedules")})}function S(){D.visit("/fo-schedules")}return(d,l)=>(i(),Q(X,null,{default:q(()=>[t("div",Y,[t("div",Z,[t("button",{onClick:S,class:"text-blue-500 hover:underline"},l[7]||(l[7]=[t("i",{class:"fa fa-arrow-left"},null,-1),k(" Kembali ")])),t("h1",I,[l[8]||(l[8]=t("i",{class:"fa-solid fa-calendar-days text-blue-500"},null,-1)),V.value?(i(),r("span",ee,"Edit Jadwal RO")):(i(),r("span",te,"Buat Jadwal RO"))])]),t("form",{onSubmit:z(G,["prevent"]),class:"bg-white rounded-2xl shadow-2xl p-6 space-y-6"},[t("div",null,[l[10]||(l[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mode RO",-1)),f(t("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>o(s).fo_mode=e),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},[l[9]||(l[9]=t("option",{value:""},"Pilih Mode FO",-1)),(i(!0),r(c,null,p(x.foModes,e=>(i(),r("option",{key:e,value:e},a(e),9,se))),128))],512),[[T,o(s).fo_mode]]),o(s).errors.fo_mode?(i(),r("div",oe,a(o(s).errors.fo_mode),1)):v("",!0)]),t("div",null,[l[11]||(l[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Warehouse Division",-1)),f(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>h.value=e),type:"text",placeholder:"Cari warehouse division...",class:"input w-full mb-2"},null,512),[[C,h.value]]),t("div",le,[(i(!0),r(c,null,p(E.value,e=>(i(),r("div",{key:e.id,class:"flex items-center px-2 py-1 hover:bg-blue-50 cursor-pointer",onClick:u=>!o(s).warehouse_division_ids.includes(e.id)&&o(s).warehouse_division_ids.push(e.id)},[t("input",{type:"checkbox",checked:o(s).warehouse_division_ids.includes(e.id),class:"mr-2"},null,8,re),t("span",null,a(e.name),1)],8,ie))),128))]),t("div",ne,[(i(!0),r(c,null,p(o(s).warehouse_division_ids,e=>{var u;return i(),r("span",{key:e,class:"bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center"},[k(a(((u=x.warehouseDivisions.find(m=>m.id===e))==null?void 0:u.name)||e)+" ",1),t("button",{type:"button",class:"ml-1 text-red-500 hover:text-red-700",onClick:m=>o(s).warehouse_division_ids=o(s).warehouse_division_ids.filter(b=>b!==e),title:"Hapus"},"×",8,ae)])}),128))]),o(s).errors.warehouse_division_ids?(i(),r("div",de,a(o(s).errors.warehouse_division_ids),1)):v("",!0)]),t("div",null,[l[12]||(l[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Regions",-1)),f(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>_.value=e),type:"text",placeholder:"Cari region...",class:"input w-full mb-2"},null,512),[[C,_.value]]),t("div",ue,[(i(!0),r(c,null,p(W.value,e=>(i(),r("div",{key:e.id,class:"flex items-center px-2 py-1 hover:bg-blue-50 cursor-pointer",onClick:u=>!o(s).region_ids.includes(e.id)&&o(s).region_ids.push(e.id)},[t("input",{type:"checkbox",checked:o(s).region_ids.includes(e.id),class:"mr-2"},null,8,ce),t("span",null,a(e.name),1)],8,me))),128))]),t("div",pe,[(i(!0),r(c,null,p(o(s).region_ids,e=>{var u;return i(),r("span",{key:e,class:"bg-blue-100 text-blue-700 px-2 py-1 rounded flex items-center"},[k(a(((u=x.regions.find(m=>m.id===e))==null?void 0:u.name)||e)+" ",1),t("button",{type:"button",class:"ml-1 text-red-500 hover:text-red-700",onClick:m=>o(s).region_ids=o(s).region_ids.filter(b=>b!==e),title:"Hapus"},"×",8,ve)])}),128))]),o(s).errors.region_ids?(i(),r("div",xe,a(o(s).errors.region_ids),1)):v("",!0)]),t("div",null,[l[13]||(l[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Outlets",-1)),f(t("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>y.value=e),type:"text",placeholder:"Cari outlet...",class:"input w-full mb-2"},null,512),[[C,y.value]]),t("div",be,[(i(!0),r(c,null,p(j.value,e=>(i(),r("div",{key:e.id_outlet,class:"flex items-center px-2 py-1 hover:bg-blue-50 cursor-pointer",onClick:u=>!o(s).outlet_ids.includes(e.id_outlet)&&o(s).outlet_ids.push(e.id_outlet)},[t("input",{type:"checkbox",checked:o(s).outlet_ids.includes(e.id_outlet),class:"mr-2"},null,8,_e),t("span",null,a(e.nama_outlet),1)],8,fe))),128))]),t("div",ye,[(i(!0),r(c,null,p(o(s).outlet_ids,e=>{var u;return i(),r("span",{key:e,class:"bg-green-100 text-green-700 px-2 py-1 rounded flex items-center"},[k(a(((u=x.outlets.find(m=>m.id_outlet==e))==null?void 0:u.nama_outlet)||e)+" ",1),t("button",{type:"button",class:"ml-1 text-red-500 hover:text-red-700",onClick:m=>o(s).outlet_ids=o(s).outlet_ids.filter(b=>b!==e),title:"Hapus"},"×",8,he)])}),128))]),o(s).errors.outlet_ids?(i(),r("div",ge,a(o(s).errors.outlet_ids),1)):v("",!0)]),t("div",null,[l[15]||(l[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Hari",-1)),f(t("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>o(s).day=e),class:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-blue-500 focus:border-blue-500"},[l[14]||(l[14]=t("option",{value:""},"Pilih Hari",-1)),(i(),r(c,null,p(R,e=>t("option",{key:e,value:e},a(e),9,ke)),64))],512),[[T,o(s).day]]),o(s).errors.day?(i(),r("div",we,a(o(s).errors.day),1)):v("",!0)]),t("div",Ce,[t("div",null,[l[16]||(l[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jam Buka",-1)),N(o(P),{modelValue:o(s).open_time,"onUpdate:modelValue":l[5]||(l[5]=e=>o(s).open_time=e),format:"HH:mm","minute-interval":1,is24:!0,placeholder:"Pilih Jam Buka",clearable:!0},null,8,["modelValue"]),l[17]||(l[17]=t("small",{class:"text-gray-400"},"Format 24 jam (contoh: 14:30)",-1)),o(s).errors.open_time?(i(),r("div",De,a(o(s).errors.open_time),1)):v("",!0)]),t("div",null,[l[18]||(l[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jam Tutup",-1)),N(o(P),{modelValue:o(s).close_time,"onUpdate:modelValue":l[6]||(l[6]=e=>o(s).close_time=e),format:"HH:mm","minute-interval":1,is24:!0,placeholder:"Pilih Jam Tutup",clearable:!0},null,8,["modelValue"]),l[19]||(l[19]=t("small",{class:"text-gray-400"},"Format 24 jam (contoh: 18:00)",-1)),o(s).errors.close_time?(i(),r("div",Ve,a(o(s).errors.close_time),1)):v("",!0)])]),t("div",Se,[t("button",{type:"button",onClick:S,class:"px-4 py-2 rounded bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300"}," Batal "),t("button",{type:"submit",disabled:o(s).processing,class:"px-4 py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50"}," Simpan ",8,Be)])],32)])]),_:1}))}};export{Pe as default};
