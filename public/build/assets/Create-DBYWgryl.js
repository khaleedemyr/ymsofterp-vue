import{r as p,c as M,P as W,w as K,A as H,B as r,C as B,D as e,x as V,Q as c,S as F,G as g,O as z,L as i,E as a,H as b,l as h,J as y,N as s,F as w,M as k,I as S}from"./vendor-vue-g7iCcTkf.js";import{A as Y}from"./AppLayout-BqYoiRQJ.js";import{S as C}from"./app-D7xoXxxM.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Sbw2UVT4.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const J={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6 text-gray-900"},ee={class:"flex justify-between items-center mb-6"},te={class:"bg-gray-50 p-4 rounded-lg mb-6"},oe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},se={key:0,class:"text-red-500 text-xs mt-1"},re=["value"],ie={key:0,class:"text-red-500 text-xs mt-1"},de=["value"],ne={key:0,class:"text-red-500 text-xs mt-1"},le=["disabled"],ae=["disabled"],ue={key:0,value:"",disabled:""},me={key:1,value:"",disabled:""},ce=["value"],_e={key:0,class:"text-red-500 text-xs mt-1"},ge={class:"md:col-span-2"},be={key:0,class:"text-red-500 text-xs mt-1"},ve={key:0,class:"bg-blue-50 p-6 rounded-lg mb-6"},fe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},ye={key:0,class:"bg-white p-4 rounded-lg border"},xe={class:"text-lg font-semibold text-indigo-600"},pe={class:"text-sm text-gray-500"},he={class:"text-sm text-gray-600"},we={key:0,class:"text-xs text-gray-400 mt-1"},ke={key:1,class:"bg-white p-4 rounded-lg border"},je={class:"text-lg font-semibold text-blue-600"},De={class:"text-sm text-gray-500"},Se={class:"text-sm text-gray-600"},Ce={key:2,class:"bg-white p-4 rounded-lg border"},qe={class:"text-lg font-semibold text-orange-600"},Be={class:"text-sm text-gray-500"},$e={class:"text-sm text-gray-600"},Ue={key:3,class:"bg-white p-4 rounded-lg border"},Oe={class:"text-lg font-semibold text-green-600"},Ve={class:"text-sm text-gray-500"},Fe={class:"text-sm text-gray-600"},Le={class:"bg-gray-50 p-4 rounded-lg mb-6"},Re={class:"flex justify-between items-center mb-4"},Ae={key:0,class:"flex items-center text-blue-600"},Ee={key:0,class:"text-center py-8 text-gray-500"},Qe={key:1,class:"text-center py-8 text-gray-500"},Te={key:2,class:"space-y-4"},Ne={class:"flex justify-between items-start mb-4"},Pe={class:"font-medium"},Ge=["onClick"],Me={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},We={class:"relative"},Ke=["onUpdate:modelValue","onInput","onFocus","onBlur"],He={key:0,class:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},ze=["onClick"],Ye={class:"font-medium"},Je={class:"text-sm text-gray-500"},Xe={key:0,class:"text-red-500 text-xs mt-1"},Ze=["onUpdate:modelValue","disabled"],Ie=["value"],et={key:0,class:"text-red-500 text-xs mt-1"},tt=["onUpdate:modelValue"],ot={key:0,class:"text-red-500 text-xs mt-1"},st=["onUpdate:modelValue"],rt={key:0,class:"text-red-500 text-xs mt-1"},it={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},dt=["onUpdate:modelValue"],nt={key:0,class:"text-red-500 text-xs mt-1"},lt=["onUpdate:modelValue"],at={key:0,class:"text-red-500 text-xs mt-1"},ut={key:0,class:"mt-4 p-3 bg-blue-50 rounded-lg"},mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-3"},ct={key:0,class:"mt-3 pt-3 border-t border-blue-200"},_t={class:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs"},gt={class:"bg-blue-50 p-2 rounded border"},bt={class:"text-blue-600"},vt={class:"bg-green-50 p-2 rounded border"},ft={class:"text-green-600"},yt={class:"bg-orange-50 p-2 rounded border"},xt={class:"text-orange-600"},pt={class:"bg-purple-50 p-2 rounded border"},ht={class:"text-purple-600"},wt={class:"bg-red-50 p-2 rounded border"},kt={class:"text-red-600 font-bold"},jt={key:1,class:"mt-3 pt-3 border-t border-blue-200"},Dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},St={class:"bg-yellow-50 p-2 rounded border border-yellow-200"},Ct={class:"text-yellow-700 font-bold"},qt={class:"bg-green-50 p-2 rounded border border-green-200"},Bt={class:"text-green-700"},$t={key:2,class:"mt-3 pt-3 border-t border-blue-200"},Ut={class:"grid grid-cols-1 md:grid-cols-4 gap-2 text-xs"},Ot={key:0,class:"bg-white p-2 rounded border"},Vt={class:"text-indigo-600"},Ft={class:"text-gray-500"},Lt={class:"text-xs text-gray-400"},Rt={key:1,class:"bg-white p-2 rounded border"},At={class:"text-blue-600"},Et={class:"text-gray-500"},Qt={key:2,class:"bg-white p-2 rounded border"},Tt={class:"text-green-600"},Nt={class:"text-gray-500"},Pt={class:"bg-white p-2 rounded border"},Gt={class:"text-orange-600"},Mt={class:"flex justify-end space-x-4"},Wt=["disabled"],Kt={key:0,class:"fas fa-spinner fa-spin mr-2"},Ht={key:1,class:"fas fa-save mr-2"},io={__name:"Create",props:{outlets:Array,warehouses:Array,deliveryOrders:Array,errors:Object,documentFlowInfo:Object,itemsWithQuantityFlow:Object},setup(l){const $=l,j=p($.deliveryOrders||[]),q=p(""),_=p($.documentFlowInfo||null),f=p($.itemsWithQuantityFlow||{}),x=p(!1),D=p(!1),O=M(()=>{var t;const u=(t=q.value)==null?void 0:t.trim().toLowerCase();return u?j.value.filter(o=>[o.display_text,o.number,o.floor_order_number,o.floor_order_mode,o.packing_number,o.good_receive_number].filter(Boolean).join(" ").toLowerCase().includes(u)):j.value}),d=W({rejection_date:new Date().toISOString().split("T")[0],outlet_id:"",warehouse_id:"",delivery_order_id:"",notes:"",items:[]}),L=async u=>{(await C.fire({title:"Konfirmasi Hapus",text:"Apakah Anda yakin ingin menghapus item ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&(d.items.splice(u,1),C.fire("Terhapus!","Item berhasil dihapus.","success"))},R=async u=>{const t=d.items[u];if(t.item_search.length<2){t.search_results=[];return}try{const n=await(await fetch(`/outlet-rejections/api/items?search=${t.item_search}`)).json();t.search_results=n}catch(o){console.error("Error searching items:",o)}},A=u=>{d.items[u].show_dropdown=!0},E=u=>{setTimeout(()=>{d.items[u].show_dropdown=!1},200)},Q=(u,t)=>{const o=d.items[u];o.item_id=t.id,o.selected_item=t,o.item_search=t.name,o.show_dropdown=!1,o.search_results=[],o.unit_options=[];const n=new Set;t.small_unit_id&&t.small_unit&&(o.unit_options.push({id:t.small_unit_id,name:t.small_unit.name}),n.add(t.small_unit_id)),t.medium_unit_id&&t.medium_unit&&!n.has(t.medium_unit_id)&&(o.unit_options.push({id:t.medium_unit_id,name:t.medium_unit.name}),n.add(t.medium_unit_id)),t.large_unit_id&&t.large_unit&&!n.has(t.large_unit_id)&&o.unit_options.push({id:t.large_unit_id,name:t.large_unit.name}),o.unit_options.length===1?o.unit_id=o.unit_options[0].id:o.unit_id=""},T=async()=>{if(!d.outlet_id||!d.warehouse_id){j.value=[];return}try{const t=await(await fetch(`/outlet-rejections/api/filtered-delivery-orders?outlet_id=${d.outlet_id}&warehouse_id=${d.warehouse_id}`)).json();j.value=t}catch(u){console.error("Error loading filtered delivery orders:",u),j.value=[]}};K([()=>d.outlet_id,()=>d.warehouse_id],()=>{d.delivery_order_id="",q.value="",T()});const N=async()=>{if(!d.delivery_order_id){D.value=!1,d.items=[],_.value=null,f.value={};return}D.value=!0;try{const t=await(await fetch(`/outlet-rejections/api/delivery-order-items?delivery_order_id=${d.delivery_order_id}`)).json();_.value=t.documentFlowInfo||null,f.value=t.itemsWithQuantityFlow||{},d.items=[],t.items.forEach(o=>{const n=[],v=new Set;o.item.small_unit_id&&o.item.small_unit_name&&(n.push({id:o.item.small_unit_id,name:o.item.small_unit_name}),v.add(o.item.small_unit_id)),o.item.medium_unit_id&&o.item.medium_unit_name&&!v.has(o.item.medium_unit_id)&&(n.push({id:o.item.medium_unit_id,name:o.item.medium_unit_name}),v.add(o.item.medium_unit_id)),o.item.large_unit_id&&o.item.large_unit_name&&!v.has(o.item.large_unit_id)&&n.push({id:o.item.large_unit_id,name:o.item.large_unit_name}),d.items.push({item_id:o.item_id,item_search:o.item.name||"",selected_item:o.item,search_results:[],show_dropdown:!1,unit_id:o.unit_id||"",unit_options:n,qty_rejected:o.qty||"",rejection_reason:"",item_condition:"good",condition_notes:""})})}catch(u){console.error("Error loading delivery order items:",u)}finally{D.value=!1}},P=async()=>{if(!(await C.fire({title:"Konfirmasi Simpan",text:"Apakah Anda yakin ingin menyimpan data Outlet Rejection ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Simpan!",cancelButtonText:"Batal",reverseButtons:!0})).isConfirmed)return;x.value=!0;const t=d.items.map(o=>({item_id:o.item_id,unit_id:o.unit_id,qty_rejected:o.qty_rejected,rejection_reason:o.rejection_reason,item_condition:o.item_condition,condition_notes:o.condition_notes}));d.items=t,d.post(route("outlet-rejections.store"),{onSuccess:()=>{x.value=!1,C.fire({title:"Berhasil!",text:"Data Outlet Rejection berhasil disimpan. Anda akan diarahkan ke halaman detail untuk complete rejection.",icon:"success",confirmButtonText:"OK"})},onError:o=>{x.value=!1;let n="Terjadi kesalahan saat menyimpan data.";if(o&&Object.keys(o).length>0){const v=Object.values(o)[0];Array.isArray(v)?n=v[0]:n=v}C.fire({title:"Error!",text:n,icon:"error",confirmButtonText:"OK"})}})},G=u=>new Date(u).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),U=u=>new Date(u).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(u,t)=>(r(),H(Y,null,{header:B(()=>t[6]||(t[6]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create Outlet Rejection ",-1)])),default:B(()=>[e("div",J,[e("div",X,[e("div",Z,[e("div",I,[e("div",ee,[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold"},"Create New Outlet Rejection",-1)),V(c(F),{href:u.route("outlet-rejections.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:B(()=>t[7]||(t[7]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),g(" Back to List ")])),_:1},8,["href"])]),e("form",{onSubmit:z(P,["prevent"])},[e("div",te,[t[17]||(t[17]=e("h4",{class:"text-md font-semibold mb-4"},"Header Information",-1)),e("div",oe,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Rejection Date "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>c(d).rejection_date=o),type:"date",required:"",class:h(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors.rejection_date}])},null,2),[[y,c(d).rejection_date]]),l.errors.rejection_date?(r(),i("p",se,s(l.errors.rejection_date),1)):a("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Outlet "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>c(d).outlet_id=o),required:"",class:h(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors.outlet_id}])},[t[10]||(t[10]=e("option",{value:""},"Select Outlet",-1)),(r(!0),i(w,null,k(l.outlets,o=>(r(),i("option",{key:o.id_outlet,value:o.id_outlet},s(o.nama_outlet),9,re))),128))],2),[[S,c(d).outlet_id]]),l.errors.outlet_id?(r(),i("p",ie,s(l.errors.outlet_id),1)):a("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Warehouse "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>c(d).warehouse_id=o),required:"",class:h(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors.warehouse_id}])},[t[12]||(t[12]=e("option",{value:""},"Select Warehouse",-1)),(r(!0),i(w,null,k(l.warehouses,o=>(r(),i("option",{key:o.id,value:o.id},s(o.name),9,de))),128))],2),[[S,c(d).warehouse_id]]),l.errors.warehouse_id?(r(),i("p",ne,s(l.errors.warehouse_id),1)):a("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Delivery Order (Optional) ",-1)),b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>q.value=o),type:"text",class:"w-full mb-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Search delivery order...",disabled:!c(d).outlet_id||!c(d).warehouse_id},null,8,le),[[y,q.value]]),b(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>c(d).delivery_order_id=o),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:N,disabled:!c(d).outlet_id||!c(d).warehouse_id},[t[14]||(t[14]=e("option",{value:""},"Select Delivery Order",-1)),!c(d).outlet_id||!c(d).warehouse_id?(r(),i("option",ue," Please select outlet and warehouse first ")):a("",!0),c(d).outlet_id&&c(d).warehouse_id&&O.value.length===0?(r(),i("option",me," No delivery order found ")):a("",!0),(r(!0),i(w,null,k(O.value,o=>(r(),i("option",{key:o.id,value:o.id},s(o.display_text||o.number)+" (FO: "+s(o.floor_order_number)+" ["+s(o.floor_order_mode)+"], PL: "+s(o.packing_number)+", GR: "+s(o.good_receive_number)+") ",9,ce))),128))],40,ae),[[S,c(d).delivery_order_id]]),l.errors.delivery_order_id?(r(),i("p",_e,s(l.errors.delivery_order_id),1)):a("",!0)]),e("div",ge,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Notes ",-1)),b(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>c(d).notes=o),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter general notes about this rejection..."},null,512),[[y,c(d).notes]]),l.errors.notes?(r(),i("p",be,s(l.errors.notes),1)):a("",!0)])])]),_.value?(r(),i("div",ve,[t[22]||(t[22]=e("h4",{class:"text-lg font-semibold mb-4"},"Document Flow Information",-1)),e("div",fe,[_.value.floor_order_number?(r(),i("div",ye,[t[18]||(t[18]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Floor Order",-1)),e("div",xe,s(_.value.floor_order_number),1),e("div",pe,s(U(_.value.floor_order_created_at)),1),e("div",he,s(_.value.floor_order_creator),1),_.value.floor_order_mode?(r(),i("div",we," Mode: "+s(_.value.floor_order_mode),1)):a("",!0)])):a("",!0),_.value.packing_number?(r(),i("div",ke,[t[19]||(t[19]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Packing List",-1)),e("div",je,s(_.value.packing_number),1),e("div",De,s(U(_.value.packing_list_created_at)),1),e("div",Se,s(_.value.packing_list_creator),1)])):a("",!0),_.value.delivery_order_number?(r(),i("div",Ce,[t[20]||(t[20]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Delivery Order",-1)),e("div",qe,s(_.value.delivery_order_number),1),e("div",Be,s(U(_.value.delivery_order_created_at)),1),e("div",$e,s(_.value.delivery_order_creator),1)])):a("",!0),_.value.good_receive_number?(r(),i("div",Ue,[t[21]||(t[21]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Good Receive",-1)),e("div",Oe,s(_.value.good_receive_number),1),e("div",Ve,s(G(_.value.good_receive_date)),1),e("div",Fe,s(_.value.good_receive_creator),1)])):a("",!0)])])):a("",!0),e("div",Le,[e("div",Re,[t[24]||(t[24]=e("h4",{class:"text-md font-semibold"},"Rejected Items",-1)),D.value?(r(),i("div",Ae,t[23]||(t[23]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),g(" Loading items... ")]))):a("",!0)]),D.value?(r(),i("div",Ee,t[25]||(t[25]=[e("i",{class:"fas fa-spinner fa-spin text-4xl mb-4 text-blue-600"},null,-1),e("p",null,"Loading delivery order items...",-1)]))):c(d).items.length===0?(r(),i("div",Qe,t[26]||(t[26]=[e("i",{class:"fas fa-box text-4xl mb-4"},null,-1),e("p",null,"No items available for rejection. Please select a delivery order.",-1)]))):(r(),i("div",Te,[(r(!0),i(w,null,k(c(d).items,(o,n)=>{var v;return r(),i("div",{key:n,class:"bg-white p-4 rounded-lg border border-gray-200"},[e("div",Ne,[e("h5",Pe,"Item #"+s(n+1),1),e("button",{type:"button",onClick:m=>L(n),class:"text-red-500 hover:text-red-700"},t[27]||(t[27]=[e("i",{class:"fas fa-trash"},null,-1)]),8,Ge)]),e("div",Me,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Item "),e("span",{class:"text-red-500"},"*")],-1)),e("div",We,[b(e("input",{"onUpdate:modelValue":m=>o.item_search=m,type:"text",placeholder:"Search item...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onInput:m=>R(n),onFocus:m=>A(n),onBlur:m=>E(n)},null,40,Ke),[[y,o.item_search]]),o.show_dropdown&&o.search_results.length>0?(r(),i("div",He,[(r(!0),i(w,null,k(o.search_results,m=>(r(),i("div",{key:m.id,onClick:zt=>Q(n,m),class:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100"},[e("div",Ye,s(m.name),1),e("div",Je,s(m.sku),1)],8,ze))),128))])):a("",!0)]),l.errors[`items.${n}.item_id`]?(r(),i("p",Xe,s(l.errors[`items.${n}.item_id`]),1)):a("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Unit "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{"onUpdate:modelValue":m=>o.unit_id=m,required:"",class:h(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors[`items.${n}.unit_id`]}]),disabled:!o.item_id},[t[29]||(t[29]=e("option",{value:""},"Select Unit",-1)),(r(!0),i(w,null,k(o.unit_options,m=>(r(),i("option",{key:m.id,value:m.id},s(m.name),9,Ie))),128))],10,Ze),[[S,o.unit_id]]),l.errors[`items.${n}.unit_id`]?(r(),i("p",et,s(l.errors[`items.${n}.unit_id`]),1)):a("",!0)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Qty Rejected "),e("span",{class:"text-red-500"},"*")],-1)),b(e("input",{"onUpdate:modelValue":m=>o.qty_rejected=m,type:"number",step:"0.01",min:"0.01",required:"",class:h(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors[`items.${n}.qty_rejected`]}])},null,10,tt),[[y,o.qty_rejected]]),l.errors[`items.${n}.qty_rejected`]?(r(),i("p",ot,s(l.errors[`items.${n}.qty_rejected`]),1)):a("",!0)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Condition "),e("span",{class:"text-red-500"},"*")],-1)),b(e("select",{"onUpdate:modelValue":m=>o.item_condition=m,required:"",class:h(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors[`items.${n}.item_condition`]}])},t[32]||(t[32]=[e("option",{value:""},"Select Condition",-1),e("option",{value:"good"},"Good",-1),e("option",{value:"damaged"},"Damaged",-1),e("option",{value:"expired"},"Expired",-1),e("option",{value:"other"},"Other",-1)]),10,st),[[S,o.item_condition]]),l.errors[`items.${n}.item_condition`]?(r(),i("p",rt,s(l.errors[`items.${n}.item_condition`]),1)):a("",!0)])]),e("div",it,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rejection Reason ",-1)),b(e("textarea",{"onUpdate:modelValue":m=>o.rejection_reason=m,rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter rejection reason..."},null,8,dt),[[y,o.rejection_reason]]),l.errors[`items.${n}.rejection_reason`]?(r(),i("p",nt,s(l.errors[`items.${n}.rejection_reason`]),1)):a("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Condition Notes ",-1)),b(e("textarea",{"onUpdate:modelValue":m=>o.condition_notes=m,rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter condition details..."},null,8,lt),[[y,o.condition_notes]]),l.errors[`items.${n}.condition_notes`]?(r(),i("p",at,s(l.errors[`items.${n}.condition_notes`]),1)):a("",!0)])]),o.selected_item?(r(),i("div",ut,[e("div",mt,[e("div",null,[t[36]||(t[36]=e("span",{class:"font-medium"},"Item:",-1)),g(" "+s(o.selected_item.name),1)]),e("div",null,[t[37]||(t[37]=e("span",{class:"font-medium"},"SKU:",-1)),g(" "+s(o.selected_item.sku),1)]),e("div",null,[t[38]||(t[38]=e("span",{class:"font-medium"},"Category:",-1)),g(" "+s(((v=o.selected_item.category)==null?void 0:v.name)||"N/A"),1)])]),f.value&&f.value[o.item_id]?(r(),i("div",ct,[t[44]||(t[44]=e("h6",{class:"font-medium text-sm mb-2 text-blue-800"},"Quantity Flow:",-1)),e("div",_t,[e("div",gt,[t[39]||(t[39]=e("div",{class:"font-medium text-gray-700"},"Order Qty",-1)),e("div",bt,s(f.value[o.item_id].qty_order||0),1)]),e("div",vt,[t[40]||(t[40]=e("div",{class:"font-medium text-gray-700"},"PL Qty",-1)),e("div",ft,s(f.value[o.item_id].qty_packing_list||0),1)]),e("div",yt,[t[41]||(t[41]=e("div",{class:"font-medium text-gray-700"},"DO Qty",-1)),e("div",xt,s(f.value[o.item_id].qty_do||0),1)]),e("div",pt,[t[42]||(t[42]=e("div",{class:"font-medium text-gray-700"},"GR Qty",-1)),e("div",ht,s(f.value[o.item_id].qty_receive||0),1)]),e("div",wt,[t[43]||(t[43]=e("div",{class:"font-medium text-gray-700"},"Remaining",-1)),e("div",kt,s((f.value[o.item_id].qty_do||0)-(f.value[o.item_id].qty_receive||0)),1)])])])):a("",!0),o.remaining_qty!==void 0?(r(),i("div",jt,[e("div",Dt,[e("div",St,[t[45]||(t[45]=e("span",{class:"font-medium text-yellow-800"},"Remaining Qty:",-1)),e("span",Ct,s(o.remaining_qty),1)]),e("div",qt,[t[46]||(t[46]=e("span",{class:"font-medium text-green-800"},"Received Qty:",-1)),e("span",Bt,s(o.received_qty),1)])])])):a("",!0),o.floor_order_info||o.packing_list_info||o.good_receive_info?(r(),i("div",$t,[t[52]||(t[52]=e("h6",{class:"font-medium text-sm mb-2 text-blue-800"},"Document Information:",-1)),e("div",Ut,[o.floor_order_info?(r(),i("div",Ot,[t[47]||(t[47]=e("div",{class:"font-medium text-gray-700"},"Floor Order",-1)),e("div",Vt,s(o.floor_order_info.number),1),e("div",Ft,s(new Date(o.floor_order_info.created_at).toLocaleDateString()),1),e("div",Lt,s(o.floor_order_info.mode),1)])):a("",!0),o.packing_list_info?(r(),i("div",Rt,[t[48]||(t[48]=e("div",{class:"font-medium text-gray-700"},"Packing List",-1)),e("div",At,s(o.packing_list_info.number),1),e("div",Et,s(new Date(o.packing_list_info.created_at).toLocaleDateString()),1)])):a("",!0),o.good_receive_info?(r(),i("div",Qt,[t[49]||(t[49]=e("div",{class:"font-medium text-gray-700"},"Good Receive",-1)),e("div",Tt,s(o.good_receive_info.number),1),e("div",Nt,s(new Date(o.good_receive_info.receive_date).toLocaleDateString()),1)])):a("",!0),e("div",Pt,[t[50]||(t[50]=e("div",{class:"font-medium text-gray-700"},"Delivery Order",-1)),e("div",Gt,s(c(d).delivery_order_id?"Selected":"N/A"),1),t[51]||(t[51]=e("div",{class:"text-gray-500"},"Current",-1))])])])):a("",!0)])):a("",!0)])}),128))]))]),e("div",Mt,[V(c(F),{href:u.route("outlet-rejections.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:B(()=>t[53]||(t[53]=[g(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:x.value,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},[x.value?(r(),i("i",Kt)):(r(),i("i",Ht)),g(" "+s(x.value?"Saving...":"Save Rejection"),1)],8,Wt)])],32)])])])])]),_:1}))}};export{io as default};
