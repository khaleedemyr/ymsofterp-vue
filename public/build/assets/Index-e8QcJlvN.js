import{r as c,A as P,B as o,C as u,D as t,x as f,G as d,Q as m,S as y,O as T,H as v,L as r,E as w,J as A,I as V,F as I,M as L,N as i,l as E,W as D}from"./vendor-vue-g7iCcTkf.js";import{A as F}from"./AppLayout-DZJ25Yod.js";import{S as g}from"./app-BujIObx9.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DNpNU_ax.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const M={class:"max-w-7xl mx-auto py-8 px-2"},G={class:"flex justify-between items-center mb-6"},H={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},j={class:"w-full min-w-full divide-y divide-gray-200"},R={key:0},U={class:"px-6 py-3"},W={class:"px-6 py-3"},z={class:"px-6 py-3"},J={class:"px-6 py-3"},O={class:"px-6 py-3"},Q={class:"px-6 py-3"},Y={class:"px-6 py-3"},$={class:"px-6 py-3"},q=["onClick","disabled"],K={key:0,class:"fa fa-spinner fa-spin mr-1"},X={key:1,class:"fa fa-trash mr-1"},dt={__name:"Index",props:{promos:Array,search:String,type:String},setup(x){const b=x,a=c(b.search||""),l=c(b.type||""),p=c(null);function k(n){return n?new Date(n).toLocaleDateString("id-ID"):"-"}async function S(n){(await g.fire({title:"Hapus Promo?",text:"Data promo akan dihapus. Lanjutkan?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed&&(p.value=n,D.delete(route("promos.destroy",n),{onSuccess:()=>{p.value=null,g.fire("Sukses","Promo berhasil dihapus!","success")},onError:()=>{p.value=null,g.fire("Error","Gagal menghapus promo","error")}}))}function h(){D.get(route("promos.index"),{search:a.value,type:l.value},{preserveState:!0,replace:!0})}function _(){a.value="",l.value="",h()}function B(n){return{percent:"Diskon Persen",nominal:"Diskon Nominal",bundle:"Bundling",bogo:"Buy 1 Get 1"}[n]||n}function C(n){return n?Number(n).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}):"-"}return(n,e)=>(o(),P(F,null,{default:u(()=>[t("div",M,[t("div",G,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-gift text-pink-500"}),d(" Promo ")],-1)),f(m(y),{href:n.route("promos.create"),class:"bg-gradient-to-r from-pink-500 to-pink-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:u(()=>e[2]||(e[2]=[d(" + Buat Promo ")])),_:1},8,["href"])]),t("form",{onSubmit:T(h,["prevent"]),class:"flex flex-wrap gap-2 mb-4 items-center"},[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),type:"text",placeholder:"Cari nama promo...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-200",style:{"min-width":"200px"}},null,512),[[A,a.value]]),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s),class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-pink-200"},e[4]||(e[4]=[t("option",{value:""},"Semua Tipe",-1),t("option",{value:"percent"},"Diskon Persen",-1),t("option",{value:"nominal"},"Diskon Nominal",-1),t("option",{value:"bundle"},"Bundling",-1),t("option",{value:"bogo"},"Bogo",-1)]),512),[[V,l.value]]),e[5]||(e[5]=t("button",{type:"submit",class:"bg-pink-500 text-white px-4 py-2 rounded font-semibold hover:bg-pink-600 transition"},"Cari",-1)),a.value||l.value?(o(),r("button",{key:0,type:"button",onClick:_,class:"ml-2 bg-gray-200 text-gray-700 px-3 py-2 rounded hover:bg-gray-300 transition"},"Reset")):w("",!0)],32),t("div",H,[t("table",j,[e[10]||(e[10]=t("thead",{class:"bg-gradient-to-r from-pink-50 to-pink-100"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider rounded-tl-2xl"},"No"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Nama Promo"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Tipe"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Value"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Mulai"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Akhir"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),t("tbody",null,[x.promos.length?w("",!0):(o(),r("tr",R,e[6]||(e[6]=[t("td",{colspan:"8",class:"text-center py-10 text-pink-300"},"Tidak ada data Promo.",-1)]))),(o(!0),r(I,null,L(x.promos,(s,N)=>(o(),r("tr",{key:s.id,class:"hover:bg-pink-50 transition shadow-sm"},[t("td",U,i(N+1),1),t("td",W,i(s.name),1),t("td",z,i(B(s.type)),1),t("td",J,i(s.type==="percent"?s.value+"%":C(s.value)),1),t("td",O,i(k(s.start_date)),1),t("td",Q,i(k(s.end_date)),1),t("td",Y,[t("span",{class:E([s.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-500","px-2 py-1 rounded-full text-xs font-bold"])},i(s.status==="active"?"Aktif":"Nonaktif"),3)]),t("td",$,[f(m(y),{href:n.route("promos.show",s.id),class:"inline-flex items-center btn btn-xs bg-pink-100 text-pink-800 hover:bg-pink-200 rounded px-2 py-1 font-semibold transition"},{default:u(()=>e[7]||(e[7]=[t("i",{class:"fa fa-eye mr-1"},null,-1),d(" Detail ")])),_:2},1032,["href"]),f(m(y),{href:n.route("promos.edit",s.id),class:"ml-2 inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},{default:u(()=>e[8]||(e[8]=[t("i",{class:"fa fa-edit mr-1"},null,-1),d(" Edit ")])),_:2},1032,["href"]),t("button",{onClick:Z=>S(s.id),disabled:p.value===s.id,class:"ml-2 inline-flex items-center btn btn-xs bg-red-100 text-red-800 hover:bg-red-200 rounded px-2 py-1 font-semibold transition disabled:opacity-50"},[p.value===s.id?(o(),r("i",K)):(o(),r("i",X)),e[9]||(e[9]=d(" Delete "))],8,q)])]))),128))])])])])]),_:1}))}};export{dt as default};
