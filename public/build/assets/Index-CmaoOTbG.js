import{r as o,A,B as l,C as m,D as e,x as b,G as i,Q as k,S as h,H as g,J as v,I as L,L as d,E,F as U,M as H,N as n,l as w,W as D}from"./vendor-vue-g7iCcTkf.js";import{A as M}from"./AppLayout-DS2U8tWW.js";import{S as _}from"./app-Vi2dpKR6.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Do674Z4r.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const P={class:"max-w-7xl mx-auto py-8 px-2"},W={class:"flex justify-between items-center mb-6"},j={class:"flex flex-col md:flex-row gap-4 mb-6"},G={class:"flex-1"},J={class:"flex flex-col md:flex-row gap-4"},q={class:"flex items-center gap-2"},z={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},O={class:"w-full min-w-full divide-y divide-gray-200"},Q={key:0},Y={class:"px-6 py-3"},$={class:"px-6 py-3"},K={class:"px-6 py-3"},X={class:"px-6 py-3"},Z={class:"px-6 py-3"},ee={class:"px-6 py-3"},te={class:"px-6 py-3"},se={class:"px-6 py-3"},ae={class:"px-6 py-3"},ne={class:"px-6 py-3"},le={class:"px-6 py-3"},re={class:"px-6 py-3"},oe=["onClick","disabled"],ie={key:0,class:"fa fa-spinner fa-spin mr-1"},de={key:1,class:"fa fa-trash mr-1"},ve={__name:"Index",props:{reservations:{type:Array,required:!0,default:()=>[]},search:String,status:String,dateFrom:String,dateTo:String},setup(y){const u=y,p=o(u.search||""),c=o(u.status||""),x=o(u.dateFrom||""),f=o(u.dateTo||""),r=o(null);function C(a){return a?new Date(a).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"-"}function T(a){return a?new Date(a).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):"-"}function B(a){return a==null||a===""?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Number(a))}function F(a){switch(a){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}}function N(a){switch(a){case"confirmed":return"Confirmed";case"cancelled":return"Cancelled";default:return"Pending"}}async function I(a){(await _.fire({title:"Hapus Reservasi?",text:"Data reservasi akan dihapus. Lanjutkan?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal"})).isConfirmed&&(r.value=a,D.delete(route("reservations.destroy",{reservation:a}),{onSuccess:()=>{r.value=null,_.fire("Sukses","Reservasi berhasil dihapus!","success")},onError:()=>{r.value=null,_.fire("Error","Gagal menghapus reservasi","error")}}))}function S(){D.get(route("reservations.index"),{search:p.value,status:c.value,dateFrom:x.value,dateTo:f.value},{preserveState:!0,preserveScroll:!0})}function V(){p.value="",c.value="",x.value="",f.value="",S()}return(a,s)=>(l(),A(M,null,{default:m(()=>[e("div",P,[e("div",W,[s[5]||(s[5]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-calendar-check text-pink-500"}),i(" Reservasi ")],-1)),b(k(h),{href:a.route("reservations.create"),class:"bg-gradient-to-r from-pink-500 to-pink-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},{default:m(()=>s[4]||(s[4]=[i(" + Buat Reservasi ")])),_:1},8,["href"])]),e("div",j,[e("div",G,[g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),type:"text",placeholder:"Cari nama reservasi...",class:"w-full rounded-lg border-gray-300"},null,512),[[v,p.value]])]),e("div",J,[e("div",q,[g(e("input",{type:"date","onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),class:"rounded-lg border-gray-300"},null,512),[[v,x.value]]),s[6]||(s[6]=e("span",{class:"text-gray-500"},"sampai",-1)),g(e("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=t=>f.value=t),class:"rounded-lg border-gray-300"},null,512),[[v,f.value]])]),g(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>c.value=t),class:"rounded-lg border-gray-300"},s[7]||(s[7]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"confirmed"},"Confirmed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),512),[[L,c.value]]),e("button",{onClick:S,class:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700"}," Filter "),e("button",{onClick:V,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"}," Reset ")])]),e("div",z,[e("table",O,[s[12]||(s[12]=e("thead",{class:"bg-gradient-to-r from-pink-50 to-pink-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider rounded-tl-2xl"},"No"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Outlet"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Tanggal"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Waktu"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Jumlah Tamu"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"DP"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Dari Sales"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Area"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider"},"Created By"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-pink-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),e("tbody",null,[y.reservations.length?E("",!0):(l(),d("tr",Q,s[8]||(s[8]=[e("td",{colspan:"12",class:"text-center py-10 text-pink-300"},"Tidak ada data Reservasi.",-1)]))),(l(!0),d(U,null,H(y.reservations,(t,R)=>(l(),d("tr",{key:t.id,class:"hover:bg-pink-50 transition shadow-sm"},[e("td",Y,n(R+1),1),e("td",$,n(t.name),1),e("td",K,n(t.outlet),1),e("td",X,n(C(t.reservation_date)),1),e("td",Z,n(T(t.reservation_time)),1),e("td",ee,n(t.number_of_guests)+" orang",1),e("td",te,n(t.dp!=null?B(t.dp):"-"),1),e("td",se,[e("span",{class:w([t.from_sales?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600","px-2 py-1 rounded-full text-xs font-medium"])},n(t.from_sales?"Dari Sales":"Bukan"),3)]),e("td",ae,[e("span",{class:w(["px-2 py-1 rounded-full text-xs font-medium",t.smoking_preference==="smoking"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},n(t.smoking_preference==="smoking"?"Smoking":"Non-Smoking"),3)]),e("td",ne,[e("span",{class:w([F(t.status),"px-2 py-1 rounded-full text-xs font-bold"])},n(N(t.status)),3)]),e("td",le,n(t.created_by),1),e("td",re,[b(k(h),{href:a.route("reservations.show",{reservation:t.id}),class:"inline-flex items-center btn btn-xs bg-pink-100 text-pink-800 hover:bg-pink-200 rounded px-2 py-1 font-semibold transition"},{default:m(()=>s[9]||(s[9]=[e("i",{class:"fa fa-eye mr-1"},null,-1),i(" Detail ")])),_:2},1032,["href"]),b(k(h),{href:a.route("reservations.edit",{reservation:t.id}),class:"ml-2 inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition"},{default:m(()=>s[10]||(s[10]=[e("i",{class:"fa fa-edit mr-1"},null,-1),i(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:ue=>I(t.id),disabled:r.value===t.id,class:"ml-2 inline-flex items-center btn btn-xs bg-red-100 text-red-800 hover:bg-red-200 rounded px-2 py-1 font-semibold transition disabled:opacity-50"},[r.value===t.id?(l(),d("i",ie)):(l(),d("i",de)),s[11]||(s[11]=i(" Delete "))],8,oe)])]))),128))])])])])]),_:1}))}};export{ve as default};
