import{r,a as h,L as i,E as x,B as o,D as e,H as _,J as k,Q as f,F as w,M as j,N as l,G as B}from"./vendor-vue-g7iCcTkf.js";import{a as C}from"./vendor-utils-CpgP2uT4.js";import{l as N}from"./lodash-DB3HVzpp.js";const A={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},E={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},M={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},P={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},V={class:"sm:flex sm:items-start"},D={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},S={class:"flex justify-between items-center mb-4"},T={class:"mb-4"},$={key:0,class:"flex justify-center items-center h-48"},F={key:1,class:"space-y-4 max-h-[60vh] overflow-y-auto pr-2"},L={class:"w-10 h-10 rounded-full bg-indigo-200 flex items-center justify-center font-bold text-white text-lg"},z={class:"flex-1"},G={class:"font-semibold text-indigo-800"},H={class:"text-xs text-gray-400 font-normal"},I={class:"text-sm text-gray-600"},J={class:"text-xs text-gray-400"},Q={key:2,class:"h-48 flex items-center justify-center text-gray-400"},U={key:3,class:"mt-4 flex justify-center gap-2"},q=["disabled"],K={class:"px-3 py-1"},O=["disabled"],Y={__name:"AllActivityModal",props:{show:Boolean},emits:["close"],setup(g,{emit:y}){const b=y,d=r([]),a=r(1),m=r(1),v=r(""),c=r(!1);async function u(){c.value=!0;try{const n=await C.get("/api/activity-latest",{params:{page:a.value,perPage:10,search:v.value}});d.value=n.data.data,m.value=n.data.last_page}catch(n){console.error("Error fetching activities:",n)}finally{c.value=!1}}const p=N.debounce(()=>{a.value=1,u()},300);return h(()=>{u()}),(n,t)=>g.show?(o(),i("div",A,[e("div",E,[t[8]||(t[8]=e("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),t[9]||(t[9]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹",-1)),e("div",M,[e("div",P,[e("div",V,[e("div",D,[e("div",S,[t[6]||(t[6]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Semua Aktivitas",-1)),e("button",{onClick:t[0]||(t[0]=s=>b("close")),class:"text-gray-400 hover:text-gray-500"},t[5]||(t[5]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",T,[_(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),onInput:t[2]||(t[2]=(...s)=>f(p)&&f(p)(...s)),placeholder:"Cari aktivitas...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[k,v.value]])]),c.value?(o(),i("div",$,t[7]||(t[7]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)]))):d.value.length>0?(o(),i("div",F,[(o(!0),i(w,null,j(d.value,s=>(o(),i("div",{key:s.id,class:"flex items-start gap-3 p-3 border rounded-lg hover:bg-gray-50"},[e("div",L,l(s.user_initials),1),e("div",z,[e("div",G,[B(l(s.user_name)+" ",1),e("span",H,l(s.type),1)]),e("div",I,l(s.description),1),e("div",J,l(s.time_ago),1)])]))),128))])):(o(),i("div",Q," Tidak ada aktivitas ")),!c.value&&d.value.length>0?(o(),i("div",U,[e("button",{onClick:t[3]||(t[3]=s=>{a.value--,u()}),disabled:a.value===1,class:"px-3 py-1 rounded bg-gray-100 text-gray-700 disabled:opacity-50"}," Previous ",8,q),e("span",K,l(a.value)+" / "+l(m.value),1),e("button",{onClick:t[4]||(t[4]=s=>{a.value++,u()}),disabled:a.value===m.value,class:"px-3 py-1 rounded bg-gray-100 text-gray-700 disabled:opacity-50"}," Next ",8,O)])):x("",!0)])])])])])])):x("",!0)}};export{Y as default};
