import{r,w as j,A as F,B as o,C as I,D as t,G as E,H as g,Z as G,J as f,x as M,L as a,E as O,F as m,M as v,N as d,l as R,Q as T,W as n}from"./vendor-vue-g7iCcTkf.js";import{A as U}from"./AppLayout-CytV2Jsj.js";import{S as D}from"./app-B-3LCfNP.js";import{N as K}from"./vue-easy-lightbox.esm.min-H9agbAmC.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-BWyEbEQC.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const W={class:"w-full py-8 px-0"},Y={class:"bg-white rounded-xl shadow-lg p-4 mb-6 flex flex-col md:flex-row gap-4 items-center"},q={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},z={class:"w-full min-w-full divide-y divide-gray-200"},J={class:"px-6 py-4"},Q={class:"px-6 py-4"},Z={class:"px-6 py-4"},X={class:"px-6 py-4"},tt={class:"px-6 py-4"},et={class:"px-6 py-4"},st={key:0,class:"flex gap-2"},ot=["src","onClick","alt"],lt={key:1},at={class:"px-6 py-4"},it={class:"flex gap-2"},rt=["onClick"],nt=["onClick"],ut=["onClick"],dt={key:0},ct={class:"flex justify-end mt-4 gap-2"},pt=["disabled","onClick","innerHTML"],Bt={__name:"Index",props:{actionPlans:Object,filters:Object},setup(S){var _,k,C;const l=S,c=r(((_=l.filters)==null?void 0:_.search)||""),p=r(((k=l.filters)==null?void 0:k.date_from)||""),x=r(((C=l.filters)==null?void 0:C.date_to)||"");function h(){n.visit("/ops-kitchen/action-plan-guest-review",{method:"get",data:{search:c.value,date_from:p.value,date_to:x.value},preserveState:!0,preserveScroll:!0})}j([c,p,x],()=>{});const b=r(!1),y=r([]),w=r(0);function $(i,s){y.value=i,w.value=s,b.value=!0}function V(){n.visit("/ops-kitchen/action-plan-guest-review/create")}function A(i){n.visit(`/ops-kitchen/action-plan-guest-review/${i}`)}function H(i){n.visit(`/ops-kitchen/action-plan-guest-review/${i}/edit`)}async function N(i){(await D.fire({title:"Hapus Data?",text:"Yakin ingin menghapus data ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&n.delete(`/ops-kitchen/action-plan-guest-review/${i}`,{onSuccess:()=>{D.fire({title:"Berhasil!",text:"Data berhasil dihapus",icon:"success",confirmButtonColor:"#3085d6"})}})}return(i,s)=>(o(),F(U,null,{default:I(()=>[t("div",W,[t("div",{class:"flex justify-between items-center mb-6"},[s[4]||(s[4]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-clipboard-list text-blue-500"}),E(" Action Plan Guest Review ")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:V,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Action Plan Guest Review ")])]),t("div",Y,[g(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),onKeyup:G(h,["enter"]),type:"text",placeholder:"Cari outlet, PIC, status, problem...",class:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,544),[[f,c.value]]),g(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),type:"date",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[f,p.value]]),s[5]||(s[5]=t("span",null,"-",-1)),g(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>x.value=e),type:"date",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"},null,512),[[f,x.value]]),t("button",{onClick:h,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg"},"Filter")]),t("div",q,[t("table",z,[s[10]||(s[10]=t("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"No"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Tanggal"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"PIC"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Dokumentasi"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),t("tbody",null,[(o(!0),a(m,null,v(l.actionPlans.data,(e,B)=>(o(),a("tr",{key:e.id},[t("td",J,d((l.actionPlans.current_page-1)*l.actionPlans.per_page+B+1),1),t("td",Q,d(e.outlet_name||"-"),1),t("td",Z,d(e.tanggal),1),t("td",X,d(e.pic_name||"-"),1),t("td",tt,d(e.status),1),t("td",et,[e.images&&e.images.length?(o(),a("div",st,[(o(!0),a(m,null,v(e.images,(u,P)=>(o(),a("img",{key:u.id,src:"/storage/"+u.path,class:"w-12 h-12 object-cover rounded cursor-pointer border border-gray-200",onClick:xt=>$(e.images.map(L=>"/storage/"+L.path),P),alt:"Dokumentasi "+(P+1)},null,8,ot))),128))])):(o(),a("span",lt,"-"))]),t("td",at,[t("div",it,[t("button",{onClick:u=>A(e.id),class:"text-gray-600 hover:text-blue-600",title:"Detail"},s[6]||(s[6]=[t("i",{class:"fa-solid fa-eye"},null,-1)]),8,rt),t("button",{onClick:u=>H(e.id),class:"text-gray-600 hover:text-green-600",title:"Edit"},s[7]||(s[7]=[t("i",{class:"fa-solid fa-pen-to-square"},null,-1)]),8,nt),t("button",{onClick:u=>N(e.id),class:"text-gray-600 hover:text-red-600",title:"Hapus"},s[8]||(s[8]=[t("i",{class:"fa-solid fa-trash"},null,-1)]),8,ut)])])]))),128)),!l.actionPlans.data||!l.actionPlans.data.length?(o(),a("tr",dt,s[9]||(s[9]=[t("td",{colspan:"7",class:"text-center py-10 text-gray-400"},"Belum ada data Action Plan Guest Review.",-1)]))):O("",!0)])]),t("div",ct,[(o(!0),a(m,null,v(l.actionPlans.links,e=>(o(),a("button",{key:e.label,disabled:!e.url,onClick:B=>e.url&&T(n).visit(e.url,{preserveState:!0,preserveScroll:!0}),innerHTML:e.label,class:R(["px-3 py-1 rounded-lg border text-sm font-semibold",[e.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,pt))),128))]),M(T(K),{visible:b.value,imgs:y.value,index:w.value,onHide:s[3]||(s[3]=e=>b.value=!1)},null,8,["visible","imgs","index"])])])]),_:1}))}};export{Bt as default};
