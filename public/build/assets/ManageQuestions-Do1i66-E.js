import{r as k,c as J,A as L,B as i,C as S,D as t,L as n,E as d,N as u,x as R,G as c,Q as K,S as H,l as C,F as z,M as B,O as W,H as _,I as Y,J as h,a6 as I,W as O,g as X,n as V}from"./vendor-vue-g7iCcTkf.js";import{A as Z}from"./AppLayout-hxs5t3XP.js";import{S as p}from"./app-D6rf3j_5.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./ProfileUpdateModal-D4k-zQf5.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const te={class:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden"},se={class:"relative z-10 py-8 px-6"},ae={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl mb-8"},le={class:"p-8 bg-gradient-to-r from-blue-600/80 via-purple-600/80 to-pink-600/80 rounded-3xl"},oe={class:"flex items-center justify-between"},ie={class:"space-y-4"},ne={class:"text-xl text-white/90 drop-shadow-md"},re={class:"flex items-center space-x-4"},de=["disabled"],ue={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6 mb-6"},ce={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},pe={class:"text-center"},me={class:"text-3xl font-bold text-white"},be={class:"text-center"},_e={class:"text-3xl font-bold text-white"},ge={class:"text-center"},fe={class:"text-3xl font-bold text-white"},xe={class:"text-center"},ve={class:"text-3xl font-bold text-white"},he={class:"space-y-6"},we={class:"flex items-start justify-between mb-4"},ye={class:"flex-1"},ke={class:"flex items-center space-x-3 mb-2"},qe={class:"bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm font-semibold"},Ce={class:"bg-yellow-500/20 text-yellow-300 px-2 py-1 rounded-full text-xs font-semibold"},ze={class:"text-lg font-semibold text-white mb-2"},Be={key:0,class:"mb-3"},Ie=["src","alt"],Oe={key:0,class:"text-white/60 text-sm mt-1"},je={class:"flex items-center space-x-2"},Se=["onClick","disabled"],Ve=["onClick","disabled"],Pe={key:0,class:"space-y-3"},Ue={class:"flex items-center space-x-3 mb-2"},Ee={class:"w-4 h-4 rounded-full border-2 border-white/30 flex items-center justify-center"},$e={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},Me={class:"text-white/80 flex-1"},Te={key:0,class:"text-green-400 text-xs font-semibold"},Ge={key:0,class:"ml-7"},De=["src","alt"],Qe={key:0,class:"text-white/60 text-sm mt-1"},Fe={key:1,class:"bg-white/5 p-3 rounded-lg"},Ne={key:2,class:"space-y-2"},Ae={class:"flex items-center space-x-3 p-3 rounded-lg bg-white/5"},Je={class:"w-4 h-4 rounded-full border-2 border-white/30 flex items-center justify-center"},Le={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},Re={key:0,class:"text-green-400 text-xs font-semibold"},Ke={class:"flex items-center space-x-3 p-3 rounded-lg bg-white/5"},He={class:"w-4 h-4 rounded-full border-2 border-white/30 flex items-center justify-center"},We={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},Ye={key:0,class:"text-green-400 text-xs font-semibold"},Xe={key:0,class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-12 text-center"},Ze=["disabled"],et={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},tt={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto relative"},st={key:0,class:"absolute inset-0 bg-black/30 backdrop-blur-sm rounded-2xl flex items-center justify-center z-10"},at={class:"flex items-center justify-between mb-6"},lt={class:"text-2xl font-bold text-white"},ot=["disabled"],it=["disabled"],nt=["disabled"],rt=["disabled"],dt={class:"space-y-3"},ut={key:0,class:"relative"},ct=["src"],pt={class:"flex items-center space-x-3"},mt=["disabled"],bt=["disabled"],_t={key:1},gt=["disabled"],ft={key:0},xt={class:"space-y-3"},vt={class:"flex items-center space-x-3"},ht=["onUpdate:modelValue","placeholder","disabled"],wt=["onUpdate:modelValue","name","disabled"],yt=["onClick","disabled"],kt={class:"space-y-3"},qt={key:0,class:"relative"},Ct=["src"],zt=["onClick"],Bt={class:"flex items-center space-x-3"},It=["onChange","disabled"],Ot=["onClick","disabled"],jt={key:1},St=["onUpdate:modelValue","disabled"],Vt=["disabled"],Pt={key:1},Ut={class:"space-y-3"},Et={class:"flex items-center space-x-3"},$t=["disabled"],Mt={class:"flex items-center space-x-3"},Tt=["disabled"],Gt={class:"flex space-x-3 pt-6"},Dt=["disabled"],Qt=["disabled"],Ft={key:0,class:"flex items-center justify-center"},Nt={key:1,class:"flex items-center justify-center"},At={__name:"ManageQuestions",props:{quiz:Object,questions:Array},setup(b){const v=b,g=X(),r=k(!1),w=k(!1),f=k(!1),a=k({id:null,question_text:"",question_type:"multiple_choice",points:1,image_path:null,image_preview:null,image_alt_text:"",options:[{option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""},{option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""}],correct_answer:null}),q=J(()=>{if(console.log("Validating form:",{question_text:a.value.question_text,points:a.value.points,question_type:a.value.question_type,options:a.value.options,correct_answer:a.value.correct_answer}),!a.value.question_text||!a.value.question_text.trim())return console.log("Validation failed: question_text is empty"),!1;if(!a.value.points||a.value.points<=0)return console.log("Validation failed: points is invalid",a.value.points),!1;if(a.value.question_type==="multiple_choice"){const l=a.value.options.length>=2&&a.value.options.every(e=>e.option_text&&e.option_text.trim())&&a.value.options.some(e=>e.is_correct);return console.log("Multiple choice validation:",l),l}if(a.value.question_type==="true_false"){const l=a.value.correct_answer!==null&&a.value.correct_answer!==void 0;return console.log("True/false validation:",l),l}return console.log("Validation passed"),!0}),P=l=>({multiple_choice:"Pilihan Ganda",essay:"Essay",true_false:"Benar/Salah"})[l]||l,U=()=>{a.value.options.push({option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""})},E=l=>{a.value.options.splice(l,1)},$=l=>{const e=l.target.files[0];e&&(a.value.image_preview=URL.createObjectURL(e),a.value.image_path=null)},M=()=>{a.value.image_preview=null,a.value.image_path=null,a.value.image_alt_text="",g.refs.imageInput&&(g.refs.imageInput.value="")},T=(l,e)=>{const s=l.target.files[0];s&&(a.value.options[e].image_preview=URL.createObjectURL(s),a.value.options[e].image_path=null)},G=l=>{V(()=>{const e=g.refs[`optionImageInput${l}`];e&&e[0]?e[0].click():console.warn(`Option ${l} file input not found`)})},D=l=>{a.value.options[l].image_preview=null,a.value.options[l].image_path=null,a.value.options[l].image_alt_text="",V(()=>{const e=g.refs[`optionImageInput${l}`];e&&e[0]&&(e[0].value="")})},j=l=>{console.error("Image failed to load:",l.target.src),l.target.src="/images/placeholder-image.png"},Q=l=>{var e;console.log("Editing question:",l),a.value={id:l.id,question_text:l.question_text||"",question_type:l.question_type||"multiple_choice",points:l.points||1,image_path:l.image_path,image_preview:null,image_alt_text:l.image_alt_text||"",options:l.options?l.options.map(s=>({...s,image_preview:null})):[{option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""},{option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""}],correct_answer:l.question_type==="true_false"&&l.options?((e=l.options.find(s=>s.is_correct))==null?void 0:e.option_text)==="Benar"?"true":"false":null},console.log("Form data after edit:",a.value),f.value=!0},y=()=>{w.value=!1,f.value=!1,F()},F=()=>{a.value={id:null,question_text:"",question_type:"multiple_choice",points:1,image_path:null,image_preview:null,image_alt_text:"",options:[{option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""},{option_text:"",is_correct:!1,image_path:null,image_preview:null,image_alt_text:""}],correct_answer:null}},N=async()=>{if(console.log("Saving question, form valid:",q.value),console.log("Form data:",a.value),!q.value){console.log("Form validation failed"),p.fire({icon:"error",title:"Validasi Error",text:"Mohon lengkapi semua field yang wajib diisi!"});return}p.fire({title:"Sabar Bu Ghea....",text:"Antosan sakedap Bu Ghea, Nuju loding",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{p.showLoading()}}),r.value=!0;try{const l=new FormData;if(console.log("Form values before appending:"),console.log("question_text:",a.value.question_text),console.log("question_type:",a.value.question_type),console.log("points:",a.value.points),console.log("image_alt_text:",a.value.image_alt_text),l.append("question_text",a.value.question_text||""),l.append("question_type",a.value.question_type||"multiple_choice"),l.append("points",a.value.points||1),l.append("image_alt_text",a.value.image_alt_text||""),a.value.image_preview){const e=g.refs.imageInput;e&&e.files&&e.files[0]?(l.append("image",e.files[0]),console.log("Image file added to FormData:",e.files[0])):console.warn("No file found in question image input")}else console.log("No image preview, skipping image upload");if(a.value.question_type==="multiple_choice"){const e=a.value.options.map((s,m)=>{const o={option_text:s.option_text,is_correct:s.is_correct,image_alt_text:s.image_alt_text};if(s.image_preview){const x=g.refs[`optionImageInput${m}`];x&&x[0]&&x[0].files&&x[0].files[0]?(l.append(`option_image_${m}`,x[0].files[0]),console.log(`Option ${m} image file added:`,x[0].files[0])):console.warn(`Option ${m} file input not found or no file`)}else s.image_path&&(o.image_path=s.image_path);return o});l.append("options",JSON.stringify(e))}else a.value.question_type==="true_false"&&l.append("correct_answer",a.value.correct_answer);console.log("FormData contents:");for(let[e,s]of l.entries())console.log(`${e}:`,s);if(f.value){const e={question_text:a.value.question_text||"",question_type:a.value.question_type||"multiple_choice",points:a.value.points||1,image_alt_text:a.value.image_alt_text||"",options:a.value.question_type==="multiple_choice"?a.value.options.map(s=>({option_text:s.option_text||"",is_correct:s.is_correct||!1,image_alt_text:s.image_alt_text||""})):null,correct_answer:a.value.question_type==="true_false"?a.value.correct_answer:null};console.log("Sending JSON data:",e),await O.put(route("lms.quizzes.questions.update",[v.quiz.id,a.value.id]),e,{onSuccess:s=>{console.log("Update success response:",s),p.close(),p.fire({icon:"success",title:"Berhasil!",text:"Pertanyaan berhasil diperbarui!"}),y()},onError:s=>{console.error("Update error:",s),p.close(),p.fire({icon:"error",title:"Error!",text:Object.values(s)[0]||"Terjadi kesalahan saat memperbarui pertanyaan"})}})}else await O.post(route("lms.quizzes.questions.store",v.quiz.id),l,{onSuccess:e=>{console.log("Create success response:",e),p.close(),p.fire({icon:"success",title:"Berhasil!",text:"Pertanyaan berhasil ditambahkan!"}),y()},onError:e=>{console.error("Create error:",e),p.close(),p.fire({icon:"error",title:"Error!",text:Object.values(e)[0]||"Terjadi kesalahan saat memperbarui pertanyaan"})}})}catch(l){console.error("Error saving question:",l),p.close(),p.fire({icon:"error",title:"Error!",text:"Terjadi kesalahan saat menyimpan pertanyaan"})}finally{r.value=!1}},A=l=>{p.fire({title:"Konfirmasi Hapus",text:"Apakah Anda yakin ingin menghapus pertanyaan ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&(r.value=!0,console.log("Deleting question:",l,"from quiz:",v.quiz.id),console.log("Route:",route("lms.quizzes.questions.destroy",[v.quiz.id,l])),O.delete(route("lms.quizzes.questions.destroy",[v.quiz.id,l]),{onSuccess:s=>{r.value=!1,console.log("Delete success:",s),p.fire("Terhapus!","Pertanyaan berhasil dihapus.","success")},onError:s=>{r.value=!1,console.error("Delete error:",s),p.fire("Error!","Gagal menghapus pertanyaan: "+(Object.values(s)[0]||"Unknown error"),"error")}}))})};return(l,e)=>(i(),L(Z,null,{default:S(()=>[t("div",te,[e[47]||(e[47]=t("div",{class:"absolute inset-0 overflow-hidden"},[t("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),t("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),t("div",{class:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),t("div",se,[t("div",ae,[t("div",le,[t("div",oe,[t("div",ie,[e[9]||(e[9]=t("h1",{class:"text-4xl font-bold text-white drop-shadow-lg"}," Kelola Pertanyaan Quiz ",-1)),t("p",ne,u(b.quiz.title),1)]),t("div",re,[t("button",{onClick:e[0]||(e[0]=s=>w.value=!0),class:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[10]||(e[10]=[t("i",{class:"fas fa-plus mr-2"},null,-1),c(" Tambah Pertanyaan ")]),8,de),R(K(H),{href:l.route("lms.quizzes.show",b.quiz.id),class:C(["bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg",{"opacity-50 pointer-events-none":r.value}])},{default:S(()=>e[11]||(e[11]=[t("i",{class:"fas fa-arrow-left mr-2"},null,-1),c(" Kembali ke Quiz ")])),_:1},8,["href","class"])])])])]),t("div",ue,[e[16]||(e[16]=t("h3",{class:"text-xl font-bold text-white mb-4 flex items-center"},[t("i",{class:"fas fa-chart-bar mr-2 text-green-400"}),c(" Statistik Quiz ")],-1)),t("div",ce,[t("div",pe,[t("div",me,u(b.quiz.questions_count||0),1),e[12]||(e[12]=t("div",{class:"text-sm text-white/60"},"Pertanyaan",-1))]),t("div",be,[t("div",_e,u(b.quiz.attempts_count||0),1),e[13]||(e[13]=t("div",{class:"text-sm text-white/60"},"Percobaan",-1))]),t("div",ge,[t("div",fe,u(b.quiz.average_score||0)+"%",1),e[14]||(e[14]=t("div",{class:"text-sm text-white/60"},"Rata-rata Nilai",-1))]),t("div",xe,[t("div",ve,u(b.quiz.pass_rate||0)+"%",1),e[15]||(e[15]=t("div",{class:"text-sm text-white/60"},"Tingkat Kelulusan",-1))])])]),t("div",he,[(i(!0),n(z,null,B(b.questions,(s,m)=>(i(),n("div",{key:s.id,class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},[t("div",we,[t("div",ye,[t("div",ke,[t("span",qe," Pertanyaan "+u(m+1),1),t("span",{class:C([{"bg-green-500/20 text-green-300":s.question_type==="multiple_choice","bg-purple-500/20 text-purple-300":s.question_type==="essay","bg-orange-500/20 text-orange-300":s.question_type==="true_false"},"px-2 py-1 rounded-full text-xs font-semibold"])},u(P(s.question_type)),3),t("span",Ce,u(s.points)+" poin ",1)]),t("h3",ze,u(s.question_text),1),s.image_path?(i(),n("div",Be,[t("img",{src:s.image_url,alt:s.image_alt_text||"Gambar pertanyaan",class:"w-full max-w-md h-auto rounded-lg border border-white/20",onError:j},null,40,Ie),s.image_alt_text?(i(),n("p",Oe,u(s.image_alt_text),1)):d("",!0)])):d("",!0)]),t("div",je,[t("button",{onClick:o=>Q(s),class:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[17]||(e[17]=[t("i",{class:"fas fa-edit mr-1"},null,-1),c(" Edit ")]),8,Se),t("button",{onClick:o=>A(s.id),class:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[18]||(e[18]=[t("i",{class:"fas fa-trash mr-1"},null,-1),c(" Hapus ")]),8,Ve)])]),s.question_type==="multiple_choice"&&s.options&&s.options.length>0?(i(),n("div",Pe,[(i(!0),n(z,null,B(s.options,o=>(i(),n("div",{key:o.id,class:C(["p-3 rounded-lg",o.is_correct?"bg-green-500/20 border border-green-500/30":"bg-white/5"])},[t("div",Ue,[t("div",Ee,[o.is_correct?(i(),n("div",$e)):d("",!0)]),t("span",Me,u(o.option_text),1),o.is_correct?(i(),n("span",Te," Jawaban Benar ")):d("",!0)]),o.image_path?(i(),n("div",Ge,[t("img",{src:o.image_url,alt:o.image_alt_text||"Gambar opsi",class:"w-full max-w-xs h-auto rounded-lg border border-white/20",onError:j},null,40,De),o.image_alt_text?(i(),n("p",Qe,u(o.image_alt_text),1)):d("",!0)])):d("",!0)],2))),128))])):s.question_type==="essay"?(i(),n("div",Fe,e[19]||(e[19]=[t("p",{class:"text-white/60 text-sm"},"Jawaban essay akan dinilai secara manual",-1)]))):s.question_type==="true_false"?(i(),n("div",Ne,[t("div",Ae,[t("div",Je,[s.options&&s.options.find(o=>o.option_text==="Benar"&&o.is_correct)?(i(),n("div",Le)):d("",!0)]),e[20]||(e[20]=t("span",{class:"text-white/80"},"Benar",-1)),s.options&&s.options.find(o=>o.option_text==="Benar"&&o.is_correct)?(i(),n("span",Re," Jawaban Benar ")):d("",!0)]),t("div",Ke,[t("div",He,[s.options&&s.options.find(o=>o.option_text==="Salah"&&o.is_correct)?(i(),n("div",We)):d("",!0)]),e[21]||(e[21]=t("span",{class:"text-white/80"},"Salah",-1)),s.options&&s.options.find(o=>o.option_text==="Salah"&&o.is_correct)?(i(),n("span",Ye," Jawaban Benar ")):d("",!0)])])):d("",!0)]))),128)),b.questions.length===0?(i(),n("div",Xe,[e[23]||(e[23]=t("div",{class:"text-6xl text-white/30 mb-4"},[t("i",{class:"fas fa-question-circle"})],-1)),e[24]||(e[24]=t("h3",{class:"text-2xl font-bold text-white mb-2"},"Belum ada pertanyaan",-1)),e[25]||(e[25]=t("p",{class:"text-white/70 mb-6"}," Mulai menambahkan pertanyaan untuk quiz ini ",-1)),t("button",{onClick:e[1]||(e[1]=s=>w.value=!0),class:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[22]||(e[22]=[t("i",{class:"fas fa-plus mr-2"},null,-1),c(" Tambah Pertanyaan Pertama ")]),8,Ze)])):d("",!0)])]),w.value||f.value?(i(),n("div",et,[t("div",tt,[r.value?(i(),n("div",st,e[26]||(e[26]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),t("p",{class:"text-white font-semibold"},"Menyimpan pertanyaan...")],-1)]))):d("",!0),t("div",at,[t("h3",lt,u(f.value?"Edit Pertanyaan":"Tambah Pertanyaan Baru"),1),t("button",{onClick:y,class:"text-white/60 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[27]||(e[27]=[t("i",{class:"fas fa-times text-xl"},null,-1)]),8,ot)]),t("form",{onSubmit:W(N,["prevent"]),class:"space-y-6"},[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[c("Tipe Pertanyaan "),t("span",{class:"text-red-400"},"*")],-1)),_(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.question_type=s),required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent [&>option]:bg-slate-800 [&>option]:text-white disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[28]||(e[28]=[t("option",{value:"multiple_choice"},"Pilihan Ganda",-1),t("option",{value:"essay"},"Essay",-1),t("option",{value:"true_false"},"Benar/Salah",-1)]),8,it),[[Y,a.value.question_type]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[c("Pertanyaan "),t("span",{class:"text-red-400"},"*")],-1)),_(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.question_text=s),rows:"3",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Masukkan pertanyaan...",disabled:r.value},null,8,nt),[[h,a.value.question_text]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[c("Poin "),t("span",{class:"text-red-400"},"*")],-1)),_(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.points=s),type:"number",min:"1",required:"",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"1",disabled:r.value},null,8,rt),[[h,a.value.points]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Gambar Pertanyaan (Opsional)",-1)),t("div",dt,[a.value.image_preview||a.value.image_path?(i(),n("div",ut,[t("img",{src:a.value.image_preview||a.value.image_url,alt:"Preview gambar pertanyaan",class:"w-full max-w-md h-auto rounded-lg border border-white/20"},null,8,ct),a.value.image_preview||a.value.image_path?(i(),n("button",{key:0,onClick:M,type:"button",class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors"},e[32]||(e[32]=[t("i",{class:"fas fa-times"},null,-1)]))):d("",!0)])):d("",!0),t("div",pt,[t("input",{ref:"imageInput",type:"file",accept:"image/*",onChange:$,class:"hidden",disabled:r.value},null,40,mt),t("button",{onClick:e[5]||(e[5]=s=>l.$refs.imageInput.click()),type:"button",class:"px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},[e[33]||(e[33]=t("i",{class:"fas fa-upload mr-2"},null,-1)),c(" "+u(a.value.image_preview||a.value.image_path?"Ganti Gambar":"Upload Gambar"),1)],8,bt)]),a.value.image_preview||a.value.image_path?(i(),n("div",_t,[_(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>a.value.image_alt_text=s),type:"text",class:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Deskripsi gambar untuk aksesibilitas...",disabled:r.value},null,8,gt),[[h,a.value.image_alt_text]])])):d("",!0)])]),a.value.question_type==="multiple_choice"?(i(),n("div",ft,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[c("Opsi Jawaban "),t("span",{class:"text-red-400"},"*")],-1)),t("div",xt,[(i(!0),n(z,null,B(a.value.options,(s,m)=>(i(),n("div",{key:m,class:"space-y-3 p-4 border border-white/10 rounded-lg"},[t("div",vt,[_(t("input",{"onUpdate:modelValue":o=>s.option_text=o,type:"text",required:"",class:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",placeholder:`Opsi ${m+1}`,disabled:r.value},null,8,ht),[[h,s.option_text]]),_(t("input",{"onUpdate:modelValue":o=>s.is_correct=o,type:"radio",name:`correct_option_${a.value.id||"new"}`,value:!0,class:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 focus:ring-blue-500 focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},null,8,wt),[[I,s.is_correct]]),e[36]||(e[36]=t("span",{class:"text-white/60 text-sm"},"Benar",-1)),a.value.options.length>2?(i(),n("button",{key:0,onClick:o=>E(m),type:"button",class:"text-red-400 hover:text-red-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[35]||(e[35]=[t("i",{class:"fas fa-trash"},null,-1)]),8,yt)):d("",!0)]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},"Gambar Opsi (Opsional)",-1)),t("div",kt,[s.image_preview||s.image_path?(i(),n("div",qt,[t("img",{src:s.image_preview||s.image_url,alt:"Preview gambar opsi",class:"w-full max-w-xs h-auto rounded-lg border border-white/20"},null,8,Ct),t("button",{onClick:o=>D(m),type:"button",class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center transition-colors text-xs"},e[37]||(e[37]=[t("i",{class:"fas fa-times"},null,-1)]),8,zt)])):d("",!0),t("div",Bt,[t("input",{ref_for:!0,ref:`optionImageInput${m}`,type:"file",accept:"image/*",onChange:o=>T(o,m),class:"hidden",disabled:r.value},null,40,It),t("button",{onClick:()=>G(m),type:"button",class:"px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white hover:bg-white/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",disabled:r.value},[e[38]||(e[38]=t("i",{class:"fas fa-upload mr-1"},null,-1)),c(" "+u(s.image_preview||s.image_path?"Ganti Gambar":"Upload Gambar"),1)],8,Ot)]),s.image_preview||s.image_path?(i(),n("div",jt,[_(t("input",{"onUpdate:modelValue":o=>s.image_alt_text=o,type:"text",class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed text-sm",placeholder:"Deskripsi gambar opsi...",disabled:r.value},null,8,St),[[h,s.image_alt_text]])])):d("",!0)])])]))),128)),t("button",{onClick:U,type:"button",class:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},e[40]||(e[40]=[t("i",{class:"fas fa-plus mr-1"},null,-1),c(" Tambah Opsi ")]),8,Vt)])])):d("",!0),a.value.question_type==="true_false"?(i(),n("div",Pt,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-300 mb-2"},[c("Jawaban Benar "),t("span",{class:"text-red-400"},"*")],-1)),t("div",Ut,[t("div",Et,[_(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.correct_answer=s),type:"radio",name:"correct_answer",value:"true",class:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 focus:ring-blue-500 focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},null,8,$t),[[I,a.value.correct_answer]]),e[42]||(e[42]=t("span",{class:"text-white"},"Benar",-1))]),t("div",Mt,[_(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.correct_answer=s),type:"radio",name:"correct_answer",value:"false",class:"w-4 h-4 text-blue-600 bg-white/10 border-white/20 focus:ring-blue-500 focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value},null,8,Tt),[[I,a.value.correct_answer]]),e[43]||(e[43]=t("span",{class:"text-white"},"Salah",-1))])])])):d("",!0),t("div",Gt,[t("button",{type:"button",onClick:y,class:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors duration-200 text-center disabled:opacity-50 disabled:cursor-not-allowed",disabled:r.value}," Batal ",8,Dt),t("button",{type:"submit",disabled:r.value||!q.value,class:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-4 py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden"},[r.value?(i(),n("span",Ft,e[45]||(e[45]=[t("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"},null,-1),c(" Menyimpan... ")]))):(i(),n("span",Nt,[e[46]||(e[46]=t("i",{class:"fas fa-save mr-2"},null,-1)),c(" "+u(f.value?"Update Pertanyaan":"Simpan Pertanyaan"),1)]))],8,Qt)])],32)])])):d("",!0)])]),_:1}))}},ts=ee(At,[["__scopeId","data-v-fd82f95b"]]);export{ts as default};
