import{r as i,A as b,B as n,C as _,D as t,O as v,H as m,J as g,L as d,E as S,F as w,M as k,N as r,l as D,W as C}from"./vendor-vue-g7iCcTkf.js";import{A as P}from"./AppLayout-BXpmQkyt.js";import"./vendor-utils-CpgP2uT4.js";import"./app-ErXbte2J.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C0i_S3gs.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const T={class:"max-w-7xl mx-auto py-8 px-4"},B={class:"bg-white rounded-xl shadow-lg overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},A={key:0},H={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900"},I={class:"px-4 py-3 whitespace-nowrap text-sm text-right"},N={class:"px-4 py-3 whitespace-nowrap text-sm"},V={class:"px-4 py-3 whitespace-nowrap text-sm"},F={class:"px-4 py-3 whitespace-nowrap text-sm text-right"},M={class:"px-4 py-3 whitespace-nowrap text-sm"},E={class:"px-4 py-3 whitespace-nowrap text-sm"},R={class:"px-4 py-3 whitespace-nowrap text-sm text-right"},Y={__name:"PurchaseOrderPriceChangeReport",props:{reports:Array,from_date:String,to_date:String},setup(y){const p=y,o=i(p.from_date||""),l=i(p.to_date||""),u=i(p.reports||[]);function f(){C.get(route("inventory.po-price-change-report"),{from_date:o.value,to_date:l.value},{preserveState:!0,preserveScroll:!0})}function x(s){return s==null?"-":Number(s).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0})}function c(s){return s?new Date(s).toLocaleDateString("id-ID"):"-"}function h(s){return s===null?"text-gray-400":s>0?"text-red-600 font-bold":s<0?"text-green-600 font-bold":"text-gray-600"}return(s,a)=>(n(),b(P,null,{default:_(()=>[t("div",T,[a[7]||(a[7]=t("h1",{class:"text-2xl font-bold mb-6"},"Laporan Perubahan Harga PO per Item",-1)),t("form",{class:"flex flex-wrap gap-4 mb-6 items-end",onSubmit:v(f,["prevent"])},[t("div",null,[a[2]||(a[2]=t("label",{class:"block text-sm font-medium mb-1"},"Dari Tanggal",-1)),m(t("input",{type:"date","onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),class:"border rounded px-2 py-1"},null,512),[[g,o.value]])]),t("div",null,[a[3]||(a[3]=t("label",{class:"block text-sm font-medium mb-1"},"Sampai Tanggal",-1)),m(t("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),class:"border rounded px-2 py-1"},null,512),[[g,l.value]])]),a[4]||(a[4]=t("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Tampilkan",-1))],32),t("div",B,[t("table",L,[a[6]||(a[6]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase"},"Barang"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase"},"Harga Sebelumnya"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase"},"Supplier Sebelumnya"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase"},"Tgl PO Sebelumnya"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase"},"Harga Sekarang"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase"},"Supplier Sekarang"),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase"},"Tgl PO Sekarang"),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase"},"% Perubahan")])],-1)),t("tbody",O,[u.value.length?S("",!0):(n(),d("tr",A,a[5]||(a[5]=[t("td",{colspan:"8",class:"text-center py-10 text-gray-400"},"Tidak ada data perubahan harga.",-1)]))),(n(!0),d(w,null,k(u.value,e=>(n(),d("tr",{key:e.item_name+e.latest_po_number,class:"hover:bg-gray-50 transition"},[t("td",H,r(e.item_name),1),t("td",I,r(x(e.prev_price)),1),t("td",N,r(e.prev_supplier),1),t("td",V,r(c(e.prev_po_date)),1),t("td",F,r(x(e.latest_price)),1),t("td",M,r(e.latest_supplier),1),t("td",E,r(c(e.latest_po_date)),1),t("td",R,[t("span",{class:D(h(e.percent_change))},r(e.percent_change===null?"-":(e.percent_change>0?"+":"")+e.percent_change+"%"),3)])]))),128))])])])])]),_:1}))}};export{Y as default};
