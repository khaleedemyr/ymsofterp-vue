import{r as c,c as h,a as q,A as S,B as l,C as B,D as t,L as i,E as C,G as n,H as u,F as f,M as m,N as o,I as w,J as _,l as T}from"./vendor-vue-g7iCcTkf.js";import{A as V}from"./AppLayout-DP-q1yH_.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-BoyRvw0M.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-Cs9EnNrk.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const U={class:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden"},R={class:"relative z-10 py-8 px-6"},F={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl mb-8"},M={class:"p-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-4"},N=["value"],O=["value"],E=["value"],I=["value"],J={class:"flex justify-end gap-3"},G=["disabled"],P={key:0,class:"flex items-center justify-center py-12"},H={key:1,class:"text-center py-12"},K={class:"text-white/60"},$={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},W={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},X={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold text-white"},Z={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},tt={class:"flex items-center justify-between"},et={class:"text-3xl font-bold text-green-400"},st={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},lt={class:"flex items-center justify-between"},it={class:"text-3xl font-bold text-red-400"},ot={class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl p-6"},at={class:"flex items-center justify-between"},dt={class:"text-3xl font-bold text-yellow-400"},rt={key:3,class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-2xl shadow-2xl"},nt={class:"p-6"},ut={class:"overflow-x-auto"},xt={class:"w-full text-white"},pt={class:"divide-y divide-white/10"},bt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"flex items-center"},ft={key:0,class:"w-10 h-10 rounded-full overflow-hidden border-2 border-blue-500/30 mr-3"},mt=["src"],wt={key:1,class:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold border-2 border-blue-500/30 mr-3"},vt={class:"text-sm font-medium text-white"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},gt={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},_t={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},jt={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},zt={class:"px-6 py-4 whitespace-nowrap"},Dt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Lt={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},qt={class:"px-6 py-4 whitespace-nowrap text-sm text-white/80"},St={key:4,class:"text-center py-12"},Bt={__name:"QuizReport",setup(Ct){const x=c(!1),p=c(null),r=c([]),b=c({divisions:[],outlets:[],jabatans:[],levels:[]}),a=c({division_id:"",outlet_id:"",jabatan_id:"",level_id:"",from_date:"",to_date:""}),g=async()=>{x.value=!0,p.value=null;try{const d=new URLSearchParams;Object.keys(a.value).forEach(v=>{a.value[v]&&d.append(v,a.value[v])});const s=await(await fetch(route("lms.quiz-report")+"?"+d.toString())).json();s.success?(r.value=s.data.quiz_attempts,b.value=s.data.filter_options):p.value=s.message||"Gagal memuat data quiz report"}catch(d){console.error("Error fetching quiz report:",d),p.value="Terjadi kesalahan saat memuat data quiz report"}finally{x.value=!1}},k=()=>{g()},j=()=>{a.value={division_id:"",outlet_id:"",jabatan_id:"",level_id:"",from_date:"",to_date:""}},z=d=>d?d.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"",y=h(()=>r.value.filter(d=>d.is_passed).length),D=h(()=>r.value.filter(d=>!d.is_passed).length),L=h(()=>r.value.length===0?0:Math.round(y.value/r.value.length*100));return q(()=>{g()}),(d,e)=>(l(),S(V,null,{default:B(()=>[t("div",U,[e[36]||(e[36]=t("div",{class:"absolute inset-0 overflow-hidden"},[t("div",{class:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),t("div",{class:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),t("div",{class:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})],-1)),t("div",R,[e[35]||(e[35]=t("div",{class:"backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl shadow-2xl mb-8"},[t("div",{class:"p-8 bg-gradient-to-r from-blue-600/80 via-purple-600/80 to-pink-600/80 rounded-3xl"},[t("div",{class:"flex items-center justify-between"},[t("div",{class:"space-y-4"},[t("h1",{class:"text-4xl font-bold text-white drop-shadow-lg"}," Quiz Report "),t("p",{class:"text-xl text-white/90 drop-shadow-md"}," Data berdasarkan filter yang dipilih ")])])])],-1)),t("div",F,[t("div",M,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[t("i",{class:"fas fa-filter mr-2 text-blue-400"}),n(" Filter Data ")],-1)),t("div",Q,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-white/80 mb-2"},"By Divisi",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.division_id=s),class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[6]||(e[6]=t("option",{value:"",class:"bg-gray-800 text-white"},"Semua Divisi",-1)),(l(!0),i(f,null,m(b.value.divisions,s=>(l(),i("option",{key:s.id,value:s.id,class:"bg-gray-800 text-white"},o(s.nama_divisi),9,N))),128))],512),[[w,a.value.division_id]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-white/80 mb-2"},"By Outlet",-1)),u(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.outlet_id=s),class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[8]||(e[8]=t("option",{value:"",class:"bg-gray-800 text-white"},"Semua Outlet",-1)),(l(!0),i(f,null,m(b.value.outlets,s=>(l(),i("option",{key:s.id_outlet,value:s.id_outlet,class:"bg-gray-800 text-white"},o(s.nama_outlet),9,O))),128))],512),[[w,a.value.outlet_id]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-white/80 mb-2"},"By Jabatan",-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.jabatan_id=s),class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[10]||(e[10]=t("option",{value:"",class:"bg-gray-800 text-white"},"Semua Jabatan",-1)),(l(!0),i(f,null,m(b.value.jabatans,s=>(l(),i("option",{key:s.id_jabatan,value:s.id_jabatan,class:"bg-gray-800 text-white"},o(s.nama_jabatan),9,E))),128))],512),[[w,a.value.jabatan_id]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-white/80 mb-2"},"By Level",-1)),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.level_id=s),class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[e[12]||(e[12]=t("option",{value:"",class:"bg-gray-800 text-white"},"Semua Level",-1)),(l(!0),i(f,null,m(b.value.levels,s=>(l(),i("option",{key:s.id_level,value:s.id_level,class:"bg-gray-800 text-white"},o(s.nama_level),9,I))),128))],512),[[w,a.value.level_id]])]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-white/80 mb-2"},"Date From",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.from_date=s),type:"date",class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,a.value.from_date]])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-white/80 mb-2"},"Date To",-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>a.value.to_date=s),type:"date",class:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,a.value.to_date]])])]),t("div",J,[t("button",{onClick:k,disabled:x.value,class:"px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-lg text-blue-200 hover:bg-blue-500/30 disabled:bg-gray-500/20 disabled:border-gray-500/30 disabled:text-gray-400 transition-all flex items-center gap-2"},[t("i",{class:T(["fas fa-sync-alt",{"animate-spin":x.value}])},null,2),e[16]||(e[16]=n(" Load Data "))],8,G),t("button",{onClick:j,class:"px-4 py-2 bg-red-500/20 border border-red-500/30 rounded-lg text-red-200 hover:bg-red-500/30 transition-all"},e[17]||(e[17]=[t("i",{class:"fas fa-times mr-2"},null,-1),n(" Clear Filters ")]))])])]),x.value?(l(),i("div",P,e[19]||(e[19]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"},null,-1),t("span",{class:"ml-3 text-white"},"Memuat data quiz report...",-1)]))):p.value?(l(),i("div",H,[e[20]||(e[20]=t("i",{class:"fas fa-exclamation-triangle text-red-400 text-6xl mb-4"},null,-1)),e[21]||(e[21]=t("h3",{class:"text-xl font-semibold text-white mb-2"},"Terjadi Kesalahan",-1)),t("p",K,o(p.value),1)])):r.value&&r.value.length>0?(l(),i("div",$,[t("div",W,[t("div",X,[t("div",null,[e[22]||(e[22]=t("p",{class:"text-white/60 text-sm font-medium"},"Total Attempts",-1)),t("p",Y,o(r.value.length),1)]),e[23]||(e[23]=t("div",{class:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-question-circle text-blue-400 text-xl"})],-1))])]),t("div",Z,[t("div",tt,[t("div",null,[e[24]||(e[24]=t("p",{class:"text-white/60 text-sm font-medium"},"Lolos",-1)),t("p",et,o(y.value),1)]),e[25]||(e[25]=t("div",{class:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-check-circle text-green-400 text-xl"})],-1))])]),t("div",st,[t("div",lt,[t("div",null,[e[26]||(e[26]=t("p",{class:"text-white/60 text-sm font-medium"},"Tidak Lolos",-1)),t("p",it,o(D.value),1)]),e[27]||(e[27]=t("div",{class:"w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-times-circle text-red-400 text-xl"})],-1))])]),t("div",ot,[t("div",at,[t("div",null,[e[28]||(e[28]=t("p",{class:"text-white/60 text-sm font-medium"},"Pass Rate",-1)),t("p",dt,o(L.value)+"%",1)]),e[29]||(e[29]=t("div",{class:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center"},[t("i",{class:"fas fa-chart-line text-yellow-400 text-xl"})],-1))])])])):C("",!0),r.value&&r.value.length>0?(l(),i("div",rt,[t("div",nt,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-white mb-4 flex items-center"},[t("i",{class:"fas fa-table mr-2 text-blue-400"}),n(" Quiz Attempts ")],-1)),t("div",ut,[t("table",xt,[e[32]||(e[32]=t("thead",null,[t("tr",{class:"border-b border-white/20"},[t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Nama"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Divisi"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Outlet"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Jabatan"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Level"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Quiz"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Score"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-bold text-white uppercase tracking-wider"},"Tanggal")])],-1)),t("tbody",pt,[(l(!0),i(f,null,m(r.value,s=>(l(),i("tr",{key:s.attempt_id,class:"hover:bg-white/5"},[t("td",bt,[t("div",ct,[s.avatar?(l(),i("div",ft,[t("img",{src:`/storage/${s.avatar}`,alt:"Avatar",class:"w-full h-full object-cover"},null,8,mt)])):(l(),i("div",wt,o(z(s.nama_lengkap)),1)),t("div",vt,o(s.nama_lengkap),1)])]),t("td",ht,o(s.nama_divisi),1),t("td",gt,o(s.nama_outlet),1),t("td",yt,o(s.nama_jabatan),1),t("td",_t,o(s.nama_level),1),t("td",kt,o(s.quiz_title),1),t("td",jt,o(s.score)+"%",1),t("td",zt,[s.is_passed?(l(),i("span",Dt,e[30]||(e[30]=[t("i",{class:"fas fa-check mr-1"},null,-1),n(" Lolos ")]))):(l(),i("span",Lt,e[31]||(e[31]=[t("i",{class:"fas fa-times mr-1"},null,-1),n(" Tidak Lolos ")])))]),t("td",qt,o(new Date(s.completed_at).toLocaleDateString("id-ID")),1)]))),128))])])])])])):(l(),i("div",St,e[34]||(e[34]=[t("i",{class:"fas fa-question-circle text-white/30 text-6xl mb-4"},null,-1),t("h3",{class:"text-xl font-semibold text-white mb-2"},"Belum Ada Data",-1),t("p",{class:"text-white/60"},"Tidak ada data quiz yang ditemukan berdasarkan filter yang dipilih.",-1)])))])])]),_:1}))}},Et=A(Bt,[["__scopeId","data-v-49f31e7a"]]);export{Et as default};
