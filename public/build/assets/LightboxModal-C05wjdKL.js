import{r as g,c as y,a as k,j as b,w as x,L as n,E as u,B as o,D as l,F as L,O as d,N as p}from"./vendor-vue-g7iCcTkf.js";import"./vendor-utils-CpgP2uT4.js";const A={class:"relative max-w-3xl w-full flex flex-col items-center"},B={class:"flex items-center justify-center w-full h-[60vh]"},C={class:"flex-1 flex items-center justify-center"},E=["src"],j=["src"],I={class:"mt-4 text-white text-center text-xs"},z={__name:"LightboxModal",props:{show:Boolean,mediaList:Array,startIndex:Number},emits:["close"],setup(a,{emit:v}){const e=a,w=v,t=g(e.startIndex||0),r=y(()=>e.mediaList[t.value]||{});function c(){w("close")}function f(){t.value>0?t.value--:t.value=e.mediaList.length-1}function m(){t.value<e.mediaList.length-1?t.value++:t.value=0}function h(s){e.show&&(s.key==="Escape"&&c(),s.key==="ArrowLeft"&&e.mediaList.length>1&&f(),s.key==="ArrowRight"&&e.mediaList.length>1&&m())}return k(()=>{window.addEventListener("keydown",h)}),b(()=>{window.removeEventListener("keydown",h)}),x(()=>e.startIndex,s=>{t.value=s||0}),x(()=>e.show,s=>{s||(t.value=e.startIndex||0)}),(s,i)=>a.show&&Array.isArray(a.mediaList)&&a.mediaList.length?(o(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:d(c,["self"])},[l("div",A,[l("button",{onClick:c,class:"absolute top-2 right-2 text-white text-2xl z-10"},i[0]||(i[0]=[l("i",{class:"fas fa-times"},null,-1)])),l("div",B,[a.mediaList.length?(o(),n(L,{key:0},[a.mediaList.length>1?(o(),n("button",{key:0,onClick:d(f,["stop"]),class:"absolute left-2 top-1/2 -translate-y-1/2 text-white text-3xl bg-black/40 rounded-full p-2 hover:bg-black/70"},i[1]||(i[1]=[l("i",{class:"fas fa-chevron-left"},null,-1)]))):u("",!0),l("div",C,[r.value.type==="image"?(o(),n("img",{key:0,src:r.value.url,class:"max-h-[60vh] max-w-full rounded shadow-lg"},null,8,E)):r.value.type==="video"?(o(),n("video",{key:1,src:r.value.url,class:"max-h-[60vh] max-w-full rounded shadow-lg",controls:"",autoplay:""},null,8,j)):u("",!0)]),a.mediaList.length>1?(o(),n("button",{key:1,onClick:d(m,["stop"]),class:"absolute right-2 top-1/2 -translate-y-1/2 text-white text-3xl bg-black/40 rounded-full p-2 hover:bg-black/70"},i[2]||(i[2]=[l("i",{class:"fas fa-chevron-right"},null,-1)]))):u("",!0)],64)):u("",!0)]),l("div",I,p(r.value.caption),1)])])):u("",!0)}};export{z as default};
