import{r as x,k as be,c as C,A as fe,B as r,C as xe,D as l,L as c,E as k,G as g,H as G,F as T,M as P,N as a,I as j,l as F,Z as pe,J as Y,n as h,W as ye}from"./vendor-vue-g7iCcTkf.js";import{A as _e}from"./AppLayout-DQ4wNTsP.js";import{a as J}from"./vendor-utils-CpgP2uT4.js";import{E as ke}from"./jspdf.es.min-Dn6h57ND.js";import"./html2canvas.esm-CBrSDip1.js";import"./browser-CCaIc0XY.js";import{S as K}from"./app-DAB8i6cE.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-CinBCb2E.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const we={class:"w-full min-h-screen py-8 px-2 md:px-6 flex flex-col items-center"},Se={class:"mb-6 flex flex-col md:flex-row gap-4 items-center w-full max-w-xl"},qe=["value"],De={class:"mb-6 flex flex-col md:flex-row gap-4 items-center w-full max-w-xl"},Ie=["disabled"],Le={label:"Packing List"},Ne=["value"],$e={label:"RO Supplier GR"},Re=["value"],Oe={key:0,class:"mb-6 w-full max-w-xl bg-blue-50 border-l-4 border-blue-400 p-4 rounded animate-fade-in"},Ae={class:"font-bold text-blue-800 mb-1"},Ce={key:0},Te={key:1},Pe={key:1,class:"mb-8 w-full flex justify-center items-center py-12"},Fe={key:2,class:"mb-8 w-full max-w-3xl animate-fade-in"},Be={class:"min-w-full rounded-xl overflow-hidden shadow-xl"},Ee={class:"px-4 py-2 text-base"},Ue={class:"text-xs text-gray-500 mt-1 space-y-1"},Me={key:0},Ge={key:0},Qe={key:1},We={key:2},Ke={key:1,class:"text-red-600 font-bold"},Ve={class:"px-4 py-2 text-right text-lg"},ze={class:"px-4 py-2 text-base"},je={class:"px-4 py-2 text-right text-lg font-bold"},Ye={class:"px-4 py-2 text-center"},Je={key:0,class:"text-gray-400 font-bold text-lg"},He={key:1,class:"text-green-700 font-bold text-lg animate-pulse"},Ze={key:2,class:"text-red-700 font-bold text-lg animate-pulse"},Xe={key:3,class:"text-yellow-700 font-bold text-lg animate-pulse"},et={key:3,class:"mb-8 w-full max-w-xl flex flex-col items-center animate-fade-in"},tt=["disabled"],lt={key:0,class:"fa fa-spinner fa-spin mr-2"},st={key:1,class:"fa-solid fa-paper-plane mr-2"},nt={key:5,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},ot={class:"bg-white rounded-xl shadow-2xl w-full max-w-md p-8 relative animate-fade-in"},at={class:"flex justify-end gap-3"},it=["disabled"],ut={key:0,class:"fa fa-spinner fa-spin mr-2"},rt={key:6,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},dt={class:"bg-white rounded-xl shadow-2xl w-full max-w-xs p-8 relative animate-fade-in"},ct={class:"mb-2 text-sm text-gray-600"},mt={class:"text-blue-800"},vt={class:"mb-4"},gt=["max"],bt={class:"flex justify-end gap-3"},ft={key:7,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},xt={class:"bg-white rounded-xl shadow-2xl w-full max-w-xs p-8 relative animate-fade-in"},pt={class:"grid gap-3 mb-4"},yt=["onClick"],_t={__name:"Form",props:{packingLists:Array,roSupplierGRs:Array,warehouseDivisions:Array},setup(H){const Q=H,B=x(Q.packingLists||[]),E=x(Q.roSupplierGRs||[]),Z=x(Q.warehouseDivisions||[]);console.log("Packing Lists:",B.value),console.log("RO Supplier GRs:",E.value),console.log("Packing Lists length:",B.value.length),console.log("RO Supplier GRs length:",E.value.length);const y=be([]),L=x(""),I=x(""),$=x(!1),S=x(""),_=x(""),w=x(""),q=x(null),U=x(!1),A=x(!1),N=x(.01),R=x(null),M=x(!1),X=["Stok kurang","Barang rusak","Permintaan berubah","Lainnya"],ee=x(""),O=x(!1),V=x(""),te=x("");x(!1);const le=C(()=>y.length>0&&y.some(s=>s.qty_scan>0)),W=C(()=>{const s=L.value;return s&&typeof s=="string"&&s.startsWith("gr_")}),se=C(()=>I.value?B.value.filter(s=>s.warehouse_division_id==I.value):[]),ne=C(()=>I.value?E.value.filter(s=>s.warehouse_division_id==I.value):[]),p=C(()=>{const s=L.value;if(!s)return null;if(W.value){const e=s.substring(3);return E.value.find(i=>i.gr_id==e)||null}else return B.value.find(e=>e.id==s)||null});function oe(){console.log("=== onWarehouseDivisionChange START ==="),console.log("selectedWarehouseDivision.value:",I.value),L.value="",y.splice(0,y.length),console.log("=== onWarehouseDivisionChange END ===")}async function ae(){console.log("=== onPackingListChange START ===");const s=L.value;if(console.log("selectedPackingListId.value:",s,"type:",typeof s),!s){console.log("Early return - no value");return}$.value=!0,y.splice(0,y.length),console.log("Calling API for:",s);try{const e=await J.get(`/api/packing-list/${s}/items`);console.log("API Response:",e.data),y.splice(0,y.length,...e.data.items.map(i=>({...i,qty_scan:0}))),console.log("Packing list items after update:",y)}catch(e){console.error("API Error:",e)}finally{$.value=!1}S.value="",_.value="",h(()=>{var e;return(e=q.value)==null?void 0:e.focus()}),console.log("=== onPackingListChange END ===")}function ie(){const s=S.value.trim();if(!s)return;let e=s,i=null;const f=s.match(/^([\S]+)\s+(\d+(?:\.\d+)?)$/);f&&(e=f[1],i=parseFloat(f[2]));const n=y.find(t=>Array.isArray(t.barcodes)?t.barcodes.includes(e):t.barcode===e);if(n){const t=Number(n.qty),m=Number(n.qty_scan||0);let d=0,b="";if(n.stock&&n.units)if(console.log("=== STOCK DEBUG ==="),console.log("Item:",n.name),console.log("Item unit:",n.unit),console.log("Available units:",n.units),console.log("Stock data:",n.stock),console.log("Conversion factors:",{small_conversion_qty:n.small_conversion_qty,medium_conversion_qty:n.medium_conversion_qty}),n.unit===n.units.small_unit)d=Number(n.stock.small??0),b=n.units.small_unit,console.log("Using small unit stock:",d,b);else if(n.unit===n.units.medium_unit)d=Number(n.stock.medium??0),b=n.units.medium_unit,console.log("Using medium unit stock:",d,b);else if(n.unit===n.units.large_unit)d=Number(n.stock.large??0),b=n.units.large_unit,console.log("Using large unit stock:",d,b);else{const v=Number(n.stock.small??0),u=Number(n.stock.medium??0),o=Number(n.stock.large??0);console.log("Raw stock values:",{smallStock:v,mediumStock:u,largeStock:o});const D=v+u*(n.small_conversion_qty||1)+o*(n.small_conversion_qty||1)*(n.medium_conversion_qty||1);console.log("Total small unit stock:",D),n.unit===n.units.small_unit?(d=D,b=n.units.small_unit):n.unit===n.units.medium_unit?(d=D/(n.small_conversion_qty||1),b=n.units.medium_unit):n.unit===n.units.large_unit?(d=D/((n.small_conversion_qty||1)*(n.medium_conversion_qty||1)),b=n.units.large_unit):(d=Math.max(v,u,o),b=n.unit),console.log("Final calculated stock:",d,b)}if(console.log("=== FINAL STOCK VALIDATION ==="),console.log("Available stock:",d,b),console.log("Requested qty:",i),console.log("Current scan:",m),console.log("Total needed:",m+i),console.log("Stock >= needed?",d>=m+i),d<=0){_.value=`❌ Stok tidak tersedia (${d} ${b})`,w.value="text-red-600",S.value="",h(()=>{var v;return(v=q.value)==null?void 0:v.focus()});return}if(m+i>d){_.value=`❌ Qty scan tidak boleh melebihi stock (${d} ${b})`,w.value="text-red-600",S.value="",h(()=>{var v;return(v=q.value)==null?void 0:v.focus()});return}if(i===null){R.value=n;const v=t-m;N.value=Math.max(.01,v),A.value=!0,S.value="",h(()=>{const u=document.getElementById("qty-modal-input");u&&u.focus()});return}if(i!==null){if(m+i>t){_.value=`❌ Qty scan tidak boleh lebih dari ${t} (sisa: ${t-m})`,w.value="text-red-600",S.value="",h(()=>{var v;return(v=q.value)==null?void 0:v.focus()});return}if(m+i>d){_.value=`❌ Qty scan tidak boleh melebihi stock (${d} ${b})`,w.value="text-red-600",S.value="",h(()=>{var v;return(v=q.value)==null?void 0:v.focus()});return}n.qty_scan=m+i,_.value=`✅ Berhasil scan ${i} ${n.unit}`,w.value="text-green-600",S.value="",h(()=>{var v;return(v=q.value)==null?void 0:v.focus()});return}}else _.value="❌ Barcode tidak ditemukan di Packing List!",w.value="text-red-600";S.value="",h(()=>{var t;return(t=q.value)==null?void 0:t.focus()})}function z(){const s=R.value,e=Number(s.qty),i=Number(s.qty_scan||0),f=Number(N.value);let n=0,t="";if(s.stock&&s.units)if(console.log("=== QTY MODAL STOCK DEBUG ==="),console.log("Item:",s.name),console.log("Item unit:",s.unit),console.log("Available units:",s.units),console.log("Stock data:",s.stock),console.log("Conversion factors:",{small_conversion_qty:s.small_conversion_qty,medium_conversion_qty:s.medium_conversion_qty}),s.unit===s.units.small_unit)n=Number(s.stock.small??0),t=s.units.small_unit,console.log("Using small unit stock:",n,t);else if(s.unit===s.units.medium_unit)n=Number(s.stock.medium??0),t=s.units.medium_unit,console.log("Using medium unit stock:",n,t);else if(s.unit===s.units.large_unit)n=Number(s.stock.large??0),t=s.units.large_unit,console.log("Using large unit stock:",n,t);else{const m=Number(s.stock.small??0),d=Number(s.stock.medium??0),b=Number(s.stock.large??0);console.log("Raw stock values:",{smallStock:m,mediumStock:d,largeStock:b});const v=m+d*(s.small_conversion_qty||1)+b*(s.small_conversion_qty||1)*(s.medium_conversion_qty||1);console.log("Total small unit stock:",v),s.unit===s.units.small_unit?(n=v,t=s.units.small_unit):s.unit===s.units.medium_unit?(n=v/(s.small_conversion_qty||1),t=s.units.medium_unit):s.unit===s.units.large_unit?(n=v/((s.small_conversion_qty||1)*(s.medium_conversion_qty||1)),t=s.units.large_unit):(n=Math.max(m,d,b),t=s.unit),console.log("Final calculated stock:",n,t)}if(console.log("=== QTY MODAL FINAL VALIDATION ==="),console.log("Available stock:",n,t),console.log("Input qty:",f),console.log("Current scan:",i),console.log("Total needed:",i+f),console.log("Stock >= needed?",n>=i+f),n<=0){_.value=`❌ Stok tidak tersedia (${n} ${t})`,w.value="text-red-600",h(()=>{var m;return(m=document.getElementById("qty-modal-input"))==null?void 0:m.focus()});return}if(i+f>n){const m=n-i;N.value=Math.max(.01,m),_.value=`❌ Qty scan tidak boleh melebihi stock (sisa: ${m} ${t})`,w.value="text-red-600",h(()=>{var d;return(d=document.getElementById("qty-modal-input"))==null?void 0:d.focus()});return}if(i+f>e){const m=e-i;N.value=Math.max(.01,m),_.value=`❌ Qty scan tidak boleh lebih dari ${e} (sisa: ${m})`,w.value="text-red-600",h(()=>{var d;return(d=document.getElementById("qty-modal-input"))==null?void 0:d.focus()});return}if(f<e){A.value=!1,M.value=!0,ee.value="";return}s.qty_scan=f,s.reason="",A.value=!1,_.value=`✔️ ${s.name} (${s.qty_scan}/${s.qty})`,w.value="text-green-700",h(()=>{var m;return(m=q.value)==null?void 0:m.focus()})}function ue(s){s.key==="Enter"&&z()}function re(s){const e=R.value;e.qty_scan=Number(N.value),e.reason=s,M.value=!1,_.value=`✔️ ${e.name} (${e.qty_scan}/${e.qty}) - ${s}`,w.value="text-yellow-700",h(()=>{var i;return(i=q.value)==null?void 0:i.focus()})}function de(s){return Number(s.qty_scan).toFixed(2)===Number(s.qty).toFixed(2)?"bg-green-50 animate-pulse":Number(s.qty_scan)>Number(s.qty)?"bg-red-50 animate-pulse":Number(s.qty_scan)>0?"bg-yellow-50 animate-pulse":""}function ce(){U.value=!0}async function me({orderNumber:s,date:e,outlet:i,items:f,kasirName:n,divisionName:t,warehouseName:m,roNumber:d,roDate:b,roCreatorName:v}){const u=new ke({unit:"mm",format:[80,297]});let o=10;u.setFontSize(13),u.setFont(void 0,"bold"),u.text("DELIVERY ORDER",40,o,{align:"center"}),o+=7,u.setFontSize(10),u.text("JUSTUS GROUP",40,o,{align:"center"}),o+=6,u.setFont(void 0,"bold"),(t||m)&&(u.text(`${t||""}${t&&m?" - ":""}${m||""}`,40,o,{align:"center"}),o+=6),u.setFont(void 0,"normal"),u.setFontSize(9),u.text(`No: ${s}`,2,o),o+=4.5,u.text(`Tanggal: ${e}`,2,o),o+=4.5,u.text(`Outlet: ${i}`,2,o),o+=4.5,d&&(u.text(`RO: ${d}`,2,o),o+=4.5),b&&(u.text(`Tgl RO: ${b}`,2,o),o+=4.5),v&&(u.text(`Pembuat RO: ${v}`,2,o),o+=4.5),o+=2,u.setLineWidth(.5),u.line(2,o,78,o),o+=3,f&&f.length?f.forEach(D=>{u.splitTextToSize(D.name,60).forEach(ge=>{u.text(ge,2,o),o+=3.8}),u.text(`${D.qty_scan} ${D.unit_code||D.unit}`,2,o),o+=5}):(u.text("TIDAK ADA ITEM",2,o),o+=4.5),o+=2,u.setLineWidth(.5),u.line(2,o,78,o),o+=3,u.text(`Kasir: ${n}`,2,o),o+=4.5,u.text("Terima kasih",2,o),u.output("dataurlnewwindow")}async function ve(){var s,e;te.value="",O.value=!0;try{const i=new Date().toISOString().slice(2,10).replace(/-/g,""),f=Math.random().toString(36).substring(2,6).toUpperCase();V.value=`DO${i}${f}`;const n=await J.post("/delivery-order",{packing_list_id:L.value,items:y.map(t=>({id:t.id,barcode:Array.isArray(t.barcode)&&t.barcode.length>0?t.barcode:t.barcode?[t.barcode]:[],qty:t.qty,qty_scan:t.qty_scan,unit:t.unit}))});U.value=!1,n.data.success?(await me({orderNumber:V.value,date:new Date().toLocaleDateString("id-ID"),outlet:((s=p.value)==null?void 0:s.nama_outlet)||"-",warehouseOutlet:((e=p.value)==null?void 0:e.warehouse_outlet_name)||"-",items:y,kasirName:n.data.kasir_name||"-",divisionName:n.data.division_name||"",warehouseName:n.data.warehouse_name||"",roNumber:n.data.ro_number||"",roDate:n.data.ro_date?new Date(n.data.ro_date).toLocaleDateString("id-ID"):"",roCreatorName:n.data.ro_creator_name||""}),await K.fire({icon:"success",title:"Sukses",text:"Delivery Order berhasil disimpan!",timer:1500,showConfirmButton:!1}),ye.visit("/delivery-order")):await K.fire({icon:"error",title:"Gagal",text:n.data.message||"Gagal menyimpan Delivery Order"})}catch{await K.fire({icon:"error",title:"Error",text:"Terjadi kesalahan server."})}finally{O.value=!1}}return(s,e)=>(r(),fe(_e,null,{default:xe(()=>{var i,f,n;return[l("div",we,[e[38]||(e[38]=l("h1",{class:"text-3xl font-bold mb-8 text-blue-800 flex items-center gap-3"},[l("i",{class:"fa-solid fa-barcode text-blue-500"}),g(" Delivery Order (Scan Barang) ")],-1)),l("div",Se,[e[8]||(e[8]=l("label",{class:"font-semibold text-lg"},"Warehouse Division",-1)),G(l("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>I.value=t),onChange:oe,class:"border-2 border-blue-400 rounded-lg px-3 py-2 w-full max-w-xs focus:ring-2 focus:ring-blue-500"},[e[7]||(e[7]=l("option",{value:""},"Semua Warehouse Division",-1)),(r(!0),c(T,null,P(Z.value,t=>(r(),c("option",{key:t.id,value:t.id},a(t.name),9,qe))),128))],544),[[j,I.value]])]),l("div",De,[e[10]||(e[10]=l("label",{class:"font-semibold text-lg"},"Pilih Sumber",-1)),G(l("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>L.value=t),onChange:ae,class:"border-2 border-blue-400 rounded-lg px-3 py-2 w-full max-w-xs focus:ring-2 focus:ring-blue-500",disabled:!I.value},[e[9]||(e[9]=l("option",{value:""},"Pilih Packing List atau RO Supplier GR...",-1)),l("optgroup",Le,[(r(!0),c(T,null,P(se.value,t=>(r(),c("option",{key:t.id,value:t.id},a(new Date(t.created_at).toLocaleDateString("id-ID"))+" - "+a(t.nama_outlet||"-")+" - "+a(t.division_name||"-")+" - "+a(t.packing_number),9,Ne))),128))]),l("optgroup",$e,[(r(!0),c(T,null,P(ne.value,t=>(r(),c("option",{key:"gr_"+t.gr_id,value:"gr_"+t.gr_id},a(new Date(t.created_at).toLocaleDateString("id-ID"))+" - "+a(t.nama_outlet||"-")+" - "+a(t.division_name||"-")+" - "+a(t.packing_number)+" ("+a(t.supplier_name)+") ",9,Re))),128))])],40,Ie),[[j,L.value]])]),p.value?(r(),c("div",Oe,[l("div",Ae,a(W.value?"Info RO Supplier GR":"Info Packing List"),1),l("div",null,[e[11]||(e[11]=l("b",null,"Outlet:",-1)),g(" "+a(p.value.nama_outlet||"-"),1)]),l("div",null,[e[12]||(e[12]=l("b",null,"Warehouse Outlet:",-1)),g(" "+a(p.value.warehouse_outlet_name||"-"),1)]),l("div",null,[e[13]||(e[13]=l("b",null,"Warehouse Division:",-1)),g(" "+a(p.value.division_name||"-"),1)]),l("div",null,[e[14]||(e[14]=l("b",null,"Warehouse:",-1)),g(" "+a(p.value.warehouse_name||"-"),1)]),l("div",null,[e[15]||(e[15]=l("b",null,"Tanggal Floor Order:",-1)),g(" "+a(p.value.floor_order_date?new Date(p.value.floor_order_date).toLocaleDateString("id-ID"):"-"),1)]),l("div",null,[e[16]||(e[16]=l("b",null,"Nomor Floor Order:",-1)),g(" "+a(p.value.floor_order_number||"-"),1)]),W.value?(r(),c("div",Ce,[l("div",null,[e[17]||(e[17]=l("b",null,"Supplier:",-1)),g(" "+a(p.value.supplier_name||"-"),1)]),l("div",null,[e[18]||(e[18]=l("b",null,"Tanggal GR:",-1)),g(" "+a(p.value.created_at?new Date(p.value.created_at).toLocaleDateString("id-ID"):"-"),1)]),l("div",null,[e[19]||(e[19]=l("b",null,"Nomor GR:",-1)),g(" "+a(p.value.packing_number),1)]),l("div",null,[e[20]||(e[20]=l("b",null,"User GR:",-1)),g(" "+a(p.value.creator_name||"-"),1)])])):(r(),c("div",Te,[l("div",null,[e[21]||(e[21]=l("b",null,"Tanggal Packing:",-1)),g(" "+a(p.value.created_at?new Date(p.value.created_at).toLocaleDateString("id-ID"):"-"),1)]),l("div",null,[e[22]||(e[22]=l("b",null,"Nomor Packing:",-1)),g(" "+a(p.value.packing_number),1)]),l("div",null,[e[23]||(e[23]=l("b",null,"User Packing:",-1)),g(" "+a(p.value.creator_name||"-"),1)])]))])):k("",!0),$.value?(r(),c("div",Pe,e[24]||(e[24]=[l("div",{class:"text-center"},[l("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),l("div",{class:"text-lg font-semibold text-blue-600"},"Loading items...")],-1)]))):k("",!0),y.length&&!$.value?(r(),c("div",Fe,[l("table",Be,[e[28]||(e[28]=l("thead",{class:"bg-blue-100"},[l("tr",null,[l("th",{class:"px-4 py-2 text-left text-xs font-bold text-blue-700 uppercase"},"Nama Item"),l("th",{class:"px-4 py-2 text-right text-xs font-bold text-blue-700 uppercase"},"Qty Packing List"),l("th",{class:"px-4 py-2 text-left text-xs font-bold text-blue-700 uppercase"},"Unit"),l("th",{class:"px-4 py-2 text-right text-xs font-bold text-blue-700 uppercase"},"Qty Scan"),l("th",{class:"px-4 py-2 text-center text-xs font-bold text-blue-700 uppercase"},"Status")])],-1)),l("tbody",null,[(r(!0),c(T,null,P(y,t=>(r(),c("tr",{key:t.id,class:F(de(t))},[l("td",Ee,[g(a(t.name)+" ",1),l("div",Ue,[t.units&&t.stock?(r(),c("div",Me,[t.units.small_unit&&t.stock.small!==void 0?(r(),c("div",Ge,[e[25]||(e[25]=l("span",{class:"font-semibold"},"Small:",-1)),l("span",{class:F({"text-red-600 font-bold":t.stock.small===0})},a(t.stock.small),3),g(" "+a(t.units.small_unit),1)])):k("",!0),t.units.medium_unit&&t.stock.medium!==void 0?(r(),c("div",Qe,[e[26]||(e[26]=l("span",{class:"font-semibold"},"Medium:",-1)),l("span",{class:F({"text-red-600 font-bold":t.stock.medium===0})},a(t.stock.medium),3),g(" "+a(t.units.medium_unit),1)])):k("",!0),t.units.large_unit&&t.stock.large!==void 0?(r(),c("div",We,[e[27]||(e[27]=l("span",{class:"font-semibold"},"Large:",-1)),l("span",{class:F({"text-red-600 font-bold":t.stock.large===0})},a(t.stock.large),3),g(" "+a(t.units.large_unit),1)])):k("",!0)])):(r(),c("div",Ke," Stok: Tidak tersedia "))])]),l("td",Ve,a(t.qty),1),l("td",ze,a(t.unit),1),l("td",je,a(t.qty_scan),1),l("td",Ye,[Number(t.qty_scan)===0?(r(),c("span",Je,"Belum Scan")):Number(t.qty_scan).toFixed(2)===Number(t.qty).toFixed(2)?(r(),c("span",He,"OK")):Number(t.qty_scan)>Number(t.qty)?(r(),c("span",Ze,"Lebih")):(r(),c("span",Xe,"Kurang"))])],2))),128))])])])):k("",!0),y.length&&!$.value?(r(),c("div",et,[e[29]||(e[29]=l("label",{class:"font-semibold text-lg mb-2"},"Scan Barcode",-1)),G(l("input",{ref_key:"barcodeInput",ref:q,"onUpdate:modelValue":e[2]||(e[2]=t=>S.value=t),onKeyup:pe(ie,["enter"]),class:"border-2 border-blue-400 rounded-lg px-4 py-3 w-full text-xl text-center focus:ring-2 focus:ring-blue-500 shadow-lg",placeholder:"Scan barcode di sini...",autofocus:""},null,544),[[Y,S.value]]),_.value?(r(),c("div",{key:0,class:F([w.value,"mt-4 font-bold text-xl min-h-[32px]"])},a(_.value),3)):k("",!0)])):k("",!0),y.length&&!$.value?(r(),c("button",{key:4,onClick:ce,disabled:!le.value||O.value,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-10 py-4 rounded-2xl font-extrabold text-2xl shadow-xl hover:scale-105 transition-all disabled:opacity-50 disabled:cursor-not-allowed"},[O.value?(r(),c("i",lt)):(r(),c("i",st)),e[30]||(e[30]=g(" Submit Delivery Order "))],8,tt)):k("",!0),U.value?(r(),c("div",nt,[l("div",ot,[e[32]||(e[32]=l("div",{class:"font-bold text-2xl mb-4 text-blue-700 flex items-center gap-2"},[l("i",{class:"fa-solid fa-truck-arrow-right"}),g(" Konfirmasi Submit")],-1)),e[33]||(e[33]=l("div",{class:"mb-6 text-lg"},"Yakin ingin submit Delivery Order ini?",-1)),l("div",at,[l("button",{onClick:e[3]||(e[3]=t=>U.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),l("button",{onClick:ve,disabled:O.value,class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 font-bold"},[O.value?(r(),c("i",ut)):k("",!0),e[31]||(e[31]=g(" Submit "))],8,it)])])])):k("",!0),A.value?(r(),c("div",rt,[l("div",dt,[e[36]||(e[36]=l("div",{class:"font-bold text-xl mb-4 text-blue-700"},"Input Qty Scan",-1)),l("div",ct,[e[34]||(e[34]=g("Item: ")),l("b",mt,a((i=R.value)==null?void 0:i.name),1)]),l("div",vt,[e[35]||(e[35]=g("Qty Packing List: ")),l("b",null,a((f=R.value)==null?void 0:f.qty),1)]),G(l("input",{id:"qty-modal-input","onUpdate:modelValue":e[4]||(e[4]=t=>N.value=t),type:"number",min:"0.01",step:"0.01",max:(n=R.value)==null?void 0:n.qty,class:"w-full border-2 border-blue-400 rounded-lg px-4 py-2 text-xl text-center mb-4",onKeydown:ue},null,40,gt),[[Y,N.value,void 0,{number:!0}]]),l("div",bt,[l("button",{onClick:e[5]||(e[5]=t=>A.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200"},"Batal"),l("button",{onClick:z,class:"px-4 py-2 text-white bg-blue-600 rounded hover:bg-blue-700 font-bold"},"OK")])])])):k("",!0),M.value?(r(),c("div",ft,[l("div",xt,[e[37]||(e[37]=l("div",{class:"font-bold text-xl mb-4 text-blue-700"},"Pilih Alasan Qty Kurang",-1)),l("div",pt,[(r(),c(T,null,P(X,t=>l("button",{key:t,onClick:m=>re(t),class:"w-full px-4 py-2 rounded bg-blue-100 text-blue-800 font-semibold hover:bg-blue-200"},a(t),9,yt)),64))]),l("button",{onClick:e[6]||(e[6]=t=>M.value=!1),class:"px-4 py-2 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 w-full"},"Batal")])])):k("",!0)])]}),_:1}))}},Tt=he(_t,[["__scopeId","data-v-9a679677"]]);export{Tt as default};
