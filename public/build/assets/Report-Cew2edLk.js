import{k as L,r as A,A as B,B as n,C as E,D as t,G as m,O as M,H as x,J as g,x as V,Q as C,I as P,N as r,L as p,F as f,M as y,E as Q,l as N,W as j}from"./vendor-vue-g7iCcTkf.js";import{A as q}from"./AppLayout-1Wm1ZPw9.js";import{s as F}from"./vue-multiselect.esm-V-bx43V9.js";/* empty css                            */import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./app-BPKNzj_F.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-CVHTvH7j.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const W={class:"w-full py-8 px-0"},$={class:"bg-white rounded-2xl shadow-2xl overflow-hidden mb-6"},z={class:"p-6"},J={class:"md:col-span-2"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},X={class:"bg-white rounded-2xl shadow-2xl overflow-hidden"},Y={class:"p-6"},Z={class:"flex items-center"},tt={class:"ml-4"},et={class:"text-2xl font-semibold text-gray-900"},st={class:"bg-white rounded-2xl shadow-2xl overflow-hidden"},it={class:"p-6"},ot={class:"flex items-center"},rt={class:"ml-4"},at={class:"text-2xl font-semibold text-gray-900"},lt={class:"bg-white rounded-2xl shadow-2xl overflow-hidden"},dt={class:"p-6"},nt={class:"flex justify-between items-center mb-4"},pt={class:"text-sm text-gray-500"},ut={class:"overflow-x-auto"},ct={class:"min-w-full divide-y divide-gray-200"},mt={class:"bg-white divide-y divide-gray-200"},xt=["onClick"],ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},gt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},yt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},_t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},wt={class:"font-medium text-gray-900"},vt={class:"text-gray-500"},kt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},St={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Dt={key:0,class:"bg-gray-50"},Vt={colspan:"8",class:"px-6 py-4"},Ct={class:"bg-white rounded-lg border border-gray-200 overflow-hidden"},Nt={class:"px-4 py-3 bg-gray-50 border-b border-gray-200"},jt={class:"text-sm font-medium text-gray-900"},Ft={class:"overflow-x-auto"},It={class:"min-w-full divide-y divide-gray-200"},Ot={class:"bg-white divide-y divide-gray-200"},Ut={class:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},Tt={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500"},Gt={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500"},Lt={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500"},At={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500"},Bt={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-500"},Et={class:"mt-6"},Mt={class:"flex justify-between items-center"},Pt={class:"text-sm text-gray-700"},Qt={class:"flex gap-2"},qt=["disabled","onClick","innerHTML"],Ht={__name:"Report",props:{results:Object,itemsData:Object,summary:Object,suppliers:Array,items:Array,filters:Object},setup(a){var h,w,v,k,S,R,D;const d=a,s=L({from_date:((h=d.filters)==null?void 0:h.from_date)||"",to_date:((w=d.filters)==null?void 0:w.to_date)||"",supplier_id:((v=d.filters)==null?void 0:v.supplier_id)||null,item_id:((k=d.filters)==null?void 0:k.item_id)||null,status:((S=d.filters)==null?void 0:S.status)||"",search:((R=d.filters)==null?void 0:R.search)||"",per_page:((D=d.filters)==null?void 0:D.per_page)||"15"}),u=A([]),I=o=>{u.value.includes(o)?u.value=u.value.filter(e=>e!==o):u.value.push(o)},O=o=>d.itemsData[o]||[],b=()=>{var e,i;const o={from_date:s.from_date,to_date:s.to_date,supplier_id:((e=s.supplier_id)==null?void 0:e.id)||s.supplier_id,item_id:((i=s.item_id)==null?void 0:i.id)||s.item_id,status:s.status,search:s.search,per_page:s.per_page};j.get(route("food-good-receive.report"),o,{preserveState:!0,preserveScroll:!0})},U=()=>{Object.keys(s).forEach(o=>{o==="per_page"?s[o]="15":o==="supplier_id"||o==="item_id"?s[o]=null:s[o]=""}),b()},T=()=>{var i,l;const o=new URLSearchParams;s.from_date&&o.append("from_date",s.from_date),s.to_date&&o.append("to_date",s.to_date),(i=s.supplier_id)!=null&&i.id&&o.append("supplier_id",s.supplier_id.id),s.supplier_id&&!s.supplier_id.id&&o.append("supplier_id",s.supplier_id),(l=s.item_id)!=null&&l.id&&o.append("item_id",s.item_id.id),s.item_id&&!s.item_id.id&&o.append("item_id",s.item_id),s.status&&o.append("status",s.status),s.search&&o.append("search",s.search);const e=route("food-good-receive.report.export")+"?"+o.toString();window.open(e,"_blank")},G=o=>{o&&j.visit(o,{preserveState:!0})},_=o=>o?new Date(o).toLocaleDateString("id-ID"):"-",c=o=>o?new Intl.NumberFormat("id-ID").format(o):"0";return(o,e)=>(n(),B(q,null,{default:E(()=>[t("div",W,[e[24]||(e[24]=t("div",{class:"flex justify-between items-center mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-chart-bar text-blue-500"}),m(" Food Good Receive Report ")])],-1)),t("div",$,[t("div",z,[e[16]||(e[16]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Filter Report",-1)),t("form",{onSubmit:M(b,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"From Date",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=i=>s.from_date=i),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[g,s.from_date]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"To Date",-1)),x(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=i=>s.to_date=i),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[g,s.to_date]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier",-1)),V(C(F),{modelValue:s.supplier_id,"onUpdate:modelValue":e[2]||(e[2]=i=>s.supplier_id=i),options:a.suppliers,searchable:!0,"create-option":!1,placeholder:"Select supplier...","track-by":"id",label:"name",class:"w-full"},null,8,["modelValue","options"])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Item",-1)),V(C(F),{modelValue:s.item_id,"onUpdate:modelValue":e[3]||(e[3]=i=>s.item_id=i),options:a.items,searchable:!0,"create-option":!1,placeholder:"Select item...","track-by":"id",label:"name",class:"w-full"},null,8,["modelValue","options"])]),t("div",J,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),x(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=i=>s.search=i),placeholder:"Search GR Number, PO Number, Supplier, Item...",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[g,s.search]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Items per Page",-1)),x(t("select",{"onUpdate:modelValue":e[5]||(e[5]=i=>s.per_page=i),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},e[11]||(e[11]=[t("option",{value:"15"},"15",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1),t("option",{value:"100"},"100",-1)]),512),[[P,s.per_page]])]),t("div",{class:"md:col-span-2 flex gap-2"},[e[15]||(e[15]=t("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[t("i",{class:"fa fa-search mr-2"}),m(" Apply Filters ")],-1)),t("button",{type:"button",onClick:U,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500"},e[13]||(e[13]=[t("i",{class:"fa fa-times mr-2"},null,-1),m(" Clear ")])),t("button",{type:"button",onClick:T,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"},e[14]||(e[14]=[t("i",{class:"fa fa-download mr-2"},null,-1),m(" Export Excel ")]))])],32)])]),t("div",K,[t("div",X,[t("div",Y,[t("div",Z,[e[18]||(e[18]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},[t("i",{class:"fa-solid fa-file-lines text-white"})])],-1)),t("div",tt,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-gray-500"},"Total GR",-1)),t("p",et,r(a.summary.total_gr||0),1)])])])]),t("div",st,[t("div",it,[t("div",ot,[e[20]||(e[20]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},[t("i",{class:"fa-solid fa-boxes-stacked text-white"})])],-1)),t("div",rt,[e[19]||(e[19]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Qty Received",-1)),t("p",at,r(c(a.summary.total_qty_received)),1)])])])])]),t("div",lt,[t("div",dt,[t("div",nt,[e[21]||(e[21]=t("h3",{class:"text-lg font-medium text-gray-900"},"Good Receive Data",-1)),t("p",pt," Showing "+r(a.results.from)+" to "+r(a.results.to)+" of "+r(a.results.total)+" results ",1)]),t("div",ut,[t("table",ct,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12"}),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"GR Number"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Receive Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"PO Number"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"PO Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Items Count"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Received By")])],-1)),t("tbody",mt,[(n(!0),p(f,null,y(a.results.data,i=>(n(),p(f,{key:i.id},[t("tr",{class:"hover:bg-gray-50 cursor-pointer",onClick:l=>I(i.id)},[t("td",ft,[t("i",{class:N(["fas transition-transform duration-200",u.value.includes(i.id)?"fa-chevron-down text-blue-500":"fa-chevron-right text-gray-400"])},null,2)]),t("td",gt,r(i.gr_number),1),t("td",yt,r(_(i.receive_date)),1),t("td",bt,r(i.po_number),1),t("td",_t,r(_(i.po_date)),1),t("td",ht,[t("div",null,[t("div",wt,r(i.supplier_name),1),t("div",vt,r(i.supplier_code),1)])]),t("td",kt,[t("span",St,r(i.total_items)+" items ",1)]),t("td",Rt,r(i.received_by_name),1)],8,xt),u.value.includes(i.id)?(n(),p("tr",Dt,[t("td",Vt,[t("div",Ct,[t("div",Nt,[t("h4",jt,"Items in "+r(i.gr_number),1)]),t("div",Ft,[t("table",It,[e[22]||(e[22]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item Name"),t("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"SKU"),t("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Ordered"),t("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Received"),t("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Remaining Qty"),t("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Unit")])],-1)),t("tbody",Ot,[(n(!0),p(f,null,y(O(i.id),l=>(n(),p("tr",{key:l.item_id,class:"hover:bg-gray-50"},[t("td",Ut,r(l.item_name),1),t("td",Tt,r(l.item_sku),1),t("td",Gt,r(c(l.qty_ordered)),1),t("td",Lt,r(c(l.qty_received)),1),t("td",At,r(c(l.remaining_qty)),1),t("td",Bt,r(l.unit_name),1)]))),128))])])])])])])):Q("",!0)],64))),128))])])]),t("div",Et,[t("div",Mt,[t("div",Pt," Showing "+r(a.results.from)+" to "+r(a.results.to)+" of "+r(a.results.total)+" results ",1),t("div",Qt,[(n(!0),p(f,null,y(a.results.links,i=>(n(),p("button",{key:i.label,disabled:!i.url,onClick:l=>G(i.url),innerHTML:i.label,class:N(["px-3 py-1 rounded-lg border text-sm font-semibold",[i.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",i.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,qt))),128))])])])])])])]),_:1}))}},oe=H(Ht,[["__scopeId","data-v-d7cb1d94"]]);export{oe as default};
