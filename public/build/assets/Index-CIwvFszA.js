import{r as C,a as P,A as I,B as l,C as R,D as t,G as g,N as o,H as D,J as T,L as a,F as u,M as m,I as E,E as p,l as y,W as N}from"./vendor-vue-g7iCcTkf.js";import{A}from"./AppLayout-BXpmQkyt.js";import"./vendor-utils-CpgP2uT4.js";import"./app-ErXbte2J.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-C0i_S3gs.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const O={class:"w-full py-8 px-0"},M={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},$={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-blue-500"},j={class:"flex items-center justify-between"},B={class:"text-2xl font-bold text-gray-900"},U={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-purple-500"},L={class:"flex items-center justify-between"},V={class:"text-2xl font-bold text-gray-900"},q={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-orange-500"},Y={class:"flex items-center justify-between"},G={class:"text-2xl font-bold text-gray-900"},Q={class:"bg-white rounded-xl shadow-lg p-4 border-l-4 border-green-500"},J={class:"flex items-center justify-between"},W={class:"text-2xl font-bold text-gray-900"},z={class:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-lg p-6 mb-6"},H={class:"flex items-center justify-between"},X={class:"text-3xl font-bold text-white"},K={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},Z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},tt=["value"],et={class:"space-y-6"},st={class:"bg-gradient-to-r from-blue-500 to-indigo-600 p-4 text-white"},ot={class:"flex items-center justify-between"},lt={class:"text-xl font-bold"},at={class:"text-sm opacity-90"},it={key:0},rt={class:"text-xs opacity-75 mt-1"},nt={class:"text-right"},dt={class:"text-2xl font-bold"},pt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50"},ct={class:"bg-purple-50 rounded-lg p-3 border-l-4 border-purple-500"},ut={class:"text-xl font-bold text-purple-700"},xt={class:"bg-orange-50 rounded-lg p-3 border-l-4 border-orange-500"},gt={class:"text-xl font-bold text-orange-700"},mt={class:"bg-green-50 rounded-lg p-3 border-l-4 border-green-500"},yt={class:"text-xl font-bold text-green-700"},ft={class:"border-b border-gray-200"},ht={class:"flex -mb-px"},_t=["onClick"],bt=["onClick"],vt=["onClick"],wt={class:"p-4"},kt={key:0},Dt={key:0,class:"text-center py-8 text-gray-500"},Ct={key:1,class:"overflow-x-auto"},Tt={class:"min-w-full divide-y divide-gray-200"},Nt={class:"bg-white divide-y divide-gray-200"},St=["onClick"],Ft={class:"px-4 py-3 text-sm"},Pt={class:"px-4 py-3 text-sm font-mono"},It={class:"px-4 py-3 text-sm"},Rt={class:"px-4 py-3 text-sm"},Et={class:"px-4 py-3 text-sm font-semibold"},At={class:"px-4 py-3 text-sm"},Ot={key:0,class:"bg-gray-50"},Mt={colspan:"6",class:"px-4 py-4"},$t={class:"space-y-4"},jt={key:0},Bt={class:"font-semibold text-gray-700 mb-2"},Ut={class:"overflow-x-auto"},Lt={class:"min-w-full text-sm"},Vt={class:"divide-y divide-gray-200"},qt={class:"px-3 py-2"},Yt={class:"px-3 py-2 text-right"},Gt={class:"px-3 py-2"},Qt={class:"px-3 py-2 text-right"},Jt={class:"px-3 py-2 text-right font-semibold"},Wt={key:1},zt={class:"font-semibold text-gray-700 mb-2"},Ht={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Xt=["href"],Kt={key:0,class:"text-xs text-gray-500 mt-1"},Zt={key:2,class:"text-gray-500 text-sm"},te={key:1},ee={key:0,class:"text-center py-8 text-gray-500"},se={key:1,class:"overflow-x-auto"},oe={class:"min-w-full divide-y divide-gray-200"},le={class:"bg-white divide-y divide-gray-200"},ae=["onClick"],ie={class:"px-4 py-3 text-sm"},re={class:"px-4 py-3 text-sm font-mono"},ne={class:"px-4 py-3 text-sm"},de={class:"px-4 py-3 text-sm"},pe={class:"px-4 py-3 text-sm font-semibold"},ce={class:"px-4 py-3 text-sm"},ue={key:0,class:"bg-gray-50"},xe={colspan:"6",class:"px-4 py-4"},ge={class:"space-y-4"},me={key:0},ye={class:"font-semibold text-gray-700 mb-2"},fe={class:"overflow-x-auto"},he={class:"min-w-full text-sm"},_e={class:"divide-y divide-gray-200"},be={class:"px-3 py-2"},ve={class:"px-3 py-2 text-right"},we={class:"px-3 py-2"},ke={class:"px-3 py-2 text-right"},De={class:"px-3 py-2 text-right font-semibold"},Ce={key:1},Te={class:"font-semibold text-gray-700 mb-2"},Ne={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Se=["href"],Fe={key:0,class:"text-xs text-gray-500 mt-1"},Pe={key:2,class:"text-gray-500 text-sm"},Ie={key:2},Re={key:0,class:"text-center py-8 text-gray-500"},Ee={key:1,class:"overflow-x-auto"},Ae={class:"min-w-full divide-y divide-gray-200"},Oe={class:"bg-white divide-y divide-gray-200"},Me=["onClick"],$e={class:"px-4 py-3 text-sm"},je={class:"px-4 py-3 text-sm font-mono"},Be={class:"px-4 py-3 text-sm"},Ue={class:"px-4 py-3 text-sm"},Le={class:"px-4 py-3 text-sm font-semibold"},Ve={class:"px-4 py-3 text-sm"},qe={key:0,class:"bg-gray-50"},Ye={colspan:"6",class:"px-4 py-4"},Ge={class:"space-y-4"},Qe={key:0},Je={class:"font-semibold text-gray-700 mb-2"},We={class:"overflow-x-auto"},ze={class:"min-w-full text-sm"},He={class:"divide-y divide-gray-200"},Xe={class:"px-3 py-2"},Ke={class:"px-3 py-2 text-right"},Ze={class:"px-3 py-2"},ts={class:"px-3 py-2 text-right"},es={class:"px-3 py-2 text-right font-semibold"},ss={key:1},os={class:"font-semibold text-gray-700 mb-2"},ls={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},as=["href"],is={key:0,class:"text-xs text-gray-500 mt-1"},rs={key:2,class:"text-gray-500 text-sm"},ns={key:0,class:"bg-white rounded-xl shadow-lg p-12 text-center"},_s={__name:"Index",props:{categoryData:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},filters:{type:Object,default:()=>{const d=new Date,h=new Date(d.getFullYear(),d.getMonth(),1),x=new Date(d.getFullYear(),d.getMonth()+1,0);return{date_from:h.toISOString().split("T")[0],date_to:x.toISOString().split("T")[0],category_id:""}}},summary:{type:Object,default:()=>({total_categories:0,total_rnf:0,total_pr:0,total_nfp:0,grand_total:0})}},setup(d){const h=d,x=C({}),_=C({});P(()=>{h.categoryData.forEach(n=>{x.value[n.category_id]||(x.value[n.category_id]="rnf")})});const b=(n,e)=>{const i=`${e}-${n}`;_.value[i]=!_.value[i]},f=(n,e)=>{const i=`${e}-${n}`;return _.value[i]||!1},c=n=>n?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n):"Rp 0",v=n=>n?new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-",w=n=>({approved:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",paid:"bg-blue-100 text-blue-800",SUBMITTED:"bg-blue-100 text-blue-800",APPROVED:"bg-green-100 text-green-800",PROCESSED:"bg-purple-100 text-purple-800",COMPLETED:"bg-indigo-100 text-indigo-800",REJECTED:"bg-red-100 text-red-800"})[n]||"bg-gray-100 text-gray-800",k=()=>{N.get("/opex-by-category",h.filters,{preserveState:!0,preserveScroll:!0})},S=()=>{const n=new Date,e=new Date(n.getFullYear(),n.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth()+1,0);N.get("/opex-by-category",{date_from:e.toISOString().split("T")[0],date_to:i.toISOString().split("T")[0],category_id:""})},F=()=>{const n=new URLSearchParams({date_from:filters.value.date_from||"",date_to:filters.value.date_to||"",category_id:filters.value.category_id||"",export:"excel"});window.location.href=`/opex-by-category/export?${n.toString()}`};return(n,e)=>(l(),I(A,null,{default:R(()=>[t("div",O,[t("div",{class:"flex justify-between items-center mb-6"},[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-chart-pie"}),g(" OPEX By Category - Transaction Tracing ")],-1)),t("div",{class:"flex gap-2 items-center"},[t("button",{onClick:F,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[3]||(e[3]=[t("i",{class:"fa fa-download mr-2"},null,-1),g(" Export ")]))])]),t("div",M,[t("div",$,[t("div",j,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-600"},"Total Categories",-1)),t("p",B,o(d.summary.total_categories),1)]),e[6]||(e[6]=t("i",{class:"fa fa-tags text-blue-500 text-2xl"},null,-1))])]),t("div",U,[t("div",L,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"RNF Total",-1)),t("p",V,o(c(d.summary.total_rnf)),1)]),e[8]||(e[8]=t("i",{class:"fa fa-shopping-cart text-purple-500 text-2xl"},null,-1))])]),t("div",q,[t("div",Y,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-600"},"PR Total",-1)),t("p",G,o(c(d.summary.total_pr)),1)]),e[10]||(e[10]=t("i",{class:"fa fa-file-invoice text-orange-500 text-2xl"},null,-1))])]),t("div",Q,[t("div",J,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-gray-600"},"NFP Total",-1)),t("p",W,o(c(d.summary.total_nfp)),1)]),e[12]||(e[12]=t("i",{class:"fa fa-money-bill-wave text-green-500 text-2xl"},null,-1))])])]),t("div",z,[t("div",H,[t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm font-medium text-white opacity-90"},"Grand Total",-1)),t("p",X,o(c(d.summary.grand_total)),1)]),e[14]||(e[14]=t("i",{class:"fa fa-chart-line text-white text-4xl opacity-80"},null,-1))])]),t("div",K,[t("div",Z,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date From",-1)),D(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=i=>d.filters.date_from=i),onChange:k,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[T,d.filters.date_from]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date To",-1)),D(t("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=i=>d.filters.date_to=i),onChange:k,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,544),[[T,d.filters.date_to]])]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Category",-1)),D(t("select",{"onUpdate:modelValue":e[2]||(e[2]=i=>d.filters.category_id=i),onChange:k,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[e[17]||(e[17]=t("option",{value:""},"All Categories",-1)),(l(!0),a(u,null,m(d.categories,i=>(l(),a("option",{key:i.id,value:i.id},o(i.name)+" ("+o(i.division)+") ",9,tt))),128))],544),[[E,d.filters.category_id]])]),t("div",{class:"flex items-end"},[t("button",{onClick:S,class:"w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition"},e[19]||(e[19]=[t("i",{class:"fa fa-refresh mr-2"},null,-1),g(" Reset ")]))])])]),t("div",et,[(l(!0),a(u,null,m(d.categoryData,i=>(l(),a("div",{key:i.category_id,class:"bg-white rounded-xl shadow-lg overflow-hidden"},[t("div",st,[t("div",ot,[t("div",null,[t("h2",lt,o(i.category_name),1),t("p",at,[g(o(i.category_division)+" ",1),i.category_subcategory?(l(),a("span",it,"- "+o(i.category_subcategory),1)):p("",!0)]),t("p",rt," Budget Type: "+o(i.budget_type||"N/A")+" | Budget Limit: "+o(c(i.budget_limit)),1)]),t("div",nt,[e[20]||(e[20]=t("p",{class:"text-sm opacity-90"},"Grand Total",-1)),t("p",dt,o(c(i.totals.grand_total)),1)])])]),t("div",pt,[t("div",ct,[e[21]||(e[21]=t("p",{class:"text-sm font-medium text-gray-600"},"RNF Total",-1)),t("p",ut,o(c(i.totals.rnf_total)),1)]),t("div",xt,[e[22]||(e[22]=t("p",{class:"text-sm font-medium text-gray-600"},"PR Total",-1)),t("p",gt,o(c(i.totals.pr_total)),1)]),t("div",mt,[e[23]||(e[23]=t("p",{class:"text-sm font-medium text-gray-600"},"NFP Total",-1)),t("p",yt,o(c(i.totals.nfp_total)),1)])]),t("div",ft,[t("nav",ht,[t("button",{onClick:s=>x.value[i.category_id]="rnf",class:y(["px-6 py-3 text-sm font-medium border-b-2 transition",x.value[i.category_id]==="rnf"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[e[24]||(e[24]=t("i",{class:"fa fa-shopping-cart mr-2"},null,-1)),g(" Retail Non Food ("+o(i.transactions.rnf.length)+") ",1)],10,_t),t("button",{onClick:s=>x.value[i.category_id]="pr",class:y(["px-6 py-3 text-sm font-medium border-b-2 transition",x.value[i.category_id]==="pr"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[e[25]||(e[25]=t("i",{class:"fa fa-file-invoice mr-2"},null,-1)),g(" Purchase Requisition ("+o(i.transactions.pr.length)+") ",1)],10,bt),t("button",{onClick:s=>x.value[i.category_id]="nfp",class:y(["px-6 py-3 text-sm font-medium border-b-2 transition",x.value[i.category_id]==="nfp"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[e[26]||(e[26]=t("i",{class:"fa fa-money-bill-wave mr-2"},null,-1)),g(" Non Food Payment ("+o(i.transactions.nfp.length)+") ",1)],10,vt)])]),t("div",wt,[x.value[i.category_id]==="rnf"?(l(),a("div",kt,[i.transactions.rnf.length===0?(l(),a("div",Dt,e[27]||(e[27]=[t("i",{class:"fa fa-inbox text-4xl mb-2"},null,-1),t("p",null,"No Retail Non Food transactions found",-1)]))):(l(),a("div",Ct,[t("table",Tt,[e[32]||(e[32]=t("thead",{class:"bg-purple-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase w-12"}),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Transaction Number"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Outlet"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Amount"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Status")])],-1)),t("tbody",Nt,[(l(!0),a(u,null,m(i.transactions.rnf,s=>(l(),a(u,{key:s.id},[t("tr",{class:"hover:bg-gray-50 cursor-pointer",onClick:r=>b(s.id,"rnf")},[t("td",Ft,[t("i",{class:y([f(s.id,"rnf")?"fa fa-chevron-down":"fa fa-chevron-right","text-gray-400"])},null,2)]),t("td",Pt,o(s.transaction_number),1),t("td",It,o(v(s.date)),1),t("td",Rt,o(s.outlet_name||"-"),1),t("td",Et,o(c(s.amount)),1),t("td",At,[t("span",{class:y([w(s.status),"px-2 py-1 rounded-full text-xs"])},o(s.status),3)])],8,St),f(s.id,"rnf")?(l(),a("tr",Ot,[t("td",Mt,[t("div",$t,[s.items&&s.items.length>0?(l(),a("div",jt,[t("h4",Bt,[e[28]||(e[28]=t("i",{class:"fa fa-list mr-2"},null,-1)),g("Items ("+o(s.items.length)+") ",1)]),t("div",Ut,[t("table",Lt,[e[29]||(e[29]=t("thead",{class:"bg-purple-100"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left"},"Item Name"),t("th",{class:"px-3 py-2 text-right"},"Quantity"),t("th",{class:"px-3 py-2 text-left"},"Unit"),t("th",{class:"px-3 py-2 text-right"},"Price"),t("th",{class:"px-3 py-2 text-right"},"Subtotal")])],-1)),t("tbody",Vt,[(l(!0),a(u,null,m(s.items,r=>(l(),a("tr",{key:r.id},[t("td",qt,o(r.item_name),1),t("td",Yt,o(r.quantity),1),t("td",Gt,o(r.unit),1),t("td",Qt,o(c(r.price)),1),t("td",Jt,o(c(r.subtotal)),1)]))),128))])])])])):p("",!0),s.attachments&&s.attachments.length>0?(l(),a("div",Wt,[t("h4",zt,[e[30]||(e[30]=t("i",{class:"fa fa-paperclip mr-2"},null,-1)),g("Attachments ("+o(s.attachments.length)+") ",1)]),t("div",Ht,[(l(!0),a(u,null,m(s.attachments,r=>(l(),a("div",{key:r.id,class:"bg-white p-3 rounded border"},[t("a",{href:r.file_path,target:"_blank",class:"text-blue-600 hover:underline flex items-center gap-2"},[e[31]||(e[31]=t("i",{class:"fa fa-file"},null,-1)),t("span",null,o(r.file_name),1)],8,Xt),r.description?(l(),a("p",Kt,o(r.description),1)):p("",!0)]))),128))])])):p("",!0),(!s.items||s.items.length===0)&&(!s.attachments||s.attachments.length===0)?(l(),a("div",Zt," No items or attachments available ")):p("",!0)])])])):p("",!0)],64))),128))])])]))])):p("",!0),x.value[i.category_id]==="pr"?(l(),a("div",te,[i.transactions.pr.length===0?(l(),a("div",ee,e[33]||(e[33]=[t("i",{class:"fa fa-inbox text-4xl mb-2"},null,-1),t("p",null,"No Purchase Requisition transactions found",-1)]))):(l(),a("div",se,[t("table",oe,[e[38]||(e[38]=t("thead",{class:"bg-orange-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase w-12"}),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"PR Number"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Outlet"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Amount"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Status")])],-1)),t("tbody",le,[(l(!0),a(u,null,m(i.transactions.pr,s=>(l(),a(u,{key:s.id},[t("tr",{class:"hover:bg-gray-50 cursor-pointer",onClick:r=>b(s.id,"pr")},[t("td",ie,[t("i",{class:y([f(s.id,"pr")?"fa fa-chevron-down":"fa fa-chevron-right","text-gray-400"])},null,2)]),t("td",re,o(s.transaction_number),1),t("td",ne,o(v(s.date)),1),t("td",de,o(s.outlet_name||"-"),1),t("td",pe,o(c(s.amount)),1),t("td",ce,[t("span",{class:y([w(s.status),"px-2 py-1 rounded-full text-xs"])},o(s.status),3)])],8,ae),f(s.id,"pr")?(l(),a("tr",ue,[t("td",xe,[t("div",ge,[s.items&&s.items.length>0?(l(),a("div",me,[t("h4",ye,[e[34]||(e[34]=t("i",{class:"fa fa-list mr-2"},null,-1)),g("Items ("+o(s.items.length)+") ",1)]),t("div",fe,[t("table",he,[e[35]||(e[35]=t("thead",{class:"bg-orange-100"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left"},"Item Name"),t("th",{class:"px-3 py-2 text-right"},"Quantity"),t("th",{class:"px-3 py-2 text-left"},"Unit"),t("th",{class:"px-3 py-2 text-right"},"Price"),t("th",{class:"px-3 py-2 text-right"},"Subtotal")])],-1)),t("tbody",_e,[(l(!0),a(u,null,m(s.items,r=>(l(),a("tr",{key:r.id},[t("td",be,o(r.item_name),1),t("td",ve,o(r.quantity),1),t("td",we,o(r.unit),1),t("td",ke,o(c(r.price)),1),t("td",De,o(c(r.subtotal)),1)]))),128))])])])])):p("",!0),s.attachments&&s.attachments.length>0?(l(),a("div",Ce,[t("h4",Te,[e[36]||(e[36]=t("i",{class:"fa fa-paperclip mr-2"},null,-1)),g("Attachments ("+o(s.attachments.length)+") ",1)]),t("div",Ne,[(l(!0),a(u,null,m(s.attachments,r=>(l(),a("div",{key:r.id,class:"bg-white p-3 rounded border"},[t("a",{href:r.file_path,target:"_blank",class:"text-blue-600 hover:underline flex items-center gap-2"},[e[37]||(e[37]=t("i",{class:"fa fa-file"},null,-1)),t("span",null,o(r.file_name),1)],8,Se),r.description?(l(),a("p",Fe,o(r.description),1)):p("",!0)]))),128))])])):p("",!0),(!s.items||s.items.length===0)&&(!s.attachments||s.attachments.length===0)?(l(),a("div",Pe," No items or attachments available ")):p("",!0)])])])):p("",!0)],64))),128))])])]))])):p("",!0),x.value[i.category_id]==="nfp"?(l(),a("div",Ie,[i.transactions.nfp.length===0?(l(),a("div",Re,e[39]||(e[39]=[t("i",{class:"fa fa-inbox text-4xl mb-2"},null,-1),t("p",null,"No Non Food Payment transactions found",-1)]))):(l(),a("div",Ee,[t("table",Ae,[e[44]||(e[44]=t("thead",{class:"bg-green-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase w-12"}),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Payment Number"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Date"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Outlet"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Amount"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Status")])],-1)),t("tbody",Oe,[(l(!0),a(u,null,m(i.transactions.nfp,s=>(l(),a(u,{key:s.id},[t("tr",{class:"hover:bg-gray-50 cursor-pointer",onClick:r=>b(s.id,"nfp")},[t("td",$e,[t("i",{class:y([f(s.id,"nfp")?"fa fa-chevron-down":"fa fa-chevron-right","text-gray-400"])},null,2)]),t("td",je,o(s.transaction_number),1),t("td",Be,o(v(s.date)),1),t("td",Ue,o(s.outlet_name||"-"),1),t("td",Le,o(c(s.amount)),1),t("td",Ve,[t("span",{class:y([w(s.status),"px-2 py-1 rounded-full text-xs"])},o(s.status),3)])],8,Me),f(s.id,"nfp")?(l(),a("tr",qe,[t("td",Ye,[t("div",Ge,[s.items&&s.items.length>0?(l(),a("div",Qe,[t("h4",Je,[e[40]||(e[40]=t("i",{class:"fa fa-list mr-2"},null,-1)),g("Items ("+o(s.items.length)+") ",1)]),t("div",We,[t("table",ze,[e[41]||(e[41]=t("thead",{class:"bg-green-100"},[t("tr",null,[t("th",{class:"px-3 py-2 text-left"},"Item Name"),t("th",{class:"px-3 py-2 text-right"},"Quantity"),t("th",{class:"px-3 py-2 text-left"},"Unit"),t("th",{class:"px-3 py-2 text-right"},"Price"),t("th",{class:"px-3 py-2 text-right"},"Subtotal")])],-1)),t("tbody",He,[(l(!0),a(u,null,m(s.items,r=>(l(),a("tr",{key:r.id},[t("td",Xe,o(r.item_name),1),t("td",Ke,o(r.quantity),1),t("td",Ze,o(r.unit),1),t("td",ts,o(c(r.price)),1),t("td",es,o(c(r.subtotal)),1)]))),128))])])])])):p("",!0),s.attachments&&s.attachments.length>0?(l(),a("div",ss,[t("h4",os,[e[42]||(e[42]=t("i",{class:"fa fa-paperclip mr-2"},null,-1)),g("Attachments ("+o(s.attachments.length)+") ",1)]),t("div",ls,[(l(!0),a(u,null,m(s.attachments,r=>(l(),a("div",{key:r.id,class:"bg-white p-3 rounded border"},[t("a",{href:r.file_path,target:"_blank",class:"text-blue-600 hover:underline flex items-center gap-2"},[e[43]||(e[43]=t("i",{class:"fa fa-file"},null,-1)),t("span",null,o(r.file_name),1)],8,as),r.description?(l(),a("p",is,o(r.description),1)):p("",!0)]))),128))])])):p("",!0),(!s.items||s.items.length===0)&&(!s.attachments||s.attachments.length===0)?(l(),a("div",rs," No items or attachments available ")):p("",!0)])])])):p("",!0)],64))),128))])])]))])):p("",!0)])]))),128)),d.categoryData.length===0?(l(),a("div",ns,e[45]||(e[45]=[t("i",{class:"fa fa-inbox text-6xl text-gray-400 mb-4"},null,-1),t("p",{class:"text-xl text-gray-600 mb-2"},"No transactions found",-1),t("p",{class:"text-gray-500"},"Try adjusting your filters",-1)]))):p("",!0)])])]),_:1}))}};export{_s as default};
