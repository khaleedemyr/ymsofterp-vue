import{r as c,W as d,A as L,B as r,C as _,D as e,L as l,E as b,H as S,J as P,I as F,x as O,Q as R,F as v,M as E,N as a,l as B,G as u}from"./vendor-vue-g7iCcTkf.js";import{l as U}from"./lodash-DB3HVzpp.js";import{S as $}from"./app-5ZP5W-3z.js";import{A as z}from"./AppLayout-DkG6xw-a.js";import{s as W}from"./vue-multiselect.esm-V-bx43V9.js";/* empty css                            */import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./ProfileUpdateModal-COEZdPkp.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const G={class:"py-12"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},K={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Q={class:"p-6 border-b border-gray-200 bg-gray-50"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},X={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200"},ee={class:"bg-white divide-y divide-gray-200"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"text-sm font-medium text-gray-900"},oe={class:"text-sm text-gray-500"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ie={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},de={class:"flex space-x-2"},ue=["onClick"],me=["onClick"],pe=["onClick"],ce={key:0,class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},xe={class:"flex items-center justify-between"},fe={class:"text-sm text-gray-700"},ge={class:"font-medium"},ye={class:"font-medium"},be={class:"font-medium"},ve={class:"flex items-center space-x-1"},he={key:1,disabled:"",class:"relative inline-flex items-center px-3 py-2 text-sm font-medium text-gray-300 bg-gray-100 border border-gray-300 rounded-l-md cursor-not-allowed"},we=["onClick","innerHTML"],ke={key:3,disabled:"",class:"relative inline-flex items-center px-3 py-2 text-sm font-medium text-gray-300 bg-gray-100 border border-gray-300 rounded-r-md cursor-not-allowed"},Ce={key:1,class:"px-6 py-12 text-center"},_e={__name:"Index",props:{movements:Object,filters:Object,employees:Array},setup(n){var w,k,C;const i=n,x=c(((w=i.filters)==null?void 0:w.search)||""),f=c(((k=i.filters)==null?void 0:k.status)||"all"),m=c(null),D=c(i.employees.map(s=>({id:s.id,name:`${s.nama_lengkap} (${s.nik})`,nik:s.nik})));if((C=i.filters)!=null&&C.employee_id){const s=i.employees.find(t=>t.id==i.filters.employee_id);s&&(m.value={id:s.id,name:`${s.nama_lengkap} (${s.nik})`,nik:s.nik})}const g=U.debounce(()=>{var s;d.get("/employee-movements",{search:x.value,status:f.value,employee_id:((s=m.value)==null?void 0:s.id)||""},{preserveState:!0,replace:!0})},400);function j(){g()}function M(){g()}function h(){g()}function y(s){s&&d.visit(s,{preserveState:!0,replace:!0})}function T(){d.visit("/employee-movements/create")}function A(s){d.visit(`/employee-movements/${s.id}/edit`)}function V(s){d.visit(`/employee-movements/${s.id}`)}async function I(s){(await $.fire({title:"Hapus Employee Movement?",text:`Yakin ingin menghapus employee movement untuk "${s.employee_name}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&d.delete(route("employee-movements.destroy",s.id),{onSuccess:()=>$.fire("Berhasil","Employee movement berhasil dihapus!","success")})}function H(s){switch(s){case"draft":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function N(s){switch(s){case"draft":return"Draft";case"pending":return"Pending";case"approved":return"Approved";case"rejected":return"Rejected";default:return s}}return(s,t)=>(r(),L(z,{title:"Employee Movement"},{header:_(()=>t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Employee Movement ",-1)])),default:_(()=>[e("div",G,[e("div",J,[e("div",K,[e("div",{class:"p-6 border-b border-gray-200"},[e("div",{class:"flex justify-between items-center"},[t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-gray-900"},"Daftar Employee Movement",-1)),e("button",{onClick:T,class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center space-x-2"},t[6]||(t[6]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Tambah Employee Movement",-1)]))])]),e("div",Q,[e("div",q,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Search",-1)),S(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>x.value=o),onInput:j,type:"text",placeholder:"Cari nama, NIK, atau email...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[P,x.value]])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>f.value=o),onChange:M,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},t[9]||(t[9]=[e("option",{value:"all"},"Semua Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1)]),544),[[F,f.value]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Employee",-1)),O(R(W),{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=o=>m.value=o),options:D.value,searchable:!0,"clear-on-select":!1,"close-on-select":!0,"show-labels":!1,"track-by":"id",label:"name",placeholder:"Pilih employee...",onSelect:h,onRemove:h,class:"w-full"},null,8,["modelValue","options"])])])]),e("div",X,[e("table",Z,[t[15]||(t[15]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Employee "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Position "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Division "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created At "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ee,[(r(!0),l(v,null,E(n.movements.data,o=>(r(),l("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",te,[e("div",null,[e("div",se,a(o.employee_name),1),e("div",oe,a(o.nik),1)])]),e("td",ne,a(o.employee_position||o.nama_jabatan||"-"),1),e("td",re,a(o.employee_division||o.nama_divisi||"-"),1),e("td",le,[e("span",{class:B(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",H(o.status)])},a(N(o.status)),3)]),e("td",ae,a(new Date(o.created_at).toLocaleDateString("id-ID")),1),e("td",ie,[e("div",de,[e("button",{onClick:p=>V(o),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",title:"Detail"},t[12]||(t[12]=[e("i",{class:"fas fa-eye mr-1"},null,-1),u(" Detail ")]),8,ue),e("button",{onClick:p=>A(o),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",title:"Edit"},t[13]||(t[13]=[e("i",{class:"fas fa-edit mr-1"},null,-1),u(" Edit ")]),8,me),e("button",{onClick:p=>I(o),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200",title:"Hapus"},t[14]||(t[14]=[e("i",{class:"fas fa-trash mr-1"},null,-1),u(" Hapus ")]),8,pe)])])]))),128))])])]),n.movements.links&&n.movements.links.length>3?(r(),l("div",ce,[e("div",xe,[e("div",fe,[e("span",ge,a(n.movements.from),1),t[16]||(t[16]=u(" to ")),e("span",ye,a(n.movements.to),1),t[17]||(t[17]=u(" of ")),e("span",be,a(n.movements.total),1),t[18]||(t[18]=u(" results "))]),e("div",ve,[n.movements.prev_page_url?(r(),l("button",{key:0,onClick:t[3]||(t[3]=o=>y(n.movements.prev_page_url)),class:"relative inline-flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-l-md hover:bg-gray-50"},t[19]||(t[19]=[e("i",{class:"fas fa-chevron-left"},null,-1)]))):(r(),l("button",he,t[20]||(t[20]=[e("i",{class:"fas fa-chevron-left"},null,-1)]))),(r(!0),l(v,null,E(n.movements.links,(o,p)=>(r(),l(v,{key:p},[o.url&&!o.label.includes("Previous")&&!o.label.includes("Next")?(r(),l("button",{key:0,onClick:Se=>y(o.url),class:B(["relative inline-flex items-center px-4 py-2 text-sm font-medium border",o.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]),innerHTML:o.label},null,10,we)):b("",!0)],64))),128)),n.movements.next_page_url?(r(),l("button",{key:2,onClick:t[4]||(t[4]=o=>y(n.movements.next_page_url)),class:"relative inline-flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-r-md hover:bg-gray-50"},t[21]||(t[21]=[e("i",{class:"fas fa-chevron-right"},null,-1)]))):(r(),l("button",ke,t[22]||(t[22]=[e("i",{class:"fas fa-chevron-right"},null,-1)])))])])])):b("",!0),n.movements.data.length===0?(r(),l("div",Ce,t[23]||(t[23]=[e("div",{class:"text-gray-500"},[e("i",{class:"fas fa-inbox text-4xl mb-4"}),e("p",{class:"text-lg font-medium"},"Tidak ada data employee movement"),e("p",{class:"text-sm"},"Coba ubah filter pencarian Anda")],-1)]))):b("",!0)])])])]),_:1}))}},Pe=Y(_e,[["__scopeId","data-v-6b7d4ba3"]]);export{Pe as default};
