import{r as n,w as ye,c as Fe,A as Ve,B as l,C as We,D as e,L as o,E as x,G as g,N as i,H as v,J as S,I as ie,F as f,M as m,l as U,W as H}from"./vendor-vue-g7iCcTkf.js";import{u as Ge,A as Ae}from"./AppLayout-hxs5t3XP.js";import{S as y}from"./app-D6rf3j_5.js";import{a as C}from"./vendor-utils-CpgP2uT4.js";import{d as Z}from"./vendor-ui-CrPgGUUb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-D4k-zQf5.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const ze={class:"w-full py-8 px-0"},He={key:0,class:"mb-4"},qe={class:"inline-flex items-center gap-2 bg-blue-50 text-blue-800 px-4 py-2 rounded-xl font-semibold"},Ne={class:"font-bold"},Qe={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},Je={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4"},Ke={class:"bg-white rounded-2xl shadow-2xl overflow-x-auto transition-all"},Xe={class:"w-full min-w-full divide-y divide-gray-200"},Ze={key:0},Ie={key:1},et={class:"px-6 py-3 font-mono font-semibold text-blue-700"},tt={class:"px-6 py-3 font-mono text-blue-600"},st={class:"px-6 py-3"},at={class:"px-6 py-3"},lt={class:"px-6 py-3"},ot={class:"px-6 py-3"},nt={class:"px-6 py-3"},it={class:"px-6 py-3"},rt={class:"px-6 py-3"},dt={class:"flex gap-2"},ut=["onClick"],ct=["onClick","disabled"],pt=["onClick","disabled"],gt={key:1,class:"flex justify-end mt-4 gap-2"},bt=["disabled","onClick","innerHTML"],xt={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},ft={class:"bg-white rounded-xl shadow-lg w-full max-w-3xl relative flex flex-col",style:{"max-height":"80vh"}},mt={class:"p-6 border-b border-gray-200 flex-shrink-0"},vt={class:"flex items-center justify-between"},yt={class:"flex items-center gap-2"},ht=["disabled"],_t={key:0,class:"fas fa-spinner fa-spin mr-2"},kt={key:1,class:"fas fa-file-csv mr-2"},wt={class:"p-6 overflow-y-auto flex-1"},Ct={key:0,class:"text-center py-8"},Lt={key:1,class:"text-red-600 mb-4"},Dt={key:2},$t={key:0,class:"text-center text-gray-400 py-6"},Mt={key:1,class:"space-y-3"},Bt=["onClick"],Pt={class:"flex items-center gap-3"},St={class:"font-bold text-blue-800"},Ut={class:"bg-blue-200 text-blue-800 px-2 py-1 rounded-full text-xs font-semibold"},Tt={key:0,class:"border-t border-gray-100"},jt={class:"p-3"},Et={class:"w-full text-sm"},Ot={class:"py-2 px-2"},Rt={class:"py-2 px-2 font-medium"},Yt={class:"py-2 px-2"},Ft={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},Vt={class:"bg-white rounded-xl shadow-lg w-full max-w-6xl relative flex flex-col",style:{"max-height":"90vh"}},Wt={class:"p-6 border-b border-gray-200 flex-shrink-0"},Gt={class:"flex items-center justify-between"},At={class:"flex items-center gap-2"},zt=["disabled"],Ht={key:0,class:"fas fa-spinner fa-spin mr-2"},qt={key:1,class:"fas fa-file-excel mr-2"},Nt={class:"p-6 overflow-y-auto flex-1"},Qt={key:0,class:"text-center py-8"},Jt={key:1,class:"text-red-600 mb-4"},Kt={key:2},Xt={key:0,class:"text-center text-gray-400 py-6"},Zt={key:1,class:"space-y-4"},It=["onClick"],es={class:"flex items-center gap-3"},ts={class:"font-bold text-blue-800"},ss={class:"text-sm text-blue-600"},as={class:"bg-blue-200 text-blue-800 px-2 py-1 rounded-full text-xs font-semibold"},ls={key:0,class:"border-t border-gray-200"},os=["onClick"],ns={class:"flex items-center gap-3 ml-6"},is={class:"font-semibold text-green-800"},rs={class:"bg-green-200 text-green-800 px-2 py-1 rounded-full text-xs font-semibold"},ds={key:0,class:"border-t border-gray-100"},us={class:"bg-yellow-50 p-3 flex items-center justify-between"},cs={class:"flex items-center gap-3 ml-12"},ps={class:"font-medium text-yellow-800"},gs={class:"text-sm text-yellow-600"},bs={class:"bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full text-xs font-semibold"},xs={class:"bg-white p-3"},fs={class:"ml-16 space-y-3"},ms=["onClick"],vs={class:"flex items-center gap-3"},ys={class:"font-semibold text-purple-800"},hs={class:"bg-purple-200 text-purple-800 px-2 py-1 rounded-full text-xs font-semibold"},_s={key:0,class:"border-t border-gray-100"},ks={class:"p-3"},ws={class:"w-full text-sm"},Cs={class:"py-2 px-2"},Ls={class:"py-2 px-2 font-medium"},Ds={class:"py-2 px-2"},$s={key:4,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40"},Ms={class:"bg-white rounded-xl shadow-lg w-full max-w-2xl relative"},Bs={class:"p-6 border-b border-gray-200"},Ps={class:"space-y-4"},Ss=["value"],Us={class:"p-6 border-t border-gray-200 flex justify-end gap-3"},Ts=["disabled"],js={key:0,class:"fas fa-spinner fa-spin"},Es={key:1,class:"fas fa-file-excel"},Ns={__name:"Index",props:{user:Object,packingLists:Object,filters:Object,dataLoaded:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1}},setup(he){var ge,be,xe,fe,me,ve;const p=he,{showLoading:I,hideLoading:q}=Ge(),re=Z().format("YYYY-MM-DD"),T=n(((ge=p.filters)==null?void 0:ge.search)||""),j=n(((be=p.filters)==null?void 0:be.status)||""),E=n(((xe=p.filters)==null?void 0:xe.date_from)||re),O=n(((fe=p.filters)==null?void 0:fe.date_to)||re),ee=n(((me=p.filters)==null?void 0:me.load_data)||""),L=n(((ve=p.filters)==null?void 0:ve.per_page)||15),N=n(p.dataLoaded||!1),te=n(!1),R=n(Z().format("YYYY-MM-DD")),se=n(!1),Y=n([]),Q=n(""),ae=n(!1),F=n(Z().format("YYYY-MM-DD")),le=n(!1),V=n([]),J=n(""),D=n(new Set),$=n(new Set),M=n(new Set),B=n(new Set),W=n(!1),G=n(!1),A=n(Z().format("YYYY-MM-DD")),z=n(!1),oe=n("");n([]),n([]),n([]),n([]);const ne=n(!1),de=n([]),K=n("");ye(()=>p.filters,a=>{T.value=(a==null?void 0:a.search)||"",j.value=(a==null?void 0:a.status)||"",E.value=(a==null?void 0:a.date_from)||"",O.value=(a==null?void 0:a.date_to)||"",ee.value=(a==null?void 0:a.load_data)||"",L.value=(a==null?void 0:a.per_page)||15},{immediate:!0});function X(){I("Memuat Data Packing List..."),H.get("/packing-list",{search:T.value,status:j.value,date_from:E.value,date_to:O.value,load_data:"1",per_page:L.value},{preserveState:!0,replace:!0,onFinish:()=>{q(),N.value=!0}})}function _e(){T.value="",j.value="",E.value="",O.value="",ee.value="",L.value=15,H.get("/packing-list/clear-filters",{},{preserveState:!1,replace:!0})}function ke(a){if(a){I("Memuat Data..."),new URLSearchParams(a.split("?")[1]).get("page");const c=new URL(a,window.location.origin);c.searchParams.set("load_data","1"),H.visit(c.pathname+c.search,{preserveState:!0,replace:!0,onFinish:()=>{q(),N.value=!0}})}}ye(L,a=>{ee.value==="1"&&X()});function we(){window.location.href="/packing-list/create"}function Ce(a){H.visit(`/packing-list/edit/${a}`)}function Le(a){H.visit(`/packing-list/${a}`)}async function De(a){var c,r,d,s;if((await y.fire({title:"Hapus Packing List?",text:`Yakin ingin menghapus Packing List ${a.packing_number}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed)try{I("Menghapus Packing List...");const u=await C.delete(`/packing-list/${a.id}`);q(),y.fire({icon:"success",title:"Berhasil",text:"Packing List berhasil dihapus.",timer:1500,showConfirmButton:!1}),X()}catch(u){q(),y.fire({icon:"error",title:"Gagal",text:((r=(c=u==null?void 0:u.response)==null?void 0:c.data)==null?void 0:r.message)||((s=(d=u==null?void 0:u.response)==null?void 0:d.data)==null?void 0:s.error)||"Tidak bisa hapus Packing List ini."})}}function $e(a){return a.items?a.items.reduce((t,c)=>t+(Number(c.subtotal)||0),0):0}Fe(()=>{var a;return!((a=p.packingLists)!=null&&a.data)||!Array.isArray(p.packingLists.data)?0:p.packingLists.data.reduce((t,c)=>t+$e(c),0)});async function Me(){te.value=!0,await ue()}async function ue(){se.value=!0,Q.value="",Y.value=[],B.value.clear();try{const a=await C.get("/api/packing-list/summary",{params:{tanggal:R.value}});Y.value=a.data.divisions||[]}catch{Q.value="Gagal mengambil data rangkuman."}finally{se.value=!1}}async function Be(){ae.value=!0,await ce()}async function ce(){le.value=!0,J.value="",V.value=[],D.value.clear(),$.value.clear(),M.value.clear();try{const a=await C.get("/api/packing-list/unpicked-floor-orders",{params:{tanggal:F.value}});V.value=a.data.outlets||[]}catch{J.value="Gagal mengambil data FO yang belum di-packing."}finally{le.value=!1}}async function Pe(){var a,t,c;W.value=!0;try{const r=await C.get("/api/packing-list/export-unpicked-floor-orders",{params:{tanggal:F.value},responseType:"blob"}),d=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=d,s.setAttribute("download",`RO_Belum_di_Packing_${F.value}.xlsx`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(d),y.fire({icon:"success",title:"Berhasil",text:"File Excel berhasil diunduh.",timer:1500,showConfirmButton:!1})}catch(r){console.error("Export error:",r);let d="Gagal mengunduh file Excel.";(t=(a=r.response)==null?void 0:a.data)!=null&&t.error?d=r.response.data.error:((c=r.response)==null?void 0:c.status)===404&&(d="Tidak ada data untuk di-export pada tanggal ini."),y.fire({icon:"error",title:"Gagal",text:d})}finally{W.value=!1}}function Se(a){D.value.has(a)?D.value.delete(a):D.value.add(a)}function Ue(a){$.value.has(a)?$.value.delete(a):$.value.add(a)}function Te(a){M.value.has(a)?M.value.delete(a):M.value.add(a)}function je(a){B.value.has(a)?B.value.delete(a):B.value.add(a)}async function Ee(){var a,t,c;G.value=!0;try{const r=await C.get("/api/packing-list/export-summary",{params:{tanggal:R.value},responseType:"blob"}),d=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=d,s.setAttribute("download",`Rangkuman_Packing_List_${R.value}.csv`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(d),y.fire({icon:"success",title:"Berhasil",text:"File CSV berhasil diunduh.",timer:1500,showConfirmButton:!1})}catch(r){console.error("Export error:",r);let d="Gagal mengunduh file CSV.";(t=(a=r.response)==null?void 0:a.data)!=null&&t.error?d=r.response.data.error:((c=r.response)==null?void 0:c.status)===404&&(d="Tidak ada data untuk di-export pada tanggal ini."),y.fire({icon:"error",title:"Gagal",text:d})}finally{G.value=!1}}async function Oe(){var a,t,c;z.value=!0,oe.value="";try{const r=await C.get("/api/packing-list/export-matrix",{params:{tanggal:A.value,warehouse_division_id:K.value||null},responseType:"blob"}),d=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=d,s.setAttribute("download",`Matrix_Cross_Tabulation_${A.value}.xlsx`),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(d),y.fire({icon:"success",title:"Berhasil",text:"File Excel berhasil diunduh.",timer:1500,showConfirmButton:!1})}catch(r){console.error("Export error:",r);let d="Gagal mengunduh file Excel.";(t=(a=r.response)==null?void 0:a.data)!=null&&t.error?d=r.response.data.error:((c=r.response)==null?void 0:c.status)===404&&(d="Tidak ada data untuk di-export pada tanggal ini."),y.fire({icon:"error",title:"Gagal",text:d})}finally{z.value=!1}}async function Re(){ne.value=!0,await Ye()}async function Ye(){try{const a=await C.get("/api/packing-list/warehouse-divisions");de.value=a.data}catch(a){console.error("Warehouse divisions error:",a),oe.value="Gagal mengambil data warehouse division."}}function pe(){ne.value=!1,K.value="",oe.value=""}return(a,t)=>(l(),Ve(Ae,null,{default:We(()=>{var c,r,d;return[e("div",ze,[(c=p.user)!=null&&c.outlet?(l(),o("div",He,[e("div",qe,[t[11]||(t[11]=e("i",{class:"fa fa-store"},null,-1)),t[12]||(t[12]=g(" Outlet Anda: ")),e("span",Ne,i(p.user.outlet.nama_outlet),1)])])):x("",!0),e("div",{class:"flex justify-between items-center mb-6"},[t[16]||(t[16]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-box text-blue-500"}),g(" Packing List ")],-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:Me,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},t[13]||(t[13]=[e("i",{class:"fa fa-list mr-1"},null,-1),g(" Rangkuman Packing List ")])),e("button",{onClick:Re,class:"bg-gradient-to-r from-purple-500 to-purple-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},t[14]||(t[14]=[e("i",{class:"fa fa-table mr-1"},null,-1),g(" Matrix Cross-tabulation ")])),e("button",{onClick:Be,class:"bg-gradient-to-r from-orange-500 to-orange-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold cursor-pointer",type:"button"},t[15]||(t[15]=[e("i",{class:"fa fa-file-text mr-1"},null,-1),g(" RO Belum di-Packing ")])),e("button",{onClick:we,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"}," + Buat Packing List ")])]),e("div",Qe,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2"},[e("i",{class:"fa fa-filter text-blue-500"}),g(" Filter Data ")],-1)),e("div",Je,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>T.value=s),type:"text",placeholder:"Cari nomor, divisi gudang, outlet...",class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,512),[[S,T.value]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>j.value=s),class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},t[18]||(t[18]=[e("option",{value:""},"Semua Status",-1),e("option",{value:"packing"},"Packing",-1),e("option",{value:"completed"},"Completed",-1)]),512),[[ie,j.value]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dari Tanggal",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=s=>E.value=s),class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,512),[[S,E.value]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Sampai Tanggal",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=s=>O.value=s),class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},null,512),[[S,O.value]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Per Page",-1)),v(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>L.value=s),class:"w-full px-4 py-2 rounded-xl border border-blue-200 shadow focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition"},t[22]||(t[22]=[e("option",{value:"10"},"10",-1),e("option",{value:"15"},"15",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),512),[[ie,L.value]])])]),e("div",{class:"flex gap-3"},[e("button",{onClick:X,class:"bg-gradient-to-r from-blue-500 to-blue-700 text-white px-6 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},t[24]||(t[24]=[e("i",{class:"fa fa-search"},null,-1),g(" Load Data ")])),e("button",{onClick:_e,class:"bg-gradient-to-r from-gray-500 to-gray-700 text-white px-6 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold flex items-center gap-2"},t[25]||(t[25]=[e("i",{class:"fa fa-refresh"},null,-1),g(" Clear Filter ")]))])]),e("div",Ke,[e("table",Xe,[t[35]||(t[35]=e("thead",{class:"bg-gradient-to-r from-blue-50 to-blue-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tl-2xl"},"No. Packing List"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"No. RO"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Tanggal"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Divisi Gudang Asal"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Outlet Tujuan"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Pembuat"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Pemohon FO"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-bold text-blue-700 uppercase tracking-wider rounded-tr-2xl"},"Aksi")])],-1)),e("tbody",null,[N.value?!((r=p.packingLists)!=null&&r.data)||p.packingLists.data.length===0?(l(),o("tr",Ie,t[31]||(t[31]=[e("td",{colspan:"9",class:"text-center py-16"},[e("div",{class:"flex flex-col items-center gap-4"},[e("i",{class:"fa fa-inbox text-6xl text-gray-300"}),e("div",{class:"text-gray-500"},[e("p",{class:"text-lg font-semibold"},"Tidak ada data Packing List"),e("p",{class:"text-sm"},"Coba ubah filter atau tanggal pencarian")])])],-1)]))):x("",!0):(l(),o("tr",Ze,[e("td",{colspan:"9",class:"text-center py-16"},[e("div",{class:"flex flex-col items-center gap-4"},[t[30]||(t[30]=e("i",{class:"fa fa-database text-6xl text-gray-300"},null,-1)),e("div",{class:"text-gray-500"},[t[28]||(t[28]=e("p",{class:"text-lg font-semibold"},"Data Belum Dimuat",-1)),t[29]||(t[29]=e("p",{class:"text-sm mb-4"},'Pilih filter dan klik "Load Data" untuk memuat data packing list.',-1)),e("button",{onClick:X,class:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},t[27]||(t[27]=[e("i",{class:"fa fa-sync-alt mr-2"},null,-1),g(" Load Data ")]))])])])])),(l(!0),o(f,null,m(p.packingLists.data,s=>{var u,b,h,_,P,w;return l(),o("tr",{key:s.id,class:"hover:bg-blue-50 transition shadow-sm"},[e("td",et,i(s.packing_number),1),e("td",tt,i(s.fo_number||"-"),1),e("td",st,i(s.created_at_format),1),e("td",at,i(((u=s.warehouse_division)==null?void 0:u.name)??"-"),1),e("td",lt,i(((h=(b=s.floor_order)==null?void 0:b.outlet)==null?void 0:h.nama_outlet)??"-"),1),e("td",ot,i(((_=s.creator)==null?void 0:_.nama_lengkap)??"-"),1),e("td",nt,i(((w=(P=s.floor_order)==null?void 0:P.requester)==null?void 0:w.nama_lengkap)??"-"),1),e("td",it,[e("span",{class:U([{"bg-gray-100 text-gray-700":s.status==="draft","bg-green-100 text-green-700":s.status==="packing"},"px-2 py-1 rounded-full text-xs font-semibold shadow"])},i(s.status),3)]),e("td",rt,[e("div",dt,[e("button",{onClick:k=>Le(s.id),class:"inline-flex items-center btn btn-xs bg-blue-100 text-blue-800 hover:bg-blue-200 rounded px-2 py-1 font-semibold transition"},t[32]||(t[32]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),g(" Detail ")]),8,ut),e("button",{onClick:k=>Ce(s.id),disabled:s.status!=="packing",class:"inline-flex items-center btn btn-xs bg-yellow-100 text-yellow-800 hover:bg-yellow-200 rounded px-2 py-1 font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed"},t[33]||(t[33]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15.232 5.232l3.536 3.536M9 13l6-6m2 2l-6 6m-2 2h6a2 2 0 002-2v-6a2 2 0 00-2-2H7a2 2 0 00-2 2v6a2 2 0 002 2z"})],-1),g(" Edit ")]),8,ct),p.canDelete?(l(),o("button",{key:0,onClick:k=>De(s),disabled:s.status!=="packing",class:"inline-flex items-center btn btn-xs bg-red-100 text-red-700 hover:bg-red-200 rounded px-2 py-1 font-semibold transition disabled:opacity-50 disabled:cursor-not-allowed"},t[34]||(t[34]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 18L18 6M6 6l12 12"})],-1),g(" Hapus ")]),8,pt)):x("",!0)])])])}),128))])])]),N.value&&((d=p.packingLists)!=null&&d.links)&&p.packingLists.links.length>3?(l(),o("div",gt,[(l(!0),o(f,null,m(p.packingLists.links,s=>(l(),o("button",{key:s.label,disabled:!s.url,onClick:u=>ke(s.url),innerHTML:s.label,class:U(["px-3 py-1 rounded-lg border text-sm font-semibold",[s.active?"bg-blue-600 text-white shadow-lg":"bg-white text-blue-700 hover:bg-blue-50",s.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]])},null,10,bt))),128))])):x("",!0),te.value?(l(),o("div",xt,[e("div",ft,[e("div",mt,[e("button",{onClick:t[5]||(t[5]=s=>te.value=!1),class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[36]||(t[36]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[38]||(t[38]=e("h2",{class:"text-xl font-bold mb-4"},"Rangkuman Packing List (Belum di-Packing)",-1)),e("div",vt,[e("div",yt,[t[37]||(t[37]=e("label",{class:"font-semibold"},"Tanggal:",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=s=>R.value=s),onChange:ue,class:"rounded border-gray-300 px-2 py-1"},null,544),[[S,R.value]])]),e("button",{onClick:Ee,disabled:Y.value.length===0||G.value,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-lg shadow-lg hover:shadow-xl transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed"},[G.value?(l(),o("i",_t)):(l(),o("i",kt)),g(" "+i(G.value?"Mengunduh...":"Export CSV"),1)],8,ht)])]),e("div",wt,[se.value?(l(),o("div",Ct,t[39]||(t[39]=[e("i",{class:"fas fa-spinner fa-spin text-blue-500 text-2xl"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Memuat data rangkuman...",-1)]))):Q.value?(l(),o("div",Lt,i(Q.value),1)):(l(),o("div",Dt,[Y.value.length===0?(l(),o("div",$t," Tidak ada data yang belum di-packing pada tanggal ini. ")):(l(),o("div",Mt,[(l(!0),o(f,null,m(Y.value,s=>(l(),o("div",{key:s.warehouse_division_name,class:"border border-gray-200 rounded-lg"},[e("div",{onClick:u=>je(s.warehouse_division_name),class:"bg-blue-50 p-3 cursor-pointer hover:bg-blue-100 transition-colors flex items-center justify-between"},[e("div",Pt,[e("i",{class:U([B.value.has(s.warehouse_division_name)?"fas fa-chevron-down":"fas fa-chevron-right","text-blue-600"])},null,2),e("div",null,[e("h3",St,i(s.warehouse_division_name),1)])]),e("span",Ut,i(s.items.length)+" Item ",1)],8,Bt),B.value.has(s.warehouse_division_name)?(l(),o("div",Tt,[e("div",jt,[e("table",Et,[t[40]||(t[40]=e("thead",null,[e("tr",{class:"bg-gray-50"},[e("th",{class:"text-left py-2 px-2"},"Nama Item"),e("th",{class:"text-left py-2 px-2"},"Total Qty"),e("th",{class:"text-left py-2 px-2"},"Unit")])],-1)),e("tbody",null,[(l(!0),o(f,null,m(s.items,u=>(l(),o("tr",{key:`${s.warehouse_division_name}-${u.item_id}-${u.unit}`,class:"border-b border-gray-50 last:border-b-0"},[e("td",Ot,i(u.item_name),1),e("td",Rt,i(u.total_qty),1),e("td",Yt,i(u.unit),1)]))),128))])])])])):x("",!0)]))),128))]))]))])])])):x("",!0),ae.value?(l(),o("div",Ft,[e("div",Vt,[e("div",Wt,[e("button",{onClick:t[7]||(t[7]=s=>ae.value=!1),class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[41]||(t[41]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[43]||(t[43]=e("h2",{class:"text-xl font-bold mb-4"},"Request Order belum di packing",-1)),e("div",Gt,[e("div",At,[t[42]||(t[42]=e("label",{class:"font-semibold"},"Tanggal:",-1)),v(e("input",{type:"date","onUpdate:modelValue":t[8]||(t[8]=s=>F.value=s),onChange:ce,class:"rounded border-gray-300 px-2 py-1"},null,544),[[S,F.value]])]),e("button",{onClick:Pe,disabled:V.value.length===0||W.value,class:"bg-gradient-to-r from-green-500 to-green-700 text-white px-4 py-2 rounded-lg shadow-lg hover:shadow-xl transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed"},[W.value?(l(),o("i",Ht)):(l(),o("i",qt)),g(" "+i(W.value?"Mengunduh...":"Export Excel"),1)],8,zt)])]),e("div",Nt,[le.value?(l(),o("div",Qt,t[44]||(t[44]=[e("i",{class:"fas fa-spinner fa-spin text-blue-500 text-2xl"},null,-1),e("p",{class:"mt-2 text-gray-600"},"Memuat data FO...",-1)]))):J.value?(l(),o("div",Jt,i(J.value),1)):(l(),o("div",Kt,[V.value.length===0?(l(),o("div",Xt," Tidak ada FO yang belum di-packing pada tanggal ini. ")):(l(),o("div",Zt,[(l(!0),o(f,null,m(V.value,s=>(l(),o("div",{key:s.outlet_name,class:"border border-gray-200 rounded-lg"},[e("div",{onClick:u=>Se(s.outlet_name),class:"bg-blue-50 p-4 cursor-pointer hover:bg-blue-100 transition-colors flex items-center justify-between"},[e("div",es,[e("i",{class:U([D.value.has(s.outlet_name)?"fas fa-chevron-down":"fas fa-chevron-right","text-blue-600"])},null,2),e("div",null,[e("h3",ts,i(s.outlet_name),1),e("p",ss,i(new Date(s.tanggal).toLocaleDateString("id-ID")),1)])]),e("span",as,i(s.warehouse_outlets.length)+" Warehouse Outlet ",1)],8,It),D.value.has(s.outlet_name)?(l(),o("div",ls,[(l(!0),o(f,null,m(s.warehouse_outlets,(u,b)=>(l(),o("div",{key:`${s.outlet_name}-${b}`,class:"border-b border-gray-100 last:border-b-0"},[e("div",{onClick:h=>Ue(`${s.outlet_name}-${b}`),class:"bg-green-50 p-3 cursor-pointer hover:bg-green-100 transition-colors flex items-center justify-between"},[e("div",ns,[e("i",{class:U([$.value.has(`${s.outlet_name}-${b}`)?"fas fa-chevron-down":"fas fa-chevron-right","text-green-600"])},null,2),e("div",null,[e("h4",is,i(u.warehouse_outlet_name),1)])]),e("span",rs,i(u.warehouse_divisions.length)+" Floor Order ",1)],8,os),$.value.has(`${s.outlet_name}-${b}`)?(l(),o("div",ds,[(l(!0),o(f,null,m(u.warehouse_divisions,(h,_)=>(l(),o("div",{key:`${s.outlet_name}-${b}-${_}`,class:"border-b border-gray-50 last:border-b-0"},[e("div",us,[e("div",cs,[e("div",null,[e("h5",ps,i(h.fo_number),1),e("p",gs,"Pemohon: "+i(h.requester),1)])]),e("span",bs,i(h.unpicked_items_by_division.length)+" Warehouse Division ",1)]),e("div",xs,[e("div",fs,[(l(!0),o(f,null,m(h.unpicked_items_by_division,(P,w)=>(l(),o("div",{key:`${s.outlet_name}-${b}-${_}-${w}`,class:"border border-gray-200 rounded-lg"},[e("div",{onClick:k=>Te(`${s.outlet_name}-${b}-${_}-${w}`),class:"bg-purple-50 p-3 cursor-pointer hover:bg-purple-100 transition-colors flex items-center justify-between"},[e("div",vs,[e("i",{class:U([M.value.has(`${s.outlet_name}-${b}-${_}-${w}`)?"fas fa-chevron-down":"fas fa-chevron-right","text-purple-600"])},null,2),e("div",null,[e("h6",ys,i(P.warehouse_division_name),1)])]),e("span",hs,i(P.items.length)+" Item ",1)],8,ms),M.value.has(`${s.outlet_name}-${b}-${_}-${w}`)?(l(),o("div",_s,[e("div",ks,[e("table",ws,[t[45]||(t[45]=e("thead",null,[e("tr",{class:"bg-gray-50"},[e("th",{class:"text-left py-2 px-2"},"Item"),e("th",{class:"text-left py-2 px-2"},"Qty"),e("th",{class:"text-left py-2 px-2"},"Unit")])],-1)),e("tbody",null,[(l(!0),o(f,null,m(P.items,k=>(l(),o("tr",{key:k.item_name,class:"border-b border-gray-50 last:border-b-0"},[e("td",Cs,i(k.item_name),1),e("td",Ls,i(k.qty),1),e("td",Ds,i(k.unit),1)]))),128))])])])])):x("",!0)]))),128))])])]))),128))])):x("",!0)]))),128))])):x("",!0)]))),128))]))]))])])])):x("",!0),ne.value?(l(),o("div",$s,[e("div",Ms,[e("div",Bs,[e("button",{onClick:pe,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},t[46]||(t[46]=[e("i",{class:"fas fa-times text-lg"},null,-1)])),t[50]||(t[50]=e("h2",{class:"text-xl font-bold mb-4"},"Matrix Cross-tabulation Packing List",-1)),e("div",Ps,[e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tanggal Kedatangan *",-1)),v(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>A.value=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500",required:""},null,512),[[S,A.value]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Warehouse Division",-1)),v(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>K.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500"},[t[48]||(t[48]=e("option",{value:""},"Semua Warehouse Division",-1)),(l(!0),o(f,null,m(de.value,s=>(l(),o("option",{key:s.id,value:s.id},i(s.name),9,Ss))),128))],512),[[ie,K.value]])])])]),e("div",Us,[e("button",{onClick:pe,class:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Batal "),e("button",{onClick:Oe,disabled:!A.value||z.value,class:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-200 disabled:cursor-not-allowed flex items-center gap-2"},[z.value?(l(),o("i",js)):(l(),o("i",Es)),g(" "+i(z.value?"Exporting...":"Export Excel"),1)],8,Ts)])])])):x("",!0)])]}),_:1}))}};export{Ns as default};
