import{r as D,c as q,k as vt,w as le,a as qe,$ as xt,n as yt,A as _t,B as r,C as xe,D as e,L as i,E as b,x as Re,G as n,Q as $e,S as Ke,H as _,I as R,N as p,O as ee,J as j,F as A,M as C,l as w,W as Le}from"./vendor-vue-g7iCcTkf.js";import{A as kt}from"./AppLayout-Cg9_BqdS.js";import{a as H}from"./vendor-utils-CpgP2uT4.js";import"./app-CL3toCqm.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DcALjTaB.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const ht={class:"w-full py-8 px-4"},wt={class:"flex justify-between items-center mb-6"},jt={class:"bg-white rounded-xl shadow-lg p-6"},Tt={class:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4 items-end"},At={class:"md:col-span-1"},Ct={class:"md:col-span-2 flex justify-end"},Pt={class:"flex flex-col items-end"},Dt={key:0,class:"mb-6 p-6 bg-red-50 border-2 border-red-300 rounded-lg"},Ot={class:"text-center"},Ft={class:"bg-blue-50 border border-blue-200 rounded p-4 mb-4 inline-block"},Ut={class:"text-sm text-blue-700"},St={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Bt={class:"md:col-span-2"},Mt={key:0},Et=["value"],qt=["value"],Rt={key:0},$t={key:0},Kt=["value"],Lt={key:1},Gt=["value"],Nt={key:2,class:"relative category-dropdown-container"},Vt={key:0,class:"text-gray-700"},It={key:1,class:"text-gray-400"},Wt={class:"max-h-60 overflow-auto"},Ht={key:0,class:"px-3 py-2 text-sm text-gray-500"},zt=["onClick"],Jt={key:3,class:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg"},Yt={class:"space-y-2"},Xt={class:"text-sm text-blue-700 ml-2"},Qt={class:"text-sm text-blue-700 ml-2"},Zt={class:"text-sm text-blue-700 ml-2"},es={key:0},ts={class:"text-sm text-blue-700 mt-1"},ss={key:4,class:"mt-3"},as={class:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-3"},ls={class:"space-y-2 text-sm"},ns={class:"text-blue-700 ml-2"},os={class:"text-blue-700 ml-2"},rs={class:"text-blue-700 ml-2"},is={key:0},us={class:"text-blue-700 mt-1"},ds={key:0,class:"p-3 bg-green-50 border border-green-200 rounded-lg"},ps={class:"text-sm font-semibold text-green-800 mb-2"},ms={class:"text-xs font-normal text-green-600 ml-2"},cs={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs"},gs={class:"font-semibold text-green-800"},bs={class:"font-semibold text-green-800"},fs={class:"font-semibold text-green-800"},vs={class:"md:col-span-4 mt-2"},xs={class:"font-semibold text-green-800"},ys={key:1,class:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs"},_s={class:"font-semibold text-green-800"},ks={class:"text-xs text-gray-500"},hs={class:"font-semibold text-green-800"},ws={class:"font-semibold text-green-800"},js={class:"md:col-span-4 mt-2"},Ts={class:"font-semibold text-green-800"},As={key:2,class:"mt-2 p-2 bg-red-50 border border-red-300 rounded"},Cs={key:3,class:"mt-2 p-2 bg-yellow-50 border border-yellow-300 rounded"},Ps={class:"text-xs text-yellow-800 font-semibold"},Ds={key:5,class:"mt-3"},Os={class:"p-3 bg-blue-50 border border-blue-200 rounded-lg"},Fs={class:"space-y-2 text-sm"},Us={class:"text-blue-700 ml-2"},Ss={class:"text-blue-700 ml-2"},Bs={key:0},Ms={class:"text-blue-700 mt-1"},Es={key:1},qs=["value"],Rs={key:0,class:"mt-1 text-xs text-gray-500"},$s={key:2},Ks=["value"],Ls={key:3},Gs=["value"],Ns={key:4},Vs={key:0,class:"mb-6"},Is={key:0,class:"space-y-6"},Ws={class:"flex items-center justify-between mb-4"},Hs={class:"flex-1"},zs=["onUpdate:modelValue"],Js=["value"],Ys={class:"flex items-center gap-2"},Xs={class:"text-sm font-semibold text-blue-800"},Qs=["onClick","disabled"],Zs={class:"mb-4 ml-4 p-3 bg-white border border-blue-300 rounded-lg"},ea={class:"flex items-center justify-between mb-2"},ta={class:"text-xs text-gray-500"},sa={class:"flex items-center gap-2"},aa=["onChange","id","disabled"],la=["onClick","disabled"],na={key:0,class:"text-xs text-red-600"},oa={key:0,class:"mt-2 space-y-1"},ra={class:"flex items-center space-x-1.5 flex-1 min-w-0"},ia={class:"text-xs font-medium text-gray-900 truncate"},ua={class:"text-xs text-gray-500 flex-shrink-0"},da=["onClick"],pa={class:"space-y-4 ml-4"},ma={class:"flex items-center justify-between mb-3"},ca={class:"flex-1"},ga={class:"relative category-dropdown-container"},ba={key:0,class:"text-gray-700"},fa={key:1,class:"text-gray-400"},va={class:"max-h-60 overflow-auto"},xa={key:0,class:"px-3 py-2 text-sm text-gray-500"},ya=["onClick"],_a={class:"flex items-center gap-2"},ka={class:"text-sm font-semibold text-green-800"},ha=["onClick","disabled"],wa={key:0,class:"mb-3"},ja={class:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-2"},Ta={class:"space-y-1 text-xs"},Aa={class:"text-blue-700 ml-2"},Ca={class:"text-blue-700 ml-2"},Pa={class:"text-blue-700 ml-2"},Da={key:0},Oa={class:"text-blue-700 mt-1"},Fa={key:0,class:"p-3 bg-green-50 border border-green-200 rounded-lg"},Ua={class:"text-sm font-semibold text-green-800 mb-2"},Sa={class:"text-xs font-normal text-green-600 ml-2"},Ba={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs"},Ma={class:"font-semibold text-green-800"},Ea={class:"font-semibold text-green-800"},qa={class:"font-semibold text-green-800"},Ra={key:1,class:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs"},$a={class:"font-semibold text-green-800"},Ka={class:"text-xs text-gray-500"},La={class:"font-semibold text-green-800"},Ga={class:"font-semibold text-green-800"},Na={key:2,class:"mt-2 p-2 bg-red-50 border border-red-300 rounded"},Va={class:"ml-4"},Ia={class:"overflow-x-auto"},Wa={class:"min-w-full divide-y divide-gray-200"},Ha={class:"bg-white divide-y divide-gray-200"},za={class:"px-3 py-2 min-w-[200px]"},Ja=["onUpdate:modelValue"],Ya={class:"px-3 py-2 min-w-[100px]"},Xa=["onUpdate:modelValue","onInput"],Qa={class:"px-3 py-2 min-w-[100px]"},Za=["onUpdate:modelValue"],el={class:"px-3 py-2 min-w-[150px]"},tl=["onUpdate:modelValue","onInput"],sl={class:"px-3 py-2 min-w-[150px] text-right"},al={class:"px-3 py-2"},ll=["onClick","disabled"],nl={class:"mt-2"},ol=["onClick"],rl={class:"ml-4"},il=["onClick"],ul={class:"mt-4 p-4 bg-gray-100 rounded-lg"},dl={class:"flex justify-between items-center"},pl={class:"text-2xl font-bold text-blue-600"},ml={key:1,class:"space-y-6"},cl={class:"border-2 border-purple-200 rounded-lg p-4 bg-purple-50"},gl={class:"space-y-3"},bl=["onUpdate:modelValue","onChange"],fl=["value"],vl=["onClick","disabled"],xl={class:"border-2 border-purple-200 rounded-lg p-4 bg-purple-50"},yl={class:"space-y-4"},_l={class:"mb-4"},kl=["onUpdate:modelValue"],hl={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded"},wl=["onUpdate:modelValue"],jl=["onUpdate:modelValue"],Tl={key:1,class:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded"},Al=["onUpdate:modelValue"],Cl={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Pl=["onUpdate:modelValue","onInput"],Dl=["onUpdate:modelValue"],Ol=["onUpdate:modelValue","onInput"],Fl={class:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-right font-semibold"},Ul={class:"mt-3 flex justify-end"},Sl=["onClick","disabled"],Bl={class:"mt-4 p-4 bg-gray-100 rounded-lg"},Ml={class:"flex justify-between items-center"},El={class:"text-2xl font-bold text-purple-600"},ql={key:2},Rl={class:"overflow-x-auto"},$l={class:"min-w-full divide-y divide-gray-200"},Kl={class:"bg-white divide-y divide-gray-200"},Ll={class:"px-3 py-2 min-w-[200px]"},Gl=["onUpdate:modelValue"],Nl={class:"px-3 py-2 min-w-[100px]"},Vl=["onUpdate:modelValue","onInput"],Il={class:"px-3 py-2 min-w-[100px]"},Wl=["onUpdate:modelValue"],Hl={class:"px-3 py-2 min-w-[150px]"},zl=["onUpdate:modelValue","onInput"],Jl={class:"px-3 py-2 min-w-[150px] text-right"},Yl={class:"px-3 py-2"},Xl=["onClick","disabled"],Ql={class:"px-3 py-2 text-right font-bold"},Zl={class:"mb-6"},en={class:"block text-sm font-medium text-gray-700 mb-2"},tn={key:0,class:"mb-3 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-r-lg"},sn={key:3,class:"mt-1 text-xs text-gray-500"},an={key:1,class:"mb-6"},ln={key:2,class:"mb-6 space-y-4"},nn={class:"p-3 bg-blue-50 border border-blue-300 rounded-lg"},on={class:"text-sm text-blue-700"},rn={key:0,class:"text-xs text-amber-600 mt-2 font-semibold"},un=["value"],dn={class:"mt-1 text-xs text-gray-500"},pn=["value"],mn={key:3,class:"mb-6"},cn={class:"border-2 border-dashed border-gray-300 rounded-lg p-6"},gn={class:"text-center"},bn={key:0,class:"mt-4"},fn={class:"space-y-2"},vn={class:"flex items-center space-x-3"},xn={class:"text-sm font-medium text-gray-900"},yn={class:"text-xs text-gray-500"},_n={class:"flex items-center space-x-2"},kn=["onClick"],hn=["onClick"],wn={class:"mb-6"},jn={key:0,class:"mb-4 p-3 bg-yellow-50 border border-yellow-300 rounded-lg"},Tn={key:1,class:"mb-4 p-3 bg-yellow-50 border border-yellow-300 rounded-lg"},An={key:2,class:"mb-4 p-3 bg-yellow-50 border border-yellow-300 rounded-lg"},Cn={key:3,class:"mb-4 p-3 bg-blue-50 border border-blue-300 rounded-lg"},Pn={class:"mb-4"},Dn={class:"relative"},On={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},Fn=["onClick"],Un={class:"font-medium"},Sn={class:"text-sm text-gray-600"},Bn={key:0,class:"text-xs text-blue-600 font-medium"},Mn={key:4,class:"space-y-2"},En={key:0,class:"mb-2 p-2 bg-red-50 border border-red-300 rounded-md"},qn={key:0,class:"text-xs text-red-800 mb-1"},Rn={key:1,class:"text-xs text-red-800 mb-1"},$n={key:2,class:"text-xs text-red-800 mb-1"},Kn={key:3,class:"text-xs text-red-800"},Ln={class:"flex items-center space-x-3"},Gn={class:"flex items-center space-x-2"},Nn=["onClick"],Vn=["onClick"],In={class:"flex items-center space-x-2"},Wn={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Hn={class:"font-medium"},zn={class:"text-sm text-gray-600"},Jn={key:0,class:"text-xs text-blue-600 font-medium"},Yn={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Xn={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},Qn=["onClick","disabled","title"],Zn={key:4,class:"mb-6"},eo={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},to={class:"text-lg font-medium text-blue-800 mb-2"},so={class:"text-sm font-normal text-blue-600 ml-2"},ao={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},lo={class:"text-lg font-semibold text-blue-800"},no={class:"text-lg font-semibold text-blue-800"},oo={class:"text-lg font-semibold text-green-800"},ro={key:1,class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4"},io={class:"text-lg font-semibold text-blue-800"},uo={class:"text-xs text-gray-500"},po={class:"text-lg font-semibold text-blue-800"},mo={class:"text-lg font-semibold text-green-800"},co={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},go={class:"text-lg font-semibold text-blue-800"},bo={key:2,class:"mt-4 p-3 bg-red-100 border border-red-300 rounded text-red-800 text-sm"},fo={key:0},vo={key:1},xo={key:3,class:"mt-4 p-3 bg-yellow-100 border border-yellow-300 rounded text-yellow-800 text-sm"},yo={key:5,class:"mb-6"},_o={class:"flex justify-end space-x-3"},ko=["disabled"],ho={key:0},wo={key:1},jo={key:2},To={key:3},Ao={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},Co={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full"},Po={class:"bg-blue-600 px-6 py-4 flex items-center justify-between"},Do={class:"bg-gray-100 border-b border-gray-200 px-6"},Oo={class:"flex space-x-1 overflow-x-auto"},Fo={class:"bg-white px-6 py-4 max-h-[70vh] overflow-y-auto"},Uo={key:0,class:"space-y-6"},So={key:1,class:"space-y-6"},Bo={key:2,class:"space-y-6"},Mo={key:3,class:"space-y-6"},Eo={class:"bg-gray-50 px-6 py-4 flex justify-end"},Ho={__name:"Edit",props:{purchaseRequisition:Object,categories:Array,outlets:Array,tickets:Array,divisions:Array,modeSpecificData:Object},setup(z){const P=z,K=D(""),U=D(!1),ne=q(()=>{let l=P.categories;if((s.mode==="pr_ops"||s.mode==="purchase_payment")&&(l=l.filter(t=>{const d=(t.name||"").toLowerCase();return!d.includes("transport")&&!d.includes("akomodasi")&&!d.includes("kasbon")})),K.value.trim()){const t=K.value.toLowerCase().trim();l=l.filter(d=>{const m=(d.name||"").toLowerCase(),a=(d.division||"").toLowerCase();return m.includes(t)||a.includes(t)})}return l});le(()=>s.mode,()=>{K.value="",U.value=!1}),qe(()=>{document.addEventListener("click",l=>{l.target.closest(".category-dropdown-container")||(U.value=!1)})});const ye=l=>{const t=P.categories.find(d=>d.id==l);return t?`[${t.division}] ${t.name}`:""},Ge=xt(),_e=q(()=>{var l;return((l=Ge.props.auth)==null?void 0:l.user)||{}}),N=q(()=>_e.value.id_outlet||null),ke=q(()=>_e.value.division_id||null),h=D(!1),c=D(null),pe=q(()=>{if(s.mode==="pr_ops"||s.mode==="purchase_payment"){for(const l in V.value){const t=V.value[l];if(t&&t.exceeds_budget)return!0}return!1}else return c.value&&c.value.exceeds_budget}),J=D(""),te=D([]),oe=D(!1),y=D(null),E=D([]),F=D({}),me=D(!1),he=D({}),Y=D(!1),B=D("pr_ops"),V=D({}),re=D({}),I=D(!1);function X(){return{item_name:"",qty:"",unit:"",unit_price:0,subtotal:0}}function ie(){return{item_type:"transport",qty:"",unit:"",unit_price:0,subtotal:0,allowance_recipient_name:"",allowance_account_number:"",others_notes:""}}function we(){return{category_id:"",items:[X()]}}function L(){return{outlet_id:"",categories:[we()]}}const je=[5e5,1e6,15e5,2e6,25e5,3e6],Te=[1,2,3];q(()=>P.purchaseRequisition||{}),q(()=>P.modeSpecificData||{});const s=vt({title:"",description:"",division_id:"",category_id:"",outlet_id:"",ticket_id:"",currency:"IDR",priority:"MEDIUM",items:[X()],outlets:[L()],travel_outlets:[L()],travel_items:[ie()],travel_agenda:"",travel_notes:"",kasbon_amount:0,kasbon_termin:0,kasbon_reason:"",approvers:[],mode:"pr_ops"}),W=q(()=>{if(s.mode==="kasbon"){const l=parseFloat(s.kasbon_amount)||0;return isNaN(l)?0:l}else return s.mode==="pr_ops"||s.mode==="purchase_payment"?s.outlets.reduce((l,t)=>{const d=t.categories.reduce((m,a)=>{const o=a.items.reduce((u,f)=>{const S=parseFloat(f.subtotal)||0;return u+(isNaN(S)?0:S)},0);return m+o},0);return l+d},0):s.mode==="travel_application"?s.travel_items.reduce((l,t)=>{const d=parseFloat(t.subtotal)||0;return l+(isNaN(d)?0:d)},0):s.items.reduce((l,t)=>{const d=parseFloat(t.subtotal)||0;return l+(isNaN(d)?0:d)},0)}),G=l=>{var m,a;if(!l)return!1;const t=((m=l.jabatan)==null?void 0:m.toLowerCase())||"",d=((a=l.name)==null?void 0:a.toLowerCase())||"";return t.includes("ga supervisor")||d.includes("ga supervisor")},ce=l=>{var m,a;if(!l)return!1;const t=((m=l.jabatan)==null?void 0:m.toLowerCase())||"",d=((a=l.name)==null?void 0:a.toLowerCase())||"";return t.includes("gm finance")||d.includes("gm finance")},Ae=q(()=>s.mode!=="travel_application"||s.approvers.length===0?!0:G(s.approvers[0])),Q=q(()=>s.mode!=="kasbon"&&s.mode!=="purchase_payment"&&s.mode!=="travel_application"?!0:!s.approvers||s.approvers.length===0?!1:s.approvers.some(l=>ce(l))),Ne=q(()=>!s.approvers||!Array.isArray(s.approvers)?[]:s.approvers.slice());le(()=>s.approvers,l=>{console.log("Approvers changed:",l)},{deep:!0,immediate:!0}),le(W,l=>{if(s.amount=l,s.category_id)if(s.mode==="travel_application"){const t=s.travel_outlets.length>0&&s.travel_outlets[0].outlet_id?s.travel_outlets[0].outlet_id:null;ae(t)}else s.mode!=="pr_ops"&&s.mode!=="purchase_payment"&&s.mode!=="kasbon"&&se()}),le(()=>s.mode,l=>{if(l==="pr_ops"||l==="purchase_payment")s.outlets=[L()],s.items=[],s.travel_outlets=[],s.travel_items=[],s.travel_agenda="",s.travel_notes="",s.outlet_id="",s.category_id="",F.value={};else if(l==="travel_application"){s.travel_outlets=[L()],s.travel_items=[ie()],s.travel_agenda="",s.travel_notes="",s.items=[],s.outlets=[],s.outlet_id="";const t=P.categories.find(d=>d.name&&d.name.toLowerCase().includes("transport"));t?(s.category_id=t.id,ue(),setTimeout(()=>{s.travel_outlets.length>0&&s.travel_outlets[0].outlet_id?ae(s.travel_outlets[0].outlet_id):ae(null)},100)):s.category_id="",E.value=[],F.value={}}else if(l==="kasbon"){if(!ge()){const{startDate:d,endDate:m}=de(),a=d.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=m.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});s.items=[],s.outlets=[L()],s.travel_outlets=[],s.travel_items=[],s.travel_agenda="",s.travel_notes="",s.kasbon_amount=0,s.kasbon_termin=0,s.kasbon_reason="",s.outlet_id="",s.category_id="",E.value=[],F.value={},I.value=!0,s.mode="pr_ops",setTimeout(()=>{Swal.fire({icon:"error",title:"Tidak Dapat Input Kasbon",html:`
            <p class="text-sm mb-3">Anda tidak dapat menginput kasbon di luar periode yang ditentukan.</p>
            <div class="bg-blue-50 border border-blue-200 rounded p-3 text-left">
              <p class="text-sm font-semibold text-blue-800 mb-2">Periode Kasbon Aktif:</p>
              <p class="text-sm text-blue-700">${a} - ${o}</p>
            </div>
            <p class="text-xs text-gray-600 mt-3">
              Periode kasbon: Tanggal 20 bulan berjalan hingga tanggal 10 bulan selanjutnya
            </p>
          `,confirmButtonText:"OK",confirmButtonColor:"#EF4444"})},100);return}I.value=!1,s.items=[],s.outlets=[],s.travel_outlets=[],s.travel_items=[],s.travel_agenda="",s.travel_notes="",s.kasbon_amount=0,s.kasbon_termin=1,s.kasbon_reason="",E.value=[],ke.value&&(s.division_id=ke.value),N.value&&(s.outlet_id=N.value,Fe());const t=P.categories.find(d=>d.name&&d.name.toLowerCase().includes("kasbon"));t?(s.category_id=t.id,ue()):s.category_id=""}else s.items=[X()],s.outlets=[],s.travel_outlets=[],s.travel_items=[],s.travel_agenda="",s.travel_notes="",s.kasbon_amount=0,s.kasbon_termin=0,s.kasbon_reason="",E.value=[]});function Ve(){s.items.push(X())}function Ie(l){s.items.length!==1&&s.items.splice(l,1)}function Ce(l){const t=s.items[l],d=parseFloat(t.qty)||0,m=parseFloat(t.unit_price)||0;t.subtotal=d*m}function We(){s.outlets.push(L())}function He(l){s.outlets.length!==1&&s.outlets.splice(l,1)}function ze(l){s.outlets[l].categories.push(we())}function Je(l,t){s.outlets[l].categories.length!==1&&s.outlets[l].categories.splice(t,1)}function Ye(l,t){s.outlets[l].categories[t].items.push(X())}function Xe(l,t,d){const m=s.outlets[l].categories[t].items;m.length!==1&&m.splice(d,1)}function Qe(){s.travel_outlets.push(L())}function Ze(l){s.travel_outlets.length!==1&&s.travel_outlets.splice(l,1)}function et(){s.travel_items.push(ie())}function tt(l){s.travel_items.length!==1&&s.travel_items.splice(l,1)}function Pe(l){const t=s.travel_items[l],d=parseFloat(t.qty)||0,m=parseFloat(t.unit_price)||0;t.subtotal=d*m}function De(l,t,d){const m=s.outlets[l].categories[t].items[d],a=parseFloat(m.qty)||0,o=parseFloat(m.unit_price)||0;m.subtotal=a*o;const u=s.outlets[l],f=u.categories[t];u.outlet_id&&f.category_id&&Ue(l,t,u.outlet_id,f.category_id)}function Oe(l,t){return s.outlets[l].categories[t].items.reduce((m,a)=>{const o=parseFloat(a.subtotal)||0;return m+(isNaN(o)?0:o)},0)}function st(l){return s.outlets[l].categories.reduce((d,m)=>d+m.items.reduce((a,o)=>{const u=parseFloat(o.subtotal)||0;return a+(isNaN(u)?0:u)},0),0)}const at=()=>{ue(),se()},Fe=()=>{s.category_id&&se()},ue=()=>{if(!s.category_id){y.value=null;return}const l=P.categories.find(t=>t.id==s.category_id);l?y.value={division:l.division,subcategory:l.subcategory,budget_limit:l.budget_limit,budget_type:l.budget_type,description:l.description}:y.value=null},se=async()=>{if(!s.category_id){c.value=null;return}if(y.value&&y.value.budget_type==="PER_OUTLET"&&!s.outlet_id){c.value=null;return}try{const l=await H.get("/purchase-requisitions/budget-info",{params:{category_id:s.category_id,outlet_id:s.outlet_id,current_amount:W.value,year:new Date().getFullYear(),month:new Date().getMonth()+1},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});l.data.success?c.value=l.data:c.value=null}catch{c.value=null}},Ue=async(l,t,d,m)=>{if(!m){const u=`${l}-${t}`;V.value[u]=null,re.value[u]=null;return}const a=`${l}-${t}`,o=P.categories.find(u=>u.id==m);if(o?re.value[a]={division:o.division,subcategory:o.subcategory,budget_limit:o.budget_limit,budget_type:o.budget_type,description:o.description}:re.value[a]=null,!d&&(o==null?void 0:o.budget_type)==="PER_OUTLET"){V.value[a]=null;return}try{const u=Oe(l,t),f=await H.get("/purchase-requisitions/budget-info",{params:{category_id:m,outlet_id:d||null,current_amount:u,year:new Date().getFullYear(),month:new Date().getMonth()+1},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});f.data.success?V.value[a]=f.data:V.value[a]=null}catch{V.value[a]=null}},O=(l,t)=>{const d=`${l}-${t}`;return V.value[d]||null},Z=(l,t)=>{const d=`${l}-${t}`;return re.value[d]||null},lt=()=>{if(!s.category_id)return"Transport Category";const l=P.categories.find(t=>t.id==s.category_id);return l?`[${l.division}] ${l.name}`:"Transport Category"},nt=()=>{if(!s.outlet_id)return"Loading...";const l=P.outlets.find(t=>t.id_outlet==s.outlet_id);return l?l.nama_outlet:"Unknown Outlet"},ot=()=>{if(!s.category_id)return"Kasbon Category";const l=P.categories.find(t=>t.id==s.category_id);return l?`[${l.division}] ${l.name}`:"Kasbon Category"},rt=()=>{if(!s.division_id)return"Loading...";const l=P.divisions.find(t=>t.id==s.division_id);return l?l.nama_divisi:"Unknown Division"},de=()=>{const l=new Date,t=l.getFullYear(),d=l.getMonth(),m=l.getDate();let a,o;return m<20?(a=new Date(t,d-1,20),o=new Date(t,d,10)):(a=new Date(t,d,20),o=new Date(t,d+1,10)),{startDate:a,endDate:o}},ge=()=>{const l=new Date,t=l.getFullYear(),d=l.getMonth(),m=l.getDate();let a,o;m<20?(a=new Date(t,d-1,20),o=new Date(t,d,10)):(a=new Date(t,d,20),o=new Date(t,d+1,10));const u=new Date(t,d,m),f=new Date(a.getFullYear(),a.getMonth(),a.getDate()),S=new Date(o.getFullYear(),o.getMonth(),o.getDate());return u>=f&&u<=S},be=()=>{const{startDate:l,endDate:t}=de(),d=l.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),m=t.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});return`${d} - ${m}`},it=async()=>{var m;if(!N.value||N.value==1)return{exists:!1,message:null};if(!s.outlet_id)return{exists:!1,message:null};const{startDate:l,endDate:t}=de(),d=((m=P.purchaseRequisition)==null?void 0:m.id)||null;try{return(await H.get("/purchase-requisitions/check-kasbon-period",{params:{outlet_id:s.outlet_id,start_date:l.toISOString().split("T")[0],end_date:t.toISOString().split("T")[0],exclude_id:d}})).data.exists?{exists:!0,message:`Sudah ada pengajuan kasbon untuk outlet ini di periode ${be()}. Per periode hanya diijinkan 1 user saja per outlet.`}:{exists:!1,message:null}}catch(a){return console.error("Error checking kasbon period:",a),{exists:!1,message:null}}},ae=async(l=null)=>{if(!s.category_id){c.value=null;return}if(y.value&&y.value.budget_type==="PER_OUTLET"&&!l){c.value=null;return}try{const t=await H.get("/purchase-requisitions/budget-info",{params:{category_id:s.category_id,outlet_id:l,current_amount:W.value,year:new Date().getFullYear(),month:new Date().getMonth()+1},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});t.data.success?c.value=t.data:c.value=null}catch{c.value=null}},Se=async(l="")=>{try{const t=await H.get("/purchase-requisitions/approvers",{params:{search:l},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});t.data.success&&(te.value=t.data.users,oe.value=!0)}catch(t){console.error("Failed to load approvers:",t),te.value=[]}},ut=l=>{s.approvers.find(t=>t.id===l.id)||s.approvers.push(l),J.value="",oe.value=!1},dt=l=>{if(s.mode==="travel_application"&&l===0&&G(s.approvers[l])){Swal.fire({icon:"warning",title:"Tidak Dapat Dihapus",text:"GA Supervisor tidak dapat dihapus karena wajib menjadi approver pertama untuk Travel Application",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}s.approvers.splice(l,1)},Be=(l,t)=>{if(s.mode==="travel_application"&&l===0&&G(s.approvers[l])){Swal.fire({icon:"warning",title:"Tidak Dapat Dipindahkan",text:"GA Supervisor harus tetap menjadi approver pertama untuk Travel Application",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(s.mode==="travel_application"&&t===0&&s.approvers.length>0&&G(s.approvers[0])){Swal.fire({icon:"warning",title:"Tidak Dapat Dipindahkan",text:"GA Supervisor harus tetap menjadi approver pertama untuk Travel Application",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}const d=s.approvers.splice(l,1)[0];s.approvers.splice(t,0,d)},pt=async()=>{var t,d,m,a,o,u,f,S,k;if(h.value=!0,s.approvers.length===0){h.value=!1,await Swal.fire({icon:"warning",title:"Approver Diperlukan",text:"Silakan pilih minimal satu approver sebelum menyimpan",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(s.mode==="travel_application"){for(let g=0;g<s.travel_outlets.length;g++)if(!s.travel_outlets[g].outlet_id){h.value=!1,await Swal.fire({icon:"warning",title:"Outlet Tujuan Diperlukan",text:`Silakan pilih outlet tujuan untuk outlet ke-${g+1}`,confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(s.travel_items.length===0){h.value=!1,await Swal.fire({icon:"warning",title:"Items Diperlukan",text:"Silakan tambahkan minimal satu item perjalanan",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}for(let g=0;g<s.travel_items.length;g++){const v=s.travel_items[g];if(!v.qty||!v.unit||!v.unit_price){h.value=!1,await Swal.fire({icon:"warning",title:"Item Tidak Lengkap",text:`Silakan lengkapi semua field untuk item ke-${g+1}`,confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(v.item_type==="allowance"&&(!v.allowance_recipient_name||!v.allowance_account_number)){h.value=!1,await Swal.fire({icon:"warning",title:"Data Allowance Tidak Lengkap",text:`Silakan lengkapi nama penerima dan nomor rekening untuk item allowance ke-${g+1}`,confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(v.item_type==="others"&&!v.others_notes){h.value=!1,await Swal.fire({icon:"warning",title:"Notes Others Diperlukan",text:`Silakan isi notes untuk item others ke-${g+1}`,confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}}if(!s.travel_agenda||s.travel_agenda.trim()===""){h.value=!1,await Swal.fire({icon:"warning",title:"Agenda Kerja Diperlukan",text:"Silakan isi agenda kerja perjalanan dinas",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}}if(s.mode==="kasbon"){if(!ge()){h.value=!1;const{startDate:g,endDate:v}=de(),T=g.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),M=v.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"});await Swal.fire({icon:"error",title:"Tidak Dapat Input Kasbon",html:`
          <p class="text-sm mb-3">Anda tidak dapat menginput kasbon di luar periode yang ditentukan.</p>
          <div class="bg-blue-50 border border-blue-200 rounded p-3 text-left">
            <p class="text-sm font-semibold text-blue-800 mb-2">Periode Kasbon Aktif:</p>
            <p class="text-sm text-blue-700">${T} - ${M}</p>
          </div>
          <p class="text-xs text-gray-600 mt-3">
            Periode kasbon: Tanggal 20 bulan berjalan hingga tanggal 10 bulan selanjutnya
          </p>
        `,confirmButtonText:"OK",confirmButtonColor:"#EF4444"});return}if(!je.includes(Number(s.kasbon_amount))){h.value=!1,await Swal.fire({icon:"warning",title:"Nilai Kasbon Diperlukan",text:"Silakan pilih nilai kasbon dari pilihan yang tersedia",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(!Te.includes(Number(s.kasbon_termin))){h.value=!1,await Swal.fire({icon:"warning",title:"Termin Kasbon Diperlukan",text:"Silakan pilih termin kasbon (1x, 2x, atau 3x)",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(!s.kasbon_reason||s.kasbon_reason.trim()===""){h.value=!1,await Swal.fire({icon:"warning",title:"Alasan Kasbon Diperlukan",text:"Silakan isi alasan atau tujuan penggunaan kasbon",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(!s.outlet_id){h.value=!1,await Swal.fire({icon:"warning",title:"Outlet Diperlukan",text:"Outlet tidak terdeteksi. Silakan refresh halaman dan coba lagi.",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(!s.category_id){h.value=!1,await Swal.fire({icon:"warning",title:"Category Diperlukan",text:"Category tidak terdeteksi. Silakan refresh halaman dan coba lagi.",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(N.value&&N.value!=1){const g=await it();if(g.exists){h.value=!1,await Swal.fire({icon:"error",title:"Kasbon Sudah Ada",html:g.message,confirmButtonText:"OK",confirmButtonColor:"#EF4444"});return}}}if(s.mode==="pr_ops"||s.mode==="purchase_payment")for(let g=0;g<s.outlets.length;g++){const v=s.outlets[g];if(!v.outlet_id){h.value=!1,await Swal.fire({icon:"warning",title:"Outlet Diperlukan",text:`Silakan pilih outlet untuk outlet ke-${g+1}`,confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}for(let T=0;T<v.categories.length;T++){const M=v.categories[T];if(!M.category_id){h.value=!1;const $=((t=P.outlets.find(ve=>ve.id_outlet==v.outlet_id))==null?void 0:t.nama_outlet)||"Unknown";await Swal.fire({icon:"warning",title:"Category Diperlukan",text:`Silakan pilih category untuk outlet "${$}" category ke-${T+1}`,confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}if(M.items.length===0||M.items.some($=>!$.item_name||!$.qty||!$.unit||!$.unit_price)){h.value=!1,await Swal.fire({icon:"warning",title:"Items Diperlukan",text:"Silakan lengkapi semua items untuk setiap category",confirmButtonText:"OK",confirmButtonColor:"#F59E0B"});return}}}s.amount=W.value;const l={...s,approvers:s.approvers.map(g=>g.id)};s.mode==="kasbon"?(l.kasbon_amount=s.kasbon_amount||0,l.kasbon_termin=s.kasbon_termin||1,l.kasbon_reason=s.kasbon_reason||"",l.description=s.kasbon_reason,l.items=[]):s.mode==="travel_application"?(l.items=s.travel_items.map(g=>{let v="";return g.item_type==="transport"?v="Transport":g.item_type==="allowance"?v=`Allowance - ${g.allowance_recipient_name||""}`:g.item_type==="others"&&(v=`Others - ${g.others_notes||""}`),{item_name:v,qty:g.qty,unit:g.unit,unit_price:g.unit_price,subtotal:g.subtotal,item_type:g.item_type,allowance_recipient_name:g.item_type==="allowance"?g.allowance_recipient_name:null,allowance_account_number:g.item_type==="allowance"?g.allowance_account_number:null,others_notes:g.item_type==="others"?g.others_notes:null}}),l.travel_outlet_ids=s.travel_outlets.map(g=>g.outlet_id).filter(g=>g),l.travel_agenda=s.travel_agenda,l.travel_notes=s.travel_notes,l.description=s.travel_agenda,delete l.travel_outlets,delete l.travel_items,l.outlet_id=null):s.mode==="pr_ops"||s.mode==="purchase_payment"?(l.items=[],s.outlets.forEach(g=>{g.categories.forEach(v=>{v.items.forEach(T=>{l.items.push({...T,outlet_id:g.outlet_id,category_id:v.category_id})})})}),delete l.outlets,l.outlet_id=null,l.category_id=null):(delete l.outlets,delete l.travel_outlets,delete l.travel_items);try{const g=P.purchaseRequisition.id;me.value=!0;try{if(s.mode==="pr_ops"||s.mode==="purchase_payment"){for(const[v,T]of Object.entries(F.value))if(T&&T.length>0){for(const M of T)if(M.file){const $=new FormData;$.append("file",M.file),$.append("outlet_id",v);try{await H.post(`/purchase-requisitions/${g}/attachments`,$,{headers:{"Content-Type":"multipart/form-data"}})}catch(ve){console.error("Failed to upload attachment:",ve)}}}}else if(E.value.length>0){for(const v of E.value)if(v.file){const T=new FormData;T.append("file",v.file);try{await H.post(`/purchase-requisitions/${g}/attachments`,T,{headers:{"Content-Type":"multipart/form-data"}})}catch(M){console.error("Failed to upload attachment:",M)}}}me.value=!1}catch(v){me.value=!1,console.error("Error uploading attachments:",v)}Le.put(`/purchase-requisitions/${g}`,l,{onSuccess:()=>{h.value=!1,Le.visit(`/purchase-requisitions/${g}`)},onError:v=>{h.value=!1,console.error("Form errors:",v)}})}catch(g){if(h.value=!1,console.error("Form errors:",((d=g.response)==null?void 0:d.data)||g.message),(o=(a=(m=g.response)==null?void 0:m.data)==null?void 0:a.errors)!=null&&o.budget_exceeded){const v=g.response.data.errors.budget_exceeded,T=Array.isArray(v)?v[0]:v;await Swal.fire({icon:"error",title:"Budget Melebihi Limit",html:`<p class="text-sm">${T||"Budget melebihi limit yang tersedia."}</p>`,confirmButtonText:"OK",confirmButtonColor:"#EF4444"});return}if((f=(u=g.response)==null?void 0:u.data)!=null&&f.errors){const v=g.response.data.errors,T=Object.values(v).flat().filter(M=>M).join("<br>");if(T){await Swal.fire({icon:"error",title:"Terjadi Kesalahan",html:`<p class="text-sm">${T}</p>`,confirmButtonText:"OK",confirmButtonColor:"#EF4444"});return}}await Swal.fire({icon:"error",title:"Terjadi Kesalahan",text:((k=(S=g.response)==null?void 0:S.data)==null?void 0:k.message)||g.message||"Gagal menyimpan data. Silakan coba lagi.",confirmButtonText:"OK",confirmButtonColor:"#EF4444"})}},x=l=>l?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l):"-",mt=async l=>{const t=Array.from(l.target.files);for(const d of t){if(d.size>10*1024*1024){alert(`File ${d.name} is too large. Maximum size is 10MB.`);continue}E.value.push({file_name:d.name,file_size:d.size,file:d,mime_type:d.type,temp_id:Date.now()+Math.random()})}l.target.value=""},ct=async(l,t)=>{const d=Array.from(l.target.files);if(!t){alert("Please select an outlet first"),l.target.value="";return}F.value[t]||(F.value[t]=[]);for(const m of d){if(m.size>10*1024*1024){alert(`File ${m.name} is too large. Maximum size is 10MB.`);continue}F.value[t].push({file_name:m.name,file_size:m.size,file:m,mime_type:m.type,outlet_id:t,temp_id:Date.now()+Math.random()})}l.target.value=""},gt=l=>{E.value.splice(l,1)},bt=(l,t)=>{F.value[l]&&(F.value[l].splice(t,1),F.value[l].length===0&&delete F.value[l])},fe=l=>F.value[l]||[],Me=l=>{const t=l.split(".").pop().toLowerCase();return{pdf:"fa-file-pdf text-red-500",doc:"fa-file-word text-blue-500",docx:"fa-file-word text-blue-500",xls:"fa-file-excel text-green-500",xlsx:"fa-file-excel text-green-500",ppt:"fa-file-powerpoint text-orange-500",pptx:"fa-file-powerpoint text-orange-500",jpg:"fa-file-image text-purple-500",jpeg:"fa-file-image text-purple-500",png:"fa-file-image text-purple-500",gif:"fa-file-image text-purple-500",txt:"fa-file-alt text-gray-500",zip:"fa-file-archive text-yellow-500",rar:"fa-file-archive text-yellow-500"}[t]||"fa-file text-gray-500"},Ee=l=>{if(l===0)return"0 Bytes";const t=1024,d=["Bytes","KB","MB","GB"],m=Math.floor(Math.log(l)/Math.log(t));return parseFloat((l/Math.pow(t,m)).toFixed(2))+" "+d[m]},ft=l=>{if(l.temp_id){alert("File will be available for download after the payment is created.");return}const t=document.createElement("a");t.href=`/purchase-requisitions/attachments/${l.id}/download`,t.download=l.file_name,document.body.appendChild(t),t.click(),document.body.removeChild(t)};return le(J,l=>{l.length>=2?Se(l):(oe.value=!1,te.value=[])}),qe(async()=>{console.log("ðŸ”µ onMounted called!");const l=P.purchaseRequisition;if(!l){console.error("âŒ No purchaseRequisition prop found");return}s.title=l.title||"",s.description=l.description||"",s.division_id=l.division_id||"",s.category_id=l.category_id||"",s.outlet_id=l.outlet_id||"",s.ticket_id=l.ticket_id||"",s.currency=l.currency||"IDR",s.priority=l.priority||"MEDIUM",s.mode=l.mode||"pr_ops";const t=P.modeSpecificData||{};s.mode==="travel_application"?(s.travel_agenda=t.travel_agenda||"",s.travel_notes=t.travel_notes||""):s.mode==="kasbon"&&(s.kasbon_amount=parseFloat(t.kasbon_amount)||0,s.kasbon_termin=parseInt(t.kasbon_termin,10)||1,s.kasbon_reason=t.kasbon_reason||""),console.log("âœ… Purchase Requisition data:",l),console.log("âœ… Approval Flows (camelCase):",l.approvalFlows),console.log("âœ… Approval Flows (snake_case):",l.approval_flows),console.log("âœ… All keys in pr:",Object.keys(l));const d=l.approval_flows||l.approvalFlows;if(console.log("âœ… Approval Flows (final):",d),console.log("âœ… Approval Flows type:",typeof d),console.log("âœ… Approval Flows is array?",Array.isArray(d)),console.log("âœ… Approval Flows length:",d==null?void 0:d.length),d&&Array.isArray(d)&&d.length>0){console.log("âœ… Found approval flows, processing...");const m=d.sort((a,o)=>(a.approval_level||0)-(o.approval_level||0)).map(a=>{const o=a.approver;if(!o)return console.log("Flow without approver:",a),null;let u="";o.jabatan&&(typeof o.jabatan=="object"&&o.jabatan.nama_jabatan?u=o.jabatan.nama_jabatan:typeof o.jabatan=="string"&&(u=o.jabatan));const f={id:o.id,name:o.nama_lengkap||o.name||o.nik||"",email:o.email||"",jabatan:u};return console.log("Flow:",a),console.log("Approver raw:",o),console.log("Mapped approver:",f),f}).filter(a=>a!=null&&a.id);m.length>0?(console.log("ðŸ“ About to assign approvers. Current form.approvers.length:",s.approvers.length),console.log("ðŸ“ Approvers to assign:",m),s.approvers.splice(0,s.approvers.length),console.log("ðŸ“ After clearing, form.approvers.length:",s.approvers.length),m.forEach((a,o)=>{console.log(`ðŸ“ Pushing approver ${o+1}:`,a),s.approvers.push(a)}),console.log("âœ… Approvers loaded successfully!"),console.log("Final approvers array:",s.approvers),console.log("Approvers length:",s.approvers.length),console.log("First approver:",s.approvers[0]),console.log("form.approvers is reactive?",s.approvers),await yt(),console.log("After nextTick - Approvers length:",s.approvers.length),console.log("After nextTick - First approver:",s.approvers[0]),console.log("ApproversList computed value:",Ne.value),setTimeout(()=>{console.log("After 500ms - Approvers length:",s.approvers.length),console.log("After 500ms - Form approvers:",s.approvers),s.approvers.length===0&&console.error("âŒ ERROR: Approvers were assigned but array is empty after 500ms!")},500)):console.warn("âš ï¸ No approvers to load! approvers array is empty")}else console.error("âŒ No approvalFlows found or empty."),console.error("pr.approvalFlows:",l.approvalFlows),console.error("pr.approval_flows:",l.approval_flows),console.error("approvalFlows (final):",d),console.error("approvalFlows type:",typeof d),console.error("approvalFlows is array?",Array.isArray(d)),console.error("approvalFlows length:",d==null?void 0:d.length);if(l.attachments&&l.attachments.length>0&&(s.mode==="pr_ops"||s.mode==="purchase_payment"?l.attachments.forEach(m=>{const a=m.outlet_id||"no-outlet";F.value[a]||(F.value[a]=[]),F.value[a].push(m)}):E.value=l.attachments),l.items&&l.items.length>0)if(s.mode==="pr_ops"||s.mode==="purchase_payment"){const m={};l.items.forEach(a=>{const o=a.outlet_id||l.outlet_id||"no-outlet",u=a.category_id||l.category_id||"no-category";m[o]||(m[o]={}),m[o][u]||(m[o][u]=[]);const f=parseFloat(a.qty)||0,S=parseFloat(a.unit_price)||0,k=f*S;m[o][u].push({item_name:a.item_name||"",qty:f,unit:a.unit||"",unit_price:S,subtotal:k,item_type:a.item_type||null,allowance_recipient_name:a.allowance_recipient_name||"",allowance_account_number:a.allowance_account_number||"",others_notes:a.others_notes||""})}),s.outlets=[],Object.keys(m).forEach(a=>{const o=[];Object.keys(m[a]).forEach(u=>{o.push({category_id:u!=="no-category"?u:"",items:m[a][u]})}),s.outlets.push({outlet_id:a!=="no-outlet"?a:"",categories:o})}),s.outlets.length===0&&(s.outlets=[L()])}else if(s.mode==="travel_application"){s.travel_items=l.items.map(a=>{const o=parseFloat(a.qty)||0,u=parseFloat(a.unit_price)||0,f=o*u;return{item_type:a.item_type||"transport",qty:o,unit:a.unit||"",unit_price:u,subtotal:f,allowance_recipient_name:a.allowance_recipient_name||"",allowance_account_number:a.allowance_account_number||"",others_notes:a.others_notes||""}});const m=P.modeSpecificData||{};m.travel_outlet_ids&&m.travel_outlet_ids.length>0&&(s.travel_outlets=m.travel_outlet_ids.map(a=>({outlet_id:a,categories:[]}))),s.travel_items.length===0&&(s.travel_items=[ie()]),s.travel_outlets.length===0&&(s.travel_outlets=[L()])}else s.mode==="kasbon"||(s.items=l.items.map(m=>{const a=parseFloat(m.qty)||0,o=parseFloat(m.unit_price)||0,u=a*o;return{item_name:m.item_name||"",qty:a,unit:m.unit||"",unit_price:o,subtotal:u}}),s.items.length===0&&(s.items=[X()]));if(s.category_id)if(ue(),s.mode==="travel_application"){const m=s.travel_outlets.length>0&&s.travel_outlets[0].outlet_id?s.travel_outlets[0].outlet_id:null;ae(m)}else s.mode!=="pr_ops"&&s.mode!=="purchase_payment"&&s.mode!=="kasbon"&&se();s.mode==="kasbon"&&(ge()?I.value=!1:I.value=!0)}),(l,t)=>(r(),_t(kt,{title:"Edit Payment"},{default:xe(()=>{var d,m;return[e("div",ht,[e("div",wt,[t[35]||(t[35]=e("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[e("i",{class:"fa-solid fa-edit text-blue-500"}),n(" Edit Payment ")],-1)),Re($e(Ke),{href:"/purchase-requisitions",class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:xe(()=>t[34]||(t[34]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),n(" Back to List ")])),_:1})]),e("div",jt,[e("div",Tt,[e("div",At,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mode",-1)),_(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>s.mode=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},t[36]||(t[36]=[e("option",{value:"pr_ops"},"Purchase Requisition",-1),e("option",{value:"purchase_payment"},"Payment Application",-1),e("option",{value:"travel_application"},"Travel Application",-1),e("option",{value:"kasbon"},"Kasbon",-1)]),512),[[R,s.mode]])]),e("div",Ct,[e("div",Pt,[t[39]||(t[39]=e("p",{class:"text-xs text-gray-600 mb-1"},[e("span",{class:"text-red-600 font-semibold"},"Klik disini untuk tutorial")],-1)),e("button",{type:"button",onClick:t[1]||(t[1]=a=>Y.value=!0),class:"inline-flex items-center px-4 py-2 border-2 border-red-500 text-sm font-semibold rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 shadow-md transition-all duration-200 hover:shadow-lg"},t[38]||(t[38]=[e("i",{class:"fa fa-question-circle mr-2 text-lg"},null,-1),n(" Cara Menggunakan Menu Payment ")]))])])]),I.value?(r(),i("div",Dt,[e("div",Ot,[t[41]||(t[41]=e("i",{class:"fa fa-exclamation-triangle text-red-500 text-5xl mb-4"},null,-1)),t[42]||(t[42]=e("h3",{class:"text-xl font-bold text-red-800 mb-2"},"Tidak Dapat Input Kasbon",-1)),t[43]||(t[43]=e("p",{class:"text-sm text-red-700 mb-4"}," Anda tidak dapat menginput kasbon di luar periode yang ditentukan. ",-1)),e("div",Ft,[t[40]||(t[40]=e("p",{class:"text-sm font-semibold text-blue-800 mb-2"},"Periode Kasbon Aktif:",-1)),e("p",Ut,p(be()),1)]),t[44]||(t[44]=e("p",{class:"text-xs text-gray-600"}," Periode kasbon: Tanggal 20 bulan berjalan hingga tanggal 10 bulan selanjutnya ",-1)),e("button",{type:"button",onClick:t[2]||(t[2]=a=>{I.value=!1,s.mode="pr_ops"}),class:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Kembali ke Form ")])])):b("",!0),I.value?b("",!0):(r(),i("form",{key:1,onSubmit:ee(pt,["prevent"])},[e("div",St,[e("div",Bt,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Title *",-1)),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s.title=a),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter payment title"},null,512),[[j,s.title]])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Division *",-1)),s.mode==="kasbon"?(r(),i("div",Mt,[e("input",{type:"text",value:rt(),disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,8,Et),t[46]||(t[46]=e("p",{class:"mt-1 text-xs text-gray-500"}," Division otomatis dipilih sesuai division user yang login ",-1))])):_((r(),i("select",{key:1,"onUpdate:modelValue":t[4]||(t[4]=a=>s.division_id=a),required:"",onChange:se,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[47]||(t[47]=e("option",{value:""},"Select Division",-1)),(r(!0),i(A,null,C(z.divisions,a=>(r(),i("option",{key:a.id,value:a.id},p(a.nama_divisi),9,qt))),128))],544)),[[R,s.division_id]])]),s.mode!=="pr_ops"&&s.mode!=="purchase_payment"?(r(),i("div",Rt,[t[75]||(t[75]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category",-1)),s.mode==="travel_application"?(r(),i("div",$t,[e("input",{type:"text",value:lt(),disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,8,Kt),t[49]||(t[49]=e("p",{class:"mt-1 text-xs text-gray-500"}," Category otomatis dipilih: Transport (sesuai dengan mode Travel Application) ",-1))])):s.mode==="kasbon"?(r(),i("div",Lt,[e("input",{type:"text",value:ot(),disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,8,Gt),t[50]||(t[50]=e("p",{class:"mt-1 text-xs text-gray-500"}," Category otomatis dipilih: Kasbon (sesuai dengan mode Kasbon) ",-1))])):(r(),i("div",Nt,[e("div",{onClick:t[5]||(t[5]=a=>U.value=!U.value),class:w(["w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer bg-white flex items-center justify-between",{"ring-2 ring-blue-500":U.value}])},[s.category_id?(r(),i("span",Vt,p(ye(s.category_id)),1)):(r(),i("span",It,"Select Category")),e("i",{class:w(["fa fa-chevron-down text-gray-400",{"transform rotate-180":U.value}])},null,2)],2),U.value?(r(),i("div",{key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg",onClick:t[8]||(t[8]=ee(()=>{},["stop"]))},[_(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>K.value=a),type:"text",placeholder:"Cari category...",class:"w-full px-3 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:t[7]||(t[7]=ee(()=>{},["stop"]))},null,512),[[j,K.value]]),e("div",Wt,[ne.value.length===0?(r(),i("div",Ht," Tidak ada category yang ditemukan ")):b("",!0),(r(!0),i(A,null,C(ne.value,a=>(r(),i("div",{key:a.id,onClick:o=>{s.category_id=a.id,at(),U.value=!1,K.value=""},class:w(["px-3 py-2 hover:bg-blue-50 cursor-pointer text-sm",{"bg-blue-100":s.category_id==a.id}])}," ["+p(a.division)+"] "+p(a.name),11,zt))),128))])])):b("",!0)])),s.mode!=="travel_application"&&s.mode!=="kasbon"&&y.value?(r(),i("div",Jt,[e("div",Yt,[e("div",null,[t[51]||(t[51]=e("span",{class:"text-sm font-medium text-blue-800"},"Division:",-1)),e("span",Xt,p(y.value.division),1)]),e("div",null,[t[52]||(t[52]=e("span",{class:"text-sm font-medium text-blue-800"},"Subcategory:",-1)),e("span",Qt,p(y.value.subcategory),1)]),e("div",null,[t[53]||(t[53]=e("span",{class:"text-sm font-medium text-blue-800"},"Budget Limit:",-1)),e("span",Zt,p(x(y.value.budget_limit)),1)]),y.value.description?(r(),i("div",es,[t[54]||(t[54]=e("span",{class:"text-sm font-medium text-blue-800"},"Description:",-1)),e("p",ts,p(y.value.description),1)])):b("",!0)])])):b("",!0),s.mode==="travel_application"&&y.value?(r(),i("div",ss,[e("div",as,[e("div",ls,[e("div",null,[t[55]||(t[55]=e("span",{class:"font-medium text-blue-800"},"Division:",-1)),e("span",ns,p(y.value.division),1)]),e("div",null,[t[56]||(t[56]=e("span",{class:"font-medium text-blue-800"},"Subcategory:",-1)),e("span",os,p(y.value.subcategory),1)]),e("div",null,[t[57]||(t[57]=e("span",{class:"font-medium text-blue-800"},"Budget Limit:",-1)),e("span",rs,p(x(y.value.budget_limit)),1)]),y.value.description?(r(),i("div",is,[t[58]||(t[58]=e("span",{class:"font-medium text-blue-800"},"Description:",-1)),e("p",us,p(y.value.description),1)])):b("",!0)])]),c.value?(r(),i("div",ds,[e("h4",ps,[t[59]||(t[59]=n(" Budget Information ")),e("span",ms," ("+p(c.value.budget_type==="PER_OUTLET"?"Per Outlet":"Global")+") ",1)]),c.value.budget_type==="GLOBAL"?(r(),i("div",cs,[e("div",null,[t[60]||(t[60]=e("p",{class:"text-green-600"},"Category Budget",-1)),e("p",gs,p(x(c.value.category_budget)),1)]),e("div",null,[t[61]||(t[61]=e("p",{class:"text-green-600"},"Used This Month",-1)),e("p",bs,p(x(c.value.category_used_amount)),1)]),e("div",null,[t[62]||(t[62]=e("p",{class:"text-green-600"},"Current Input",-1)),e("p",fs,p(x(c.value.current_amount)),1)]),e("div",null,[t[63]||(t[63]=e("p",{class:"text-green-600"},"Total After Input",-1)),e("p",{class:w(["font-semibold",c.value.exceeds_budget?"text-red-800":"text-green-800"])},p(x(c.value.total_with_current)),3)]),e("div",vs,[t[64]||(t[64]=e("p",{class:"text-green-600"},"Remaining Budget",-1)),e("p",xs,p(x(c.value.remaining_after_current)),1)])])):c.value.budget_type==="PER_OUTLET"?(r(),i("div",ys,[e("div",null,[t[65]||(t[65]=e("p",{class:"text-green-600"},"Outlet Budget",-1)),e("p",_s,p(x(c.value.outlet_budget)),1),e("p",ks,p(((d=c.value.outlet_info)==null?void 0:d.name)||"Unknown"),1)]),e("div",null,[t[66]||(t[66]=e("p",{class:"text-green-600"},"Used This Month",-1)),e("p",hs,p(x(c.value.outlet_used_amount)),1)]),e("div",null,[t[67]||(t[67]=e("p",{class:"text-green-600"},"Current Input",-1)),e("p",ws,p(x(c.value.current_amount)),1)]),e("div",null,[t[68]||(t[68]=e("p",{class:"text-green-600"},"Total After Input",-1)),e("p",{class:w(["font-semibold",c.value.exceeds_budget?"text-red-800":"text-green-800"])},p(x(c.value.total_with_current)),3)]),e("div",js,[t[69]||(t[69]=e("p",{class:"text-green-600"},"Remaining Budget",-1)),e("p",Ts,p(x(c.value.remaining_after_current)),1)])])):b("",!0),c.value.exceeds_budget?(r(),i("div",As,t[70]||(t[70]=[e("p",{class:"text-xs text-red-800 font-semibold"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),n(" Budget Exceeded! Total melebihi budget yang tersedia. ")],-1)]))):c.value.remaining_after_current<(c.value.budget_type==="PER_OUTLET"?c.value.outlet_budget:c.value.category_budget)*.1?(r(),i("div",Cs,[e("p",Ps,[t[71]||(t[71]=e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1)),n(" Budget Warning! Hanya tersisa "+p(x(c.value.remaining_after_current))+" setelah input ini. ",1)])])):b("",!0)])):b("",!0)])):b("",!0),s.mode==="kasbon"&&y.value?(r(),i("div",Ds,[e("div",Os,[e("div",Fs,[e("div",null,[t[72]||(t[72]=e("span",{class:"font-medium text-blue-800"},"Division:",-1)),e("span",Us,p(y.value.division),1)]),e("div",null,[t[73]||(t[73]=e("span",{class:"font-medium text-blue-800"},"Subcategory:",-1)),e("span",Ss,p(y.value.subcategory),1)]),y.value.description?(r(),i("div",Bs,[t[74]||(t[74]=e("span",{class:"font-medium text-blue-800"},"Description:",-1)),e("p",Ms,p(y.value.description),1)])):b("",!0)])])])):b("",!0)])):b("",!0),s.mode!=="pr_ops"&&s.mode!=="purchase_payment"&&s.mode!=="travel_application"&&s.mode!=="kasbon"?(r(),i("div",Es,[t[77]||(t[77]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Outlet",-1)),_(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>s.outlet_id=a),onChange:Fe,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[76]||(t[76]=e("option",{value:""},"Select Outlet",-1)),(r(!0),i(A,null,C(z.outlets,a=>(r(),i("option",{key:a.id_outlet,value:a.id_outlet},p(a.nama_outlet),9,qs))),128))],544),[[R,s.outlet_id]]),y.value&&y.value.budget_type==="PER_OUTLET"?(r(),i("p",Rs," Outlet selection is required for per-outlet budget categories ")):b("",!0)])):b("",!0),s.mode==="kasbon"?(r(),i("div",$s,[t[78]||(t[78]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Outlet",-1)),e("input",{type:"text",value:nt(),disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,8,Ks),t[79]||(t[79]=e("p",{class:"mt-1 text-xs text-gray-500"}," Outlet otomatis dipilih sesuai outlet user yang login ",-1))])):b("",!0),s.mode!=="pr_ops"&&s.mode!=="purchase_payment"&&s.mode!=="travel_application"&&s.mode!=="kasbon"?(r(),i("div",Ls,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Related Ticket",-1)),_(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>s.ticket_id=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[80]||(t[80]=e("option",{value:""},"Select Ticket",-1)),(r(!0),i(A,null,C(z.tickets,a=>{var o;return r(),i("option",{key:a.id,value:a.id},p(a.ticket_number)+" - "+p(a.title)+" ("+p((o=a.outlet)==null?void 0:o.nama_outlet)+") ",9,Gs)}),128))],512),[[R,s.ticket_id]])])):b("",!0),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Priority",-1)),_(e("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>s.priority=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},t[82]||(t[82]=[e("option",{value:"LOW"},"Low",-1),e("option",{value:"MEDIUM"},"Medium",-1),e("option",{value:"HIGH"},"High",-1),e("option",{value:"URGENT"},"Urgent",-1)]),512),[[R,s.priority]])]),s.mode!=="pr_ops"&&s.mode!=="purchase_payment"&&s.mode!=="travel_application"&&s.mode!=="kasbon"?(r(),i("div",Ns,[t[85]||(t[85]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Currency",-1)),_(e("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>s.currency=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},t[84]||(t[84]=[e("option",{value:"IDR"},"IDR",-1),e("option",{value:"USD"},"USD",-1)]),512),[[R,s.currency]])])):b("",!0)]),s.mode!=="kasbon"?(r(),i("div",Vs,[t[136]||(t[136]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Items *",-1)),s.mode==="pr_ops"||s.mode==="purchase_payment"?(r(),i("div",Is,[(r(!0),i(A,null,C(s.outlets,(a,o)=>(r(),i("div",{key:o,class:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50"},[e("div",Ws,[e("div",Hs,[t[87]||(t[87]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Outlet *",-1)),_(e("select",{"onUpdate:modelValue":u=>a.outlet_id=u,required:"",class:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[86]||(t[86]=e("option",{value:""},"Select Outlet",-1)),(r(!0),i(A,null,C(z.outlets,u=>(r(),i("option",{key:u.id_outlet,value:u.id_outlet},p(u.nama_outlet),9,Js))),128))],8,zs),[[R,a.outlet_id]])]),e("div",Ys,[e("span",Xs," Total: "+p(x(st(o))),1),e("button",{type:"button",onClick:u=>He(o),disabled:s.outlets.length===1,class:"text-red-500 hover:text-red-700 disabled:opacity-50",title:"Remove Outlet"},t[88]||(t[88]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,Qs)])]),e("div",Zs,[e("div",ea,[t[89]||(t[89]=e("label",{class:"text-sm font-medium text-gray-700"},"Attachments",-1)),e("span",ta,p(fe(a.outlet_id).length)+" file(s) ",1)]),e("div",sa,[e("input",{type:"file",ref_for:!0,ref:u=>{u&&(he.value[`outlet-${o}`]=u)},onChange:u=>ct(u,a.outlet_id),multiple:"",class:"hidden",id:`file-upload-outlet-${o}`,accept:"*/*",disabled:!a.outlet_id},null,40,aa),e("button",{type:"button",onClick:u=>{var f;return a.outlet_id?(f=he.value[`outlet-${o}`])==null?void 0:f.click():l.alert("Please select an outlet first")},disabled:!a.outlet_id,class:w(["inline-flex items-center px-3 py-1.5 text-xs font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-1",a.outlet_id?"text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"text-gray-500 bg-gray-300 cursor-not-allowed"])},t[90]||(t[90]=[e("i",{class:"fa fa-upload mr-1 text-xs"},null,-1),n(" Upload Files ")]),10,la),a.outlet_id?b("",!0):(r(),i("p",na," Select outlet first "))]),fe(a.outlet_id).length>0?(r(),i("div",oa,[(r(!0),i(A,null,C(fe(a.outlet_id),(u,f)=>(r(),i("div",{key:u.temp_id||f,class:"flex items-center justify-between p-1.5 bg-gray-50 border border-gray-200 rounded text-xs"},[e("div",ra,[e("i",{class:w([Me(u.file_name),"text-xs flex-shrink-0"])},null,2),e("span",ia,p(u.file_name),1),e("span",ua,"("+p(Ee(u.file_size))+")",1)]),e("button",{type:"button",onClick:S=>bt(a.outlet_id,f),class:"text-red-600 hover:text-red-800 ml-2 flex-shrink-0",title:"Remove"},t[91]||(t[91]=[e("i",{class:"fa fa-trash text-xs"},null,-1)]),8,da)]))),128))])):b("",!0)]),e("div",pa,[(r(!0),i(A,null,C(a.categories,(u,f)=>{var S;return r(),i("div",{key:f,class:"border border-green-200 rounded-lg p-4 bg-green-50"},[e("div",ma,[e("div",ca,[t[92]||(t[92]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Category *",-1)),e("div",ga,[e("div",{onClick:t[13]||(t[13]=k=>U.value=!U.value),class:w(["w-full md:w-64 px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer bg-white flex items-center justify-between",{"ring-2 ring-blue-500":U.value}])},[u.category_id?(r(),i("span",ba,p(ye(u.category_id)),1)):(r(),i("span",fa,"Select Category")),e("i",{class:w(["fa fa-chevron-down text-gray-400",{"transform rotate-180":U.value}])},null,2)],2),U.value?(r(),i("div",{key:0,class:"absolute z-10 w-full md:w-64 mt-1 bg-white border border-gray-300 rounded-md shadow-lg",onClick:t[16]||(t[16]=ee(()=>{},["stop"]))},[_(e("input",{"onUpdate:modelValue":t[14]||(t[14]=k=>K.value=k),type:"text",placeholder:"Cari category...",class:"w-full px-3 py-2 border-b border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:t[15]||(t[15]=ee(()=>{},["stop"]))},null,512),[[j,K.value]]),e("div",va,[ne.value.length===0?(r(),i("div",xa," Tidak ada category yang ditemukan ")):b("",!0),(r(!0),i(A,null,C(ne.value,k=>(r(),i("div",{key:k.id,onClick:g=>{u.category_id=k.id,Ue(o,f,a.outlet_id,k.id),U.value=!1,K.value=""},class:w(["px-3 py-2 hover:bg-blue-50 cursor-pointer text-sm",{"bg-blue-100":u.category_id==k.id}])}," ["+p(k.division)+"] "+p(k.name),11,ya))),128))])])):b("",!0)])]),e("div",_a,[e("span",ka," Total: "+p(x(Oe(o,f))),1),e("button",{type:"button",onClick:k=>Je(o,f),disabled:a.categories.length===1,class:"text-red-500 hover:text-red-700 disabled:opacity-50",title:"Remove Category"},t[93]||(t[93]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,ha)])]),Z(o,f)?(r(),i("div",wa,[e("div",ja,[e("div",Ta,[e("div",null,[t[94]||(t[94]=e("span",{class:"font-medium text-blue-800"},"Division:",-1)),e("span",Aa,p(Z(o,f).division),1)]),e("div",null,[t[95]||(t[95]=e("span",{class:"font-medium text-blue-800"},"Subcategory:",-1)),e("span",Ca,p(Z(o,f).subcategory),1)]),e("div",null,[t[96]||(t[96]=e("span",{class:"font-medium text-blue-800"},"Budget Limit:",-1)),e("span",Pa,p(x(Z(o,f).budget_limit)),1)]),Z(o,f).description?(r(),i("div",Da,[t[97]||(t[97]=e("span",{class:"font-medium text-blue-800"},"Description:",-1)),e("p",Oa,p(Z(o,f).description),1)])):b("",!0)])]),O(o,f)?(r(),i("div",Fa,[e("h4",Ua,[t[98]||(t[98]=n(" Budget Information ")),e("span",Sa," ("+p(O(o,f).budget_type==="PER_OUTLET"?"Per Outlet":"Global")+") ",1)]),O(o,f).budget_type==="GLOBAL"?(r(),i("div",Ba,[e("div",null,[t[99]||(t[99]=e("p",{class:"text-green-600"},"Category Budget",-1)),e("p",Ma,p(x(O(o,f).category_budget)),1)]),e("div",null,[t[100]||(t[100]=e("p",{class:"text-green-600"},"Used This Month",-1)),e("p",Ea,p(x(O(o,f).category_used_amount)),1)]),e("div",null,[t[101]||(t[101]=e("p",{class:"text-green-600"},"Current Input",-1)),e("p",qa,p(x(O(o,f).current_amount)),1)]),e("div",null,[t[102]||(t[102]=e("p",{class:"text-green-600"},"Total After Input",-1)),e("p",{class:w(["font-semibold",O(o,f).exceeds_budget?"text-red-800":"text-green-800"])},p(x(O(o,f).total_with_current)),3)])])):O(o,f).budget_type==="PER_OUTLET"?(r(),i("div",Ra,[e("div",null,[t[103]||(t[103]=e("p",{class:"text-green-600"},"Outlet Budget",-1)),e("p",$a,p(x(O(o,f).outlet_budget)),1),e("p",Ka,p(((S=O(o,f).outlet_info)==null?void 0:S.name)||"Unknown"),1)]),e("div",null,[t[104]||(t[104]=e("p",{class:"text-green-600"},"Used This Month",-1)),e("p",La,p(x(O(o,f).outlet_used_amount)),1)]),e("div",null,[t[105]||(t[105]=e("p",{class:"text-green-600"},"Current Input",-1)),e("p",Ga,p(x(O(o,f).current_amount)),1)]),e("div",null,[t[106]||(t[106]=e("p",{class:"text-green-600"},"Total After Input",-1)),e("p",{class:w(["font-semibold",O(o,f).exceeds_budget?"text-red-800":"text-green-800"])},p(x(O(o,f).total_with_current)),3)])])):b("",!0),O(o,f).exceeds_budget?(r(),i("div",Na,t[107]||(t[107]=[e("p",{class:"text-xs text-red-800 font-semibold"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),n(" Budget Exceeded! Total melebihi budget yang tersedia. ")],-1)]))):b("",!0)])):b("",!0)])):b("",!0),e("div",Va,[e("div",Ia,[e("table",Wa,[t[109]||(t[109]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Item Name"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Unit"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Unit Price"),e("th",{class:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase"},"Subtotal"),e("th",{class:"px-3 py-2"})])],-1)),e("tbody",Ha,[(r(!0),i(A,null,C(u.items,(k,g)=>(r(),i("tr",{key:g},[e("td",za,[_(e("input",{type:"text","onUpdate:modelValue":v=>k.item_name=v,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",placeholder:"Enter item name..."},null,8,Ja),[[j,k.item_name]])]),e("td",Ya,[_(e("input",{type:"number",min:"0.01",step:"0.01","onUpdate:modelValue":v=>k.qty=v,onInput:v=>De(o,f,g),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,40,Xa),[[j,k.qty,void 0,{number:!0}]])]),e("td",Qa,[_(e("input",{type:"text","onUpdate:modelValue":v=>k.unit=v,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",placeholder:"pcs, kg, etc"},null,8,Za),[[j,k.unit]])]),e("td",el,[_(e("input",{type:"number",min:"0",step:"0.01","onUpdate:modelValue":v=>k.unit_price=v,onInput:v=>De(o,f,g),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,40,tl),[[j,k.unit_price,void 0,{number:!0}]])]),e("td",sl,p(x(k.subtotal)),1),e("td",al,[e("button",{type:"button",onClick:v=>Xe(o,f,g),class:"text-red-500 hover:text-red-700",disabled:u.items.length===1},t[108]||(t[108]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,ll)])]))),128))])])]),e("div",nl,[e("button",{type:"button",onClick:k=>Ye(o,f),class:"text-blue-500 hover:text-blue-700"},t[110]||(t[110]=[e("i",{class:"fa fa-plus mr-1"},null,-1),n(" Add Item ")]),8,ol)])])])}),128)),e("div",rl,[e("button",{type:"button",onClick:u=>ze(o),class:"text-green-500 hover:text-green-700"},t[111]||(t[111]=[e("i",{class:"fa fa-plus mr-1"},null,-1),n(" Add Category ")]),8,il)])])]))),128)),e("div",null,[e("button",{type:"button",onClick:We,class:"text-blue-500 hover:text-blue-700 font-semibold"},t[112]||(t[112]=[e("i",{class:"fa fa-plus mr-1"},null,-1),n(" Add Outlet ")]))]),e("div",ul,[e("div",dl,[t[113]||(t[113]=e("span",{class:"text-lg font-bold text-gray-900"},"Grand Total:",-1)),e("span",pl,p(x(W.value)),1)])])])):s.mode==="travel_application"?(r(),i("div",ml,[e("div",cl,[e("div",{class:"flex items-center justify-between mb-4"},[t[115]||(t[115]=e("h3",{class:"text-lg font-semibold text-purple-800"},[e("i",{class:"fa fa-map-marker-alt mr-2"}),n(" Outlet Tujuan Perjalanan Dinas ")],-1)),e("button",{type:"button",onClick:Qe,class:"text-purple-600 hover:text-purple-700 font-semibold"},t[114]||(t[114]=[e("i",{class:"fa fa-plus mr-1"},null,-1),n(" Add Outlet ")]))]),e("div",gl,[(r(!0),i(A,null,C(s.travel_outlets,(a,o)=>(r(),i("div",{key:o,class:"flex items-center gap-3"},[_(e("select",{"onUpdate:modelValue":u=>a.outlet_id=u,required:"",onChange:u=>ae(a.outlet_id),class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},[t[116]||(t[116]=e("option",{value:""},"Select Outlet Tujuan",-1)),(r(!0),i(A,null,C(z.outlets,u=>(r(),i("option",{key:u.id_outlet,value:u.id_outlet},p(u.nama_outlet),9,fl))),128))],40,bl),[[R,a.outlet_id]]),e("button",{type:"button",onClick:u=>Ze(o),disabled:s.travel_outlets.length===1,class:"text-red-500 hover:text-red-700 disabled:opacity-50",title:"Remove Outlet"},t[117]||(t[117]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,vl)]))),128))])]),e("div",xl,[e("div",{class:"flex items-center justify-between mb-4"},[t[119]||(t[119]=e("h3",{class:"text-lg font-semibold text-purple-800"},[e("i",{class:"fa fa-list mr-2"}),n(" Items Perjalanan ")],-1)),e("button",{type:"button",onClick:et,class:"text-purple-600 hover:text-purple-700 font-semibold"},t[118]||(t[118]=[e("i",{class:"fa fa-plus mr-1"},null,-1),n(" Add Item ")]))]),e("div",yl,[(r(!0),i(A,null,C(s.travel_items,(a,o)=>(r(),i("div",{key:o,class:"border border-purple-200 rounded-lg p-4 bg-white"},[e("div",_l,[t[121]||(t[121]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe Item *",-1)),_(e("select",{"onUpdate:modelValue":u=>a.item_type=u,required:"",class:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},t[120]||(t[120]=[e("option",{value:"transport"},"Transport",-1),e("option",{value:"allowance"},"Allowance",-1),e("option",{value:"others"},"Others",-1)]),8,kl),[[R,a.item_type]])]),a.item_type==="allowance"?(r(),i("div",hl,[e("div",null,[t[122]||(t[122]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Penerima Allowance *",-1)),_(e("input",{type:"text","onUpdate:modelValue":u=>a.allowance_recipient_name=u,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nama penerima allowance..."},null,8,wl),[[j,a.allowance_recipient_name]])]),e("div",null,[t[123]||(t[123]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"No. Rekening *",-1)),_(e("input",{type:"text","onUpdate:modelValue":u=>a.allowance_account_number=u,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nomor rekening..."},null,8,jl),[[j,a.allowance_account_number]])])])):b("",!0),a.item_type==="others"?(r(),i("div",Tl,[t[124]||(t[124]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notes Others *",-1)),_(e("textarea",{"onUpdate:modelValue":u=>a.others_notes=u,required:"",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Masukkan notes untuk item others..."},null,8,Al),[[j,a.others_notes]])])):b("",!0),e("div",Cl,[e("div",null,[t[125]||(t[125]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Qty *",-1)),_(e("input",{type:"number",min:"0.01",step:"0.01","onUpdate:modelValue":u=>a.qty=u,onInput:u=>Pe(o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},null,40,Pl),[[j,a.qty,void 0,{number:!0}]])]),e("div",null,[t[126]||(t[126]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unit *",-1)),_(e("input",{type:"text","onUpdate:modelValue":u=>a.unit=u,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"pcs, hari, etc"},null,8,Dl),[[j,a.unit]])]),e("div",null,[t[127]||(t[127]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Unit Price *",-1)),_(e("input",{type:"number",min:"0",step:"0.01","onUpdate:modelValue":u=>a.unit_price=u,onInput:u=>Pe(o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"},null,40,Ol),[[j,a.unit_price,void 0,{number:!0}]])]),e("div",null,[t[128]||(t[128]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Subtotal",-1)),e("div",Fl,p(x(a.subtotal)),1)])]),e("div",Ul,[e("button",{type:"button",onClick:u=>tt(o),disabled:s.travel_items.length===1,class:"text-red-500 hover:text-red-700 disabled:opacity-50",title:"Remove Item"},t[129]||(t[129]=[e("i",{class:"fa-solid fa-trash mr-1"},null,-1),n(" Remove Item ")]),8,Sl)])]))),128))]),e("div",Bl,[e("div",Ml,[t[130]||(t[130]=e("span",{class:"text-lg font-bold text-gray-900"},"Total:",-1)),e("span",El,p(x(W.value)),1)])])])])):(r(),i("div",ql,[e("div",Rl,[e("table",$l,[t[134]||(t[134]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Item Name"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Unit"),e("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Unit Price"),e("th",{class:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase"},"Subtotal"),e("th",{class:"px-3 py-2"})])],-1)),e("tbody",Kl,[(r(!0),i(A,null,C(s.items,(a,o)=>(r(),i("tr",{key:o},[e("td",Ll,[_(e("input",{type:"text","onUpdate:modelValue":u=>a.item_name=u,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",placeholder:"Enter item name..."},null,8,Gl),[[j,a.item_name]])]),e("td",Nl,[_(e("input",{type:"number",min:"0.01",step:"0.01","onUpdate:modelValue":u=>a.qty=u,onInput:u=>Ce(o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,40,Vl),[[j,a.qty,void 0,{number:!0}]])]),e("td",Il,[_(e("input",{type:"text","onUpdate:modelValue":u=>a.unit=u,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:"",placeholder:"pcs, kg, etc"},null,8,Wl),[[j,a.unit]])]),e("td",Hl,[_(e("input",{type:"number",min:"0",step:"0.01","onUpdate:modelValue":u=>a.unit_price=u,onInput:u=>Ce(o),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:""},null,40,zl),[[j,a.unit_price,void 0,{number:!0}]])]),e("td",Jl,p(x(a.subtotal)),1),e("td",Yl,[e("button",{type:"button",onClick:u=>Ie(o),class:"text-red-500 hover:text-red-700",disabled:s.items.length===1},t[131]||(t[131]=[e("i",{class:"fa-solid fa-trash"},null,-1)]),8,Xl)])]))),128))]),e("tfoot",null,[e("tr",null,[t[132]||(t[132]=e("td",{colspan:"4",class:"px-3 py-2 text-right font-bold"},"Total Amount:",-1)),e("td",Ql,p(x(W.value)),1),t[133]||(t[133]=e("td",null,null,-1))])])])]),e("div",{class:"mt-2"},[e("button",{type:"button",onClick:Ve,class:"text-blue-500 hover:text-blue-700"},t[135]||(t[135]=[e("i",{class:"fa fa-plus mr-1"},null,-1),n(" Add Item ")]))])]))])):b("",!0),e("div",Zl,[e("label",en,p(s.mode==="travel_application"?"Agenda Kerja *":"Description"),1),s.mode==="travel_application"?(r(),i("div",tn,t[137]||(t[137]=[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0"},[e("i",{class:"fa fa-info-circle text-yellow-600 text-lg mt-0.5"})]),e("div",{class:"ml-3"},[e("p",{class:"text-sm font-medium text-yellow-800"},[e("strong",null,"Catatan Penting:")]),e("p",{class:"text-sm text-yellow-700 mt-1"},[n(" Wajib mencantumkan "),e("strong",null,"tanggal keberangkatan"),n(" dan "),e("strong",null,"tanggal pulang"),n(" dalam agenda kerja. ")])])],-1)]))):b("",!0),s.mode==="travel_application"?_((r(),i("textarea",{key:1,"onUpdate:modelValue":t[17]||(t[17]=a=>s.travel_agenda=a),rows:"8",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan agenda kerja perjalanan dinas (bisa sangat panjang)..."},null,512)),[[j,s.travel_agenda]]):_((r(),i("textarea",{key:2,"onUpdate:modelValue":t[18]||(t[18]=a=>s.description=a),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter description..."},null,512)),[[j,s.description]]),s.mode==="travel_application"?(r(),i("p",sn," Jelaskan secara detail agenda kerja yang akan dilakukan selama perjalanan dinas ")):b("",!0)]),s.mode==="travel_application"?(r(),i("div",an,[t[138]||(t[138]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notes",-1)),_(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=a=>s.travel_notes=a),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan catatan tambahan jika diperlukan..."},null,512),[[j,s.travel_notes]])])):b("",!0),s.mode==="kasbon"?(r(),i("div",ln,[e("div",nn,[t[141]||(t[141]=e("h4",{class:"text-sm font-semibold text-blue-800 mb-2"},[e("i",{class:"fa fa-calendar mr-2"}),n(" Periode Kasbon ")],-1)),e("p",on,[t[139]||(t[139]=e("strong",null,"Periode Aktif:",-1)),n(" "+p(be()),1)]),t[142]||(t[142]=e("p",{class:"text-xs text-blue-600 mt-1"},[e("i",{class:"fa fa-info-circle mr-1"}),n(" Periode kasbon: Tanggal 20 bulan berjalan hingga tanggal 10 bulan selanjutnya ")],-1)),N.value&&N.value!=1?(r(),i("p",rn,t[140]||(t[140]=[e("i",{class:"fa fa-exclamation-triangle mr-1"},null,-1),n(" Per periode hanya diijinkan 1 user saja per outlet. Jika sudah ada user lain yang mengajukan kasbon di periode ini, pengajuan akan ditolak. ")]))):b("",!0)]),e("div",null,[t[144]||(t[144]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nilai Kasbon *",-1)),_(e("select",{"onUpdate:modelValue":t[20]||(t[20]=a=>s.kasbon_amount=a),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[143]||(t[143]=e("option",{value:0},"Pilih nilai kasbon",-1)),(r(),i(A,null,C(je,a=>e("option",{key:a,value:a},p(x(a)),9,un)),64))],512),[[R,s.kasbon_amount,void 0,{number:!0}]]),e("p",dn," Total: "+p(x(s.kasbon_amount||0)),1)]),e("div",null,[t[146]||(t[146]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Termin *",-1)),_(e("select",{"onUpdate:modelValue":t[21]||(t[21]=a=>s.kasbon_termin=a),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[145]||(t[145]=e("option",{value:0},"Pilih termin",-1)),(r(),i(A,null,C(Te,a=>e("option",{key:a,value:a},p(a)+"x Termin ",9,pn)),64))],512),[[R,s.kasbon_termin,void 0,{number:!0}]])]),e("div",null,[t[147]||(t[147]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason / Alasan Kasbon *",-1)),_(e("textarea",{"onUpdate:modelValue":t[22]||(t[22]=a=>s.kasbon_reason=a),rows:"6",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan alasan atau tujuan penggunaan kasbon..."},null,512),[[j,s.kasbon_reason]]),t[148]||(t[148]=e("p",{class:"mt-1 text-xs text-gray-500"}," Jelaskan secara detail alasan dan tujuan penggunaan kasbon, termasuk rencana pelunasan ",-1))]),t[149]||(t[149]=e("div",{class:"p-3 bg-blue-50 border border-blue-300 rounded-lg"},[e("p",{class:"text-sm font-medium text-blue-800"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Untuk pengajuan kasbon/uang muka, pastikan informasi lengkap termasuk tujuan penggunaan dan rencana pelunasan ")])],-1))])):b("",!0),s.mode!=="pr_ops"&&s.mode!=="purchase_payment"?(r(),i("div",mn,[t[155]||(t[155]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Attachments",-1)),e("div",null,[e("div",cn,[e("div",gn,[e("input",{ref:"fileInput",type:"file",multiple:"",onChange:mt,class:"hidden",accept:"*/*"},null,544),e("button",{type:"button",onClick:t[23]||(t[23]=a=>{var o;return(o=l.$refs.fileInput)==null?void 0:o.click()}),class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},t[150]||(t[150]=[e("i",{class:"fa fa-upload mr-2"},null,-1),n(" Upload Files ")])),t[151]||(t[151]=e("p",{class:"mt-2 text-sm text-gray-500"}," Upload any file type (Max 10MB per file) ",-1))])]),E.value.length>0?(r(),i("div",bn,[t[154]||(t[154]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Uploaded Files:",-1)),e("div",fn,[(r(!0),i(A,null,C(E.value,(a,o)=>(r(),i("div",{key:o,class:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-md"},[e("div",vn,[e("i",{class:w([Me(a.file_name),"text-lg"])},null,2),e("div",null,[e("p",xn,p(a.file_name),1),e("p",yn,p(Ee(a.file_size)),1)])]),e("div",_n,[e("button",{type:"button",onClick:u=>ft(a),class:"text-blue-600 hover:text-blue-800",title:"Download"},t[152]||(t[152]=[e("i",{class:"fa fa-download"},null,-1)]),8,kn),e("button",{type:"button",onClick:u=>gt(o),class:"text-red-600 hover:text-red-800",title:"Remove"},t[153]||(t[153]=[e("i",{class:"fa fa-trash"},null,-1)]),8,hn)])]))),128))])])):b("",!0)])])):b("",!0),e("div",wn,[t[170]||(t[170]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Approval Flow",-1)),t[171]||(t[171]=e("p",{class:"text-sm text-gray-600 mb-4"},"Add approvers in order from lowest to highest level. The first approver will be the lowest level, and the last approver will be the highest level.",-1)),s.mode==="kasbon"?(r(),i("div",jn,t[156]||(t[156]=[e("p",{class:"text-sm font-medium text-yellow-800 mb-2"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Wajib sertakan GM Finance sebagai Approver ")],-1),e("p",{class:"text-xs text-yellow-700"}," Untuk pengajuan kasbon, pastikan GM Finance sudah ditambahkan dalam daftar approvers. ",-1)]))):b("",!0),s.mode==="purchase_payment"?(r(),i("div",Tn,t[157]||(t[157]=[e("p",{class:"text-sm font-medium text-yellow-800 mb-2"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Untuk Payment Application wajib sertakan GM Finance sebagai Approver ")],-1)]))):b("",!0),s.mode==="travel_application"?(r(),i("div",An,t[158]||(t[158]=[e("p",{class:"text-sm font-medium text-yellow-800 mb-2"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Untuk Travel Application wajib menyertakan GA Supervisor sebagai Approver pertama ")],-1),e("p",{class:"text-sm font-medium text-yellow-800 mb-2"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Wajib sertakan GM Finance sebagai Approver ")],-1),e("p",{class:"text-xs text-yellow-700 ml-6"}," Contoh urutan approver: GA Supervisor â†’ GM HR â†’ GM Finance â†’ BOD ",-1)]))):b("",!0),s.mode==="kasbon"?(r(),i("div",Cn,t[159]||(t[159]=[e("p",{class:"text-sm font-medium text-blue-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Untuk Kasbon disarankan menyertakan GM Finance sebagai Approver ")],-1)]))):b("",!0),e("div",Pn,[e("div",Dn,[_(e("input",{"onUpdate:modelValue":t[24]||(t[24]=a=>J.value=a),type:"text",placeholder:"Search users by name, email, or jabatan...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onFocus:t[25]||(t[25]=a=>J.value.length>=2&&Se(J.value))},null,544),[[j,J.value]]),oe.value&&te.value.length>0?(r(),i("div",On,[(r(!0),i(A,null,C(te.value,a=>(r(),i("div",{key:a.id,onClick:o=>ut(a),class:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0"},[e("div",Un,p(a.name),1),e("div",Sn,p(a.email),1),a.jabatan?(r(),i("div",Bn,p(a.jabatan),1)):b("",!0)],8,Fn))),128))])):b("",!0)])]),s.approvers&&s.approvers.length>0?(r(),i("div",Mn,[t[169]||(t[169]=e("h4",{class:"font-medium text-gray-700"},"Approval Order (Lowest to Highest):",-1)),s.mode==="kasbon"&&!Q.value||s.mode==="purchase_payment"&&!Q.value||s.mode==="travel_application"&&(!Q.value||!Ae.value)?(r(),i("div",En,[s.mode==="kasbon"&&!Q.value?(r(),i("p",qn,t[160]||(t[160]=[e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),n(" GM Finance wajib disertakan sebagai Approver untuk Kasbon ")]))):b("",!0),s.mode==="purchase_payment"&&!Q.value?(r(),i("p",Rn,t[161]||(t[161]=[e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),n(" GM Finance wajib disertakan sebagai Approver untuk Payment Application ")]))):b("",!0),s.mode==="travel_application"&&!Q.value?(r(),i("p",$n,t[162]||(t[162]=[e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),n(" GM Finance wajib disertakan sebagai Approver untuk Travel Application ")]))):b("",!0),s.mode==="travel_application"&&!Ae.value?(r(),i("p",Kn,t[163]||(t[163]=[e("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),n(" GA Supervisor harus menjadi approver pertama untuk Travel Application ")]))):b("",!0)])):b("",!0),(r(!0),i(A,null,C(s.approvers,(a,o)=>(r(),i("div",{key:a.id||o,class:w(["flex items-center justify-between p-3 rounded-md",s.mode==="travel_application"&&o===0&&G(a)||(s.mode==="kasbon"||s.mode==="purchase_payment"||s.mode==="travel_application")&&ce(a)?"bg-green-50 border-2 border-green-300":"bg-gray-50 border border-gray-200"])},[e("div",Ln,[e("div",Gn,[o>0?(r(),i("button",{key:0,onClick:u=>Be(o,o-1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Move Up"},t[164]||(t[164]=[e("i",{class:"fa fa-arrow-up"},null,-1)]),8,Nn)):b("",!0),o<s.approvers.length-1?(r(),i("button",{key:1,onClick:u=>Be(o,o+1),class:"p-1 text-gray-500 hover:text-gray-700",title:"Move Down"},t[165]||(t[165]=[e("i",{class:"fa fa-arrow-down"},null,-1)]),8,Vn)):b("",!0)]),e("div",In,[e("span",Wn," Level "+p(o+1),1),e("div",null,[e("div",Hn,p(a.name),1),e("div",zn,p(a.email),1),a.jabatan?(r(),i("div",Jn,p(a.jabatan),1)):b("",!0)]),s.mode==="travel_application"&&o===0&&G(a)?(r(),i("span",Yn,t[166]||(t[166]=[e("i",{class:"fa fa-check-circle mr-1"},null,-1),n(" GA Supervisor ")]))):b("",!0),(s.mode==="kasbon"||s.mode==="purchase_payment"||s.mode==="travel_application")&&ce(a)?(r(),i("span",Xn,t[167]||(t[167]=[e("i",{class:"fa fa-check-circle mr-1"},null,-1),n(" GM Finance ")]))):b("",!0)])]),e("button",{onClick:u=>dt(o),disabled:s.mode==="travel_application"&&o===0&&G(a),class:w(["p-1",s.mode==="travel_application"&&o===0&&G(a)?"text-gray-400 cursor-not-allowed":"text-red-500 hover:text-red-700"]),title:s.mode==="travel_application"&&o===0&&G(a)?"GA Supervisor tidak dapat dihapus":"Remove Approver"},t[168]||(t[168]=[e("i",{class:"fa fa-times"},null,-1)]),10,Qn)],2))),128))])):b("",!0)]),c.value?(r(),i("div",Zn,[e("div",eo,[e("h3",to,[n(p(c.value.budget_type==="PER_OUTLET"?"Outlet Budget Information":"Category Budget Information")+" ",1),e("span",so," ("+p(c.value.budget_type==="PER_OUTLET"?"Per Outlet":"Global")+") ",1)]),c.value.budget_type==="GLOBAL"?(r(),i("div",ao,[e("div",null,[t[172]||(t[172]=e("p",{class:"text-sm text-blue-600"},"Category Budget",-1)),e("p",lo,p(x(c.value.category_budget)),1)]),e("div",null,[t[173]||(t[173]=e("p",{class:"text-sm text-blue-600"},"Used This Month",-1)),e("p",no,p(x(c.value.category_used_amount)),1)]),e("div",null,[t[174]||(t[174]=e("p",{class:"text-sm text-blue-600"},"Current Input",-1)),e("p",oo,p(x(c.value.current_amount)),1)]),e("div",null,[t[175]||(t[175]=e("p",{class:"text-sm text-blue-600"},"Total After Input",-1)),e("p",{class:w(["text-lg font-semibold",c.value.exceeds_budget?"text-red-800":"text-blue-800"])},p(x(c.value.total_with_current)),3)])])):c.value.budget_type==="PER_OUTLET"?(r(),i("div",ro,[e("div",null,[t[176]||(t[176]=e("p",{class:"text-sm text-blue-600"},"Outlet Budget",-1)),e("p",io,p(x(c.value.outlet_budget)),1),e("p",uo,p(((m=c.value.outlet_info)==null?void 0:m.name)||"Unknown Outlet"),1)]),e("div",null,[t[177]||(t[177]=e("p",{class:"text-sm text-blue-600"},"Used This Month",-1)),e("p",po,p(x(c.value.outlet_used_amount)),1)]),e("div",null,[t[178]||(t[178]=e("p",{class:"text-sm text-blue-600"},"Current Input",-1)),e("p",mo,p(x(c.value.current_amount)),1)]),e("div",null,[t[179]||(t[179]=e("p",{class:"text-sm text-blue-600"},"Total After Input",-1)),e("p",{class:w(["text-lg font-semibold",c.value.exceeds_budget?"text-red-800":"text-blue-800"])},p(x(c.value.total_with_current)),3)])])):b("",!0),e("div",co,[e("div",null,[t[180]||(t[180]=e("p",{class:"text-sm text-blue-600"},"Remaining Before Input",-1)),e("p",go,p(x(c.value.budget_type==="PER_OUTLET"?c.value.outlet_remaining_amount:c.value.category_remaining_amount)),1)]),e("div",null,[t[181]||(t[181]=e("p",{class:"text-sm text-blue-600"},"Remaining After Input",-1)),e("p",{class:w(["text-lg font-semibold",c.value.remaining_after_current<0?"text-red-800":"text-blue-800"])},p(x(c.value.remaining_after_current)),3)])]),c.value.exceeds_budget?(r(),i("div",bo,[t[182]||(t[182]=e("i",{class:"fa fa-exclamation-triangle mr-2"},null,-1)),t[183]||(t[183]=e("strong",null,"Budget Exceeded!",-1)),c.value.budget_type==="PER_OUTLET"?(r(),i("span",fo," Total amount ("+p(x(c.value.total_with_current))+") exceeds outlet budget limit ("+p(x(c.value.outlet_budget))+") for this month. ",1)):(r(),i("span",vo," Total amount ("+p(x(c.value.total_with_current))+") exceeds category budget limit ("+p(x(c.value.category_budget))+") for this month. ",1)),t[184]||(t[184]=n(" You cannot save this payment. "))])):c.value.remaining_after_current<(c.value.budget_type==="PER_OUTLET"?c.value.outlet_budget:c.value.category_budget)*.1?(r(),i("div",xo,[t[185]||(t[185]=e("i",{class:"fa fa-exclamation-circle mr-2"},null,-1)),t[186]||(t[186]=e("strong",null,"Budget Warning!",-1)),n(" Only "+p(x(c.value.remaining_after_current))+" remaining after this input. ",1)])):b("",!0)])])):b("",!0),!c.value&&y.value&&y.value.budget_type==="PER_OUTLET"&&!s.outlet_id?(r(),i("div",yo,t[187]||(t[187]=[e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[e("h3",{class:"text-lg font-medium text-yellow-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Outlet Selection Required ")]),e("p",{class:"text-yellow-700"}," This category uses per-outlet budget allocation. Please select an outlet above to view the budget information. ")],-1)]))):b("",!0),e("div",_o,[Re($e(Ke),{href:"/purchase-requisitions",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:xe(()=>t[188]||(t[188]=[n(" Cancel ")])),_:1}),e("button",{type:"submit",disabled:h.value||pe.value||y.value&&y.value.budget_type==="PER_OUTLET"&&!s.outlet_id,class:w(["px-4 py-2 text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",pe.value?"bg-red-600 hover:bg-red-700":y.value&&y.value.budget_type==="PER_OUTLET"&&!s.outlet_id?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"])},[h.value?(r(),i("span",ho,"Updating...")):pe.value?(r(),i("span",wo,"Budget Exceeded - Cannot Save")):y.value&&y.value.budget_type==="PER_OUTLET"&&!s.outlet_id?(r(),i("span",jo,"Select Outlet First")):(r(),i("span",To,"Update Payment"))],10,ko)])],32))])]),Y.value?(r(),i("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:t[33]||(t[33]=ee(a=>Y.value=!1,["self"]))},[e("div",Ao,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t[26]||(t[26]=a=>Y.value=!1)}),e("div",Co,[e("div",Po,[t[190]||(t[190]=e("h3",{class:"text-lg font-semibold text-white"},[e("i",{class:"fa fa-graduation-cap mr-2"}),n(" Tutorial: Panduan Purchase Requisition ")],-1)),e("button",{onClick:t[27]||(t[27]=a=>Y.value=!1),class:"text-white hover:text-gray-200 focus:outline-none"},t[189]||(t[189]=[e("i",{class:"fa fa-times text-xl"},null,-1)]))]),e("div",Do,[e("div",Oo,[e("button",{onClick:t[28]||(t[28]=a=>B.value="pr_ops"),class:w(["px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors",B.value==="pr_ops"?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},t[191]||(t[191]=[e("i",{class:"fa fa-shopping-cart mr-2"},null,-1),n(" Purchase Requisition ")]),2),e("button",{onClick:t[29]||(t[29]=a=>B.value="purchase_payment"),class:w(["px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors",B.value==="purchase_payment"?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},t[192]||(t[192]=[e("i",{class:"fa fa-money-bill-wave mr-2"},null,-1),n(" Payment Application ")]),2),e("button",{onClick:t[30]||(t[30]=a=>B.value="travel_application"),class:w(["px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors",B.value==="travel_application"?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},t[193]||(t[193]=[e("i",{class:"fa fa-plane mr-2"},null,-1),n(" Travel Application ")]),2),e("button",{onClick:t[31]||(t[31]=a=>B.value="kasbon"),class:w(["px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors",B.value==="kasbon"?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},t[194]||(t[194]=[e("i",{class:"fa fa-wallet mr-2"},null,-1),n(" Kasbon ")]),2)])]),e("div",Fo,[t[199]||(t[199]=e("div",{class:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded mb-6"},[e("h4",{class:"font-semibold text-blue-800 mb-3"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Panduan Pemilihan Mode: ")]),e("ul",{class:"text-sm text-blue-700 space-y-2 list-none"},[e("li",{class:"flex items-start"},[e("span",{class:"font-semibold text-blue-800 mr-2"},"â€¢"),e("div",null,[e("strong",null,"Purchase Requisition:"),n(" Gunakan untuk pengajuan pembelian barang/jasa yang memerlukan proses pembelian melalui Purchase Order (PO) ")])]),e("li",{class:"flex items-start"},[e("span",{class:"font-semibold text-blue-800 mr-2"},"â€¢"),e("div",null,[e("strong",null,"Payment Application:"),n(" Gunakan untuk pengajuan Reimbursement dan pembayaran lainnya yang tidak memerlukan proses pembelian ")])]),e("li",{class:"flex items-start"},[e("span",{class:"font-semibold text-blue-800 mr-2"},"â€¢"),e("div",null,[e("strong",null,"Travel Application:"),n(" Gunakan untuk pengajuan perjalanan dinas dengan approval khusus GA Supervisor sebagai approver pertama ")])]),e("li",{class:"flex items-start"},[e("span",{class:"font-semibold text-blue-800 mr-2"},"â€¢"),e("div",null,[e("strong",null,"Kasbon:"),n(" Gunakan untuk pengajuan kasbon/uang muka ")])])])],-1)),B.value==="pr_ops"?(r(),i("div",Uo,t[195]||(t[195]=[e("div",{class:"bg-green-50 border-l-4 border-green-500 p-4 rounded"},[e("h4",{class:"font-semibold text-green-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Apa itu PR Ops? ")]),e("p",{class:"text-sm text-green-700"},[n(" Purchase Requisition (PR Ops) memungkinkan Anda membuat satu PR untuk "),e("strong",null,"multiple outlet"),n(", dengan "),e("strong",null,"multiple category per outlet"),n(", dan "),e("strong",null,"multiple items per category"),n(". Fitur ini sangat berguna untuk pembelian yang melibatkan beberapa outlet sekaligus. ")]),e("p",{class:"text-sm text-green-700 mt-2"},[e("strong",null,"Catatan:"),n(" Mode "),e("strong",null,"Purchase Requisition"),n(" dan "),e("strong",null,"Payment Application"),n(" menggunakan struktur input yang sama (multi-outlet, multi-category, multi-item). ")])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 1 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Informasi Dasar"),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Title:"),n(" Masukkan judul PR (wajib)")]),e("li",null,[e("strong",null,"Division:"),n(" Pilih divisi yang bertanggung jawab (wajib)")]),e("li",null,[e("strong",null,"Priority:"),n(" Pilih prioritas (Low, Medium, High, Urgent)")]),e("li",null,[e("strong",null,"Description:"),n(" Tambahkan deskripsi jika diperlukan")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 2 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Outlet"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Klik tombol "),e("strong",null,'"Add Outlet"'),n(" untuk menambahkan outlet pertama. Untuk menambah outlet tambahan, klik lagi tombol "),e("strong",null,'"Add Outlet"'),n(". ")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Anda bisa membuat PR untuk beberapa outlet sekaligus dalam satu form. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 3 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Pilih Outlet"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Di setiap card outlet (warna biru), pilih outlet dari dropdown "),e("strong",null,'"Outlet *"'),n(". ")]),e("div",{class:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded"},[e("p",{class:"text-xs text-amber-800"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),e("strong",null,"Penting:"),n(" Pilih outlet terlebih dahulu sebelum menambah category atau upload attachment. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 4 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Upload Attachment (Opsional)"),e("p",{class:"text-sm text-gray-700 mb-2"}," Setelah memilih outlet, Anda bisa upload file attachment untuk outlet tersebut: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[n("Klik tombol "),e("strong",null,'"Upload Files"'),n(" di section Attachments")]),e("li",null,"Pilih file yang ingin di-upload (maksimal 10MB per file)"),e("li",null,"File akan terasosiasi dengan outlet yang dipilih")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 5 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Category"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Di dalam setiap outlet, klik tombol "),e("strong",null,'"Add Category"'),n(" untuk menambahkan category pertama. Untuk menambah category tambahan, klik lagi tombol "),e("strong",null,'"Add Category"'),n(". ")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Satu outlet bisa memiliki beberapa category berbeda. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 6 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Pilih Category"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Di setiap card category (warna hijau), pilih category dari dropdown "),e("strong",null,'"Category *"'),n(". ")]),e("div",{class:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded"},[e("p",{class:"text-xs text-amber-800"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),e("strong",null,"Penting:"),n(" Category harus dipilih sebelum menambah items. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 7 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Items"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Di dalam setiap category, isi item pertama yang sudah tersedia. Untuk menambah item tambahan, klik tombol "),e("strong",null,'"Add Item"'),n(" di bawah tabel items. ")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200"},[e("p",{class:"text-xs text-gray-600 mb-2"},[e("strong",null,"Isi informasi item:")]),e("ul",{class:"text-xs text-gray-600 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Item Name:"),n(" Nama barang/jasa")]),e("li",null,[e("strong",null,"Qty:"),n(" Jumlah/kuantitas")]),e("li",null,[e("strong",null,"Unit:"),n(" Satuan (pcs, kg, liter, dll)")]),e("li",null,[e("strong",null,"Unit Price:"),n(" Harga per satuan")]),e("li",null,[e("strong",null,"Subtotal:"),n(" Akan dihitung otomatis (Qty Ã— Unit Price)")])])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 8 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Approvers"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Di section "),e("strong",null,'"Approval Flow"'),n(", tambahkan approvers dengan urutan dari level terendah ke tertinggi: ")]),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Ketik nama, email, atau jabatan di search box"),e("li",null,"Pilih approver dari hasil pencarian"),e("li",null,"Urutkan dengan tombol panah (â†‘ â†“)"),e("li",null,"Minimal harus ada 1 approver")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"}," 9 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Review dan Submit"),e("p",{class:"text-sm text-gray-700 mb-2"}," Sebelum submit, pastikan: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Semua outlet sudah dipilih"),e("li",null,"Semua category sudah dipilih"),e("li",null,"Semua items sudah lengkap (name, qty, unit, price)"),e("li",null,"Approvers sudah ditambahkan"),e("li",null,"Grand Total sudah sesuai")]),e("div",{class:"bg-green-50 border-l-4 border-green-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-green-800"},[e("i",{class:"fa fa-check-circle mr-1"}),e("strong",null,"Grand Total"),n(" akan menampilkan total keseluruhan dari semua outlet â†’ category â†’ items. ")])])])])],-1),e("div",{class:"bg-gray-50 border border-gray-200 rounded-lg p-4"},[e("h4",{class:"font-semibold text-gray-900 mb-3"},[e("i",{class:"fa fa-sitemap mr-2"}),n(" Struktur Hierarki PR Ops: ")]),e("div",{class:"text-sm text-gray-700 space-y-2"},[e("div",{class:"ml-4"},[e("div",{class:"font-semibold text-blue-700"},"ðŸ“¦ Purchase Requisition"),e("div",{class:"ml-4 mt-1"},[e("div",{class:"font-semibold text-blue-600"},"ðŸª Outlet 1"),e("div",{class:"ml-4 mt-1"},[e("div",{class:"font-semibold text-green-600"},"ðŸ“ Category A"),e("div",{class:"ml-4 text-gray-600"},[n(" â€¢ Item 1"),e("br"),n(" â€¢ Item 2 ")]),e("div",{class:"font-semibold text-green-600 mt-2"},"ðŸ“ Category B"),e("div",{class:"ml-4 text-gray-600"}," â€¢ Item 3 ")]),e("div",{class:"font-semibold text-blue-600 mt-2"},"ðŸª Outlet 2"),e("div",{class:"ml-4 mt-1"},[e("div",{class:"font-semibold text-green-600"},"ðŸ“ Category C"),e("div",{class:"ml-4 text-gray-600"},[n(" â€¢ Item 4"),e("br"),n(" â€¢ Item 5 ")])])])])])],-1),e("div",{class:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded"},[e("h4",{class:"font-semibold text-yellow-800 mb-2"},[e("i",{class:"fa fa-lightbulb mr-2"}),n(" Tips & Best Practices: ")]),e("ul",{class:"text-sm text-yellow-700 space-y-1 list-disc list-inside"},[e("li",null,"Gunakan nama item yang jelas dan deskriptif"),e("li",null,"Pastikan harga dan kuantitas sudah benar sebelum submit"),e("li",null,"Upload attachment yang relevan untuk setiap outlet"),e("li",null,"Pilih approvers sesuai dengan alur approval yang berlaku"),e("li",null,"Review Grand Total sebelum submit untuk memastikan akurasi")])],-1)]))):b("",!0),B.value==="purchase_payment"?(r(),i("div",So,t[196]||(t[196]=[e("div",{class:"bg-green-50 border-l-4 border-green-500 p-4 rounded"},[e("h4",{class:"font-semibold text-green-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Apa itu Payment Application? ")]),e("p",{class:"text-sm text-green-700"},[n(" Payment Application digunakan untuk pengajuan "),e("strong",null,"Reimbursement"),n(" dan pembayaran lainnya yang "),e("strong",null,"tidak memerlukan proses pembelian"),n(" melalui Purchase Order (PO). ")]),e("p",{class:"text-sm text-green-700 mt-2"},[e("strong",null,"Catatan:"),n(" Mode "),e("strong",null,"Payment Application"),n(" menggunakan struktur input yang sama dengan "),e("strong",null,"Purchase Requisition"),n(" (multi-outlet, multi-category, multi-item). ")])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold"}," 1 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Informasi Dasar"),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Title:"),n(" Masukkan judul Payment Application (wajib)")]),e("li",null,[e("strong",null,"Division:"),n(" Pilih divisi yang bertanggung jawab (wajib)")]),e("li",null,[e("strong",null,"Priority:"),n(" Pilih prioritas (Low, Medium, High, Urgent)")]),e("li",null,[e("strong",null,"Description:"),n(" Tambahkan deskripsi jika diperlukan")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold"}," 2 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Outlet, Category, dan Items"),e("p",{class:"text-sm text-gray-700 mb-2"}," Struktur input sama dengan Purchase Requisition: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Tambah outlet â†’ Pilih outlet"),e("li",null,"Tambah category â†’ Pilih category"),e("li",null,"Isi items (name, qty, unit, price)"),e("li",null,"Upload attachment per outlet (opsional)")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold"}," 3 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Approvers"),e("p",{class:"text-sm text-gray-700 mb-2"},[e("strong",null,"Wajib sertakan GM Finance sebagai Approver")]),e("p",{class:"text-sm text-gray-700 mb-2"}," Tambahkan approvers dengan urutan dari level terendah ke tertinggi. ")])])],-1),e("div",{class:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded"},[e("h4",{class:"font-semibold text-amber-800 mb-2"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Perbedaan dengan Purchase Requisition: ")]),e("ul",{class:"text-sm text-amber-700 space-y-1 list-disc list-inside"},[e("li",null,[n("Payment Application "),e("strong",null,"tidak akan"),n(" dibuat menjadi Purchase Order (PO)")]),e("li",null,"Langsung masuk ke proses pembayaran setelah approval"),e("li",null,"Cocok untuk reimbursement dan pembayaran langsung")])],-1)]))):b("",!0),B.value==="travel_application"?(r(),i("div",Bo,t[197]||(t[197]=[e("div",{class:"bg-purple-50 border-l-4 border-purple-500 p-4 rounded"},[e("h4",{class:"font-semibold text-purple-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Apa itu Travel Application? ")]),e("p",{class:"text-sm text-purple-700"},[n(" Travel Application digunakan untuk pengajuan "),e("strong",null,"perjalanan dinas"),n(" dengan struktur input khusus yang berbeda dari mode lainnya. ")])],-1),e("div",{class:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded"},[e("h4",{class:"font-semibold text-yellow-800 mb-3"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Catatan Penting: ")]),e("ul",{class:"text-sm text-yellow-700 space-y-2 list-none"},[e("li",{class:"flex items-start"},[e("i",{class:"fa fa-check-circle mr-2 mt-0.5 text-yellow-600"}),e("div",null,[e("strong",null,"Untuk Travel Application wajib menyertakan GA Supervisor sebagai Approver pertama")])]),e("li",{class:"flex items-start"},[e("i",{class:"fa fa-check-circle mr-2 mt-0.5 text-yellow-600"}),e("div",null,[e("strong",null,"Wajib sertakan GM Finance sebagai Approver")])]),e("li",{class:"flex items-start"},[e("i",{class:"fa fa-info-circle mr-2 mt-0.5 text-yellow-600"}),e("div",null,[e("strong",null,"Contoh urutan approver:"),n(" GA Supervisor - GM HR - GM Finance â†’ BOD ")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 1 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Informasi Dasar"),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Title:"),n(" Masukkan judul Travel Application (wajib)")]),e("li",null,[e("strong",null,"Division:"),n(" Pilih divisi yang bertanggung jawab (wajib)")]),e("li",null,[e("strong",null,"Priority:"),n(" Pilih prioritas (Low, Medium, High, Urgent)")]),e("li",null,[e("strong",null,"Category:"),n(' Otomatis terpilih "Transport" (tidak bisa diubah)')])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 2 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Pilih Outlet Tujuan Perjalanan Dinas"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Klik tombol "),e("strong",null,'"Add Outlet Tujuan"'),n(" untuk menambahkan outlet tujuan perjalanan. Anda bisa menambahkan beberapa outlet tujuan sekaligus. ")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Pilih semua outlet yang akan dikunjungi dalam perjalanan dinas ini. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 3 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Agenda Kerja"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Masukkan "),e("strong",null,"Agenda Kerja"),n(" perjalanan dinas. Field ini adalah free text yang besar karena bisa sangat panjang. ")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Jelaskan secara detail agenda kerja yang akan dilakukan di setiap outlet tujuan. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 4 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Items Perjalanan"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Untuk setiap item, pilih "),e("strong",null,"Tipe Item"),n(": ")]),e("ul",{class:"text-sm text-gray-700 space-y-2 list-disc list-inside"},[e("li",null,[e("strong",null,"Transport:"),n(" Untuk biaya transportasi (tiket, dll) "),e("br"),e("span",{class:"text-xs text-gray-500 ml-4"},'Item name akan otomatis menjadi "Transport"')]),e("li",null,[e("strong",null,"Allowance:"),n(" Untuk uang saku/harian "),e("br"),e("span",{class:"text-xs text-gray-500 ml-4"},"Wajib isi: Nama Penerima Allowance dan No. Rekening"),e("br"),e("span",{class:"text-xs text-gray-500 ml-4"},'Item name akan otomatis menjadi "Allowance - [Nama Penerima]"')]),e("li",null,[e("strong",null,"Others:"),n(" Untuk biaya lainnya "),e("br"),e("span",{class:"text-xs text-gray-500 ml-4"},"Wajib isi: Notes Others"),e("br"),e("span",{class:"text-xs text-gray-500 ml-4"},'Item name akan otomatis menjadi "Others - [Notes]"')])]),e("div",{class:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-amber-800"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),e("strong",null,"Penting:"),n(' Field "Item Name" tidak perlu diisi karena akan otomatis di-generate dari tipe item + nama/notes. ')])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 5 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Notes (Opsional)"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Tambahkan catatan tambahan jika diperlukan di field "),e("strong",null,'"Notes"'),n(". ")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 6 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Approvers"),e("p",{class:"text-sm text-gray-700 mb-2"},[e("strong",null,"WAJIB:"),n(" Tambahkan approvers dengan urutan berikut: ")]),e("div",{class:"bg-red-50 border-l-4 border-red-500 p-3 rounded"},[e("p",{class:"text-sm text-red-800 font-semibold mb-2"},[e("i",{class:"fa fa-exclamation-circle mr-1"}),n(" Urutan Approver Wajib: ")]),e("ol",{class:"text-sm text-red-700 space-y-1 list-decimal list-inside ml-2"},[e("li",null,[e("strong",null,"GA Supervisor"),n(" (Wajib sebagai approver pertama)")]),e("li",null,"GM HR (atau approver lainnya sesuai kebutuhan)"),e("li",null,[e("strong",null,"GM Finance"),n(" (Wajib)")]),e("li",null,"BOD (jika diperlukan)")]),e("p",{class:"text-xs text-red-600 mt-2"},[e("strong",null,"Contoh:"),n(" GA Supervisor â†’ GM HR â†’ GM Finance â†’ BOD ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold"}," 7 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Review dan Submit"),e("p",{class:"text-sm text-gray-700 mb-2"}," Sebelum submit, pastikan: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Semua outlet tujuan sudah dipilih"),e("li",null,"Agenda Kerja sudah diisi dengan lengkap"),e("li",null,"Semua items sudah lengkap (tipe, qty, unit, price)"),e("li",null,"Jika Allowance: nama penerima dan no. rekening sudah diisi"),e("li",null,"Jika Others: notes others sudah diisi"),e("li",null,"GA Supervisor sudah ditambahkan sebagai approver pertama"),e("li",null,"GM Finance sudah ditambahkan sebagai approver"),e("li",null,"Grand Total sudah sesuai")])])])],-1)]))):b("",!0),B.value==="kasbon"?(r(),i("div",Mo,t[198]||(t[198]=[e("div",{class:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded"},[e("h4",{class:"font-semibold text-orange-800 mb-2"},[e("i",{class:"fa fa-info-circle mr-2"}),n(" Apa itu Kasbon? ")]),e("p",{class:"text-sm text-orange-700"},[n(" Kasbon digunakan untuk pengajuan "),e("strong",null,"uang muka"),n(" atau "),e("strong",null,"kasbon"),n(" dengan struktur input yang sederhana dan otomatis. ")]),e("p",{class:"text-sm text-orange-700 mt-2"},[e("strong",null,"Catatan Penting:"),n(" Per periode hanya diijinkan 1 user saja per outlet. Periode kasbon adalah tanggal 20 bulan berjalan hingga tanggal 10 bulan selanjutnya. ")])],-1),e("div",{class:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded"},[e("h4",{class:"font-semibold text-yellow-800 mb-3"},[e("i",{class:"fa fa-exclamation-triangle mr-2"}),n(" Catatan Penting: ")]),e("ul",{class:"text-sm text-yellow-700 space-y-2 list-none"},[e("li",{class:"flex items-start"},[e("i",{class:"fa fa-calendar mr-2 mt-0.5 text-yellow-600"}),e("div",null,[e("strong",null,"Periode Kasbon:"),n(" Tanggal 20 bulan berjalan hingga tanggal 10 bulan selanjutnya ")])]),e("li",{class:"flex items-start"},[e("i",{class:"fa fa-users mr-2 mt-0.5 text-yellow-600"}),e("div",null,[e("strong",null,"Batasan:"),n(" Per periode hanya diijinkan 1 user saja per outlet. Jika sudah ada user lain yang mengajukan kasbon di periode yang sama untuk outlet yang sama, pengajuan akan ditolak. ")])]),e("li",{class:"flex items-start"},[e("i",{class:"fa fa-info-circle mr-2 mt-0.5 text-yellow-600"}),e("div",null,[e("strong",null,"Auto-Select:"),n(" Division, Outlet, dan Category otomatis terpilih sesuai data user yang login. ")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 1 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Informasi Dasar"),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[e("strong",null,"Title:"),n(" Masukkan judul Kasbon (wajib)")]),e("li",null,[e("strong",null,"Division:"),n(" Otomatis terpilih sesuai division user yang login (tidak bisa diubah)")]),e("li",null,[e("strong",null,"Category:"),n(' Otomatis terpilih "Kasbon" (tidak bisa diubah)')]),e("li",null,[e("strong",null,"Outlet:"),n(" Otomatis terpilih sesuai outlet user yang login (tidak bisa diubah)")]),e("li",null,[e("strong",null,"Priority:"),n(" Pilih prioritas (Low, Medium, High, Urgent)")])]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200 mt-2"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Division, Category, dan Outlet sudah otomatis terpilih, jadi Anda hanya perlu mengisi Title dan Priority. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 2 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Pahami Periode Kasbon"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Sistem akan menampilkan "),e("strong",null,"Periode Aktif"),n(" kasbon di form. Periode ini adalah: ")]),e("div",{class:"bg-blue-50 border-l-4 border-blue-500 p-3 rounded"},[e("p",{class:"text-sm text-blue-800 font-semibold mb-1"},[e("i",{class:"fa fa-calendar mr-1"}),n(" Periode Kasbon: ")]),e("p",{class:"text-sm text-blue-700"},[e("strong",null,"Tanggal 20 bulan berjalan"),n(" hingga "),e("strong",null,"tanggal 10 bulan selanjutnya")]),e("p",{class:"text-xs text-blue-600 mt-2"},[e("i",{class:"fa fa-info-circle mr-1"}),n(" Contoh: Jika saat ini tanggal 15 Januari 2024, maka periode adalah 20 Desember 2023 - 10 Februari 2024 ")])]),e("div",{class:"bg-amber-50 border-l-4 border-amber-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-amber-800"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),e("strong",null,"Penting:"),n(" Jika sudah ada user lain yang mengajukan kasbon untuk outlet yang sama di periode ini, pengajuan Anda akan ditolak. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 3 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Nilai Kasbon"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Masukkan "),e("strong",null,"Nilai Kasbon"),n(" yang ingin diajukan: ")]),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,[n("Masukkan nilai kasbon di field "),e("strong",null,'"Nilai Kasbon *"')]),e("li",null,"Nilai akan otomatis ditampilkan dalam format currency"),e("li",null,"Pastikan nilai yang dimasukkan sudah benar")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200 mt-2"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Total akan otomatis dihitung dan ditampilkan di bawah field. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 4 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Isi Reason / Alasan Kasbon"),e("p",{class:"text-sm text-gray-700 mb-2"},[n(" Masukkan "),e("strong",null,"Reason / Alasan Kasbon"),n(" secara detail: ")]),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Jelaskan alasan atau tujuan penggunaan kasbon"),e("li",null,"Sertakan rencana pelunasan jika ada"),e("li",null,"Field ini wajib diisi")]),e("div",{class:"bg-gray-50 p-3 rounded border border-gray-200 mt-2"},[e("p",{class:"text-xs text-gray-600"},[e("i",{class:"fa fa-lightbulb text-yellow-500 mr-1"}),e("strong",null,"Tip:"),n(" Jelaskan secara detail agar proses approval lebih mudah. ")])])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 5 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Upload Attachment (Opsional)"),e("p",{class:"text-sm text-gray-700 mb-2"}," Upload file pendukung jika diperlukan (maksimal 10MB per file). "),e("p",{class:"text-sm text-gray-700"}," File yang bisa di-upload: PDF, Word, Excel, Image, dll. ")])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 6 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Tambah Approvers"),e("p",{class:"text-sm text-gray-700 mb-2"}," Tambahkan approvers dengan urutan dari level terendah ke tertinggi: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Ketik nama, email, atau jabatan di search box"),e("li",null,"Pilih approver dari hasil pencarian"),e("li",null,"Urutkan dengan tombol panah (â†‘ â†“)"),e("li",null,"Minimal harus ada 1 approver")]),e("div",{class:"bg-yellow-50 border-l-4 border-yellow-500 p-3 rounded mt-3"},[e("p",{class:"text-sm text-yellow-800 font-semibold mb-1"},[e("i",{class:"fa fa-exclamation-triangle mr-1"}),n(" Wajib sertakan GM Finance sebagai Approver ")]),e("p",{class:"text-xs text-yellow-700"}," Untuk pengajuan kasbon, pastikan GM Finance sudah ditambahkan dalam daftar approvers. ")])])])],-1),e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-start"},[e("div",{class:"flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold"}," 7 "),e("div",{class:"ml-4 flex-1"},[e("h4",{class:"font-semibold text-gray-900 mb-2"},"Review dan Submit"),e("p",{class:"text-sm text-gray-700 mb-2"}," Sebelum submit, pastikan: "),e("ul",{class:"text-sm text-gray-700 space-y-1 list-disc list-inside"},[e("li",null,"Title sudah diisi"),e("li",null,"Nilai kasbon sudah benar"),e("li",null,"Reason/alasan kasbon sudah diisi dengan lengkap"),e("li",null,"Approvers sudah ditambahkan"),e("li",null,"Periode kasbon sudah sesuai"),e("li",null,"Tidak ada user lain yang sudah mengajukan kasbon untuk outlet yang sama di periode yang sama")]),e("div",{class:"bg-green-50 border-l-4 border-green-500 p-3 rounded mt-2"},[e("p",{class:"text-xs text-green-800"},[e("i",{class:"fa fa-check-circle mr-1"}),n(" Sistem akan otomatis mengecek apakah sudah ada kasbon untuk outlet Anda di periode yang sama sebelum submit. ")])])])])],-1),e("div",{class:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded"},[e("h4",{class:"font-semibold text-yellow-800 mb-2"},[e("i",{class:"fa fa-lightbulb mr-2"}),n(" Tips & Best Practices: ")]),e("ul",{class:"text-sm text-yellow-700 space-y-1 list-disc list-inside"},[e("li",null,"Pastikan nilai kasbon sudah sesuai dengan kebutuhan"),e("li",null,"Jelaskan alasan kasbon secara detail dan jelas"),e("li",null,"Upload dokumen pendukung jika diperlukan"),e("li",null,"Pilih approvers sesuai dengan alur approval yang berlaku"),e("li",null,"Perhatikan periode kasbon untuk menghindari konflik dengan user lain"),e("li",null,"Jika pengajuan ditolak karena sudah ada kasbon di periode yang sama, tunggu hingga periode berikutnya")])],-1)]))):b("",!0)]),e("div",Eo,[e("button",{onClick:t[32]||(t[32]=a=>Y.value=!1),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Saya Mengerti ")])])])])):b("",!0)]}),_:1}))}};export{Ho as default};
