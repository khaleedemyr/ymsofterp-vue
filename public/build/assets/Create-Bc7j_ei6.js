import{r as j,P,w as G,A as M,B as r,C as q,D as e,x as $,Q as _,S as U,G as g,O as W,L as i,E as a,H as v,l as x,J as p,N as o,F as h,M as w,I as D}from"./vendor-vue-g7iCcTkf.js";import{A as K}from"./AppLayout-De2jf5tO.js";import{S}from"./app-BSTQjgZq.js";import"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-vaJ7DgVJ.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const H={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},J={class:"p-6 text-gray-900"},X={class:"flex justify-between items-center mb-6"},Z={class:"bg-gray-50 p-4 rounded-lg mb-6"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ee={key:0,class:"text-red-500 text-xs mt-1"},te=["value"],se={key:0,class:"text-red-500 text-xs mt-1"},oe=["value"],re={key:0,class:"text-red-500 text-xs mt-1"},ie=["disabled"],de={key:0,value:"",disabled:""},ne=["value"],le={key:0,class:"text-red-500 text-xs mt-1"},ae={class:"md:col-span-2"},ue={key:0,class:"text-red-500 text-xs mt-1"},me={key:0,class:"bg-blue-50 p-6 rounded-lg mb-6"},ce={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},_e={key:0,class:"bg-white p-4 rounded-lg border"},ge={class:"text-lg font-semibold text-indigo-600"},be={class:"text-sm text-gray-500"},ve={class:"text-sm text-gray-600"},fe={key:0,class:"text-xs text-gray-400 mt-1"},ye={key:1,class:"bg-white p-4 rounded-lg border"},xe={class:"text-lg font-semibold text-blue-600"},pe={class:"text-sm text-gray-500"},he={class:"text-sm text-gray-600"},we={key:2,class:"bg-white p-4 rounded-lg border"},ke={class:"text-lg font-semibold text-orange-600"},je={class:"text-sm text-gray-500"},De={class:"text-sm text-gray-600"},Se={key:3,class:"bg-white p-4 rounded-lg border"},Ce={class:"text-lg font-semibold text-green-600"},qe={class:"text-sm text-gray-500"},Oe={class:"text-sm text-gray-600"},Be={class:"bg-gray-50 p-4 rounded-lg mb-6"},$e={class:"flex justify-between items-center mb-4"},Ue={key:0,class:"flex items-center text-blue-600"},Ve={key:0,class:"text-center py-8 text-gray-500"},Fe={key:1,class:"text-center py-8 text-gray-500"},Re={key:2,class:"space-y-4"},Ae={class:"flex justify-between items-start mb-4"},Le={class:"font-medium"},Ee=["onClick"],Qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Te={class:"relative"},Ne=["onUpdate:modelValue","onInput","onFocus","onBlur"],Pe={key:0,class:"absolute z-10 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},Ge=["onClick"],Me={class:"font-medium"},We={class:"text-sm text-gray-500"},Ke={key:0,class:"text-red-500 text-xs mt-1"},He=["onUpdate:modelValue","disabled"],ze=["value"],Ye={key:0,class:"text-red-500 text-xs mt-1"},Je=["onUpdate:modelValue"],Xe={key:0,class:"text-red-500 text-xs mt-1"},Ze=["onUpdate:modelValue"],Ie={key:0,class:"text-red-500 text-xs mt-1"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},tt=["onUpdate:modelValue"],st={key:0,class:"text-red-500 text-xs mt-1"},ot=["onUpdate:modelValue"],rt={key:0,class:"text-red-500 text-xs mt-1"},it={key:0,class:"mt-4 p-3 bg-blue-50 rounded-lg"},dt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-3"},nt={key:0,class:"mt-3 pt-3 border-t border-blue-200"},lt={class:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs"},at={class:"bg-blue-50 p-2 rounded border"},ut={class:"text-blue-600"},mt={class:"bg-green-50 p-2 rounded border"},ct={class:"text-green-600"},_t={class:"bg-orange-50 p-2 rounded border"},gt={class:"text-orange-600"},bt={class:"bg-purple-50 p-2 rounded border"},vt={class:"text-purple-600"},ft={class:"bg-red-50 p-2 rounded border"},yt={class:"text-red-600 font-bold"},xt={key:1,class:"mt-3 pt-3 border-t border-blue-200"},pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},ht={class:"bg-yellow-50 p-2 rounded border border-yellow-200"},wt={class:"text-yellow-700 font-bold"},kt={class:"bg-green-50 p-2 rounded border border-green-200"},jt={class:"text-green-700"},Dt={key:2,class:"mt-3 pt-3 border-t border-blue-200"},St={class:"grid grid-cols-1 md:grid-cols-4 gap-2 text-xs"},Ct={key:0,class:"bg-white p-2 rounded border"},qt={class:"text-indigo-600"},Ot={class:"text-gray-500"},Bt={class:"text-xs text-gray-400"},$t={key:1,class:"bg-white p-2 rounded border"},Ut={class:"text-blue-600"},Vt={class:"text-gray-500"},Ft={key:2,class:"bg-white p-2 rounded border"},Rt={class:"text-green-600"},At={class:"text-gray-500"},Lt={class:"bg-white p-2 rounded border"},Et={class:"text-orange-600"},Qt={class:"flex justify-end space-x-4"},Tt=["disabled"],Nt={key:0,class:"fas fa-spinner fa-spin mr-2"},Pt={key:1,class:"fas fa-save mr-2"},es={__name:"Create",props:{outlets:Array,warehouses:Array,deliveryOrders:Array,errors:Object,documentFlowInfo:Object,itemsWithQuantityFlow:Object},setup(l){const O=l,C=j(O.deliveryOrders||[]),c=j(O.documentFlowInfo||null),f=j(O.itemsWithQuantityFlow||{}),y=j(!1),k=j(!1),n=P({rejection_date:new Date().toISOString().split("T")[0],outlet_id:"",warehouse_id:"",delivery_order_id:"",notes:"",items:[]}),V=async m=>{(await S.fire({title:"Konfirmasi Hapus",text:"Apakah Anda yakin ingin menghapus item ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal"})).isConfirmed&&(n.items.splice(m,1),S.fire("Terhapus!","Item berhasil dihapus.","success"))},F=async m=>{const t=n.items[m];if(t.item_search.length<2){t.search_results=[];return}try{const d=await(await fetch(`/outlet-rejections/api/items?search=${t.item_search}`)).json();t.search_results=d}catch(s){console.error("Error searching items:",s)}},R=m=>{n.items[m].show_dropdown=!0},A=m=>{setTimeout(()=>{n.items[m].show_dropdown=!1},200)},L=(m,t)=>{const s=n.items[m];s.item_id=t.id,s.selected_item=t,s.item_search=t.name,s.show_dropdown=!1,s.search_results=[],s.unit_options=[];const d=new Set;t.small_unit_id&&t.small_unit&&(s.unit_options.push({id:t.small_unit_id,name:t.small_unit.name}),d.add(t.small_unit_id)),t.medium_unit_id&&t.medium_unit&&!d.has(t.medium_unit_id)&&(s.unit_options.push({id:t.medium_unit_id,name:t.medium_unit.name}),d.add(t.medium_unit_id)),t.large_unit_id&&t.large_unit&&!d.has(t.large_unit_id)&&s.unit_options.push({id:t.large_unit_id,name:t.large_unit.name}),s.unit_options.length===1?s.unit_id=s.unit_options[0].id:s.unit_id=""},E=async()=>{if(!n.outlet_id||!n.warehouse_id){C.value=[];return}try{const t=await(await fetch(`/outlet-rejections/api/filtered-delivery-orders?outlet_id=${n.outlet_id}&warehouse_id=${n.warehouse_id}`)).json();C.value=t}catch(m){console.error("Error loading filtered delivery orders:",m),C.value=[]}};G([()=>n.outlet_id,()=>n.warehouse_id],()=>{n.delivery_order_id="",E()});const Q=async()=>{if(!n.delivery_order_id){k.value=!1,n.items=[],c.value=null,f.value={};return}k.value=!0;try{const t=await(await fetch(`/outlet-rejections/api/delivery-order-items?delivery_order_id=${n.delivery_order_id}`)).json();c.value=t.documentFlowInfo||null,f.value=t.itemsWithQuantityFlow||{},n.items=[],t.items.forEach(s=>{const d=[],b=new Set;s.item.small_unit_id&&s.item.small_unit_name&&(d.push({id:s.item.small_unit_id,name:s.item.small_unit_name}),b.add(s.item.small_unit_id)),s.item.medium_unit_id&&s.item.medium_unit_name&&!b.has(s.item.medium_unit_id)&&(d.push({id:s.item.medium_unit_id,name:s.item.medium_unit_name}),b.add(s.item.medium_unit_id)),s.item.large_unit_id&&s.item.large_unit_name&&!b.has(s.item.large_unit_id)&&d.push({id:s.item.large_unit_id,name:s.item.large_unit_name}),n.items.push({item_id:s.item_id,item_search:s.item.name||"",selected_item:s.item,search_results:[],show_dropdown:!1,unit_id:s.unit_id||"",unit_options:d,qty_rejected:s.qty||"",rejection_reason:"",item_condition:"good",condition_notes:""})})}catch(m){console.error("Error loading delivery order items:",m)}finally{k.value=!1}},T=async()=>{if(!(await S.fire({title:"Konfirmasi Simpan",text:"Apakah Anda yakin ingin menyimpan data Outlet Rejection ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Simpan!",cancelButtonText:"Batal",reverseButtons:!0})).isConfirmed)return;y.value=!0;const t=n.items.map(s=>({item_id:s.item_id,unit_id:s.unit_id,qty_rejected:s.qty_rejected,rejection_reason:s.rejection_reason,item_condition:s.item_condition,condition_notes:s.condition_notes}));n.items=t,n.post(route("outlet-rejections.store"),{onSuccess:()=>{y.value=!1,S.fire({title:"Berhasil!",text:"Data Outlet Rejection berhasil disimpan. Anda akan diarahkan ke halaman detail untuk complete rejection.",icon:"success",confirmButtonText:"OK"})},onError:s=>{y.value=!1;let d="Terjadi kesalahan saat menyimpan data.";if(s&&Object.keys(s).length>0){const b=Object.values(s)[0];Array.isArray(b)?d=b[0]:d=b}S.fire({title:"Error!",text:d,icon:"error",confirmButtonText:"OK"})}})},N=m=>new Date(m).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),B=m=>new Date(m).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(m,t)=>(r(),M(K,null,{header:q(()=>t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create Outlet Rejection ",-1)])),default:q(()=>[e("div",H,[e("div",z,[e("div",Y,[e("div",J,[e("div",X,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold"},"Create New Outlet Rejection",-1)),$(_(U),{href:m.route("outlet-rejections.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:q(()=>t[6]||(t[6]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),g(" Back to List ")])),_:1},8,["href"])]),e("form",{onSubmit:W(T,["prevent"])},[e("div",Z,[t[16]||(t[16]=e("h4",{class:"text-md font-semibold mb-4"},"Header Information",-1)),e("div",I,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Rejection Date "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>_(n).rejection_date=s),type:"date",required:"",class:x(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors.rejection_date}])},null,2),[[p,_(n).rejection_date]]),l.errors.rejection_date?(r(),i("p",ee,o(l.errors.rejection_date),1)):a("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Outlet "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>_(n).outlet_id=s),required:"",class:x(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors.outlet_id}])},[t[9]||(t[9]=e("option",{value:""},"Select Outlet",-1)),(r(!0),i(h,null,w(l.outlets,s=>(r(),i("option",{key:s.id_outlet,value:s.id_outlet},o(s.nama_outlet),9,te))),128))],2),[[D,_(n).outlet_id]]),l.errors.outlet_id?(r(),i("p",se,o(l.errors.outlet_id),1)):a("",!0)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Warehouse "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>_(n).warehouse_id=s),required:"",class:x(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors.warehouse_id}])},[t[11]||(t[11]=e("option",{value:""},"Select Warehouse",-1)),(r(!0),i(h,null,w(l.warehouses,s=>(r(),i("option",{key:s.id,value:s.id},o(s.name),9,oe))),128))],2),[[D,_(n).warehouse_id]]),l.errors.warehouse_id?(r(),i("p",re,o(l.errors.warehouse_id),1)):a("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Delivery Order (Optional) ",-1)),v(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>_(n).delivery_order_id=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:Q,disabled:!_(n).outlet_id||!_(n).warehouse_id},[t[13]||(t[13]=e("option",{value:""},"Select Delivery Order",-1)),!_(n).outlet_id||!_(n).warehouse_id?(r(),i("option",de," Please select outlet and warehouse first ")):a("",!0),(r(!0),i(h,null,w(C.value,s=>(r(),i("option",{key:s.id,value:s.id},o(s.display_text||s.number)+" (FO: "+o(s.floor_order_number)+" ["+o(s.floor_order_mode)+"], PL: "+o(s.packing_number)+", GR: "+o(s.good_receive_number)+") ",9,ne))),128))],40,ie),[[D,_(n).delivery_order_id]]),l.errors.delivery_order_id?(r(),i("p",le,o(l.errors.delivery_order_id),1)):a("",!0)]),e("div",ae,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Notes ",-1)),v(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>_(n).notes=s),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter general notes about this rejection..."},null,512),[[p,_(n).notes]]),l.errors.notes?(r(),i("p",ue,o(l.errors.notes),1)):a("",!0)])])]),c.value?(r(),i("div",me,[t[21]||(t[21]=e("h4",{class:"text-lg font-semibold mb-4"},"Document Flow Information",-1)),e("div",ce,[c.value.floor_order_number?(r(),i("div",_e,[t[17]||(t[17]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Floor Order",-1)),e("div",ge,o(c.value.floor_order_number),1),e("div",be,o(B(c.value.floor_order_created_at)),1),e("div",ve,o(c.value.floor_order_creator),1),c.value.floor_order_mode?(r(),i("div",fe," Mode: "+o(c.value.floor_order_mode),1)):a("",!0)])):a("",!0),c.value.packing_number?(r(),i("div",ye,[t[18]||(t[18]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Packing List",-1)),e("div",xe,o(c.value.packing_number),1),e("div",pe,o(B(c.value.packing_list_created_at)),1),e("div",he,o(c.value.packing_list_creator),1)])):a("",!0),c.value.delivery_order_number?(r(),i("div",we,[t[19]||(t[19]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Delivery Order",-1)),e("div",ke,o(c.value.delivery_order_number),1),e("div",je,o(B(c.value.delivery_order_created_at)),1),e("div",De,o(c.value.delivery_order_creator),1)])):a("",!0),c.value.good_receive_number?(r(),i("div",Se,[t[20]||(t[20]=e("h5",{class:"text-sm font-medium text-gray-700 mb-2"},"Good Receive",-1)),e("div",Ce,o(c.value.good_receive_number),1),e("div",qe,o(N(c.value.good_receive_date)),1),e("div",Oe,o(c.value.good_receive_creator),1)])):a("",!0)])])):a("",!0),e("div",Be,[e("div",$e,[t[23]||(t[23]=e("h4",{class:"text-md font-semibold"},"Rejected Items",-1)),k.value?(r(),i("div",Ue,t[22]||(t[22]=[e("i",{class:"fas fa-spinner fa-spin mr-2"},null,-1),g(" Loading items... ")]))):a("",!0)]),k.value?(r(),i("div",Ve,t[24]||(t[24]=[e("i",{class:"fas fa-spinner fa-spin text-4xl mb-4 text-blue-600"},null,-1),e("p",null,"Loading delivery order items...",-1)]))):_(n).items.length===0?(r(),i("div",Fe,t[25]||(t[25]=[e("i",{class:"fas fa-box text-4xl mb-4"},null,-1),e("p",null,"No items available for rejection. Please select a delivery order.",-1)]))):(r(),i("div",Re,[(r(!0),i(h,null,w(_(n).items,(s,d)=>{var b;return r(),i("div",{key:d,class:"bg-white p-4 rounded-lg border border-gray-200"},[e("div",Ae,[e("h5",Le,"Item #"+o(d+1),1),e("button",{type:"button",onClick:u=>V(d),class:"text-red-500 hover:text-red-700"},t[26]||(t[26]=[e("i",{class:"fas fa-trash"},null,-1)]),8,Ee)]),e("div",Qe,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Item "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Te,[v(e("input",{"onUpdate:modelValue":u=>s.item_search=u,type:"text",placeholder:"Search item...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",onInput:u=>F(d),onFocus:u=>R(d),onBlur:u=>A(d)},null,40,Ne),[[p,s.item_search]]),s.show_dropdown&&s.search_results.length>0?(r(),i("div",Pe,[(r(!0),i(h,null,w(s.search_results,u=>(r(),i("div",{key:u.id,onClick:Gt=>L(d,u),class:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100"},[e("div",Me,o(u.name),1),e("div",We,o(u.sku),1)],8,Ge))),128))])):a("",!0)]),l.errors[`items.${d}.item_id`]?(r(),i("p",Ke,o(l.errors[`items.${d}.item_id`]),1)):a("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Unit "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{"onUpdate:modelValue":u=>s.unit_id=u,required:"",class:x(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors[`items.${d}.unit_id`]}]),disabled:!s.item_id},[t[28]||(t[28]=e("option",{value:""},"Select Unit",-1)),(r(!0),i(h,null,w(s.unit_options,u=>(r(),i("option",{key:u.id,value:u.id},o(u.name),9,ze))),128))],10,He),[[D,s.unit_id]]),l.errors[`items.${d}.unit_id`]?(r(),i("p",Ye,o(l.errors[`items.${d}.unit_id`]),1)):a("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Qty Rejected "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{"onUpdate:modelValue":u=>s.qty_rejected=u,type:"number",step:"0.01",min:"0.01",required:"",class:x(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors[`items.${d}.qty_rejected`]}])},null,10,Je),[[p,s.qty_rejected]]),l.errors[`items.${d}.qty_rejected`]?(r(),i("p",Xe,o(l.errors[`items.${d}.qty_rejected`]),1)):a("",!0)]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[g(" Condition "),e("span",{class:"text-red-500"},"*")],-1)),v(e("select",{"onUpdate:modelValue":u=>s.item_condition=u,required:"",class:x(["w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":l.errors[`items.${d}.item_condition`]}])},t[31]||(t[31]=[e("option",{value:""},"Select Condition",-1),e("option",{value:"good"},"Good",-1),e("option",{value:"damaged"},"Damaged",-1),e("option",{value:"expired"},"Expired",-1),e("option",{value:"other"},"Other",-1)]),10,Ze),[[D,s.item_condition]]),l.errors[`items.${d}.item_condition`]?(r(),i("p",Ie,o(l.errors[`items.${d}.item_condition`]),1)):a("",!0)])]),e("div",et,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rejection Reason ",-1)),v(e("textarea",{"onUpdate:modelValue":u=>s.rejection_reason=u,rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter rejection reason..."},null,8,tt),[[p,s.rejection_reason]]),l.errors[`items.${d}.rejection_reason`]?(r(),i("p",st,o(l.errors[`items.${d}.rejection_reason`]),1)):a("",!0)]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Condition Notes ",-1)),v(e("textarea",{"onUpdate:modelValue":u=>s.condition_notes=u,rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter condition details..."},null,8,ot),[[p,s.condition_notes]]),l.errors[`items.${d}.condition_notes`]?(r(),i("p",rt,o(l.errors[`items.${d}.condition_notes`]),1)):a("",!0)])]),s.selected_item?(r(),i("div",it,[e("div",dt,[e("div",null,[t[35]||(t[35]=e("span",{class:"font-medium"},"Item:",-1)),g(" "+o(s.selected_item.name),1)]),e("div",null,[t[36]||(t[36]=e("span",{class:"font-medium"},"SKU:",-1)),g(" "+o(s.selected_item.sku),1)]),e("div",null,[t[37]||(t[37]=e("span",{class:"font-medium"},"Category:",-1)),g(" "+o(((b=s.selected_item.category)==null?void 0:b.name)||"N/A"),1)])]),f.value&&f.value[s.item_id]?(r(),i("div",nt,[t[43]||(t[43]=e("h6",{class:"font-medium text-sm mb-2 text-blue-800"},"Quantity Flow:",-1)),e("div",lt,[e("div",at,[t[38]||(t[38]=e("div",{class:"font-medium text-gray-700"},"Order Qty",-1)),e("div",ut,o(f.value[s.item_id].qty_order||0),1)]),e("div",mt,[t[39]||(t[39]=e("div",{class:"font-medium text-gray-700"},"PL Qty",-1)),e("div",ct,o(f.value[s.item_id].qty_packing_list||0),1)]),e("div",_t,[t[40]||(t[40]=e("div",{class:"font-medium text-gray-700"},"DO Qty",-1)),e("div",gt,o(f.value[s.item_id].qty_do||0),1)]),e("div",bt,[t[41]||(t[41]=e("div",{class:"font-medium text-gray-700"},"GR Qty",-1)),e("div",vt,o(f.value[s.item_id].qty_receive||0),1)]),e("div",ft,[t[42]||(t[42]=e("div",{class:"font-medium text-gray-700"},"Remaining",-1)),e("div",yt,o((f.value[s.item_id].qty_do||0)-(f.value[s.item_id].qty_receive||0)),1)])])])):a("",!0),s.remaining_qty!==void 0?(r(),i("div",xt,[e("div",pt,[e("div",ht,[t[44]||(t[44]=e("span",{class:"font-medium text-yellow-800"},"Remaining Qty:",-1)),e("span",wt,o(s.remaining_qty),1)]),e("div",kt,[t[45]||(t[45]=e("span",{class:"font-medium text-green-800"},"Received Qty:",-1)),e("span",jt,o(s.received_qty),1)])])])):a("",!0),s.floor_order_info||s.packing_list_info||s.good_receive_info?(r(),i("div",Dt,[t[51]||(t[51]=e("h6",{class:"font-medium text-sm mb-2 text-blue-800"},"Document Information:",-1)),e("div",St,[s.floor_order_info?(r(),i("div",Ct,[t[46]||(t[46]=e("div",{class:"font-medium text-gray-700"},"Floor Order",-1)),e("div",qt,o(s.floor_order_info.number),1),e("div",Ot,o(new Date(s.floor_order_info.created_at).toLocaleDateString()),1),e("div",Bt,o(s.floor_order_info.mode),1)])):a("",!0),s.packing_list_info?(r(),i("div",$t,[t[47]||(t[47]=e("div",{class:"font-medium text-gray-700"},"Packing List",-1)),e("div",Ut,o(s.packing_list_info.number),1),e("div",Vt,o(new Date(s.packing_list_info.created_at).toLocaleDateString()),1)])):a("",!0),s.good_receive_info?(r(),i("div",Ft,[t[48]||(t[48]=e("div",{class:"font-medium text-gray-700"},"Good Receive",-1)),e("div",Rt,o(s.good_receive_info.number),1),e("div",At,o(new Date(s.good_receive_info.receive_date).toLocaleDateString()),1)])):a("",!0),e("div",Lt,[t[49]||(t[49]=e("div",{class:"font-medium text-gray-700"},"Delivery Order",-1)),e("div",Et,o(_(n).delivery_order_id?"Selected":"N/A"),1),t[50]||(t[50]=e("div",{class:"text-gray-500"},"Current",-1))])])])):a("",!0)])):a("",!0)])}),128))]))]),e("div",Qt,[$(_(U),{href:m.route("outlet-rejections.index"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:q(()=>t[52]||(t[52]=[g(" Cancel ")])),_:1},8,["href"]),e("button",{type:"submit",disabled:y.value,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50"},[y.value?(r(),i("i",Nt)):(r(),i("i",Pt)),g(" "+o(y.value?"Saving...":"Save Rejection"),1)],8,Tt)])],32)])])])])]),_:1}))}};export{es as default};
