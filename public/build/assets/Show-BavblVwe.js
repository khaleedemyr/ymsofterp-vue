const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-DlrnVByK.js","assets/vendor-utils-CpgP2uT4.js","assets/vendor-vue-g7iCcTkf.js","assets/vendor-charts-CuqD4wLC.js","assets/app-Cm5y7Vpr.css"])))=>i.map(i=>d[i]);
import{_ as P}from"./app-DlrnVByK.js";import{r as C,a as vt,A as kt,B as l,C as wt,D as t,L as r,E as d,G as m,Q as o,N as a,l as _,Y as Pt,F as k,M as w,O as B,W as b}from"./vendor-vue-g7iCcTkf.js";import{A as Ct}from"./AppLayout-BKllqouQ.js";import{a as Bt}from"./vendor-utils-CpgP2uT4.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-10Z7fBeb.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const At={class:"w-full py-8 px-0"},Dt={class:"flex justify-between items-center mb-6"},jt={class:"flex gap-2"},Tt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},$t={class:"lg:col-span-2 space-y-6"},qt={class:"bg-white rounded-2xl shadow-2xl p-6"},It={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rt={class:"mt-1 text-lg font-semibold text-gray-900"},Et={class:"mt-1 text-gray-900"},Nt={class:"mt-1 text-lg font-bold text-green-600"},Ot={class:"mt-1 text-gray-900"},St={key:0},Mt={class:"mt-1 text-gray-900"},Ft={key:1},Lt={class:"mt-1 text-gray-900"},Gt={key:0,class:"mt-4"},Vt={class:"mt-1 text-gray-900"},zt={key:1,class:"mt-4"},Yt={class:"mt-1 text-gray-900"},Kt={key:0,class:"bg-white rounded-2xl shadow-2xl p-6"},Qt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ut={class:"mt-1 text-lg font-semibold text-gray-900"},Wt={class:"mt-1 text-gray-900"},Ht={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-800"},Jt={key:0},Xt={class:"mt-1 text-gray-900"},Zt={key:1},te={class:"mt-1 text-red-600 font-semibold"},ee={key:0},se={key:1},oe={key:2},ae={class:"mt-1 text-lg font-bold text-blue-600"},ne={key:2},le={class:"mt-1"},re={key:0,class:"mt-2 text-sm text-gray-700"},ie={key:0,class:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl"},de={key:0,class:"text-center py-4"},ue={key:1},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},pe={class:"text-lg font-bold text-gray-900"},me={class:"text-lg font-bold text-green-600"},xe={class:"text-xs text-gray-500 mt-1"},ge={key:0,class:"mb-4"},_e={class:"w-full bg-gray-200 rounded-full h-3"},fe={class:"text-xs text-gray-600 mt-1 text-center"},ye={key:1,class:"mb-4 p-2 bg-green-100 border border-green-300 rounded-lg"},be={key:2,class:"mt-4"},he={class:"space-y-2"},ve={class:"flex items-center gap-3"},ke={class:"text-xs font-medium text-gray-500"},we={class:"text-sm font-medium text-gray-900"},Pe={class:"text-xs text-gray-500"},Ce={class:"text-right"},Be={class:"text-sm font-semibold text-gray-900"},Ae={key:2,class:"text-center py-4 text-gray-500"},De={key:1,class:"mt-6"},je={class:"overflow-x-auto"},Te={class:"min-w-full divide-y divide-gray-200"},$e={class:"bg-white divide-y divide-gray-200"},qe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Ie={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ee={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-xs"},Oe={key:0,class:"text-red-600"},Se={key:0},Me={key:1},Fe={key:1,class:"text-gray-400"},Le={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},Ge={key:1,class:"bg-white rounded-2xl shadow-2xl p-6"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ze={class:"mt-1 text-lg font-semibold text-gray-900"},Ye={class:"mt-1 text-gray-900"},Ke={class:"mt-1 text-gray-900"},Qe={key:0},Ue={class:"mt-1 text-gray-900"},We={class:"mt-1 text-lg font-bold text-green-600"},He={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800"},Je={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-yellow-100 text-yellow-800"},Xe={key:0,class:"mt-4"},Ze={class:"mt-1 text-gray-900"},ts={key:2,class:"bg-white rounded-2xl shadow-2xl p-6"},es={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ss={class:"mt-1 text-lg font-semibold text-gray-900"},os={class:"mt-1 text-gray-900"},as={class:"mt-1 text-lg font-bold text-green-600"},ns={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800"},ls={key:0,class:"mt-4"},rs={class:"mt-1 text-gray-900"},is={key:3,class:"bg-white rounded-2xl shadow-2xl p-6"},ds={key:0,class:"mb-6"},us={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},cs=["onClick"],ps={class:"aspect-square bg-gray-100 border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200"},ms=["src","alt","onClick"],xs={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent text-white p-2"},gs={class:"text-xs truncate font-medium"},_s={key:1,class:"flex items-center gap-3"},fs={class:"flex-1 min-w-0"},ys={class:"text-sm font-medium text-gray-900 truncate"},bs={class:"text-xs text-gray-500"},hs={class:"flex-shrink-0"},vs=["href"],ks={key:1,class:"mb-6"},ws={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ps=["onClick"],Cs={class:"aspect-square bg-gray-100 border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200"},Bs=["src","alt","onClick"],As={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent text-white p-2"},Ds={class:"text-xs truncate font-medium"},js={key:0,class:"text-xs text-green-300"},Ts={key:1,class:"flex items-center gap-3"},$s={class:"flex-1 min-w-0"},qs={class:"text-sm font-medium text-gray-900 truncate"},Is={class:"text-xs text-gray-500"},Rs={key:0,class:"text-xs text-green-600 mt-1"},Es={class:"flex-shrink-0"},Ns=["href"],Os={key:2},Ss={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ms=["onClick"],Fs={class:"aspect-square bg-gray-100 border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200"},Ls=["src","alt","onClick"],Gs={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent text-white p-2"},Vs={class:"text-xs truncate font-medium"},zs={key:1,class:"flex items-center gap-3"},Ys={class:"flex-1 min-w-0"},Ks={class:"text-sm font-medium text-gray-900 truncate"},Qs={class:"text-xs text-gray-500"},Us={class:"flex-shrink-0"},Ws=["href"],Hs={class:"space-y-6"},Js={class:"bg-white rounded-2xl shadow-2xl p-6"},Xs={class:"space-y-3"},Zs={class:"bg-white rounded-2xl shadow-2xl p-6"},to={class:"space-y-3"},eo={class:"mt-1 text-gray-900"},so={class:"mt-1 text-gray-900"},oo={key:0},ao={class:"mt-1 text-gray-900"},no={key:1},lo={class:"mt-1 text-gray-900"},ro={key:2},io={class:"mt-1 text-gray-900"},uo={key:3},co={class:"mt-1 text-gray-900"},po=["src","alt"],mo={class:"text-center text-white mt-2"},xo={class:"text-sm"},Co={__name:"Show",props:{payment:Object,po_attachments:Array,pr_attachments:Array,retail_non_food_attachments:Array},setup(u){var R;const A=u,s=A.payment,h=C(null),D=C(!1),c=C(null),j=C(!1);console.log("Retail Non Food Attachments:",A.retail_non_food_attachments),console.log("Payment Retail Non Food ID:",(R=A.payment)==null?void 0:R.retail_non_food_id);function f(i){return i?new Date(i).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"}):"-"}function T(i){return i?new Date(i).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function p(i){return i==null?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(i)}function dt(i){return{pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",paid:"bg-blue-100 text-blue-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"}[i]||"bg-gray-100 text-gray-800"}function ut(i){return{pending:"Pending",approved:"Approved",paid:"Paid",rejected:"Rejected",cancelled:"Cancelled"}[i]||i}function ct(i){return{cash:"bg-green-100 text-green-800",transfer:"bg-blue-100 text-blue-800",check:"bg-purple-100 text-purple-800"}[i]||"bg-gray-100 text-gray-800"}function pt(i){return{cash:"Cash",transfer:"Transfer",check:"Check"}[i]||i}function mt(){b.get("/non-food-payments")}function xt(){b.visit(`/non-food-payments/${s.id}/edit`)}function gt(){P(async()=>{const{default:i}=await import("./app-DlrnVByK.js").then(e=>e.s);return{default:i}},__vite__mapDeps([0,1,2,3,4])).then(({default:i})=>{i.fire({title:"Approve Payment?",text:"Apakah Anda yakin ingin menyetujui payment ini?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Approve!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&b.post(`/non-food-payments/${s.id}/approve`,{},{onSuccess:()=>{i.fire("Berhasil","Payment berhasil disetujui!","success")},onError:()=>{i.fire("Gagal","Gagal menyetujui Payment","error")}})})})}function _t(){P(async()=>{const{default:i}=await import("./app-DlrnVByK.js").then(e=>e.s);return{default:i}},__vite__mapDeps([0,1,2,3,4])).then(({default:i})=>{i.fire({title:"Reject Payment?",text:"Apakah Anda yakin ingin menolak payment ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Reject!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&b.post(`/non-food-payments/${s.id}/reject`,{},{onSuccess:()=>{i.fire("Berhasil","Payment berhasil ditolak!","success")},onError:()=>{i.fire("Gagal","Gagal menolak Payment","error")}})})})}function ft(){P(async()=>{const{default:i}=await import("./app-DlrnVByK.js").then(e=>e.s);return{default:i}},__vite__mapDeps([0,1,2,3,4])).then(({default:i})=>{i.fire({title:"Tandai sebagai Dibayar?",text:"Apakah Anda yakin payment ini sudah dibayar?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Tandai!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&b.post(`/non-food-payments/${s.id}/mark-as-paid`,{},{onSuccess:()=>{i.fire("Berhasil","Payment berhasil ditandai sebagai dibayar!","success")},onError:()=>{i.fire("Gagal","Gagal menandai Payment sebagai dibayar","error")}})})})}function yt(){P(async()=>{const{default:i}=await import("./app-DlrnVByK.js").then(e=>e.s);return{default:i}},__vite__mapDeps([0,1,2,3,4])).then(({default:i})=>{i.fire({title:"Cancel Payment?",text:"Apakah Anda yakin ingin membatalkan payment ini?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Cancel!",cancelButtonText:"Batal"}).then(e=>{e.isConfirmed&&b.post(`/non-food-payments/${s.id}/cancel`,{},{onSuccess:()=>{i.fire("Berhasil","Payment berhasil dibatalkan!","success")},onError:()=>{i.fire("Gagal","Gagal membatalkan Payment","error")}})})})}function $(i){if(!i)return"0 B";const e=1024,x=["B","KB","MB","GB"],v=Math.floor(Math.log(i)/Math.log(e));return parseFloat((i/Math.pow(e,v)).toFixed(2))+" "+x[v]}function q(i){if(!i)return!1;const e=[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"],x=i.toLowerCase().substring(i.lastIndexOf("."));return e.includes(x)}function y(i,e){h.value={path:i,name:e},D.value=!0}function I(){D.value=!1,h.value=null}function bt(){const i=`/non-food-payments/print-preview?ids=${s.id}`;window.open(i,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")}async function ht(){var i,e;if(s.purchase_order_ops_id&&((i=s.purchase_order_ops)==null?void 0:i.payment_type)==="termin"){j.value=!0;try{const x=await Bt.get(`/api/non-food-payments/payment-info/${s.purchase_order_ops_id}`);c.value=x.data}catch(x){console.error("Error fetching payment info:",x),c.value={total_paid:0,remaining:((e=s.purchase_order_ops)==null?void 0:e.grand_total)||0,payment_count:0,payment_history:[]}}finally{j.value=!1}}}return vt(()=>{ht()}),(i,e)=>(l(),kt(Ct,null,{default:wt(()=>{var x,v,E,N,O,S,M,F,L,G,V,z,Y,K,Q,U,W,H,J,X,Z,tt,et,st,ot,at,nt,lt,rt,it;return[t("div",At,[t("div",Dt,[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-eye"}),m(" Detail Non Food Payment ")],-1)),t("div",jt,[t("button",{onClick:mt,class:"bg-gray-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[1]||(e[1]=[t("i",{class:"fa fa-arrow-left mr-1"},null,-1),m(" Kembali ")])),t("button",{onClick:bt,class:"bg-blue-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[2]||(e[2]=[t("i",{class:"fas fa-print mr-1"},null,-1),m(" Print ")])),o(s).status==="pending"?(l(),r("button",{key:0,onClick:xt,class:"bg-yellow-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[3]||(e[3]=[t("i",{class:"fa fa-pencil-alt mr-1"},null,-1),m(" Edit ")]))):d("",!0)])]),t("div",Tt,[t("div",$t,[t("div",qt,[e[15]||(e[15]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Informasi Payment",-1)),t("div",It,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700"},"Payment Number",-1)),t("p",Rt,a(o(s).payment_number),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),t("span",{class:_([dt(o(s).status),"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold"])},a(ut(o(s).status)),3)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700"},"Supplier",-1)),t("p",Et,a(((x=o(s).supplier)==null?void 0:x.name)||"-"),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Amount",-1)),t("p",Nt,a(p(o(s).amount)),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700"},"Payment Method",-1)),t("span",{class:_([ct(o(s).payment_method),"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold"])},a(pt(o(s).payment_method)),3)]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"Payment Date",-1)),t("p",Ot,a(f(o(s).payment_date)),1)]),o(s).due_date?(l(),r("div",St,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700"},"Due Date",-1)),t("p",Mt,a(f(o(s).due_date)),1)])):d("",!0),o(s).reference_number?(l(),r("div",Ft,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"Reference Number",-1)),t("p",Lt,a(o(s).reference_number),1)])):d("",!0)]),o(s).description?(l(),r("div",Gt,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),t("p",Vt,a(o(s).description),1)])):d("",!0),o(s).notes?(l(),r("div",zt,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),t("p",Yt,a(o(s).notes),1)])):d("",!0)]),o(s).purchase_order_ops?(l(),r("div",Kt,[e[34]||(e[34]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Purchase Order Information",-1)),t("div",Qt,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"PO Number",-1)),t("p",Ut,a(o(s).purchase_order_ops.number),1)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700"},"PO Date",-1)),t("p",Wt,a(f(o(s).purchase_order_ops.date)),1)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},"PO Status",-1)),t("span",Ht,a(o(s).purchase_order_ops.status),1)]),o(s).purchase_order_ops.subtotal?(l(),r("div",Jt,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700"},"Subtotal",-1)),t("p",Xt,a(p(o(s).purchase_order_ops.subtotal)),1)])):d("",!0),o(s).purchase_order_ops.discount_total_percent>0||o(s).purchase_order_ops.discount_total_amount>0?(l(),r("div",Zt,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},"Diskon Total PO",-1)),t("p",te,[o(s).purchase_order_ops.discount_total_percent>0?(l(),r("span",ee,a(o(s).purchase_order_ops.discount_total_percent)+"%",1)):d("",!0),o(s).purchase_order_ops.discount_total_percent>0&&o(s).purchase_order_ops.discount_total_amount>0?(l(),r("span",se," / ")):d("",!0),o(s).purchase_order_ops.discount_total_amount>0?(l(),r("span",oe,a(p(o(s).purchase_order_ops.discount_total_amount)),1)):d("",!0)])])):d("",!0),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700"},"Grand Total",-1)),t("p",ae,a(p(o(s).purchase_order_ops.grand_total)),1)]),o(s).purchase_order_ops.payment_type?(l(),r("div",ne,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700"},"Metode Pembayaran",-1)),t("div",le,[t("span",{class:_(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",o(s).purchase_order_ops.payment_type==="lunas"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"])},[t("i",{class:_(o(s).purchase_order_ops.payment_type==="lunas"?"fa fa-check-circle mr-1":"fa fa-calendar-alt mr-1")},null,2),m(" "+a(o(s).purchase_order_ops.payment_type==="lunas"?"Bayar Lunas":"Termin Bayar"),1)],2)]),o(s).purchase_order_ops.payment_type==="termin"&&o(s).purchase_order_ops.payment_terms?(l(),r("p",re,[e[22]||(e[22]=t("strong",null,"Detail Termin:",-1)),m(" "+a(o(s).purchase_order_ops.payment_terms),1)])):d("",!0)])):d("",!0)]),o(s).purchase_order_ops.payment_type==="termin"?(l(),r("div",ie,[j.value?(l(),r("div",de,e[24]||(e[24]=[t("i",{class:"fas fa-spinner fa-spin text-blue-500"},null,-1),t("p",{class:"text-sm text-gray-600 mt-2"},"Memuat informasi pembayaran...",-1)]))):c.value?(l(),r("div",ue,[e[30]||(e[30]=t("h3",{class:"text-lg font-semibold text-blue-800 mb-4 flex items-center"},[t("i",{class:"fa fa-chart-line mr-2"}),m(" Progress Pembayaran Termin ")],-1)),t("div",ce,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Total PO",-1)),t("p",pe,a(p(o(s).purchase_order_ops.grand_total)),1)]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Sudah Dibayar",-1)),t("p",me,a(p(c.value.total_paid)),1),t("p",xe,a(c.value.payment_count)+" pembayaran",1)]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Sisa Pembayaran",-1)),t("p",{class:_(["text-lg font-bold",c.value.remaining>0?"text-red-600":"text-green-600"])},a(p(c.value.remaining)),3)])]),c.value.remaining>0?(l(),r("div",ge,[t("div",_e,[t("div",{class:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:Pt({width:`${c.value.total_paid/o(s).purchase_order_ops.grand_total*100}%`})},null,4)]),t("p",fe," Progress: "+a((c.value.total_paid/o(s).purchase_order_ops.grand_total*100).toFixed(1))+"% ",1)])):(l(),r("div",ye,e[28]||(e[28]=[t("p",{class:"text-sm text-green-800 text-center font-medium"},[t("i",{class:"fa fa-check-circle mr-1"}),m(" PO sudah lunas! ")],-1)]))),c.value.payment_history&&c.value.payment_history.length>0?(l(),r("div",be,[e[29]||(e[29]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"Riwayat Pembayaran",-1)),t("div",he,[(l(!0),r(k,null,w(c.value.payment_history,(n,g)=>(l(),r("div",{key:n.id,class:_(["flex items-center justify-between p-2 bg-white rounded-lg border",n.id===o(s).id?"border-blue-500 bg-blue-50":"border-gray-200"])},[t("div",ve,[t("span",ke,"#"+a(n.payment_sequence||g+1),1),t("div",null,[t("p",we,a(n.payment_number),1),t("p",Pe,a(f(n.payment_date)),1)])]),t("div",Ce,[t("p",Be,a(p(n.amount)),1),t("span",{class:_(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",{"bg-green-100 text-green-800":n.status==="paid","bg-yellow-100 text-yellow-800":n.status==="approved","bg-blue-100 text-blue-800":n.status==="pending"}])},a(n.status),3)])],2))),128))])])):d("",!0)])):(l(),r("div",Ae,e[31]||(e[31]=[t("p",{class:"text-sm"},"Tidak dapat memuat informasi pembayaran",-1)])))])):d("",!0),o(s).purchase_order_ops.items&&o(s).purchase_order_ops.items.length>0?(l(),r("div",De,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"PO Items",-1)),t("div",je,[t("table",Te,[e[32]||(e[32]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Quantity"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Unit"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Diskon"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total")])],-1)),t("tbody",$e,[(l(!0),r(k,null,w(o(s).purchase_order_ops.items,n=>(l(),r("tr",{key:n.id},[t("td",qe,a(n.item_name),1),t("td",Ie,a(n.quantity),1),t("td",Re,a(n.unit),1),t("td",Ee,a(p(n.price)),1),t("td",Ne,[n.discount_percent>0||n.discount_amount>0?(l(),r("div",Oe,[n.discount_percent>0?(l(),r("div",Se,a(n.discount_percent)+"%",1)):d("",!0),n.discount_amount>0?(l(),r("div",Me,a(p(n.discount_amount)),1)):d("",!0)])):(l(),r("span",Fe,"-"))]),t("td",Le,a(p(n.total)),1)]))),128))])])])])):d("",!0)])):d("",!0),o(s).purchase_requisition||o(s).purchase_order_ops&&o(s).purchase_order_ops.source_pr?(l(),r("div",Ge,[e[43]||(e[43]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Purchase Requisition Information",-1)),t("div",Ve,[t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700"},"PR Number",-1)),t("p",ze,a(((E=o(s).purchase_requisition||((v=o(s).purchase_order_ops)==null?void 0:v.source_pr))==null?void 0:E.pr_number)||"-"),1)]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700"},"PR Date",-1)),t("p",Ye,a(f((O=o(s).purchase_requisition||((N=o(s).purchase_order_ops)==null?void 0:N.source_pr))==null?void 0:O.date)),1)]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700"},"Title",-1)),t("p",Ke,a(((M=o(s).purchase_requisition||((S=o(s).purchase_order_ops)==null?void 0:S.source_pr))==null?void 0:M.title)||"-"),1)]),(F=o(s).purchase_requisition)!=null&&F.outlet||(G=(L=o(s).purchase_order_ops)==null?void 0:L.source_pr)!=null&&G.outlet?(l(),r("div",Qe,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700"},"Outlet",-1)),t("p",Ue,a(((K=((V=o(s).purchase_requisition)==null?void 0:V.outlet)||((Y=(z=o(s).purchase_order_ops)==null?void 0:z.source_pr)==null?void 0:Y.outlet))==null?void 0:K.nama_outlet)||"-"),1)])):d("",!0),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700"},"Amount",-1)),t("p",We,a(p(((U=o(s).purchase_requisition||((Q=o(s).purchase_order_ops)==null?void 0:Q.source_pr))==null?void 0:U.amount)||0)),1)]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),t("span",He,a(((H=o(s).purchase_requisition||((W=o(s).purchase_order_ops)==null?void 0:W.source_pr))==null?void 0:H.status)||"-"),1)]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700"},"Priority",-1)),t("span",Je,a(((X=o(s).purchase_requisition||((J=o(s).purchase_order_ops)==null?void 0:J.source_pr))==null?void 0:X.priority)||"-"),1)])]),(tt=o(s).purchase_requisition||((Z=o(s).purchase_order_ops)==null?void 0:Z.source_pr))!=null&&tt.description?(l(),r("div",Xe,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),t("p",Ze,a((st=o(s).purchase_requisition||((et=o(s).purchase_order_ops)==null?void 0:et.source_pr))==null?void 0:st.description),1)])):d("",!0)])):d("",!0),o(s).retail_non_food?(l(),r("div",ts,[e[49]||(e[49]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Retail Non Food Information",-1)),t("div",es,[t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700"},"Retail Number",-1)),t("p",ss,a(o(s).retail_non_food.retail_number||"-"),1)]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700"},"Transaction Date",-1)),t("p",os,a(f(o(s).retail_non_food.transaction_date)),1)]),t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-gray-700"},"Total Amount",-1)),t("p",as,a(p(o(s).retail_non_food.total_amount||0)),1)]),t("div",null,[e[47]||(e[47]=t("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),t("span",ns,a(o(s).retail_non_food.status||"-"),1)])]),o(s).retail_non_food.notes?(l(),r("div",ls,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-gray-700"},"Notes",-1)),t("p",rs,a(o(s).retail_non_food.notes),1)])):d("",!0)])):d("",!0),u.po_attachments&&u.po_attachments.length>0||u.pr_attachments&&u.pr_attachments.length>0||u.retail_non_food_attachments&&u.retail_non_food_attachments.length>0?(l(),r("div",is,[e[62]||(e[62]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Attachments",-1)),u.po_attachments&&u.po_attachments.length>0?(l(),r("div",ds,[e[53]||(e[53]=t("h3",{class:"text-lg font-semibold text-gray-700 mb-3"},"Purchase Order Attachments",-1)),t("div",us,[(l(!0),r(k,null,w(u.po_attachments,n=>(l(),r("div",{key:`po-${n.id}`,class:"border border-gray-200 rounded-lg p-3"},[q(n.file_name)?(l(),r("div",{key:0,class:"relative group cursor-pointer",onClick:g=>y(`/po-ops/attachments/${n.id}/view`,n.file_name)},[t("div",ps,[t("img",{src:`/po-ops/attachments/${n.id}/view`,alt:n.file_name,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",onClick:B(g=>y(`/po-ops/attachments/${n.id}/view`,n.file_name),["stop"])},null,8,ms)]),e[50]||(e[50]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center"},[t("div",{class:"opacity-0 group-hover:opacity-100 bg-white bg-opacity-90 text-gray-800 px-3 py-1 rounded-full text-sm transition-all duration-200 flex items-center gap-2"},[t("i",{class:"fas fa-search-plus"}),t("span",null,"View")])],-1)),t("div",xs,[t("p",gs,a(n.file_name),1)])],8,cs)):(l(),r("div",_s,[e[52]||(e[52]=t("div",{class:"flex-shrink-0"},[t("i",{class:"fa fa-file text-gray-500 text-xl"})],-1)),t("div",fs,[t("p",ys,a(n.file_name),1),t("p",bs,a($(n.file_size)),1)]),t("div",hs,[t("a",{href:n.file_path,target:"_blank",class:"text-blue-600 hover:text-blue-800 text-sm"},e[51]||(e[51]=[t("i",{class:"fa fa-download"},null,-1)]),8,vs)])]))]))),128))])])):d("",!0),u.pr_attachments&&u.pr_attachments.length>0?(l(),r("div",ks,[e[57]||(e[57]=t("h3",{class:"text-lg font-semibold text-gray-700 mb-3"},"Purchase Requisition Attachments",-1)),t("div",ws,[(l(!0),r(k,null,w(u.pr_attachments,n=>(l(),r("div",{key:`pr-${n.id}`,class:"border border-gray-200 rounded-lg p-3"},[q(n.file_name)?(l(),r("div",{key:0,class:"relative group cursor-pointer",onClick:g=>y(`/purchase-requisitions/attachments/${n.id}/view`,n.file_name)},[t("div",Cs,[t("img",{src:`/purchase-requisitions/attachments/${n.id}/view`,alt:n.file_name,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",onClick:B(g=>y(`/purchase-requisitions/attachments/${n.id}/view`,n.file_name),["stop"])},null,8,Bs)]),e[54]||(e[54]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center"},[t("div",{class:"opacity-0 group-hover:opacity-100 bg-white bg-opacity-90 text-gray-800 px-3 py-1 rounded-full text-sm transition-all duration-200 flex items-center gap-2"},[t("i",{class:"fas fa-search-plus"}),t("span",null,"View")])],-1)),t("div",As,[t("p",Ds,a(n.file_name),1),n.pr_description?(l(),r("p",js,a(n.pr_description),1)):d("",!0)])],8,Ps)):(l(),r("div",Ts,[e[56]||(e[56]=t("div",{class:"flex-shrink-0"},[t("i",{class:"fa fa-file text-gray-500 text-xl"})],-1)),t("div",$s,[t("p",qs,a(n.file_name),1),t("p",Is,a($(n.file_size)),1),n.pr_description?(l(),r("p",Rs,a(n.pr_description),1)):d("",!0)]),t("div",Es,[t("a",{href:n.file_path,target:"_blank",class:"text-green-600 hover:text-green-800 text-sm"},e[55]||(e[55]=[t("i",{class:"fa fa-download"},null,-1)]),8,Ns)])]))]))),128))])])):d("",!0),u.retail_non_food_attachments&&u.retail_non_food_attachments.length>0?(l(),r("div",Os,[e[61]||(e[61]=t("h3",{class:"text-lg font-semibold text-gray-700 mb-3"},"Retail Non Food Attachments",-1)),t("div",Ss,[(l(!0),r(k,null,w(u.retail_non_food_attachments,n=>(l(),r("div",{key:`rnf-${n.id}`,class:"border border-gray-200 rounded-lg p-3"},[q(n.file_name)?(l(),r("div",{key:0,class:"relative group cursor-pointer",onClick:g=>y(`/storage/${n.file_path}`,n.file_name)},[t("div",Fs,[t("img",{src:`/storage/${n.file_path}`,alt:n.file_name,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",onClick:B(g=>y(`/storage/${n.file_path}`,n.file_name),["stop"])},null,8,Ls)]),e[58]||(e[58]=t("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center"},[t("div",{class:"opacity-0 group-hover:opacity-100 bg-white bg-opacity-90 text-gray-800 px-3 py-1 rounded-full text-sm transition-all duration-200 flex items-center gap-2"},[t("i",{class:"fas fa-search-plus"}),t("span",null,"View")])],-1)),t("div",Gs,[t("p",Vs,a(n.file_name),1)])],8,Ms)):(l(),r("div",zs,[e[60]||(e[60]=t("div",{class:"flex-shrink-0"},[t("i",{class:"fa fa-file text-gray-500 text-xl"})],-1)),t("div",Ys,[t("p",Ks,a(n.file_name),1),t("p",Qs,a($(n.file_size)),1)]),t("div",Us,[t("a",{href:`/storage/${n.file_path}`,target:"_blank",class:"text-blue-600 hover:text-blue-800 text-sm",download:""},e[59]||(e[59]=[t("i",{class:"fa fa-download"},null,-1)]),8,Ws)])]))]))),128))])])):d("",!0)])):d("",!0)]),t("div",Hs,[t("div",Js,[e[67]||(e[67]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Actions",-1)),t("div",Xs,[o(s).status==="pending"?(l(),r("button",{key:0,onClick:gt,class:"w-full bg-green-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[63]||(e[63]=[t("i",{class:"fa fa-check mr-2"},null,-1),m(" Approve ")]))):d("",!0),o(s).status==="pending"?(l(),r("button",{key:1,onClick:_t,class:"w-full bg-red-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[64]||(e[64]=[t("i",{class:"fa fa-times mr-2"},null,-1),m(" Reject ")]))):d("",!0),o(s).status==="approved"?(l(),r("button",{key:2,onClick:ft,class:"w-full bg-blue-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[65]||(e[65]=[t("i",{class:"fa fa-money-bill-wave mr-2"},null,-1),m(" Mark as Paid ")]))):d("",!0),["pending","approved"].includes(o(s).status)?(l(),r("button",{key:3,onClick:yt,class:"w-full bg-gray-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-2xl transition-all font-semibold"},e[66]||(e[66]=[t("i",{class:"fa fa-ban mr-2"},null,-1),m(" Cancel ")]))):d("",!0)])]),t("div",Zs,[e[74]||(e[74]=t("h2",{class:"text-xl font-bold text-gray-800 mb-4"},"Payment Details",-1)),t("div",to,[t("div",null,[e[68]||(e[68]=t("label",{class:"block text-sm font-medium text-gray-700"},"Created By",-1)),t("p",eo,a(((ot=o(s).creator)==null?void 0:ot.nama_lengkap)||"-"),1)]),t("div",null,[e[69]||(e[69]=t("label",{class:"block text-sm font-medium text-gray-700"},"Created At",-1)),t("p",so,a(T(o(s).created_at)),1)]),o(s).status==="rejected"&&o(s).approved_by?(l(),r("div",oo,[e[70]||(e[70]=t("label",{class:"block text-sm font-medium text-gray-700"},"Rejected By",-1)),t("p",ao,a(((at=o(s).approver)==null?void 0:at.nama_lengkap)||"-"),1)])):d("",!0),o(s).status==="rejected"&&o(s).approved_at?(l(),r("div",no,[e[71]||(e[71]=t("label",{class:"block text-sm font-medium text-gray-700"},"Rejected At",-1)),t("p",lo,a(T(o(s).approved_at)),1)])):d("",!0),o(s).status!=="rejected"&&o(s).approved_by?(l(),r("div",ro,[e[72]||(e[72]=t("label",{class:"block text-sm font-medium text-gray-700"},"Approved By",-1)),t("p",io,a(((nt=o(s).approver)==null?void 0:nt.nama_lengkap)||"-"),1)])):d("",!0),o(s).status!=="rejected"&&o(s).approved_at?(l(),r("div",uo,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-gray-700"},"Approved At",-1)),t("p",co,a(T(o(s).approved_at)),1)])):d("",!0)])])])])]),D.value?(l(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:I},[t("div",{class:"relative max-w-4xl max-h-full p-4",onClick:e[0]||(e[0]=B(()=>{},["stop"]))},[t("button",{onClick:I,class:"absolute top-2 right-2 text-white text-2xl hover:text-gray-300 z-10"},e[75]||(e[75]=[t("i",{class:"fa fa-times"},null,-1)])),t("img",{src:(lt=h.value)==null?void 0:lt.path,alt:(rt=h.value)==null?void 0:rt.name,class:"max-w-full max-h-full object-contain rounded-lg"},null,8,po),t("div",mo,[t("p",xo,a((it=h.value)==null?void 0:it.name),1)])])])):d("",!0)]}),_:1}))}};export{Co as default};
