import{r as G,A as T,B as i,C as S,D as t,G as o,l as d,N as a,L as n,E as P,F as k,M as p,W as h}from"./vendor-vue-g7iCcTkf.js";import{A as Q}from"./AppLayout-BqYoiRQJ.js";import{S as y}from"./app-D7xoXxxM.js";import{a as $}from"./vendor-utils-CpgP2uT4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-Sbw2UVT4.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";import"./vendor-charts-CuqD4wLC.js";const E={class:"w-full py-8 px-4"},L={class:"max-w-6xl mx-auto"},q={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},I={class:"lg:col-span-2"},Y={class:"bg-white rounded-2xl shadow-lg p-8"},F={class:"flex items-center justify-between mb-6"},V={class:"flex gap-2"},M={class:"space-y-6"},W={class:"border-b border-gray-200 pb-4"},z={class:"text-lg font-semibold text-gray-800"},O={class:"border-b border-gray-200 pb-4"},H={class:"text-lg font-semibold text-gray-800"},J={class:"border-b border-gray-200 pb-4"},K={class:"flex flex-wrap gap-2"},R={key:0,class:"text-gray-400"},U={class:"border-b border-gray-200 pb-4"},X={class:"border-b border-gray-200 pb-4"},Z={class:"text-gray-800"},tt={class:"text-gray-800"},et={class:"bg-white rounded-2xl shadow-lg p-8 mt-6"},st={key:0,class:"space-y-8"},at={class:"flex items-center justify-between mb-6"},it={class:"text-lg font-semibold text-gray-800 flex items-center"},nt={class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold"},lt={key:0,class:"space-y-4"},ot={class:"flex items-center justify-between mb-4"},dt={class:"text-md font-semibold text-gray-800"},rt={class:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold"},ct={key:0,class:"space-y-3"},ut={class:"flex items-center justify-between"},gt={class:"flex items-center"},mt={class:"font-medium text-gray-800"},ft={class:"text-sm text-gray-500"},xt={class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold"},bt={key:1,class:"text-center py-4 text-gray-400"},yt={key:1,class:"text-center py-4 text-gray-400"},kt={key:1,class:"text-center py-8 text-gray-400"},pt={class:"space-y-6"},ht={class:"bg-white rounded-2xl shadow-lg p-6"},vt={class:"text-center"},wt={class:"bg-white rounded-2xl shadow-lg p-6"},At={class:"space-y-3"},Ct={class:"flex justify-between"},_t={class:"font-semibold"},Bt={class:"flex justify-between"},jt={class:"font-semibold"},Dt={class:"flex justify-between"},Nt={class:"font-semibold"},Gt={class:"flex justify-between"},Tt={class:"font-semibold"},St={class:"flex justify-between"},Pt={class:"font-semibold"},Qt={class:"bg-white rounded-2xl shadow-lg p-6"},$t={class:"space-y-3"},Et=["disabled"],Lt={key:0,class:"fa-solid fa-spinner fa-spin mr-2"},qt={key:1,class:"fa-solid fa-trash mr-2"},Kt={__name:"Show",props:{guidance:Object},setup(s){const r=s,m=G(!1);function C(){h.visit(`/qa-guidances/${r.guidance.id}/edit`)}function D(){h.visit("/qa-guidances")}async function N(){(await y.fire({title:"Nonaktifkan QA Guidance?",text:`Yakin ingin menonaktifkan QA Guidance untuk departemen "${r.guidance.departemen}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Nonaktifkan!",cancelButtonText:"Batal"})).isConfirmed&&(m.value=!0,h.delete(`/qa-guidances/${r.guidance.id}`,{onSuccess:()=>{y.fire("Berhasil","QA Guidance berhasil dinonaktifkan!","success")},onFinish:()=>{m.value=!1}}))}async function _(){const v=r.guidance.status==="A"?"menonaktifkan":"mengaktifkan";if((await y.fire({title:`${r.guidance.status==="A"?"Nonaktifkan":"Aktifkan"} QA Guidance?`,text:`Yakin ingin ${v} QA Guidance untuk departemen "${r.guidance.departemen}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:`Ya, ${r.guidance.status==="A"?"Nonaktifkan":"Aktifkan"}!`,cancelButtonText:"Batal"})).isConfirmed)try{const g=await $.patch(`/qa-guidances/${r.guidance.id}/toggle-status`);g.data.success&&(y.fire("Berhasil",g.data.message,"success"),h.reload())}catch{y.fire("Error","Gagal mengubah status QA Guidance","error")}}return(v,e)=>(i(),T(Q,{title:"Detail QA Guidance"},{default:S(()=>{var g,B,j;return[t("div",E,[t("div",L,[t("div",{class:"flex items-center gap-4 mb-6"},[t("button",{onClick:D,class:"text-gray-500 hover:text-gray-700 transition"},e[0]||(e[0]=[t("i",{class:"fa-solid fa-arrow-left text-xl"},null,-1)])),e[1]||(e[1]=t("h1",{class:"text-2xl font-bold text-gray-800 flex items-center gap-2"},[t("i",{class:"fa-solid fa-clipboard-check text-blue-500"}),o(" Detail QA Guidance ")],-1))]),t("div",q,[t("div",I,[t("div",Y,[t("div",F,[e[3]||(e[3]=t("h2",{class:"text-xl font-bold text-gray-800"},"Informasi QA Guidance",-1)),t("div",V,[t("button",{onClick:C,class:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl font-medium transition"},e[2]||(e[2]=[t("i",{class:"fa-solid fa-edit mr-2"},null,-1),o("Edit ")])),t("button",{onClick:_,class:d(["px-4 py-2 rounded-xl font-medium transition",s.guidance.status==="A"?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"])},[t("i",{class:d(s.guidance.status==="A"?"fa-solid fa-times-circle mr-2":"fa-solid fa-check-circle mr-2")},null,2),o(" "+a(s.guidance.status==="A"?"Nonaktifkan":"Aktifkan"),1)],2)])]),t("div",M,[t("div",W,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-gray-500 mb-2"},"Title",-1)),t("p",z,a(s.guidance.title),1)]),t("div",O,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-500 mb-2"},"Departemen",-1)),t("p",H,a(s.guidance.departemen),1)]),t("div",J,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-500 mb-2"},"Categories",-1)),t("div",K,[(i(!0),n(k,null,p(s.guidance.transformedCategories,l=>(i(),n("span",{key:l.category_id,class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold"},a(l.category_name),1))),128)),!s.guidance.transformedCategories||s.guidance.transformedCategories.length===0?(i(),n("span",R,"-")):P("",!0)])]),t("div",U,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-500 mb-2"},"Status",-1)),t("span",{class:d(["inline-flex px-3 py-1 rounded-full text-sm font-semibold",s.guidance.status==="A"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},[t("i",{class:d(s.guidance.status==="A"?"fa-solid fa-check-circle mr-2":"fa-solid fa-times-circle mr-2")},null,2),o(" "+a(s.guidance.status==="A"?"Aktif":"Non-Aktif"),1)],2)]),t("div",X,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-500 mb-2"},"Dibuat Pada",-1)),t("p",Z,a(new Date(s.guidance.created_at).toLocaleString("id-ID")),1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-500 mb-2"},"Diupdate Pada",-1)),t("p",tt,a(new Date(s.guidance.updated_at).toLocaleString("id-ID")),1)])])]),t("div",et,[e[15]||(e[15]=t("h3",{class:"text-xl font-bold text-gray-800 mb-6"},"Categories & Parameters",-1)),s.guidance.transformedCategories&&s.guidance.transformedCategories.length>0?(i(),n("div",st,[(i(!0),n(k,null,p(s.guidance.transformedCategories,(l,f)=>{var c;return i(),n("div",{key:f,class:"border border-gray-200 rounded-xl p-6 bg-gray-50"},[t("div",at,[t("h4",it,[e[10]||(e[10]=t("i",{class:"fa-solid fa-tag text-blue-500 mr-2"},null,-1)),o(" "+a(l.category_name),1)]),t("span",nt,a(((c=l.parameters)==null?void 0:c.length)||0)+" Parameter Pemeriksaan ",1)]),l.parameters&&l.parameters.length>0?(i(),n("div",lt,[(i(!0),n(k,null,p(l.parameters,(u,w)=>{var x;return i(),n("div",{key:w,class:"border border-gray-300 rounded-lg p-4 bg-white"},[t("div",ot,[t("h5",dt,a(u.parameter_pemeriksaan),1),t("span",rt,a(((x=u.details)==null?void 0:x.length)||0)+" Parameter ",1)]),u.details&&u.details.length>0?(i(),n("div",ct,[(i(!0),n(k,null,p(u.details,(b,A)=>(i(),n("div",{key:A,class:"bg-gray-50 rounded-lg p-3"},[t("div",ut,[t("div",gt,[e[11]||(e[11]=t("i",{class:"fa-solid fa-cogs text-gray-400 mr-3"},null,-1)),t("div",null,[t("p",mt,a(b.parameter_name),1),t("p",ft,"Parameter ID: "+a(b.parameter_id),1)])]),t("span",xt,a(b.point)+" Point ",1)])]))),128))])):(i(),n("div",bt,e[12]||(e[12]=[t("i",{class:"fa-solid fa-exclamation-triangle mr-2"},null,-1),o(" Tidak ada parameter detail ")])))])}),128))])):(i(),n("div",yt,e[13]||(e[13]=[t("i",{class:"fa-solid fa-clipboard-list mr-2"},null,-1),o(" Tidak ada parameter pemeriksaan untuk category ini ")])))])}),128))])):(i(),n("div",kt,e[14]||(e[14]=[t("i",{class:"fa-solid fa-clipboard-list text-4xl mb-4"},null,-1),t("p",null,"Tidak ada categories dan parameters",-1)])))])]),t("div",pt,[t("div",ht,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Status",-1)),t("div",vt,[t("div",{class:d(["w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",s.guidance.status==="A"?"bg-green-100":"bg-red-100"])},[t("i",{class:d(["text-2xl",s.guidance.status==="A"?"fa-solid fa-check-circle text-green-600":"fa-solid fa-times-circle text-red-600"])},null,2)],2),t("p",{class:d(["text-lg font-semibold",s.guidance.status==="A"?"text-green-800":"text-red-800"])},a(s.guidance.status==="A"?"Aktif":"Non-Aktif"),3)])]),t("div",wt,[e[22]||(e[22]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Summary",-1)),t("div",At,[t("div",Ct,[e[17]||(e[17]=t("span",{class:"text-gray-600"},"Title:",-1)),t("span",_t,a(s.guidance.title),1)]),t("div",Bt,[e[18]||(e[18]=t("span",{class:"text-gray-600"},"Departemen:",-1)),t("span",jt,a(s.guidance.departemen),1)]),t("div",Dt,[e[19]||(e[19]=t("span",{class:"text-gray-600"},"Categories:",-1)),t("span",Nt,a(((g=s.guidance.transformedCategories)==null?void 0:g.length)||0)+" categories",1)]),t("div",Gt,[e[20]||(e[20]=t("span",{class:"text-gray-600"},"Total Parameter:",-1)),t("span",Tt,a(((B=s.guidance.transformedCategories)==null?void 0:B.reduce((l,f)=>{var c;return l+(((c=f.parameters)==null?void 0:c.length)||0)},0))||0),1)]),t("div",St,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Total Point:",-1)),t("span",Pt,a(((j=s.guidance.transformedCategories)==null?void 0:j.reduce((l,f)=>{var c;return l+(((c=f.parameters)==null?void 0:c.reduce((u,w)=>{var x;return u+(((x=w.details)==null?void 0:x.reduce((b,A)=>b+(A.point||0),0))||0)},0))||0)},0))||0),1)])])]),t("div",Qt,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Aksi",-1)),t("div",$t,[t("button",{onClick:C,class:"w-full px-4 py-3 bg-yellow-500 hover:bg-yellow-600 text-white rounded-xl font-medium transition flex items-center justify-center"},e[23]||(e[23]=[t("i",{class:"fa-solid fa-edit mr-2"},null,-1),o("Edit QA Guidance ")])),t("button",{onClick:_,class:d(["w-full px-4 py-3 rounded-xl font-medium transition flex items-center justify-center",s.guidance.status==="A"?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"])},[t("i",{class:d(s.guidance.status==="A"?"fa-solid fa-times-circle mr-2":"fa-solid fa-check-circle mr-2")},null,2),o(" "+a(s.guidance.status==="A"?"Nonaktifkan":"Aktifkan"),1)],2),t("button",{onClick:N,disabled:m.value,class:"w-full px-4 py-3 bg-gray-500 hover:bg-gray-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-xl font-medium transition flex items-center justify-center"},[m.value?(i(),n("i",Lt)):(i(),n("i",qt)),o(" "+a(m.value?"Menghapus...":"Nonaktifkan"),1)],8,Et)])])])])])])]}),_:1}))}};export{Kt as default};
