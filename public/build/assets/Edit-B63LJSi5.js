import{r as c,a as k,c as w,w as g,A as _,B as a,C as O,D as t,G as A,N as i,O as B,L as d,E as C,H as b,V as p,F as V,M as E,W as x}from"./vendor-vue-g7iCcTkf.js";import{A as S}from"./AppLayout-D_GBiqpN.js";import"./vendor-utils-CpgP2uT4.js";import"./app-D3yJLFoH.js";import"./vendor-charts-CuqD4wLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ProfileUpdateModal-DW6hwgWG.js";import"./InputLabel-Bg0AMQZ3.js";import"./PrimaryButton-BbBAD9SX.js";import"./TextInput-B7P_xVe4.js";const M={class:"w-full px-4 py-8"},N={class:"text-2xl font-bold text-blue-700 mb-6 flex items-center gap-2"},U={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},D={class:"w-full border border-gray-200 rounded-lg px-4 py-3 bg-gray-50 text-gray-600"},F={class:"border border-blue-200 rounded-lg max-h-64 overflow-y-auto bg-white"},L={key:0,class:"p-3 border-b border-gray-200 bg-gray-50"},P={class:"flex items-center cursor-pointer"},j={class:"ml-auto text-xs text-gray-500"},T={key:1,class:"divide-y divide-gray-200"},W={class:"flex items-center cursor-pointer"},G=["value"],H={class:"ml-3 text-sm font-medium text-gray-700"},R={key:2,class:"p-6 text-center text-gray-500"},tt={__name:"Edit",props:{user:Object,currentOutlets:Array,outlets:Array},setup(o){const r=o,m=c({outlet_ids:[]}),l=c([]),u=c(!1);k(()=>{l.value=[...r.currentOutlets],m.value.outlet_ids=[...r.currentOutlets]}),w(()=>l.value),g(l,s=>{m.value.outlet_ids=s},{deep:!0}),g(u,s=>{s?l.value=r.outlets.map(e=>e.id_outlet):l.value=[]}),g(l,s=>{u.value=s.length>0&&s.length===r.outlets.length},{deep:!0});function v(){u.value?l.value=r.outlets.map(s=>s.id_outlet):l.value=[]}function y(){if(m.value.outlet_ids.length===0){alert("Pilih minimal satu outlet");return}x.put(`/regional/${r.user.id}`,m.value,{onSuccess:()=>{},onError:s=>{console.error("Validation errors:",s)}})}function f(){x.get("/regional")}return(s,e)=>(a(),_(S,null,{default:O(()=>[t("div",M,[t("h1",N,[e[2]||(e[2]=t("i",{class:"fa-solid fa-globe"},null,-1)),A(" Edit Regional - "+i(o.user.name),1)]),t("form",{onSubmit:B(y,["prevent"])},[t("div",U,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"User",-1)),t("div",D,i(o.user.name)+" ("+i(o.user.email)+") ",1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Pilih Outlets",-1)),t("div",F,[o.outlets.length>0?(a(),d("div",L,[t("label",P,[b(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=n=>u.value=n),onChange:v,class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,544),[[p,u.value]]),e[4]||(e[4]=t("span",{class:"ml-2 text-sm font-medium text-gray-700"},"Pilih Semua Outlet",-1)),t("span",j,i(l.value.length)+" dari "+i(o.outlets.length)+" dipilih",1)])])):C("",!0),o.outlets.length>0?(a(),d("div",T,[(a(!0),d(V,null,E(o.outlets,n=>(a(),d("div",{key:n.id_outlet,class:"p-3 hover:bg-gray-50 transition-colors"},[t("label",W,[b(t("input",{type:"checkbox",value:n.id_outlet,"onUpdate:modelValue":e[1]||(e[1]=h=>l.value=h),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,G),[[p,l.value]]),t("span",H,i(n.nama_outlet),1)])]))),128))])):(a(),d("div",R,e[5]||(e[5]=[t("i",{class:"fas fa-store text-2xl mb-2"},null,-1),t("p",{class:"text-sm"},"Tidak ada outlet yang tersedia",-1)])))])])]),t("div",{class:"flex justify-end gap-2 mt-8"},[t("button",{type:"button",onClick:f,class:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold shadow-sm"},"Batal"),e[7]||(e[7]=t("button",{type:"submit",class:"px-6 py-3 bg-blue-600 text-white rounded-lg font-bold shadow-lg hover:bg-blue-700 transition-all"},"Update",-1))])],32)])]),_:1}))}};export{tt as default};
